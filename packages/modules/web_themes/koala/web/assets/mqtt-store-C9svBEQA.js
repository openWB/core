var jl=Object.defineProperty;var xo=f=>{throw TypeError(f)};var Ml=(f,h,s)=>h in f?jl(f,h,{enumerable:!0,configurable:!0,writable:!0,value:s}):f[h]=s;var it=(f,h,s)=>Ml(f,typeof h!="symbol"?h+"":h,s),rn=(f,h,s)=>h.has(f)||xo("Cannot "+s);var D=(f,h,s)=>(rn(f,h,"read from private field"),s?s.call(f):h.get(f)),qe=(f,h,s)=>h.has(f)?xo("Cannot add the same private member more than once"):h instanceof WeakSet?h.add(f):h.set(f,s),De=(f,h,s,a)=>(rn(f,h,"write to private field"),a?a.call(f,s):h.set(f,s),s),Ne=(f,h,s)=>(rn(f,h,"access private method"),s);var br=(f,h,s,a)=>({set _(c){De(f,h,c,s)},get _(){return D(f,h,a)}});import{ae as Bl,r as Io,a as Ie}from"./index-CIPSf-aN.js";var ao=Object.defineProperty,Nl=Object.getOwnPropertyDescriptor,Ul=Object.getOwnPropertyNames,Ll=Object.prototype.hasOwnProperty,yt=(f,h)=>()=>(f&&(h=f(f=0)),h),Se=(f,h)=>()=>(h||f((h={exports:{}}).exports,h),h.exports),or=(f,h)=>{for(var s in h)ao(f,s,{get:h[s],enumerable:!0})},Dl=(f,h,s,a)=>{if(h&&typeof h=="object"||typeof h=="function")for(let c of Ul(h))!Ll.call(f,c)&&c!==s&&ao(f,c,{get:()=>h[c],enumerable:!(a=Nl(h,c))||a.enumerable});return f},Ke=f=>Dl(ao({},"__esModule",{value:!0}),f),ge=yt(()=>{}),Ge={};or(Ge,{_debugEnd:()=>Fn,_debugProcess:()=>Dn,_events:()=>ti,_eventsCount:()=>ri,_exiting:()=>xn,_fatalExceptions:()=>Nn,_getActiveHandles:()=>$s,_getActiveRequests:()=>Ws,_kill:()=>Pn,_linkedBinding:()=>Ds,_maxListeners:()=>ei,_preload_modules:()=>Xn,_rawDebug:()=>Sn,_startProfilerIdleNotifier:()=>Wn,_stopProfilerIdleNotifier:()=>$n,_tickCallback:()=>Ln,abort:()=>Kn,addListener:()=>ni,allowedNodeEnvironmentFlags:()=>Mn,arch:()=>ln,argv:()=>hn,argv0:()=>Jn,assert:()=>qs,binding:()=>yn,browser:()=>_n,chdir:()=>vn,config:()=>In,cpuUsage:()=>ur,cwd:()=>bn,debugPort:()=>Yn,default:()=>uo,dlopen:()=>Fs,domain:()=>An,emit:()=>li,emitWarning:()=>gn,env:()=>cn,execArgv:()=>fn,execPath:()=>Qn,exit:()=>Rn,features:()=>Bn,hasUncaughtExceptionCaptureCallback:()=>Vs,hrtime:()=>_r,kill:()=>Cn,listeners:()=>Ks,memoryUsage:()=>Tn,moduleLoadList:()=>En,nextTick:()=>Us,off:()=>oi,on:()=>xt,once:()=>ii,openStdin:()=>jn,pid:()=>Hn,platform:()=>un,ppid:()=>Gn,prependListener:()=>ui,prependOnceListener:()=>ci,reallyExit:()=>On,release:()=>wn,removeAllListeners:()=>ai,removeListener:()=>si,resourceUsage:()=>kn,setSourceMapsEnabled:()=>Zn,setUncaughtExceptionCaptureCallback:()=>Un,stderr:()=>Vn,stdin:()=>zn,stdout:()=>qn,title:()=>an,umask:()=>mn,uptime:()=>zs,version:()=>pn,versions:()=>dn});function lo(f){throw new Error("Node.js process "+f+" is not supported by JSPM core outside of Node.js")}function Fl(){!Jt||!Qt||(Jt=!1,Qt.length?_t=Qt.concat(_t):pr=-1,_t.length&&Ns())}function Ns(){if(!Jt){var f=setTimeout(Fl,0);Jt=!0;for(var h=_t.length;h;){for(Qt=_t,_t=[];++pr<h;)Qt&&Qt[pr].run();pr=-1,h=_t.length}Qt=null,Jt=!1,clearTimeout(f)}}function Us(f){var h=new Array(arguments.length-1);if(arguments.length>1)for(var s=1;s<arguments.length;s++)h[s-1]=arguments[s];_t.push(new Ls(f,h)),_t.length===1&&!Jt&&setTimeout(Ns,0)}function Ls(f,h){this.fun=f,this.array=h}function ct(){}function Ds(f){lo("_linkedBinding")}function Fs(f){lo("dlopen")}function Ws(){return[]}function $s(){return[]}function qs(f,h){if(!f)throw new Error(h||"assertion error")}function Vs(){return!1}function zs(){return Ot.now()/1e3}function _r(f){var h=Math.floor((Date.now()-Ot.now())*.001),s=Ot.now()*.001,a=Math.floor(s)+h,c=Math.floor(s%1*1e9);return f&&(a=a-f[0],c=c-f[1],c<0&&(a--,c+=Sr)),[a,c]}function xt(){return uo}function Ks(f){return[]}var _t,Jt,Qt,pr,an,ln,un,cn,hn,fn,pn,dn,gn,yn,mn,bn,vn,wn,_n,Sn,En,An,xn,In,On,Pn,ur,kn,Tn,Cn,Rn,jn,Mn,Bn,Nn,Un,Ln,Dn,Fn,Wn,$n,qn,Vn,zn,Kn,Hn,Gn,Qn,Yn,Jn,Xn,Zn,Ot,nn,Sr,ei,ti,ri,ni,ii,oi,si,ai,li,ui,ci,uo,Wl=yt(()=>{ge(),me(),ye(),_t=[],Jt=!1,pr=-1,Ls.prototype.run=function(){this.fun.apply(null,this.array)},an="browser",ln="x64",un="browser",cn={PATH:"/usr/bin",LANG:typeof navigator<"u"?navigator.language+".UTF-8":void 0,PWD:"/",HOME:"/home",TMP:"/tmp"},hn=["/usr/bin/node"],fn=[],pn="v16.8.0",dn={},gn=function(f,h){console.warn((h?h+": ":"")+f)},yn=function(f){lo("binding")},mn=function(f){return 0},bn=function(){return"/"},vn=function(f){},wn={name:"node",sourceUrl:"",headersUrl:"",libUrl:""},_n=!0,Sn=ct,En=[],An={},xn=!1,In={},On=ct,Pn=ct,ur=function(){return{}},kn=ur,Tn=ur,Cn=ct,Rn=ct,jn=ct,Mn={},Bn={inspector:!1,debug:!1,uv:!1,ipv6:!1,tls_alpn:!1,tls_sni:!1,tls_ocsp:!1,tls:!1,cached_builtins:!0},Nn=ct,Un=ct,Ln=ct,Dn=ct,Fn=ct,Wn=ct,$n=ct,qn=void 0,Vn=void 0,zn=void 0,Kn=ct,Hn=2,Gn=1,Qn="/bin/usr/node",Yn=9229,Jn="node",Xn=[],Zn=ct,Ot={now:typeof performance<"u"?performance.now.bind(performance):void 0,timing:typeof performance<"u"?performance.timing:void 0},Ot.now===void 0&&(nn=Date.now(),Ot.timing&&Ot.timing.navigationStart&&(nn=Ot.timing.navigationStart),Ot.now=()=>Date.now()-nn),Sr=1e9,_r.bigint=function(f){var h=_r(f);return typeof BigInt>"u"?h[0]*Sr+h[1]:BigInt(h[0]*Sr)+BigInt(h[1])},ei=10,ti={},ri=0,ni=xt,ii=xt,oi=xt,si=xt,ai=xt,li=ct,ui=xt,ci=xt,uo={version:pn,versions:dn,arch:ln,platform:un,browser:_n,release:wn,_rawDebug:Sn,moduleLoadList:En,binding:yn,_linkedBinding:Ds,_events:ti,_eventsCount:ri,_maxListeners:ei,on:xt,addListener:ni,once:ii,off:oi,removeListener:si,removeAllListeners:ai,emit:li,prependListener:ui,prependOnceListener:ci,listeners:Ks,domain:An,_exiting:xn,config:In,dlopen:Fs,uptime:zs,_getActiveRequests:Ws,_getActiveHandles:$s,reallyExit:On,_kill:Pn,cpuUsage:ur,resourceUsage:kn,memoryUsage:Tn,kill:Cn,exit:Rn,openStdin:jn,allowedNodeEnvironmentFlags:Mn,assert:qs,features:Bn,_fatalExceptions:Nn,setUncaughtExceptionCaptureCallback:Un,hasUncaughtExceptionCaptureCallback:Vs,emitWarning:gn,nextTick:Us,_tickCallback:Ln,_debugProcess:Dn,_debugEnd:Fn,_startProfilerIdleNotifier:Wn,_stopProfilerIdleNotifier:$n,stdout:qn,stdin:zn,stderr:Vn,abort:Kn,umask:mn,chdir:vn,cwd:bn,env:cn,title:an,argv:hn,execArgv:fn,pid:Hn,ppid:Gn,execPath:Qn,debugPort:Yn,hrtime:_r,argv0:Jn,_preload_modules:Xn,setSourceMapsEnabled:Zn}}),ye=yt(()=>{Wl()});function $l(){if(hi)return rr;hi=!0,rr.byteLength=t,rr.toByteArray=i,rr.fromByteArray=p;for(var f=[],h=[],s=typeof Uint8Array<"u"?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=0,n=a.length;c<n;++c)f[c]=a[c],h[a.charCodeAt(c)]=c;h[45]=62,h[95]=63;function r(g){var b=g.length;if(b%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var E=g.indexOf("=");E===-1&&(E=b);var S=E===b?0:4-E%4;return[E,S]}function t(g){var b=r(g),E=b[0],S=b[1];return(E+S)*3/4-S}function e(g,b,E){return(b+E)*3/4-E}function i(g){var b,E=r(g),S=E[0],x=E[1],y=new s(e(g,S,x)),v=0,A=x>0?S-4:S,_;for(_=0;_<A;_+=4)b=h[g.charCodeAt(_)]<<18|h[g.charCodeAt(_+1)]<<12|h[g.charCodeAt(_+2)]<<6|h[g.charCodeAt(_+3)],y[v++]=b>>16&255,y[v++]=b>>8&255,y[v++]=b&255;return x===2&&(b=h[g.charCodeAt(_)]<<2|h[g.charCodeAt(_+1)]>>4,y[v++]=b&255),x===1&&(b=h[g.charCodeAt(_)]<<10|h[g.charCodeAt(_+1)]<<4|h[g.charCodeAt(_+2)]>>2,y[v++]=b>>8&255,y[v++]=b&255),y}function l(g){return f[g>>18&63]+f[g>>12&63]+f[g>>6&63]+f[g&63]}function d(g,b,E){for(var S,x=[],y=b;y<E;y+=3)S=(g[y]<<16&16711680)+(g[y+1]<<8&65280)+(g[y+2]&255),x.push(l(S));return x.join("")}function p(g){for(var b,E=g.length,S=E%3,x=[],y=16383,v=0,A=E-S;v<A;v+=y)x.push(d(g,v,v+y>A?A:v+y));return S===1?(b=g[E-1],x.push(f[b>>2]+f[b<<4&63]+"==")):S===2&&(b=(g[E-2]<<8)+g[E-1],x.push(f[b>>10]+f[b>>4&63]+f[b<<2&63]+"=")),x.join("")}return rr}function ql(){return fi?cr:(fi=!0,cr.read=function(f,h,s,a,c){var n,r,t=c*8-a-1,e=(1<<t)-1,i=e>>1,l=-7,d=s?c-1:0,p=s?-1:1,g=f[h+d];for(d+=p,n=g&(1<<-l)-1,g>>=-l,l+=t;l>0;n=n*256+f[h+d],d+=p,l-=8);for(r=n&(1<<-l)-1,n>>=-l,l+=a;l>0;r=r*256+f[h+d],d+=p,l-=8);if(n===0)n=1-i;else{if(n===e)return r?NaN:(g?-1:1)*(1/0);r=r+Math.pow(2,a),n=n-i}return(g?-1:1)*r*Math.pow(2,n-a)},cr.write=function(f,h,s,a,c,n){var r,t,e,i=n*8-c-1,l=(1<<i)-1,d=l>>1,p=c===23?Math.pow(2,-24)-Math.pow(2,-77):0,g=a?0:n-1,b=a?1:-1,E=h<0||h===0&&1/h<0?1:0;for(h=Math.abs(h),isNaN(h)||h===1/0?(t=isNaN(h)?1:0,r=l):(r=Math.floor(Math.log(h)/Math.LN2),h*(e=Math.pow(2,-r))<1&&(r--,e*=2),r+d>=1?h+=p/e:h+=p*Math.pow(2,1-d),h*e>=2&&(r++,e/=2),r+d>=l?(t=0,r=l):r+d>=1?(t=(h*e-1)*Math.pow(2,c),r=r+d):(t=h*Math.pow(2,d-1)*Math.pow(2,c),r=0));c>=8;f[s+g]=t&255,g+=b,t/=256,c-=8);for(r=r<<c|t,i+=c;i>0;f[s+g]=r&255,g+=b,r/=256,i-=8);f[s+g-b]|=E*128},cr)}function Vl(){if(pi)return Ut;pi=!0;let f=$l(),h=ql(),s=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;Ut.Buffer=r,Ut.SlowBuffer=x,Ut.INSPECT_MAX_BYTES=50;let a=2147483647;Ut.kMaxLength=a,r.TYPED_ARRAY_SUPPORT=c(),!r.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function c(){try{let o=new Uint8Array(1),u={foo:function(){return 42}};return Object.setPrototypeOf(u,Uint8Array.prototype),Object.setPrototypeOf(o,u),o.foo()===42}catch{return!1}}Object.defineProperty(r.prototype,"parent",{enumerable:!0,get:function(){if(r.isBuffer(this))return this.buffer}}),Object.defineProperty(r.prototype,"offset",{enumerable:!0,get:function(){if(r.isBuffer(this))return this.byteOffset}});function n(o){if(o>a)throw new RangeError('The value "'+o+'" is invalid for option "size"');let u=new Uint8Array(o);return Object.setPrototypeOf(u,r.prototype),u}function r(o,u,m){if(typeof o=="number"){if(typeof u=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return l(o)}return t(o,u,m)}r.poolSize=8192;function t(o,u,m){if(typeof o=="string")return d(o,u);if(ArrayBuffer.isView(o))return g(o);if(o==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof o);if(Q(o,ArrayBuffer)||o&&Q(o.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Q(o,SharedArrayBuffer)||o&&Q(o.buffer,SharedArrayBuffer)))return b(o,u,m);if(typeof o=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let T=o.valueOf&&o.valueOf();if(T!=null&&T!==o)return r.from(T,u,m);let N=E(o);if(N)return N;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof o[Symbol.toPrimitive]=="function")return r.from(o[Symbol.toPrimitive]("string"),u,m);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof o)}r.from=function(o,u,m){return t(o,u,m)},Object.setPrototypeOf(r.prototype,Uint8Array.prototype),Object.setPrototypeOf(r,Uint8Array);function e(o){if(typeof o!="number")throw new TypeError('"size" argument must be of type number');if(o<0)throw new RangeError('The value "'+o+'" is invalid for option "size"')}function i(o,u,m){return e(o),o<=0?n(o):u!==void 0?typeof m=="string"?n(o).fill(u,m):n(o).fill(u):n(o)}r.alloc=function(o,u,m){return i(o,u,m)};function l(o){return e(o),n(o<0?0:S(o)|0)}r.allocUnsafe=function(o){return l(o)},r.allocUnsafeSlow=function(o){return l(o)};function d(o,u){if((typeof u!="string"||u==="")&&(u="utf8"),!r.isEncoding(u))throw new TypeError("Unknown encoding: "+u);let m=y(o,u)|0,T=n(m),N=T.write(o,u);return N!==m&&(T=T.slice(0,N)),T}function p(o){let u=o.length<0?0:S(o.length)|0,m=n(u);for(let T=0;T<u;T+=1)m[T]=o[T]&255;return m}function g(o){if(Q(o,Uint8Array)){let u=new Uint8Array(o);return b(u.buffer,u.byteOffset,u.byteLength)}return p(o)}function b(o,u,m){if(u<0||o.byteLength<u)throw new RangeError('"offset" is outside of buffer bounds');if(o.byteLength<u+(m||0))throw new RangeError('"length" is outside of buffer bounds');let T;return u===void 0&&m===void 0?T=new Uint8Array(o):m===void 0?T=new Uint8Array(o,u):T=new Uint8Array(o,u,m),Object.setPrototypeOf(T,r.prototype),T}function E(o){if(r.isBuffer(o)){let u=S(o.length)|0,m=n(u);return m.length===0||o.copy(m,0,0,u),m}if(o.length!==void 0)return typeof o.length!="number"||_e(o.length)?n(0):p(o);if(o.type==="Buffer"&&Array.isArray(o.data))return p(o.data)}function S(o){if(o>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return o|0}function x(o){return+o!=o&&(o=0),r.alloc(+o)}r.isBuffer=function(o){return o!=null&&o._isBuffer===!0&&o!==r.prototype},r.compare=function(o,u){if(Q(o,Uint8Array)&&(o=r.from(o,o.offset,o.byteLength)),Q(u,Uint8Array)&&(u=r.from(u,u.offset,u.byteLength)),!r.isBuffer(o)||!r.isBuffer(u))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(o===u)return 0;let m=o.length,T=u.length;for(let N=0,K=Math.min(m,T);N<K;++N)if(o[N]!==u[N]){m=o[N],T=u[N];break}return m<T?-1:T<m?1:0},r.isEncoding=function(o){switch(String(o).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},r.concat=function(o,u){if(!Array.isArray(o))throw new TypeError('"list" argument must be an Array of Buffers');if(o.length===0)return r.alloc(0);let m;if(u===void 0)for(u=0,m=0;m<o.length;++m)u+=o[m].length;let T=r.allocUnsafe(u),N=0;for(m=0;m<o.length;++m){let K=o[m];if(Q(K,Uint8Array))N+K.length>T.length?(r.isBuffer(K)||(K=r.from(K)),K.copy(T,N)):Uint8Array.prototype.set.call(T,K,N);else if(r.isBuffer(K))K.copy(T,N);else throw new TypeError('"list" argument must be an Array of Buffers');N+=K.length}return T};function y(o,u){if(r.isBuffer(o))return o.length;if(ArrayBuffer.isView(o)||Q(o,ArrayBuffer))return o.byteLength;if(typeof o!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof o);let m=o.length,T=arguments.length>2&&arguments[2]===!0;if(!T&&m===0)return 0;let N=!1;for(;;)switch(u){case"ascii":case"latin1":case"binary":return m;case"utf8":case"utf-8":return H(o).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return m*2;case"hex":return m>>>1;case"base64":return ve(o).length;default:if(N)return T?-1:H(o).length;u=(""+u).toLowerCase(),N=!0}}r.byteLength=y;function v(o,u,m){let T=!1;if((u===void 0||u<0)&&(u=0),u>this.length||((m===void 0||m>this.length)&&(m=this.length),m<=0)||(m>>>=0,u>>>=0,m<=u))return"";for(o||(o="utf8");;)switch(o){case"hex":return te(this,u,m);case"utf8":case"utf-8":return z(this,u,m);case"ascii":return he(this,u,m);case"latin1":case"binary":return ne(this,u,m);case"base64":return P(this,u,m);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ce(this,u,m);default:if(T)throw new TypeError("Unknown encoding: "+o);o=(o+"").toLowerCase(),T=!0}}r.prototype._isBuffer=!0;function A(o,u,m){let T=o[u];o[u]=o[m],o[m]=T}r.prototype.swap16=function(){let o=this.length;if(o%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let u=0;u<o;u+=2)A(this,u,u+1);return this},r.prototype.swap32=function(){let o=this.length;if(o%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let u=0;u<o;u+=4)A(this,u,u+3),A(this,u+1,u+2);return this},r.prototype.swap64=function(){let o=this.length;if(o%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let u=0;u<o;u+=8)A(this,u,u+7),A(this,u+1,u+6),A(this,u+2,u+5),A(this,u+3,u+4);return this},r.prototype.toString=function(){let o=this.length;return o===0?"":arguments.length===0?z(this,0,o):v.apply(this,arguments)},r.prototype.toLocaleString=r.prototype.toString,r.prototype.equals=function(o){if(!r.isBuffer(o))throw new TypeError("Argument must be a Buffer");return this===o?!0:r.compare(this,o)===0},r.prototype.inspect=function(){let o="",u=Ut.INSPECT_MAX_BYTES;return o=this.toString("hex",0,u).replace(/(.{2})/g,"$1 ").trim(),this.length>u&&(o+=" ... "),"<Buffer "+o+">"},s&&(r.prototype[s]=r.prototype.inspect),r.prototype.compare=function(o,u,m,T,N){if(Q(o,Uint8Array)&&(o=r.from(o,o.offset,o.byteLength)),!r.isBuffer(o))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof o);if(u===void 0&&(u=0),m===void 0&&(m=o?o.length:0),T===void 0&&(T=0),N===void 0&&(N=this.length),u<0||m>o.length||T<0||N>this.length)throw new RangeError("out of range index");if(T>=N&&u>=m)return 0;if(T>=N)return-1;if(u>=m)return 1;if(u>>>=0,m>>>=0,T>>>=0,N>>>=0,this===o)return 0;let K=N-T,de=m-u,$=Math.min(K,de),ie=this.slice(T,N),Re=o.slice(u,m);for(let ke=0;ke<$;++ke)if(ie[ke]!==Re[ke]){K=ie[ke],de=Re[ke];break}return K<de?-1:de<K?1:0};function _(o,u,m,T,N){if(o.length===0)return-1;if(typeof m=="string"?(T=m,m=0):m>2147483647?m=2147483647:m<-2147483648&&(m=-2147483648),m=+m,_e(m)&&(m=N?0:o.length-1),m<0&&(m=o.length+m),m>=o.length){if(N)return-1;m=o.length-1}else if(m<0)if(N)m=0;else return-1;if(typeof u=="string"&&(u=r.from(u,T)),r.isBuffer(u))return u.length===0?-1:C(o,u,m,T,N);if(typeof u=="number")return u=u&255,typeof Uint8Array.prototype.indexOf=="function"?N?Uint8Array.prototype.indexOf.call(o,u,m):Uint8Array.prototype.lastIndexOf.call(o,u,m):C(o,[u],m,T,N);throw new TypeError("val must be string, number or Buffer")}function C(o,u,m,T,N){let K=1,de=o.length,$=u.length;if(T!==void 0&&(T=String(T).toLowerCase(),T==="ucs2"||T==="ucs-2"||T==="utf16le"||T==="utf-16le")){if(o.length<2||u.length<2)return-1;K=2,de/=2,$/=2,m/=2}function ie(ke,Le){return K===1?ke[Le]:ke.readUInt16BE(Le*K)}let Re;if(N){let ke=-1;for(Re=m;Re<de;Re++)if(ie(o,Re)===ie(u,ke===-1?0:Re-ke)){if(ke===-1&&(ke=Re),Re-ke+1===$)return ke*K}else ke!==-1&&(Re-=Re-ke),ke=-1}else for(m+$>de&&(m=de-$),Re=m;Re>=0;Re--){let ke=!0;for(let Le=0;Le<$;Le++)if(ie(o,Re+Le)!==ie(u,Le)){ke=!1;break}if(ke)return Re}return-1}r.prototype.includes=function(o,u,m){return this.indexOf(o,u,m)!==-1},r.prototype.indexOf=function(o,u,m){return _(this,o,u,m,!0)},r.prototype.lastIndexOf=function(o,u,m){return _(this,o,u,m,!1)};function w(o,u,m,T){m=Number(m)||0;let N=o.length-m;T?(T=Number(T),T>N&&(T=N)):T=N;let K=u.length;T>K/2&&(T=K/2);let de;for(de=0;de<T;++de){let $=parseInt(u.substr(de*2,2),16);if(_e($))return de;o[m+de]=$}return de}function I(o,u,m,T){return Ee(H(u,o.length-m),o,m,T)}function k(o,u,m,T){return Ee(se(u),o,m,T)}function j(o,u,m,T){return Ee(ve(u),o,m,T)}function U(o,u,m,T){return Ee(be(u,o.length-m),o,m,T)}r.prototype.write=function(o,u,m,T){if(u===void 0)T="utf8",m=this.length,u=0;else if(m===void 0&&typeof u=="string")T=u,m=this.length,u=0;else if(isFinite(u))u=u>>>0,isFinite(m)?(m=m>>>0,T===void 0&&(T="utf8")):(T=m,m=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let N=this.length-u;if((m===void 0||m>N)&&(m=N),o.length>0&&(m<0||u<0)||u>this.length)throw new RangeError("Attempt to write outside buffer bounds");T||(T="utf8");let K=!1;for(;;)switch(T){case"hex":return w(this,o,u,m);case"utf8":case"utf-8":return I(this,o,u,m);case"ascii":case"latin1":case"binary":return k(this,o,u,m);case"base64":return j(this,o,u,m);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return U(this,o,u,m);default:if(K)throw new TypeError("Unknown encoding: "+T);T=(""+T).toLowerCase(),K=!0}},r.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function P(o,u,m){return u===0&&m===o.length?f.fromByteArray(o):f.fromByteArray(o.slice(u,m))}function z(o,u,m){m=Math.min(o.length,m);let T=[],N=u;for(;N<m;){let K=o[N],de=null,$=K>239?4:K>223?3:K>191?2:1;if(N+$<=m){let ie,Re,ke,Le;switch($){case 1:K<128&&(de=K);break;case 2:ie=o[N+1],(ie&192)===128&&(Le=(K&31)<<6|ie&63,Le>127&&(de=Le));break;case 3:ie=o[N+1],Re=o[N+2],(ie&192)===128&&(Re&192)===128&&(Le=(K&15)<<12|(ie&63)<<6|Re&63,Le>2047&&(Le<55296||Le>57343)&&(de=Le));break;case 4:ie=o[N+1],Re=o[N+2],ke=o[N+3],(ie&192)===128&&(Re&192)===128&&(ke&192)===128&&(Le=(K&15)<<18|(ie&63)<<12|(Re&63)<<6|ke&63,Le>65535&&Le<1114112&&(de=Le))}}de===null?(de=65533,$=1):de>65535&&(de-=65536,T.push(de>>>10&1023|55296),de=56320|de&1023),T.push(de),N+=$}return q(T)}let G=4096;function q(o){let u=o.length;if(u<=G)return String.fromCharCode.apply(String,o);let m="",T=0;for(;T<u;)m+=String.fromCharCode.apply(String,o.slice(T,T+=G));return m}function he(o,u,m){let T="";m=Math.min(o.length,m);for(let N=u;N<m;++N)T+=String.fromCharCode(o[N]&127);return T}function ne(o,u,m){let T="";m=Math.min(o.length,m);for(let N=u;N<m;++N)T+=String.fromCharCode(o[N]);return T}function te(o,u,m){let T=o.length;(!u||u<0)&&(u=0),(!m||m<0||m>T)&&(m=T);let N="";for(let K=u;K<m;++K)N+=Oe[o[K]];return N}function ce(o,u,m){let T=o.slice(u,m),N="";for(let K=0;K<T.length-1;K+=2)N+=String.fromCharCode(T[K]+T[K+1]*256);return N}r.prototype.slice=function(o,u){let m=this.length;o=~~o,u=u===void 0?m:~~u,o<0?(o+=m,o<0&&(o=0)):o>m&&(o=m),u<0?(u+=m,u<0&&(u=0)):u>m&&(u=m),u<o&&(u=o);let T=this.subarray(o,u);return Object.setPrototypeOf(T,r.prototype),T};function V(o,u,m){if(o%1!==0||o<0)throw new RangeError("offset is not uint");if(o+u>m)throw new RangeError("Trying to access beyond buffer length")}r.prototype.readUintLE=r.prototype.readUIntLE=function(o,u,m){o=o>>>0,u=u>>>0,m||V(o,u,this.length);let T=this[o],N=1,K=0;for(;++K<u&&(N*=256);)T+=this[o+K]*N;return T},r.prototype.readUintBE=r.prototype.readUIntBE=function(o,u,m){o=o>>>0,u=u>>>0,m||V(o,u,this.length);let T=this[o+--u],N=1;for(;u>0&&(N*=256);)T+=this[o+--u]*N;return T},r.prototype.readUint8=r.prototype.readUInt8=function(o,u){return o=o>>>0,u||V(o,1,this.length),this[o]},r.prototype.readUint16LE=r.prototype.readUInt16LE=function(o,u){return o=o>>>0,u||V(o,2,this.length),this[o]|this[o+1]<<8},r.prototype.readUint16BE=r.prototype.readUInt16BE=function(o,u){return o=o>>>0,u||V(o,2,this.length),this[o]<<8|this[o+1]},r.prototype.readUint32LE=r.prototype.readUInt32LE=function(o,u){return o=o>>>0,u||V(o,4,this.length),(this[o]|this[o+1]<<8|this[o+2]<<16)+this[o+3]*16777216},r.prototype.readUint32BE=r.prototype.readUInt32BE=function(o,u){return o=o>>>0,u||V(o,4,this.length),this[o]*16777216+(this[o+1]<<16|this[o+2]<<8|this[o+3])},r.prototype.readBigUInt64LE=fe(function(o){o=o>>>0,re(o,"offset");let u=this[o],m=this[o+7];(u===void 0||m===void 0)&&we(o,this.length-8);let T=u+this[++o]*2**8+this[++o]*2**16+this[++o]*2**24,N=this[++o]+this[++o]*2**8+this[++o]*2**16+m*2**24;return BigInt(T)+(BigInt(N)<<BigInt(32))}),r.prototype.readBigUInt64BE=fe(function(o){o=o>>>0,re(o,"offset");let u=this[o],m=this[o+7];(u===void 0||m===void 0)&&we(o,this.length-8);let T=u*2**24+this[++o]*2**16+this[++o]*2**8+this[++o],N=this[++o]*2**24+this[++o]*2**16+this[++o]*2**8+m;return(BigInt(T)<<BigInt(32))+BigInt(N)}),r.prototype.readIntLE=function(o,u,m){o=o>>>0,u=u>>>0,m||V(o,u,this.length);let T=this[o],N=1,K=0;for(;++K<u&&(N*=256);)T+=this[o+K]*N;return N*=128,T>=N&&(T-=Math.pow(2,8*u)),T},r.prototype.readIntBE=function(o,u,m){o=o>>>0,u=u>>>0,m||V(o,u,this.length);let T=u,N=1,K=this[o+--T];for(;T>0&&(N*=256);)K+=this[o+--T]*N;return N*=128,K>=N&&(K-=Math.pow(2,8*u)),K},r.prototype.readInt8=function(o,u){return o=o>>>0,u||V(o,1,this.length),this[o]&128?(255-this[o]+1)*-1:this[o]},r.prototype.readInt16LE=function(o,u){o=o>>>0,u||V(o,2,this.length);let m=this[o]|this[o+1]<<8;return m&32768?m|4294901760:m},r.prototype.readInt16BE=function(o,u){o=o>>>0,u||V(o,2,this.length);let m=this[o+1]|this[o]<<8;return m&32768?m|4294901760:m},r.prototype.readInt32LE=function(o,u){return o=o>>>0,u||V(o,4,this.length),this[o]|this[o+1]<<8|this[o+2]<<16|this[o+3]<<24},r.prototype.readInt32BE=function(o,u){return o=o>>>0,u||V(o,4,this.length),this[o]<<24|this[o+1]<<16|this[o+2]<<8|this[o+3]},r.prototype.readBigInt64LE=fe(function(o){o=o>>>0,re(o,"offset");let u=this[o],m=this[o+7];(u===void 0||m===void 0)&&we(o,this.length-8);let T=this[o+4]+this[o+5]*2**8+this[o+6]*2**16+(m<<24);return(BigInt(T)<<BigInt(32))+BigInt(u+this[++o]*2**8+this[++o]*2**16+this[++o]*2**24)}),r.prototype.readBigInt64BE=fe(function(o){o=o>>>0,re(o,"offset");let u=this[o],m=this[o+7];(u===void 0||m===void 0)&&we(o,this.length-8);let T=(u<<24)+this[++o]*2**16+this[++o]*2**8+this[++o];return(BigInt(T)<<BigInt(32))+BigInt(this[++o]*2**24+this[++o]*2**16+this[++o]*2**8+m)}),r.prototype.readFloatLE=function(o,u){return o=o>>>0,u||V(o,4,this.length),h.read(this,o,!0,23,4)},r.prototype.readFloatBE=function(o,u){return o=o>>>0,u||V(o,4,this.length),h.read(this,o,!1,23,4)},r.prototype.readDoubleLE=function(o,u){return o=o>>>0,u||V(o,8,this.length),h.read(this,o,!0,52,8)},r.prototype.readDoubleBE=function(o,u){return o=o>>>0,u||V(o,8,this.length),h.read(this,o,!1,52,8)};function le(o,u,m,T,N,K){if(!r.isBuffer(o))throw new TypeError('"buffer" argument must be a Buffer instance');if(u>N||u<K)throw new RangeError('"value" argument is out of bounds');if(m+T>o.length)throw new RangeError("Index out of range")}r.prototype.writeUintLE=r.prototype.writeUIntLE=function(o,u,m,T){if(o=+o,u=u>>>0,m=m>>>0,!T){let de=Math.pow(2,8*m)-1;le(this,o,u,m,de,0)}let N=1,K=0;for(this[u]=o&255;++K<m&&(N*=256);)this[u+K]=o/N&255;return u+m},r.prototype.writeUintBE=r.prototype.writeUIntBE=function(o,u,m,T){if(o=+o,u=u>>>0,m=m>>>0,!T){let de=Math.pow(2,8*m)-1;le(this,o,u,m,de,0)}let N=m-1,K=1;for(this[u+N]=o&255;--N>=0&&(K*=256);)this[u+N]=o/K&255;return u+m},r.prototype.writeUint8=r.prototype.writeUInt8=function(o,u,m){return o=+o,u=u>>>0,m||le(this,o,u,1,255,0),this[u]=o&255,u+1},r.prototype.writeUint16LE=r.prototype.writeUInt16LE=function(o,u,m){return o=+o,u=u>>>0,m||le(this,o,u,2,65535,0),this[u]=o&255,this[u+1]=o>>>8,u+2},r.prototype.writeUint16BE=r.prototype.writeUInt16BE=function(o,u,m){return o=+o,u=u>>>0,m||le(this,o,u,2,65535,0),this[u]=o>>>8,this[u+1]=o&255,u+2},r.prototype.writeUint32LE=r.prototype.writeUInt32LE=function(o,u,m){return o=+o,u=u>>>0,m||le(this,o,u,4,4294967295,0),this[u+3]=o>>>24,this[u+2]=o>>>16,this[u+1]=o>>>8,this[u]=o&255,u+4},r.prototype.writeUint32BE=r.prototype.writeUInt32BE=function(o,u,m){return o=+o,u=u>>>0,m||le(this,o,u,4,4294967295,0),this[u]=o>>>24,this[u+1]=o>>>16,this[u+2]=o>>>8,this[u+3]=o&255,u+4};function M(o,u,m,T,N){J(u,T,N,o,m,7);let K=Number(u&BigInt(4294967295));o[m++]=K,K=K>>8,o[m++]=K,K=K>>8,o[m++]=K,K=K>>8,o[m++]=K;let de=Number(u>>BigInt(32)&BigInt(4294967295));return o[m++]=de,de=de>>8,o[m++]=de,de=de>>8,o[m++]=de,de=de>>8,o[m++]=de,m}function ee(o,u,m,T,N){J(u,T,N,o,m,7);let K=Number(u&BigInt(4294967295));o[m+7]=K,K=K>>8,o[m+6]=K,K=K>>8,o[m+5]=K,K=K>>8,o[m+4]=K;let de=Number(u>>BigInt(32)&BigInt(4294967295));return o[m+3]=de,de=de>>8,o[m+2]=de,de=de>>8,o[m+1]=de,de=de>>8,o[m]=de,m+8}r.prototype.writeBigUInt64LE=fe(function(o,u=0){return M(this,o,u,BigInt(0),BigInt("0xffffffffffffffff"))}),r.prototype.writeBigUInt64BE=fe(function(o,u=0){return ee(this,o,u,BigInt(0),BigInt("0xffffffffffffffff"))}),r.prototype.writeIntLE=function(o,u,m,T){if(o=+o,u=u>>>0,!T){let $=Math.pow(2,8*m-1);le(this,o,u,m,$-1,-$)}let N=0,K=1,de=0;for(this[u]=o&255;++N<m&&(K*=256);)o<0&&de===0&&this[u+N-1]!==0&&(de=1),this[u+N]=(o/K>>0)-de&255;return u+m},r.prototype.writeIntBE=function(o,u,m,T){if(o=+o,u=u>>>0,!T){let $=Math.pow(2,8*m-1);le(this,o,u,m,$-1,-$)}let N=m-1,K=1,de=0;for(this[u+N]=o&255;--N>=0&&(K*=256);)o<0&&de===0&&this[u+N+1]!==0&&(de=1),this[u+N]=(o/K>>0)-de&255;return u+m},r.prototype.writeInt8=function(o,u,m){return o=+o,u=u>>>0,m||le(this,o,u,1,127,-128),o<0&&(o=255+o+1),this[u]=o&255,u+1},r.prototype.writeInt16LE=function(o,u,m){return o=+o,u=u>>>0,m||le(this,o,u,2,32767,-32768),this[u]=o&255,this[u+1]=o>>>8,u+2},r.prototype.writeInt16BE=function(o,u,m){return o=+o,u=u>>>0,m||le(this,o,u,2,32767,-32768),this[u]=o>>>8,this[u+1]=o&255,u+2},r.prototype.writeInt32LE=function(o,u,m){return o=+o,u=u>>>0,m||le(this,o,u,4,2147483647,-2147483648),this[u]=o&255,this[u+1]=o>>>8,this[u+2]=o>>>16,this[u+3]=o>>>24,u+4},r.prototype.writeInt32BE=function(o,u,m){return o=+o,u=u>>>0,m||le(this,o,u,4,2147483647,-2147483648),o<0&&(o=4294967295+o+1),this[u]=o>>>24,this[u+1]=o>>>16,this[u+2]=o>>>8,this[u+3]=o&255,u+4},r.prototype.writeBigInt64LE=fe(function(o,u=0){return M(this,o,u,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),r.prototype.writeBigInt64BE=fe(function(o,u=0){return ee(this,o,u,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Z(o,u,m,T,N,K){if(m+T>o.length)throw new RangeError("Index out of range");if(m<0)throw new RangeError("Index out of range")}function ue(o,u,m,T,N){return u=+u,m=m>>>0,N||Z(o,u,m,4),h.write(o,u,m,T,23,4),m+4}r.prototype.writeFloatLE=function(o,u,m){return ue(this,o,u,!0,m)},r.prototype.writeFloatBE=function(o,u,m){return ue(this,o,u,!1,m)};function Ae(o,u,m,T,N){return u=+u,m=m>>>0,N||Z(o,u,m,8),h.write(o,u,m,T,52,8),m+8}r.prototype.writeDoubleLE=function(o,u,m){return Ae(this,o,u,!0,m)},r.prototype.writeDoubleBE=function(o,u,m){return Ae(this,o,u,!1,m)},r.prototype.copy=function(o,u,m,T){if(!r.isBuffer(o))throw new TypeError("argument should be a Buffer");if(m||(m=0),!T&&T!==0&&(T=this.length),u>=o.length&&(u=o.length),u||(u=0),T>0&&T<m&&(T=m),T===m||o.length===0||this.length===0)return 0;if(u<0)throw new RangeError("targetStart out of bounds");if(m<0||m>=this.length)throw new RangeError("Index out of range");if(T<0)throw new RangeError("sourceEnd out of bounds");T>this.length&&(T=this.length),o.length-u<T-m&&(T=o.length-u+m);let N=T-m;return this===o&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(u,m,T):Uint8Array.prototype.set.call(o,this.subarray(m,T),u),N},r.prototype.fill=function(o,u,m,T){if(typeof o=="string"){if(typeof u=="string"?(T=u,u=0,m=this.length):typeof m=="string"&&(T=m,m=this.length),T!==void 0&&typeof T!="string")throw new TypeError("encoding must be a string");if(typeof T=="string"&&!r.isEncoding(T))throw new TypeError("Unknown encoding: "+T);if(o.length===1){let K=o.charCodeAt(0);(T==="utf8"&&K<128||T==="latin1")&&(o=K)}}else typeof o=="number"?o=o&255:typeof o=="boolean"&&(o=Number(o));if(u<0||this.length<u||this.length<m)throw new RangeError("Out of range index");if(m<=u)return this;u=u>>>0,m=m===void 0?this.length:m>>>0,o||(o=0);let N;if(typeof o=="number")for(N=u;N<m;++N)this[N]=o;else{let K=r.isBuffer(o)?o:r.from(o,T),de=K.length;if(de===0)throw new TypeError('The value "'+o+'" is invalid for argument "value"');for(N=0;N<m-u;++N)this[N+u]=K[N%de]}return this};let Y={};function W(o,u,m){Y[o]=class extends m{constructor(){super(),Object.defineProperty(this,"message",{value:u.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${o}]`,this.stack,delete this.name}get code(){return o}set code(T){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:T,writable:!0})}toString(){return`${this.name} [${o}]: ${this.message}`}}}W("ERR_BUFFER_OUT_OF_BOUNDS",function(o){return o?`${o} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),W("ERR_INVALID_ARG_TYPE",function(o,u){return`The "${o}" argument must be of type number. Received type ${typeof u}`},TypeError),W("ERR_OUT_OF_RANGE",function(o,u,m){let T=`The value of "${o}" is out of range.`,N=m;return Number.isInteger(m)&&Math.abs(m)>2**32?N=oe(String(m)):typeof m=="bigint"&&(N=String(m),(m>BigInt(2)**BigInt(32)||m<-(BigInt(2)**BigInt(32)))&&(N=oe(N)),N+="n"),T+=` It must be ${u}. Received ${N}`,T},RangeError);function oe(o){let u="",m=o.length,T=o[0]==="-"?1:0;for(;m>=T+4;m-=3)u=`_${o.slice(m-3,m)}${u}`;return`${o.slice(0,m)}${u}`}function X(o,u,m){re(u,"offset"),(o[u]===void 0||o[u+m]===void 0)&&we(u,o.length-(m+1))}function J(o,u,m,T,N,K){if(o>m||o<u){let de=typeof u=="bigint"?"n":"",$;throw u===0||u===BigInt(0)?$=`>= 0${de} and < 2${de} ** ${(K+1)*8}${de}`:$=`>= -(2${de} ** ${(K+1)*8-1}${de}) and < 2 ** ${(K+1)*8-1}${de}`,new Y.ERR_OUT_OF_RANGE("value",$,o)}X(T,N,K)}function re(o,u){if(typeof o!="number")throw new Y.ERR_INVALID_ARG_TYPE(u,"number",o)}function we(o,u,m){throw Math.floor(o)!==o?(re(o,m),new Y.ERR_OUT_OF_RANGE("offset","an integer",o)):u<0?new Y.ERR_BUFFER_OUT_OF_BOUNDS:new Y.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${u}`,o)}let pe=/[^+/0-9A-Za-z-_]/g;function L(o){if(o=o.split("=")[0],o=o.trim().replace(pe,""),o.length<2)return"";for(;o.length%4!==0;)o=o+"=";return o}function H(o,u){u=u||1/0;let m,T=o.length,N=null,K=[];for(let de=0;de<T;++de){if(m=o.charCodeAt(de),m>55295&&m<57344){if(!N){if(m>56319){(u-=3)>-1&&K.push(239,191,189);continue}else if(de+1===T){(u-=3)>-1&&K.push(239,191,189);continue}N=m;continue}if(m<56320){(u-=3)>-1&&K.push(239,191,189),N=m;continue}m=(N-55296<<10|m-56320)+65536}else N&&(u-=3)>-1&&K.push(239,191,189);if(N=null,m<128){if((u-=1)<0)break;K.push(m)}else if(m<2048){if((u-=2)<0)break;K.push(m>>6|192,m&63|128)}else if(m<65536){if((u-=3)<0)break;K.push(m>>12|224,m>>6&63|128,m&63|128)}else if(m<1114112){if((u-=4)<0)break;K.push(m>>18|240,m>>12&63|128,m>>6&63|128,m&63|128)}else throw new Error("Invalid code point")}return K}function se(o){let u=[];for(let m=0;m<o.length;++m)u.push(o.charCodeAt(m)&255);return u}function be(o,u){let m,T,N,K=[];for(let de=0;de<o.length&&!((u-=2)<0);++de)m=o.charCodeAt(de),T=m>>8,N=m%256,K.push(N),K.push(T);return K}function ve(o){return f.toByteArray(L(o))}function Ee(o,u,m,T){let N;for(N=0;N<T&&!(N+m>=u.length||N>=o.length);++N)u[N+m]=o[N];return N}function Q(o,u){return o instanceof u||o!=null&&o.constructor!=null&&o.constructor.name!=null&&o.constructor.name===u.name}function _e(o){return o!==o}let Oe=(function(){let o="0123456789abcdef",u=new Array(256);for(let m=0;m<16;++m){let T=m*16;for(let N=0;N<16;++N)u[T+N]=o[m]+o[N]}return u})();function fe(o){return typeof BigInt>"u"?Be:o}function Be(){throw new Error("BigInt not supported")}return Ut}var rr,hi,cr,fi,Ut,pi,zl=yt(()=>{ge(),me(),ye(),rr={},hi=!1,cr={},fi=!1,Ut={},pi=!1}),ot={};or(ot,{Buffer:()=>Gr,INSPECT_MAX_BYTES:()=>Hs,default:()=>It,kMaxLength:()=>Gs});var It,Gr,Hs,Gs,st=yt(()=>{ge(),me(),ye(),zl(),It=Vl(),It.Buffer,It.SlowBuffer,It.INSPECT_MAX_BYTES,It.kMaxLength,Gr=It.Buffer,Hs=It.INSPECT_MAX_BYTES,Gs=It.kMaxLength}),me=yt(()=>{st()}),Ze=Se((f,h)=>{ge(),me(),ye();var s=class extends Error{constructor(a){if(!Array.isArray(a))throw new TypeError(`Expected input to be an Array, got ${typeof a}`);let c="";for(let n=0;n<a.length;n++)c+=`    ${a[n].stack}
`;super(c),this.name="AggregateError",this.errors=a}};h.exports={AggregateError:s,ArrayIsArray(a){return Array.isArray(a)},ArrayPrototypeIncludes(a,c){return a.includes(c)},ArrayPrototypeIndexOf(a,c){return a.indexOf(c)},ArrayPrototypeJoin(a,c){return a.join(c)},ArrayPrototypeMap(a,c){return a.map(c)},ArrayPrototypePop(a,c){return a.pop(c)},ArrayPrototypePush(a,c){return a.push(c)},ArrayPrototypeSlice(a,c,n){return a.slice(c,n)},Error,FunctionPrototypeCall(a,c,...n){return a.call(c,...n)},FunctionPrototypeSymbolHasInstance(a,c){return Function.prototype[Symbol.hasInstance].call(a,c)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(a,c){return Object.defineProperties(a,c)},ObjectDefineProperty(a,c,n){return Object.defineProperty(a,c,n)},ObjectGetOwnPropertyDescriptor(a,c){return Object.getOwnPropertyDescriptor(a,c)},ObjectKeys(a){return Object.keys(a)},ObjectSetPrototypeOf(a,c){return Object.setPrototypeOf(a,c)},Promise,PromisePrototypeCatch(a,c){return a.catch(c)},PromisePrototypeThen(a,c,n){return a.then(c,n)},PromiseReject(a){return Promise.reject(a)},PromiseResolve(a){return Promise.resolve(a)},ReflectApply:Reflect.apply,RegExpPrototypeTest(a,c){return a.test(c)},SafeSet:Set,String,StringPrototypeSlice(a,c,n){return a.slice(c,n)},StringPrototypeToLowerCase(a){return a.toLowerCase()},StringPrototypeToUpperCase(a){return a.toUpperCase()},StringPrototypeTrim(a){return a.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(a,c,n){return a.set(c,n)},Boolean,Uint8Array}}),Qs=Se((f,h)=>{ge(),me(),ye(),h.exports={format(s,...a){return s.replace(/%([sdifj])/g,function(...[c,n]){let r=a.shift();return n==="f"?r.toFixed(6):n==="j"?JSON.stringify(r):n==="s"&&typeof r=="object"?`${r.constructor!==Object?r.constructor.name:""} {}`.trim():r.toString()})},inspect(s){switch(typeof s){case"string":if(s.includes("'"))if(s.includes('"')){if(!s.includes("`")&&!s.includes("${"))return`\`${s}\``}else return`"${s}"`;return`'${s}'`;case"number":return isNaN(s)?"NaN":Object.is(s,-0)?String(s):s;case"bigint":return`${String(s)}n`;case"boolean":case"undefined":return String(s);case"object":return"{}"}}}}),pt=Se((f,h)=>{ge(),me(),ye();var{format:s,inspect:a}=Qs(),{AggregateError:c}=Ze(),n=globalThis.AggregateError||c,r=Symbol("kIsNodeError"),t=["string","function","number","object","Function","Object","boolean","bigint","symbol"],e=/^([A-Z][a-z0-9]*)+$/,i="__node_internal_",l={};function d(y,v){if(!y)throw new l.ERR_INTERNAL_ASSERTION(v)}function p(y){let v="",A=y.length,_=y[0]==="-"?1:0;for(;A>=_+4;A-=3)v=`_${y.slice(A-3,A)}${v}`;return`${y.slice(0,A)}${v}`}function g(y,v,A){if(typeof v=="function")return d(v.length<=A.length,`Code: ${y}; The provided arguments length (${A.length}) does not match the required ones (${v.length}).`),v(...A);let _=(v.match(/%[dfijoOs]/g)||[]).length;return d(_===A.length,`Code: ${y}; The provided arguments length (${A.length}) does not match the required ones (${_}).`),A.length===0?v:s(v,...A)}function b(y,v,A){A||(A=Error);class _ extends A{constructor(...w){super(g(y,v,w))}toString(){return`${this.name} [${y}]: ${this.message}`}}Object.defineProperties(_.prototype,{name:{value:A.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${y}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),_.prototype.code=y,_.prototype[r]=!0,l[y]=_}function E(y){let v=i+y.name;return Object.defineProperty(y,"name",{value:v}),y}function S(y,v){if(y&&v&&y!==v){if(Array.isArray(v.errors))return v.errors.push(y),v;let A=new n([v,y],v.message);return A.code=v.code,A}return y||v}var x=class extends Error{constructor(y="The operation was aborted",v=void 0){if(v!==void 0&&typeof v!="object")throw new l.ERR_INVALID_ARG_TYPE("options","Object",v);super(y,v),this.code="ABORT_ERR",this.name="AbortError"}};b("ERR_ASSERTION","%s",Error),b("ERR_INVALID_ARG_TYPE",(y,v,A)=>{d(typeof y=="string","'name' must be a string"),Array.isArray(v)||(v=[v]);let _="The ";y.endsWith(" argument")?_+=`${y} `:_+=`"${y}" ${y.includes(".")?"property":"argument"} `,_+="must be ";let C=[],w=[],I=[];for(let j of v)d(typeof j=="string","All expected entries have to be of type string"),t.includes(j)?C.push(j.toLowerCase()):e.test(j)?w.push(j):(d(j!=="object",'The value "object" should be written as "Object"'),I.push(j));if(w.length>0){let j=C.indexOf("object");j!==-1&&(C.splice(C,j,1),w.push("Object"))}if(C.length>0){switch(C.length){case 1:_+=`of type ${C[0]}`;break;case 2:_+=`one of type ${C[0]} or ${C[1]}`;break;default:{let j=C.pop();_+=`one of type ${C.join(", ")}, or ${j}`}}(w.length>0||I.length>0)&&(_+=" or ")}if(w.length>0){switch(w.length){case 1:_+=`an instance of ${w[0]}`;break;case 2:_+=`an instance of ${w[0]} or ${w[1]}`;break;default:{let j=w.pop();_+=`an instance of ${w.join(", ")}, or ${j}`}}I.length>0&&(_+=" or ")}switch(I.length){case 0:break;case 1:I[0].toLowerCase()!==I[0]&&(_+="an "),_+=`${I[0]}`;break;case 2:_+=`one of ${I[0]} or ${I[1]}`;break;default:{let j=I.pop();_+=`one of ${I.join(", ")}, or ${j}`}}if(A==null)_+=`. Received ${A}`;else if(typeof A=="function"&&A.name)_+=`. Received function ${A.name}`;else if(typeof A=="object"){var k;if((k=A.constructor)!==null&&k!==void 0&&k.name)_+=`. Received an instance of ${A.constructor.name}`;else{let j=a(A,{depth:-1});_+=`. Received ${j}`}}else{let j=a(A,{colors:!1});j.length>25&&(j=`${j.slice(0,25)}...`),_+=`. Received type ${typeof A} (${j})`}return _},TypeError),b("ERR_INVALID_ARG_VALUE",(y,v,A="is invalid")=>{let _=a(v);return _.length>128&&(_=_.slice(0,128)+"..."),`The ${y.includes(".")?"property":"argument"} '${y}' ${A}. Received ${_}`},TypeError),b("ERR_INVALID_RETURN_VALUE",(y,v,A)=>{var _;let C=A!=null&&(_=A.constructor)!==null&&_!==void 0&&_.name?`instance of ${A.constructor.name}`:`type ${typeof A}`;return`Expected ${y} to be returned from the "${v}" function but got ${C}.`},TypeError),b("ERR_MISSING_ARGS",(...y)=>{d(y.length>0,"At least one arg needs to be specified");let v,A=y.length;switch(y=(Array.isArray(y)?y:[y]).map(_=>`"${_}"`).join(" or "),A){case 1:v+=`The ${y[0]} argument`;break;case 2:v+=`The ${y[0]} and ${y[1]} arguments`;break;default:{let _=y.pop();v+=`The ${y.join(", ")}, and ${_} arguments`}break}return`${v} must be specified`},TypeError),b("ERR_OUT_OF_RANGE",(y,v,A)=>{d(v,'Missing "range" argument');let _;if(Number.isInteger(A)&&Math.abs(A)>2**32)_=p(String(A));else if(typeof A=="bigint"){_=String(A);let C=BigInt(2)**BigInt(32);(A>C||A<-C)&&(_=p(_)),_+="n"}else _=a(A);return`The value of "${y}" is out of range. It must be ${v}. Received ${_}`},RangeError),b("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),b("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),b("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),b("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),b("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),b("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),b("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),b("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),b("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),b("ERR_STREAM_WRITE_AFTER_END","write after end",Error),b("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),h.exports={AbortError:x,aggregateTwoErrors:E(S),hideStackFrames:E,codes:l}}),gr=Se((f,h)=>{ge(),me(),ye();var{AbortController:s,AbortSignal:a}=typeof self<"u"?self:typeof window<"u"?window:void 0;h.exports=s,h.exports.AbortSignal=a,h.exports.default=s}),qt={};or(qt,{EventEmitter:()=>Ys,default:()=>nr,defaultMaxListeners:()=>Js,init:()=>Xs,listenerCount:()=>Zs,on:()=>ea,once:()=>ta});function Kl(){if(di)return hr;di=!0;var f=typeof Reflect=="object"?Reflect:null,h=f&&typeof f.apply=="function"?f.apply:function(A,_,C){return Function.prototype.apply.call(A,_,C)},s;f&&typeof f.ownKeys=="function"?s=f.ownKeys:Object.getOwnPropertySymbols?s=function(A){return Object.getOwnPropertyNames(A).concat(Object.getOwnPropertySymbols(A))}:s=function(A){return Object.getOwnPropertyNames(A)};function a(A){console&&console.warn&&console.warn(A)}var c=Number.isNaN||function(A){return A!==A};function n(){n.init.call(this)}hr=n,hr.once=x,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._eventsCount=0,n.prototype._maxListeners=void 0;var r=10;function t(A){if(typeof A!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof A)}Object.defineProperty(n,"defaultMaxListeners",{enumerable:!0,get:function(){return r},set:function(A){if(typeof A!="number"||A<0||c(A))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+A+".");r=A}}),n.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},n.prototype.setMaxListeners=function(A){if(typeof A!="number"||A<0||c(A))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+A+".");return this._maxListeners=A,this};function e(A){return A._maxListeners===void 0?n.defaultMaxListeners:A._maxListeners}n.prototype.getMaxListeners=function(){return e(this)},n.prototype.emit=function(A){for(var _=[],C=1;C<arguments.length;C++)_.push(arguments[C]);var w=A==="error",I=this._events;if(I!==void 0)w=w&&I.error===void 0;else if(!w)return!1;if(w){var k;if(_.length>0&&(k=_[0]),k instanceof Error)throw k;var j=new Error("Unhandled error."+(k?" ("+k.message+")":""));throw j.context=k,j}var U=I[A];if(U===void 0)return!1;if(typeof U=="function")h(U,this,_);else for(var P=U.length,z=b(U,P),C=0;C<P;++C)h(z[C],this,_);return!0};function i(A,_,C,w){var I,k,j;if(t(C),k=A._events,k===void 0?(k=A._events=Object.create(null),A._eventsCount=0):(k.newListener!==void 0&&(A.emit("newListener",_,C.listener?C.listener:C),k=A._events),j=k[_]),j===void 0)j=k[_]=C,++A._eventsCount;else if(typeof j=="function"?j=k[_]=w?[C,j]:[j,C]:w?j.unshift(C):j.push(C),I=e(A),I>0&&j.length>I&&!j.warned){j.warned=!0;var U=new Error("Possible EventEmitter memory leak detected. "+j.length+" "+String(_)+" listeners added. Use emitter.setMaxListeners() to increase limit");U.name="MaxListenersExceededWarning",U.emitter=A,U.type=_,U.count=j.length,a(U)}return A}n.prototype.addListener=function(A,_){return i(this,A,_,!1)},n.prototype.on=n.prototype.addListener,n.prototype.prependListener=function(A,_){return i(this,A,_,!0)};function l(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(A,_,C){var w={fired:!1,wrapFn:void 0,target:A,type:_,listener:C},I=l.bind(w);return I.listener=C,w.wrapFn=I,I}n.prototype.once=function(A,_){return t(_),this.on(A,d(this,A,_)),this},n.prototype.prependOnceListener=function(A,_){return t(_),this.prependListener(A,d(this,A,_)),this},n.prototype.removeListener=function(A,_){var C,w,I,k,j;if(t(_),w=this._events,w===void 0)return this;if(C=w[A],C===void 0)return this;if(C===_||C.listener===_)--this._eventsCount===0?this._events=Object.create(null):(delete w[A],w.removeListener&&this.emit("removeListener",A,C.listener||_));else if(typeof C!="function"){for(I=-1,k=C.length-1;k>=0;k--)if(C[k]===_||C[k].listener===_){j=C[k].listener,I=k;break}if(I<0)return this;I===0?C.shift():E(C,I),C.length===1&&(w[A]=C[0]),w.removeListener!==void 0&&this.emit("removeListener",A,j||_)}return this},n.prototype.off=n.prototype.removeListener,n.prototype.removeAllListeners=function(A){var _,C,w;if(C=this._events,C===void 0)return this;if(C.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):C[A]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete C[A]),this;if(arguments.length===0){var I=Object.keys(C),k;for(w=0;w<I.length;++w)k=I[w],k!=="removeListener"&&this.removeAllListeners(k);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(_=C[A],typeof _=="function")this.removeListener(A,_);else if(_!==void 0)for(w=_.length-1;w>=0;w--)this.removeListener(A,_[w]);return this};function p(A,_,C){var w=A._events;if(w===void 0)return[];var I=w[_];return I===void 0?[]:typeof I=="function"?C?[I.listener||I]:[I]:C?S(I):b(I,I.length)}n.prototype.listeners=function(A){return p(this,A,!0)},n.prototype.rawListeners=function(A){return p(this,A,!1)},n.listenerCount=function(A,_){return typeof A.listenerCount=="function"?A.listenerCount(_):g.call(A,_)},n.prototype.listenerCount=g;function g(A){var _=this._events;if(_!==void 0){var C=_[A];if(typeof C=="function")return 1;if(C!==void 0)return C.length}return 0}n.prototype.eventNames=function(){return this._eventsCount>0?s(this._events):[]};function b(A,_){for(var C=new Array(_),w=0;w<_;++w)C[w]=A[w];return C}function E(A,_){for(;_+1<A.length;_++)A[_]=A[_+1];A.pop()}function S(A){for(var _=new Array(A.length),C=0;C<_.length;++C)_[C]=A[C].listener||A[C];return _}function x(A,_){return new Promise(function(C,w){function I(j){A.removeListener(_,k),w(j)}function k(){typeof A.removeListener=="function"&&A.removeListener("error",I),C([].slice.call(arguments))}v(A,_,k,{once:!0}),_!=="error"&&y(A,I,{once:!0})})}function y(A,_,C){typeof A.on=="function"&&v(A,"error",_,C)}function v(A,_,C,w){if(typeof A.on=="function")w.once?A.once(_,C):A.on(_,C);else if(typeof A.addEventListener=="function")A.addEventListener(_,function I(k){w.once&&A.removeEventListener(_,I),C(k)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof A)}return hr}var hr,di,nr,Ys,Js,Xs,Zs,ea,ta,Zt=yt(()=>{ge(),me(),ye(),hr={},di=!1,nr=Kl(),nr.once,nr.once=function(f,h){return new Promise((s,a)=>{function c(...r){n!==void 0&&f.removeListener("error",n),s(r)}let n;h!=="error"&&(n=r=>{f.removeListener(name,c),a(r)},f.once("error",n)),f.once(h,c)})},nr.on=function(f,h){let s=[],a=[],c=null,n=!1,r={async next(){let i=s.shift();if(i)return createIterResult(i,!1);if(c){let l=Promise.reject(c);return c=null,l}return n?createIterResult(void 0,!0):new Promise((l,d)=>a.push({resolve:l,reject:d}))},async return(){f.removeListener(h,t),f.removeListener("error",e),n=!0;for(let i of a)i.resolve(createIterResult(void 0,!0));return createIterResult(void 0,!0)},throw(i){c=i,f.removeListener(h,t),f.removeListener("error",e)},[Symbol.asyncIterator](){return this}};return f.on(h,t),f.on("error",e),r;function t(...i){let l=a.shift();l?l.resolve(createIterResult(i,!1)):s.push(i)}function e(i){n=!0;let l=a.shift();l?l.reject(i):c=i,r.return()}},{EventEmitter:Ys,defaultMaxListeners:Js,init:Xs,listenerCount:Zs,on:ea,once:ta}=nr}),gt=Se((f,h)=>{ge(),me(),ye();var s=(st(),Ke(ot)),{format:a,inspect:c}=Qs(),{codes:{ERR_INVALID_ARG_TYPE:n}}=pt(),{kResistStopPropagation:r,AggregateError:t,SymbolDispose:e}=Ze(),i=globalThis.AbortSignal||gr().AbortSignal,l=globalThis.AbortController||gr().AbortController,d=Object.getPrototypeOf(async function(){}).constructor,p=globalThis.Blob||s.Blob,g=typeof p<"u"?function(S){return S instanceof p}:function(S){return!1},b=(S,x)=>{if(S!==void 0&&(S===null||typeof S!="object"||!("aborted"in S)))throw new n(x,"AbortSignal",S)},E=(S,x)=>{if(typeof S!="function")throw new n(x,"Function",S)};h.exports={AggregateError:t,kEmptyObject:Object.freeze({}),once(S){let x=!1;return function(...y){x||(x=!0,S.apply(this,y))}},createDeferredPromise:function(){let S,x;return{promise:new Promise((y,v)=>{S=y,x=v}),resolve:S,reject:x}},promisify(S){return new Promise((x,y)=>{S((v,...A)=>v?y(v):x(...A))})},debuglog(){return function(){}},format:a,inspect:c,types:{isAsyncFunction(S){return S instanceof d},isArrayBufferView(S){return ArrayBuffer.isView(S)}},isBlob:g,deprecate(S,x){return S},addAbortListener:(Zt(),Ke(qt)).addAbortListener||function(S,x){if(S===void 0)throw new n("signal","AbortSignal",S);b(S,"signal"),E(x,"listener");let y;return S.aborted?queueMicrotask(()=>x()):(S.addEventListener("abort",x,{__proto__:null,once:!0,[r]:!0}),y=()=>{S.removeEventListener("abort",x)}),{__proto__:null,[e](){var v;(v=y)===null||v===void 0||v()}}},AbortSignalAny:i.any||function(S){if(S.length===1)return S[0];let x=new l,y=()=>x.abort();return S.forEach(v=>{b(v,"signals"),v.addEventListener("abort",y,{once:!0})}),x.signal.addEventListener("abort",()=>{S.forEach(v=>v.removeEventListener("abort",y))},{once:!0}),x.signal}},h.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")}),yr=Se((f,h)=>{ge(),me(),ye();var{ArrayIsArray:s,ArrayPrototypeIncludes:a,ArrayPrototypeJoin:c,ArrayPrototypeMap:n,NumberIsInteger:r,NumberIsNaN:t,NumberMAX_SAFE_INTEGER:e,NumberMIN_SAFE_INTEGER:i,NumberParseInt:l,ObjectPrototypeHasOwnProperty:d,RegExpPrototypeExec:p,String:g,StringPrototypeToUpperCase:b,StringPrototypeTrim:E}=Ze(),{hideStackFrames:S,codes:{ERR_SOCKET_BAD_PORT:x,ERR_INVALID_ARG_TYPE:y,ERR_INVALID_ARG_VALUE:v,ERR_OUT_OF_RANGE:A,ERR_UNKNOWN_SIGNAL:_}}=pt(),{normalizeEncoding:C}=gt(),{isAsyncFunction:w,isArrayBufferView:I}=gt().types,k={};function j(Q){return Q===(Q|0)}function U(Q){return Q===Q>>>0}var P=/^[0-7]+$/,z="must be a 32-bit unsigned integer or an octal string";function G(Q,_e,Oe){if(typeof Q>"u"&&(Q=Oe),typeof Q=="string"){if(p(P,Q)===null)throw new v(_e,Q,z);Q=l(Q,8)}return ne(Q,_e),Q}var q=S((Q,_e,Oe=i,fe=e)=>{if(typeof Q!="number")throw new y(_e,"number",Q);if(!r(Q))throw new A(_e,"an integer",Q);if(Q<Oe||Q>fe)throw new A(_e,`>= ${Oe} && <= ${fe}`,Q)}),he=S((Q,_e,Oe=-2147483648,fe=2147483647)=>{if(typeof Q!="number")throw new y(_e,"number",Q);if(!r(Q))throw new A(_e,"an integer",Q);if(Q<Oe||Q>fe)throw new A(_e,`>= ${Oe} && <= ${fe}`,Q)}),ne=S((Q,_e,Oe=!1)=>{if(typeof Q!="number")throw new y(_e,"number",Q);if(!r(Q))throw new A(_e,"an integer",Q);let fe=Oe?1:0,Be=4294967295;if(Q<fe||Q>Be)throw new A(_e,`>= ${fe} && <= ${Be}`,Q)});function te(Q,_e){if(typeof Q!="string")throw new y(_e,"string",Q)}function ce(Q,_e,Oe=void 0,fe){if(typeof Q!="number")throw new y(_e,"number",Q);if(Oe!=null&&Q<Oe||fe!=null&&Q>fe||(Oe!=null||fe!=null)&&t(Q))throw new A(_e,`${Oe!=null?`>= ${Oe}`:""}${Oe!=null&&fe!=null?" && ":""}${fe!=null?`<= ${fe}`:""}`,Q)}var V=S((Q,_e,Oe)=>{if(!a(Oe,Q)){let fe="must be one of: "+c(n(Oe,Be=>typeof Be=="string"?`'${Be}'`:g(Be)),", ");throw new v(_e,Q,fe)}});function le(Q,_e){if(typeof Q!="boolean")throw new y(_e,"boolean",Q)}function M(Q,_e,Oe){return Q==null||!d(Q,_e)?Oe:Q[_e]}var ee=S((Q,_e,Oe=null)=>{let fe=M(Oe,"allowArray",!1),Be=M(Oe,"allowFunction",!1);if(!M(Oe,"nullable",!1)&&Q===null||!fe&&s(Q)||typeof Q!="object"&&(!Be||typeof Q!="function"))throw new y(_e,"Object",Q)}),Z=S((Q,_e)=>{if(Q!=null&&typeof Q!="object"&&typeof Q!="function")throw new y(_e,"a dictionary",Q)}),ue=S((Q,_e,Oe=0)=>{if(!s(Q))throw new y(_e,"Array",Q);if(Q.length<Oe){let fe=`must be longer than ${Oe}`;throw new v(_e,Q,fe)}});function Ae(Q,_e){ue(Q,_e);for(let Oe=0;Oe<Q.length;Oe++)te(Q[Oe],`${_e}[${Oe}]`)}function Y(Q,_e){ue(Q,_e);for(let Oe=0;Oe<Q.length;Oe++)le(Q[Oe],`${_e}[${Oe}]`)}function W(Q,_e){ue(Q,_e);for(let Oe=0;Oe<Q.length;Oe++){let fe=Q[Oe],Be=`${_e}[${Oe}]`;if(fe==null)throw new y(Be,"AbortSignal",fe);we(fe,Be)}}function oe(Q,_e="signal"){if(te(Q,_e),k[Q]===void 0)throw k[b(Q)]!==void 0?new _(Q+" (signals must use all capital letters)"):new _(Q)}var X=S((Q,_e="buffer")=>{if(!I(Q))throw new y(_e,["Buffer","TypedArray","DataView"],Q)});function J(Q,_e){let Oe=C(_e),fe=Q.length;if(Oe==="hex"&&fe%2!==0)throw new v("encoding",_e,`is invalid for data of length ${fe}`)}function re(Q,_e="Port",Oe=!0){if(typeof Q!="number"&&typeof Q!="string"||typeof Q=="string"&&E(Q).length===0||+Q!==+Q>>>0||Q>65535||Q===0&&!Oe)throw new x(_e,Q,Oe);return Q|0}var we=S((Q,_e)=>{if(Q!==void 0&&(Q===null||typeof Q!="object"||!("aborted"in Q)))throw new y(_e,"AbortSignal",Q)}),pe=S((Q,_e)=>{if(typeof Q!="function")throw new y(_e,"Function",Q)}),L=S((Q,_e)=>{if(typeof Q!="function"||w(Q))throw new y(_e,"Function",Q)}),H=S((Q,_e)=>{if(Q!==void 0)throw new y(_e,"undefined",Q)});function se(Q,_e,Oe){if(!a(Oe,Q))throw new y(_e,`('${c(Oe,"|")}')`,Q)}var be=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function ve(Q,_e){if(typeof Q>"u"||!p(be,Q))throw new v(_e,Q,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function Ee(Q){if(typeof Q=="string")return ve(Q,"hints"),Q;if(s(Q)){let _e=Q.length,Oe="";if(_e===0)return Oe;for(let fe=0;fe<_e;fe++){let Be=Q[fe];ve(Be,"hints"),Oe+=Be,fe!==_e-1&&(Oe+=", ")}return Oe}throw new v("hints",Q,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}h.exports={isInt32:j,isUint32:U,parseFileMode:G,validateArray:ue,validateStringArray:Ae,validateBooleanArray:Y,validateAbortSignalArray:W,validateBoolean:le,validateBuffer:X,validateDictionary:Z,validateEncoding:J,validateFunction:pe,validateInt32:he,validateInteger:q,validateNumber:ce,validateObject:ee,validateOneOf:V,validatePlainFunction:L,validatePort:re,validateSignalName:oe,validateString:te,validateUint32:ne,validateUndefined:H,validateUnion:se,validateAbortSignal:we,validateLinkHeaderValue:Ee}}),er=Se((f,h)=>{ge(),me(),ye();var s=h.exports={},a,c;function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?a=setTimeout:a=n}catch{a=n}try{typeof clearTimeout=="function"?c=clearTimeout:c=r}catch{c=r}})();function t(x){if(a===setTimeout)return setTimeout(x,0);if((a===n||!a)&&setTimeout)return a=setTimeout,setTimeout(x,0);try{return a(x,0)}catch{try{return a.call(null,x,0)}catch{return a.call(this,x,0)}}}function e(x){if(c===clearTimeout)return clearTimeout(x);if((c===r||!c)&&clearTimeout)return c=clearTimeout,clearTimeout(x);try{return c(x)}catch{try{return c.call(null,x)}catch{return c.call(this,x)}}}var i=[],l=!1,d,p=-1;function g(){!l||!d||(l=!1,d.length?i=d.concat(i):p=-1,i.length&&b())}function b(){if(!l){var x=t(g);l=!0;for(var y=i.length;y;){for(d=i,i=[];++p<y;)d&&d[p].run();p=-1,y=i.length}d=null,l=!1,e(x)}}s.nextTick=function(x){var y=new Array(arguments.length-1);if(arguments.length>1)for(var v=1;v<arguments.length;v++)y[v-1]=arguments[v];i.push(new E(x,y)),i.length===1&&!l&&t(b)};function E(x,y){this.fun=x,this.array=y}E.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={};function S(){}s.on=S,s.addListener=S,s.once=S,s.off=S,s.removeListener=S,s.removeAllListeners=S,s.emit=S,s.prependListener=S,s.prependOnceListener=S,s.listeners=function(x){return[]},s.binding=function(x){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(x){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}}),Ct=Se((f,h)=>{ge(),me(),ye();var{SymbolAsyncIterator:s,SymbolIterator:a,SymbolFor:c}=Ze(),n=c("nodejs.stream.destroyed"),r=c("nodejs.stream.errored"),t=c("nodejs.stream.readable"),e=c("nodejs.stream.writable"),i=c("nodejs.stream.disturbed"),l=c("nodejs.webstream.isClosedPromise"),d=c("nodejs.webstream.controllerErrorFunction");function p(M,ee=!1){var Z;return!!(M&&typeof M.pipe=="function"&&typeof M.on=="function"&&(!ee||typeof M.pause=="function"&&typeof M.resume=="function")&&(!M._writableState||((Z=M._readableState)===null||Z===void 0?void 0:Z.readable)!==!1)&&(!M._writableState||M._readableState))}function g(M){var ee;return!!(M&&typeof M.write=="function"&&typeof M.on=="function"&&(!M._readableState||((ee=M._writableState)===null||ee===void 0?void 0:ee.writable)!==!1))}function b(M){return!!(M&&typeof M.pipe=="function"&&M._readableState&&typeof M.on=="function"&&typeof M.write=="function")}function E(M){return M&&(M._readableState||M._writableState||typeof M.write=="function"&&typeof M.on=="function"||typeof M.pipe=="function"&&typeof M.on=="function")}function S(M){return!!(M&&!E(M)&&typeof M.pipeThrough=="function"&&typeof M.getReader=="function"&&typeof M.cancel=="function")}function x(M){return!!(M&&!E(M)&&typeof M.getWriter=="function"&&typeof M.abort=="function")}function y(M){return!!(M&&!E(M)&&typeof M.readable=="object"&&typeof M.writable=="object")}function v(M){return S(M)||x(M)||y(M)}function A(M,ee){return M==null?!1:ee===!0?typeof M[s]=="function":ee===!1?typeof M[a]=="function":typeof M[s]=="function"||typeof M[a]=="function"}function _(M){if(!E(M))return null;let ee=M._writableState,Z=M._readableState,ue=ee||Z;return!!(M.destroyed||M[n]||ue!=null&&ue.destroyed)}function C(M){if(!g(M))return null;if(M.writableEnded===!0)return!0;let ee=M._writableState;return ee!=null&&ee.errored?!1:typeof ee?.ended!="boolean"?null:ee.ended}function w(M,ee){if(!g(M))return null;if(M.writableFinished===!0)return!0;let Z=M._writableState;return Z!=null&&Z.errored?!1:typeof Z?.finished!="boolean"?null:!!(Z.finished||ee===!1&&Z.ended===!0&&Z.length===0)}function I(M){if(!p(M))return null;if(M.readableEnded===!0)return!0;let ee=M._readableState;return!ee||ee.errored?!1:typeof ee?.ended!="boolean"?null:ee.ended}function k(M,ee){if(!p(M))return null;let Z=M._readableState;return Z!=null&&Z.errored?!1:typeof Z?.endEmitted!="boolean"?null:!!(Z.endEmitted||ee===!1&&Z.ended===!0&&Z.length===0)}function j(M){return M&&M[t]!=null?M[t]:typeof M?.readable!="boolean"?null:_(M)?!1:p(M)&&M.readable&&!k(M)}function U(M){return M&&M[e]!=null?M[e]:typeof M?.writable!="boolean"?null:_(M)?!1:g(M)&&M.writable&&!C(M)}function P(M,ee){return E(M)?_(M)?!0:!(ee?.readable!==!1&&j(M)||ee?.writable!==!1&&U(M)):null}function z(M){var ee,Z;return E(M)?M.writableErrored?M.writableErrored:(ee=(Z=M._writableState)===null||Z===void 0?void 0:Z.errored)!==null&&ee!==void 0?ee:null:null}function G(M){var ee,Z;return E(M)?M.readableErrored?M.readableErrored:(ee=(Z=M._readableState)===null||Z===void 0?void 0:Z.errored)!==null&&ee!==void 0?ee:null:null}function q(M){if(!E(M))return null;if(typeof M.closed=="boolean")return M.closed;let ee=M._writableState,Z=M._readableState;return typeof ee?.closed=="boolean"||typeof Z?.closed=="boolean"?ee?.closed||Z?.closed:typeof M._closed=="boolean"&&he(M)?M._closed:null}function he(M){return typeof M._closed=="boolean"&&typeof M._defaultKeepAlive=="boolean"&&typeof M._removedConnection=="boolean"&&typeof M._removedContLen=="boolean"}function ne(M){return typeof M._sent100=="boolean"&&he(M)}function te(M){var ee;return typeof M._consuming=="boolean"&&typeof M._dumped=="boolean"&&((ee=M.req)===null||ee===void 0?void 0:ee.upgradeOrConnect)===void 0}function ce(M){if(!E(M))return null;let ee=M._writableState,Z=M._readableState,ue=ee||Z;return!ue&&ne(M)||!!(ue&&ue.autoDestroy&&ue.emitClose&&ue.closed===!1)}function V(M){var ee;return!!(M&&((ee=M[i])!==null&&ee!==void 0?ee:M.readableDidRead||M.readableAborted))}function le(M){var ee,Z,ue,Ae,Y,W,oe,X,J,re;return!!(M&&((ee=(Z=(ue=(Ae=(Y=(W=M[r])!==null&&W!==void 0?W:M.readableErrored)!==null&&Y!==void 0?Y:M.writableErrored)!==null&&Ae!==void 0?Ae:(oe=M._readableState)===null||oe===void 0?void 0:oe.errorEmitted)!==null&&ue!==void 0?ue:(X=M._writableState)===null||X===void 0?void 0:X.errorEmitted)!==null&&Z!==void 0?Z:(J=M._readableState)===null||J===void 0?void 0:J.errored)!==null&&ee!==void 0?ee:!((re=M._writableState)===null||re===void 0)&&re.errored))}h.exports={isDestroyed:_,kIsDestroyed:n,isDisturbed:V,kIsDisturbed:i,isErrored:le,kIsErrored:r,isReadable:j,kIsReadable:t,kIsClosedPromise:l,kControllerErrorFunction:d,kIsWritable:e,isClosed:q,isDuplexNodeStream:b,isFinished:P,isIterable:A,isReadableNodeStream:p,isReadableStream:S,isReadableEnded:I,isReadableFinished:k,isReadableErrored:G,isNodeStream:E,isWebStream:v,isWritable:U,isWritableNodeStream:g,isWritableStream:x,isWritableEnded:C,isWritableFinished:w,isWritableErrored:z,isServerRequest:te,isServerResponse:ne,willEmitClose:ce,isTransformStream:y}}),Vt=Se((f,h)=>{ge(),me(),ye();var s=er(),{AbortError:a,codes:c}=pt(),{ERR_INVALID_ARG_TYPE:n,ERR_STREAM_PREMATURE_CLOSE:r}=c,{kEmptyObject:t,once:e}=gt(),{validateAbortSignal:i,validateFunction:l,validateObject:d,validateBoolean:p}=yr(),{Promise:g,PromisePrototypeThen:b,SymbolDispose:E}=Ze(),{isClosed:S,isReadable:x,isReadableNodeStream:y,isReadableStream:v,isReadableFinished:A,isReadableErrored:_,isWritable:C,isWritableNodeStream:w,isWritableStream:I,isWritableFinished:k,isWritableErrored:j,isNodeStream:U,willEmitClose:P,kIsClosedPromise:z}=Ct(),G;function q(V){return V.setHeader&&typeof V.abort=="function"}var he=()=>{};function ne(V,le,M){var ee,Z;if(arguments.length===2?(M=le,le=t):le==null?le=t:d(le,"options"),l(M,"callback"),i(le.signal,"options.signal"),M=e(M),v(V)||I(V))return te(V,le,M);if(!U(V))throw new n("stream",["ReadableStream","WritableStream","Stream"],V);let ue=(ee=le.readable)!==null&&ee!==void 0?ee:y(V),Ae=(Z=le.writable)!==null&&Z!==void 0?Z:w(V),Y=V._writableState,W=V._readableState,oe=()=>{V.writable||re()},X=P(V)&&y(V)===ue&&w(V)===Ae,J=k(V,!1),re=()=>{J=!0,V.destroyed&&(X=!1),!(X&&(!V.readable||ue))&&(!ue||we)&&M.call(V)},we=A(V,!1),pe=()=>{we=!0,V.destroyed&&(X=!1),!(X&&(!V.writable||Ae))&&(!Ae||J)&&M.call(V)},L=Q=>{M.call(V,Q)},H=S(V),se=()=>{H=!0;let Q=j(V)||_(V);if(Q&&typeof Q!="boolean")return M.call(V,Q);if(ue&&!we&&y(V,!0)&&!A(V,!1))return M.call(V,new r);if(Ae&&!J&&!k(V,!1))return M.call(V,new r);M.call(V)},be=()=>{H=!0;let Q=j(V)||_(V);if(Q&&typeof Q!="boolean")return M.call(V,Q);M.call(V)},ve=()=>{V.req.on("finish",re)};q(V)?(V.on("complete",re),X||V.on("abort",se),V.req?ve():V.on("request",ve)):Ae&&!Y&&(V.on("end",oe),V.on("close",oe)),!X&&typeof V.aborted=="boolean"&&V.on("aborted",se),V.on("end",pe),V.on("finish",re),le.error!==!1&&V.on("error",L),V.on("close",se),H?s.nextTick(se):Y!=null&&Y.errorEmitted||W!=null&&W.errorEmitted?X||s.nextTick(be):(!ue&&(!X||x(V))&&(J||C(V)===!1)||!Ae&&(!X||C(V))&&(we||x(V)===!1)||W&&V.req&&V.aborted)&&s.nextTick(be);let Ee=()=>{M=he,V.removeListener("aborted",se),V.removeListener("complete",re),V.removeListener("abort",se),V.removeListener("request",ve),V.req&&V.req.removeListener("finish",re),V.removeListener("end",oe),V.removeListener("close",oe),V.removeListener("finish",re),V.removeListener("end",pe),V.removeListener("error",L),V.removeListener("close",se)};if(le.signal&&!H){let Q=()=>{let _e=M;Ee(),_e.call(V,new a(void 0,{cause:le.signal.reason}))};if(le.signal.aborted)s.nextTick(Q);else{G=G||gt().addAbortListener;let _e=G(le.signal,Q),Oe=M;M=e((...fe)=>{_e[E](),Oe.apply(V,fe)})}}return Ee}function te(V,le,M){let ee=!1,Z=he;if(le.signal)if(Z=()=>{ee=!0,M.call(V,new a(void 0,{cause:le.signal.reason}))},le.signal.aborted)s.nextTick(Z);else{G=G||gt().addAbortListener;let Ae=G(le.signal,Z),Y=M;M=e((...W)=>{Ae[E](),Y.apply(V,W)})}let ue=(...Ae)=>{ee||s.nextTick(()=>M.apply(V,Ae))};return b(V[z].promise,ue,ue),he}function ce(V,le){var M;let ee=!1;return le===null&&(le=t),(M=le)!==null&&M!==void 0&&M.cleanup&&(p(le.cleanup,"cleanup"),ee=le.cleanup),new g((Z,ue)=>{let Ae=ne(V,le,Y=>{ee&&Ae(),Y?ue(Y):Z()})})}h.exports=ne,h.exports.finished=ce}),sr=Se((f,h)=>{ge(),me(),ye();var s=er(),{aggregateTwoErrors:a,codes:{ERR_MULTIPLE_CALLBACK:c},AbortError:n}=pt(),{Symbol:r}=Ze(),{kIsDestroyed:t,isDestroyed:e,isFinished:i,isServerRequest:l}=Ct(),d=r("kDestroy"),p=r("kConstruct");function g(P,z,G){P&&(P.stack,z&&!z.errored&&(z.errored=P),G&&!G.errored&&(G.errored=P))}function b(P,z){let G=this._readableState,q=this._writableState,he=q||G;return q!=null&&q.destroyed||G!=null&&G.destroyed?(typeof z=="function"&&z(),this):(g(P,q,G),q&&(q.destroyed=!0),G&&(G.destroyed=!0),he.constructed?E(this,P,z):this.once(d,function(ne){E(this,a(ne,P),z)}),this)}function E(P,z,G){let q=!1;function he(ne){if(q)return;q=!0;let te=P._readableState,ce=P._writableState;g(ne,ce,te),ce&&(ce.closed=!0),te&&(te.closed=!0),typeof G=="function"&&G(ne),ne?s.nextTick(S,P,ne):s.nextTick(x,P)}try{P._destroy(z||null,he)}catch(ne){he(ne)}}function S(P,z){y(P,z),x(P)}function x(P){let z=P._readableState,G=P._writableState;G&&(G.closeEmitted=!0),z&&(z.closeEmitted=!0),(G!=null&&G.emitClose||z!=null&&z.emitClose)&&P.emit("close")}function y(P,z){let G=P._readableState,q=P._writableState;q!=null&&q.errorEmitted||G!=null&&G.errorEmitted||(q&&(q.errorEmitted=!0),G&&(G.errorEmitted=!0),P.emit("error",z))}function v(){let P=this._readableState,z=this._writableState;P&&(P.constructed=!0,P.closed=!1,P.closeEmitted=!1,P.destroyed=!1,P.errored=null,P.errorEmitted=!1,P.reading=!1,P.ended=P.readable===!1,P.endEmitted=P.readable===!1),z&&(z.constructed=!0,z.destroyed=!1,z.closed=!1,z.closeEmitted=!1,z.errored=null,z.errorEmitted=!1,z.finalCalled=!1,z.prefinished=!1,z.ended=z.writable===!1,z.ending=z.writable===!1,z.finished=z.writable===!1)}function A(P,z,G){let q=P._readableState,he=P._writableState;if(he!=null&&he.destroyed||q!=null&&q.destroyed)return this;q!=null&&q.autoDestroy||he!=null&&he.autoDestroy?P.destroy(z):z&&(z.stack,he&&!he.errored&&(he.errored=z),q&&!q.errored&&(q.errored=z),G?s.nextTick(y,P,z):y(P,z))}function _(P,z){if(typeof P._construct!="function")return;let G=P._readableState,q=P._writableState;G&&(G.constructed=!1),q&&(q.constructed=!1),P.once(p,z),!(P.listenerCount(p)>1)&&s.nextTick(C,P)}function C(P){let z=!1;function G(q){if(z){A(P,q??new c);return}z=!0;let he=P._readableState,ne=P._writableState,te=ne||he;he&&(he.constructed=!0),ne&&(ne.constructed=!0),te.destroyed?P.emit(d,q):q?A(P,q,!0):s.nextTick(w,P)}try{P._construct(q=>{s.nextTick(G,q)})}catch(q){s.nextTick(G,q)}}function w(P){P.emit(p)}function I(P){return P?.setHeader&&typeof P.abort=="function"}function k(P){P.emit("close")}function j(P,z){P.emit("error",z),s.nextTick(k,P)}function U(P,z){!P||e(P)||(!z&&!i(P)&&(z=new n),l(P)?(P.socket=null,P.destroy(z)):I(P)?P.abort():I(P.req)?P.req.abort():typeof P.destroy=="function"?P.destroy(z):typeof P.close=="function"?P.close():z?s.nextTick(j,P,z):s.nextTick(k,P),P.destroyed||(P[t]=!0))}h.exports={construct:_,destroyer:U,destroy:b,undestroy:v,errorOrDestroy:A}}),co=Se((f,h)=>{ge(),me(),ye();var{ArrayIsArray:s,ObjectSetPrototypeOf:a}=Ze(),{EventEmitter:c}=(Zt(),Ke(qt));function n(t){c.call(this,t)}a(n.prototype,c.prototype),a(n,c),n.prototype.pipe=function(t,e){let i=this;function l(x){t.writable&&t.write(x)===!1&&i.pause&&i.pause()}i.on("data",l);function d(){i.readable&&i.resume&&i.resume()}t.on("drain",d),!t._isStdio&&(!e||e.end!==!1)&&(i.on("end",g),i.on("close",b));let p=!1;function g(){p||(p=!0,t.end())}function b(){p||(p=!0,typeof t.destroy=="function"&&t.destroy())}function E(x){S(),c.listenerCount(this,"error")===0&&this.emit("error",x)}r(i,"error",E),r(t,"error",E);function S(){i.removeListener("data",l),t.removeListener("drain",d),i.removeListener("end",g),i.removeListener("close",b),i.removeListener("error",E),t.removeListener("error",E),i.removeListener("end",S),i.removeListener("close",S),t.removeListener("close",S)}return i.on("end",S),i.on("close",S),t.on("close",S),t.emit("pipe",i),t};function r(t,e,i){if(typeof t.prependListener=="function")return t.prependListener(e,i);!t._events||!t._events[e]?t.on(e,i):s(t._events[e])?t._events[e].unshift(i):t._events[e]=[i,t._events[e]]}h.exports={Stream:n,prependListener:r}}),Yr=Se((f,h)=>{ge(),me(),ye();var{SymbolDispose:s}=Ze(),{AbortError:a,codes:c}=pt(),{isNodeStream:n,isWebStream:r,kControllerErrorFunction:t}=Ct(),e=Vt(),{ERR_INVALID_ARG_TYPE:i}=c,l,d=(p,g)=>{if(typeof p!="object"||!("aborted"in p))throw new i(g,"AbortSignal",p)};h.exports.addAbortSignal=function(p,g){if(d(p,"signal"),!n(g)&&!r(g))throw new i("stream",["ReadableStream","WritableStream","Stream"],g);return h.exports.addAbortSignalNoValidate(p,g)},h.exports.addAbortSignalNoValidate=function(p,g){if(typeof p!="object"||!("aborted"in p))return g;let b=n(g)?()=>{g.destroy(new a(void 0,{cause:p.reason}))}:()=>{g[t](new a(void 0,{cause:p.reason}))};if(p.aborted)b();else{l=l||gt().addAbortListener;let E=l(p,b);e(g,E[s])}return g}}),Hl=Se((f,h)=>{ge(),me(),ye();var{StringPrototypeSlice:s,SymbolIterator:a,TypedArrayPrototypeSet:c,Uint8Array:n}=Ze(),{Buffer:r}=(st(),Ke(ot)),{inspect:t}=gt();h.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(e){let i={data:e,next:null};this.length>0?this.tail.next=i:this.head=i,this.tail=i,++this.length}unshift(e){let i={data:e,next:this.head};this.length===0&&(this.tail=i),this.head=i,++this.length}shift(){if(this.length===0)return;let e=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,e}clear(){this.head=this.tail=null,this.length=0}join(e){if(this.length===0)return"";let i=this.head,l=""+i.data;for(;(i=i.next)!==null;)l+=e+i.data;return l}concat(e){if(this.length===0)return r.alloc(0);let i=r.allocUnsafe(e>>>0),l=this.head,d=0;for(;l;)c(i,l.data,d),d+=l.data.length,l=l.next;return i}consume(e,i){let l=this.head.data;if(e<l.length){let d=l.slice(0,e);return this.head.data=l.slice(e),d}return e===l.length?this.shift():i?this._getString(e):this._getBuffer(e)}first(){return this.head.data}*[a](){for(let e=this.head;e;e=e.next)yield e.data}_getString(e){let i="",l=this.head,d=0;do{let p=l.data;if(e>p.length)i+=p,e-=p.length;else{e===p.length?(i+=p,++d,l.next?this.head=l.next:this.head=this.tail=null):(i+=s(p,0,e),this.head=l,l.data=s(p,e));break}++d}while((l=l.next)!==null);return this.length-=d,i}_getBuffer(e){let i=r.allocUnsafe(e),l=e,d=this.head,p=0;do{let g=d.data;if(e>g.length)c(i,g,l-e),e-=g.length;else{e===g.length?(c(i,g,l-e),++p,d.next?this.head=d.next:this.head=this.tail=null):(c(i,new n(g.buffer,g.byteOffset,e),l-e),this.head=d,d.data=g.slice(e));break}++p}while((d=d.next)!==null);return this.length-=p,i}[Symbol.for("nodejs.util.inspect.custom")](e,i){return t(this,{...i,depth:0,customInspect:!1})}}}),Jr=Se((f,h)=>{ge(),me(),ye();var{MathFloor:s,NumberIsInteger:a}=Ze(),{validateInteger:c}=yr(),{ERR_INVALID_ARG_VALUE:n}=pt().codes,r=16*1024,t=16;function e(p,g,b){return p.highWaterMark!=null?p.highWaterMark:g?p[b]:null}function i(p){return p?t:r}function l(p,g){c(g,"value",0),p?t=g:r=g}function d(p,g,b,E){let S=e(g,E,b);if(S!=null){if(!a(S)||S<0){let x=E?`options.${b}`:"options.highWaterMark";throw new n(x,S)}return s(S)}return i(p.objectMode)}h.exports={getHighWaterMark:d,getDefaultHighWaterMark:i,setDefaultHighWaterMark:l}}),Gl=Se((f,h)=>{ge(),me(),ye();var s=(st(),Ke(ot)),a=s.Buffer;function c(r,t){for(var e in r)t[e]=r[e]}a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?h.exports=s:(c(s,f),f.Buffer=n);function n(r,t,e){return a(r,t,e)}n.prototype=Object.create(a.prototype),c(a,n),n.from=function(r,t,e){if(typeof r=="number")throw new TypeError("Argument must not be a number");return a(r,t,e)},n.alloc=function(r,t,e){if(typeof r!="number")throw new TypeError("Argument must be a number");var i=a(r);return t!==void 0?typeof e=="string"?i.fill(t,e):i.fill(t):i.fill(0),i},n.allocUnsafe=function(r){if(typeof r!="number")throw new TypeError("Argument must be a number");return a(r)},n.allocUnsafeSlow=function(r){if(typeof r!="number")throw new TypeError("Argument must be a number");return s.SlowBuffer(r)}}),Ql=Se(f=>{ge(),me(),ye();var h=Gl().Buffer,s=h.isEncoding||function(y){switch(y=""+y,y&&y.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function a(y){if(!y)return"utf8";for(var v;;)switch(y){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return y;default:if(v)return;y=(""+y).toLowerCase(),v=!0}}function c(y){var v=a(y);if(typeof v!="string"&&(h.isEncoding===s||!s(y)))throw new Error("Unknown encoding: "+y);return v||y}f.StringDecoder=n;function n(y){this.encoding=c(y);var v;switch(this.encoding){case"utf16le":this.text=p,this.end=g,v=4;break;case"utf8":this.fillLast=i,v=4;break;case"base64":this.text=b,this.end=E,v=3;break;default:this.write=S,this.end=x;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=h.allocUnsafe(v)}n.prototype.write=function(y){if(y.length===0)return"";var v,A;if(this.lastNeed){if(v=this.fillLast(y),v===void 0)return"";A=this.lastNeed,this.lastNeed=0}else A=0;return A<y.length?v?v+this.text(y,A):this.text(y,A):v||""},n.prototype.end=d,n.prototype.text=l,n.prototype.fillLast=function(y){if(this.lastNeed<=y.length)return y.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);y.copy(this.lastChar,this.lastTotal-this.lastNeed,0,y.length),this.lastNeed-=y.length};function r(y){return y<=127?0:y>>5===6?2:y>>4===14?3:y>>3===30?4:y>>6===2?-1:-2}function t(y,v,A){var _=v.length-1;if(_<A)return 0;var C=r(v[_]);return C>=0?(C>0&&(y.lastNeed=C-1),C):--_<A||C===-2?0:(C=r(v[_]),C>=0?(C>0&&(y.lastNeed=C-2),C):--_<A||C===-2?0:(C=r(v[_]),C>=0?(C>0&&(C===2?C=0:y.lastNeed=C-3),C):0))}function e(y,v,A){if((v[0]&192)!==128)return y.lastNeed=0,"";if(y.lastNeed>1&&v.length>1){if((v[1]&192)!==128)return y.lastNeed=1,"";if(y.lastNeed>2&&v.length>2&&(v[2]&192)!==128)return y.lastNeed=2,""}}function i(y){var v=this.lastTotal-this.lastNeed,A=e(this,y);if(A!==void 0)return A;if(this.lastNeed<=y.length)return y.copy(this.lastChar,v,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);y.copy(this.lastChar,v,0,y.length),this.lastNeed-=y.length}function l(y,v){var A=t(this,y,v);if(!this.lastNeed)return y.toString("utf8",v);this.lastTotal=A;var _=y.length-(A-this.lastNeed);return y.copy(this.lastChar,0,_),y.toString("utf8",v,_)}function d(y){var v=y&&y.length?this.write(y):"";return this.lastNeed?v+"":v}function p(y,v){if((y.length-v)%2===0){var A=y.toString("utf16le",v);if(A){var _=A.charCodeAt(A.length-1);if(_>=55296&&_<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=y[y.length-2],this.lastChar[1]=y[y.length-1],A.slice(0,-1)}return A}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=y[y.length-1],y.toString("utf16le",v,y.length-1)}function g(y){var v=y&&y.length?this.write(y):"";if(this.lastNeed){var A=this.lastTotal-this.lastNeed;return v+this.lastChar.toString("utf16le",0,A)}return v}function b(y,v){var A=(y.length-v)%3;return A===0?y.toString("base64",v):(this.lastNeed=3-A,this.lastTotal=3,A===1?this.lastChar[0]=y[y.length-1]:(this.lastChar[0]=y[y.length-2],this.lastChar[1]=y[y.length-1]),y.toString("base64",v,y.length-A))}function E(y){var v=y&&y.length?this.write(y):"";return this.lastNeed?v+this.lastChar.toString("base64",0,3-this.lastNeed):v}function S(y){return y.toString(this.encoding)}function x(y){return y&&y.length?this.write(y):""}}),ra=Se((f,h)=>{ge(),me(),ye();var s=er(),{PromisePrototypeThen:a,SymbolAsyncIterator:c,SymbolIterator:n}=Ze(),{Buffer:r}=(st(),Ke(ot)),{ERR_INVALID_ARG_TYPE:t,ERR_STREAM_NULL_VALUES:e}=pt().codes;function i(l,d,p){let g;if(typeof d=="string"||d instanceof r)return new l({objectMode:!0,...p,read(){this.push(d),this.push(null)}});let b;if(d&&d[c])b=!0,g=d[c]();else if(d&&d[n])b=!1,g=d[n]();else throw new t("iterable",["Iterable"],d);let E=new l({objectMode:!0,highWaterMark:1,...p}),S=!1;E._read=function(){S||(S=!0,y())},E._destroy=function(v,A){a(x(v),()=>s.nextTick(A,v),_=>s.nextTick(A,_||v))};async function x(v){let A=v!=null,_=typeof g.throw=="function";if(A&&_){let{value:C,done:w}=await g.throw(v);if(await C,w)return}if(typeof g.return=="function"){let{value:C}=await g.return();await C}}async function y(){for(;;){try{let{value:v,done:A}=b?await g.next():g.next();if(A)E.push(null);else{let _=v&&typeof v.then=="function"?await v:v;if(_===null)throw S=!1,new e;if(E.push(_))continue;S=!1}}catch(v){E.destroy(v)}break}}return E}h.exports=i}),Xr=Se((f,h)=>{ge(),me(),ye();var s=er(),{ArrayPrototypeIndexOf:a,NumberIsInteger:c,NumberIsNaN:n,NumberParseInt:r,ObjectDefineProperties:t,ObjectKeys:e,ObjectSetPrototypeOf:i,Promise:l,SafeSet:d,SymbolAsyncDispose:p,SymbolAsyncIterator:g,Symbol:b}=Ze();h.exports=fe,fe.ReadableState=Oe;var{EventEmitter:E}=(Zt(),Ke(qt)),{Stream:S,prependListener:x}=co(),{Buffer:y}=(st(),Ke(ot)),{addAbortSignal:v}=Yr(),A=Vt(),_=gt().debuglog("stream",R=>{_=R}),C=Hl(),w=sr(),{getHighWaterMark:I,getDefaultHighWaterMark:k}=Jr(),{aggregateTwoErrors:j,codes:{ERR_INVALID_ARG_TYPE:U,ERR_METHOD_NOT_IMPLEMENTED:P,ERR_OUT_OF_RANGE:z,ERR_STREAM_PUSH_AFTER_EOF:G,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:q},AbortError:he}=pt(),{validateObject:ne}=yr(),te=b("kPaused"),{StringDecoder:ce}=Ql(),V=ra();i(fe.prototype,S.prototype),i(fe,S);var le=()=>{},{errorOrDestroy:M}=w,ee=1,Z=2,ue=4,Ae=8,Y=16,W=32,oe=64,X=128,J=256,re=512,we=1024,pe=2048,L=4096,H=8192,se=16384,be=32768,ve=65536,Ee=1<<17,Q=1<<18;function _e(R){return{enumerable:!1,get(){return(this.state&R)!==0},set(F){F?this.state|=R:this.state&=~R}}}t(Oe.prototype,{objectMode:_e(ee),ended:_e(Z),endEmitted:_e(ue),reading:_e(Ae),constructed:_e(Y),sync:_e(W),needReadable:_e(oe),emittedReadable:_e(X),readableListening:_e(J),resumeScheduled:_e(re),errorEmitted:_e(we),emitClose:_e(pe),autoDestroy:_e(L),destroyed:_e(H),closed:_e(se),closeEmitted:_e(be),multiAwaitDrain:_e(ve),readingMore:_e(Ee),dataEmitted:_e(Q)});function Oe(R,F,Pe){typeof Pe!="boolean"&&(Pe=F instanceof kt()),this.state=pe|L|Y|W,R&&R.objectMode&&(this.state|=ee),Pe&&R&&R.readableObjectMode&&(this.state|=ee),this.highWaterMark=R?I(this,R,"readableHighWaterMark",Pe):k(!1),this.buffer=new C,this.length=0,this.pipes=[],this.flowing=null,this[te]=null,R&&R.emitClose===!1&&(this.state&=~pe),R&&R.autoDestroy===!1&&(this.state&=~L),this.errored=null,this.defaultEncoding=R&&R.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,R&&R.encoding&&(this.decoder=new ce(R.encoding),this.encoding=R.encoding)}function fe(R){if(!(this instanceof fe))return new fe(R);let F=this instanceof kt();this._readableState=new Oe(R,this,F),R&&(typeof R.read=="function"&&(this._read=R.read),typeof R.destroy=="function"&&(this._destroy=R.destroy),typeof R.construct=="function"&&(this._construct=R.construct),R.signal&&!F&&v(R.signal,this)),S.call(this,R),w.construct(this,()=>{this._readableState.needReadable&&$(this,this._readableState)})}fe.prototype.destroy=w.destroy,fe.prototype._undestroy=w.undestroy,fe.prototype._destroy=function(R,F){F(R)},fe.prototype[E.captureRejectionSymbol]=function(R){this.destroy(R)},fe.prototype[p]=function(){let R;return this.destroyed||(R=this.readableEnded?null:new he,this.destroy(R)),new l((F,Pe)=>A(this,Te=>Te&&Te!==R?Pe(Te):F(null)))},fe.prototype.push=function(R,F){return Be(this,R,F,!1)},fe.prototype.unshift=function(R,F){return Be(this,R,F,!0)};function Be(R,F,Pe,Te){_("readableAddChunk",F);let Me=R._readableState,rt;if((Me.state&ee)===0&&(typeof F=="string"?(Pe=Pe||Me.defaultEncoding,Me.encoding!==Pe&&(Te&&Me.encoding?F=y.from(F,Pe).toString(Me.encoding):(F=y.from(F,Pe),Pe=""))):F instanceof y?Pe="":S._isUint8Array(F)?(F=S._uint8ArrayToBuffer(F),Pe=""):F!=null&&(rt=new U("chunk",["string","Buffer","Uint8Array"],F))),rt)M(R,rt);else if(F===null)Me.state&=~Ae,N(R,Me);else if((Me.state&ee)!==0||F&&F.length>0)if(Te)if((Me.state&ue)!==0)M(R,new q);else{if(Me.destroyed||Me.errored)return!1;o(R,Me,F,!0)}else if(Me.ended)M(R,new G);else{if(Me.destroyed||Me.errored)return!1;Me.state&=~Ae,Me.decoder&&!Pe?(F=Me.decoder.write(F),Me.objectMode||F.length!==0?o(R,Me,F,!1):$(R,Me)):o(R,Me,F,!1)}else Te||(Me.state&=~Ae,$(R,Me));return!Me.ended&&(Me.length<Me.highWaterMark||Me.length===0)}function o(R,F,Pe,Te){F.flowing&&F.length===0&&!F.sync&&R.listenerCount("data")>0?((F.state&ve)!==0?F.awaitDrainWriters.clear():F.awaitDrainWriters=null,F.dataEmitted=!0,R.emit("data",Pe)):(F.length+=F.objectMode?1:Pe.length,Te?F.buffer.unshift(Pe):F.buffer.push(Pe),(F.state&oe)!==0&&K(R)),$(R,F)}fe.prototype.isPaused=function(){let R=this._readableState;return R[te]===!0||R.flowing===!1},fe.prototype.setEncoding=function(R){let F=new ce(R);this._readableState.decoder=F,this._readableState.encoding=this._readableState.decoder.encoding;let Pe=this._readableState.buffer,Te="";for(let Me of Pe)Te+=F.write(Me);return Pe.clear(),Te!==""&&Pe.push(Te),this._readableState.length=Te.length,this};var u=1073741824;function m(R){if(R>u)throw new z("size","<= 1GiB",R);return R--,R|=R>>>1,R|=R>>>2,R|=R>>>4,R|=R>>>8,R|=R>>>16,R++,R}function T(R,F){return R<=0||F.length===0&&F.ended?0:(F.state&ee)!==0?1:n(R)?F.flowing&&F.length?F.buffer.first().length:F.length:R<=F.length?R:F.ended?F.length:0}fe.prototype.read=function(R){_("read",R),R===void 0?R=NaN:c(R)||(R=r(R,10));let F=this._readableState,Pe=R;if(R>F.highWaterMark&&(F.highWaterMark=m(R)),R!==0&&(F.state&=~X),R===0&&F.needReadable&&((F.highWaterMark!==0?F.length>=F.highWaterMark:F.length>0)||F.ended))return _("read: emitReadable",F.length,F.ended),F.length===0&&F.ended?He(this):K(this),null;if(R=T(R,F),R===0&&F.ended)return F.length===0&&He(this),null;let Te=(F.state&oe)!==0;if(_("need readable",Te),(F.length===0||F.length-R<F.highWaterMark)&&(Te=!0,_("length less than watermark",Te)),F.ended||F.reading||F.destroyed||F.errored||!F.constructed)Te=!1,_("reading, ended or constructing",Te);else if(Te){_("do read"),F.state|=Ae|W,F.length===0&&(F.state|=oe);try{this._read(F.highWaterMark)}catch(rt){M(this,rt)}F.state&=~W,F.reading||(R=T(Pe,F))}let Me;return R>0?Me=tt(R,F):Me=null,Me===null?(F.needReadable=F.length<=F.highWaterMark,R=0):(F.length-=R,F.multiAwaitDrain?F.awaitDrainWriters.clear():F.awaitDrainWriters=null),F.length===0&&(F.ended||(F.needReadable=!0),Pe!==R&&F.ended&&He(this)),Me!==null&&!F.errorEmitted&&!F.closeEmitted&&(F.dataEmitted=!0,this.emit("data",Me)),Me};function N(R,F){if(_("onEofChunk"),!F.ended){if(F.decoder){let Pe=F.decoder.end();Pe&&Pe.length&&(F.buffer.push(Pe),F.length+=F.objectMode?1:Pe.length)}F.ended=!0,F.sync?K(R):(F.needReadable=!1,F.emittedReadable=!0,de(R))}}function K(R){let F=R._readableState;_("emitReadable",F.needReadable,F.emittedReadable),F.needReadable=!1,F.emittedReadable||(_("emitReadable",F.flowing),F.emittedReadable=!0,s.nextTick(de,R))}function de(R){let F=R._readableState;_("emitReadable_",F.destroyed,F.length,F.ended),!F.destroyed&&!F.errored&&(F.length||F.ended)&&(R.emit("readable"),F.emittedReadable=!1),F.needReadable=!F.flowing&&!F.ended&&F.length<=F.highWaterMark,Fe(R)}function $(R,F){!F.readingMore&&F.constructed&&(F.readingMore=!0,s.nextTick(ie,R,F))}function ie(R,F){for(;!F.reading&&!F.ended&&(F.length<F.highWaterMark||F.flowing&&F.length===0);){let Pe=F.length;if(_("maybeReadMore read 0"),R.read(0),Pe===F.length)break}F.readingMore=!1}fe.prototype._read=function(R){throw new P("_read()")},fe.prototype.pipe=function(R,F){let Pe=this,Te=this._readableState;Te.pipes.length===1&&(Te.multiAwaitDrain||(Te.multiAwaitDrain=!0,Te.awaitDrainWriters=new d(Te.awaitDrainWriters?[Te.awaitDrainWriters]:[]))),Te.pipes.push(R),_("pipe count=%d opts=%j",Te.pipes.length,F);let Me=(!F||F.end!==!1)&&R!==s.stdout&&R!==s.stderr?at:At;Te.endEmitted?s.nextTick(Me):Pe.once("end",Me),R.on("unpipe",rt);function rt(Qe,wt){_("onunpipe"),Qe===Pe&&wt&&wt.hasUnpiped===!1&&(wt.hasUnpiped=!0,zt())}function at(){_("onend"),R.end()}let mt,Mt=!1;function zt(){_("cleanup"),R.removeListener("close",ze),R.removeListener("finish",bt),mt&&R.removeListener("drain",mt),R.removeListener("error",Et),R.removeListener("unpipe",rt),Pe.removeListener("end",at),Pe.removeListener("end",At),Pe.removeListener("data",Ht),Mt=!0,mt&&Te.awaitDrainWriters&&(!R._writableState||R._writableState.needDrain)&&mt()}function Kt(){Mt||(Te.pipes.length===1&&Te.pipes[0]===R?(_("false write response, pause",0),Te.awaitDrainWriters=R,Te.multiAwaitDrain=!1):Te.pipes.length>1&&Te.pipes.includes(R)&&(_("false write response, pause",Te.awaitDrainWriters.size),Te.awaitDrainWriters.add(R)),Pe.pause()),mt||(mt=Re(Pe,R),R.on("drain",mt))}Pe.on("data",Ht);function Ht(Qe){_("ondata");let wt=R.write(Qe);_("dest.write",wt),wt===!1&&Kt()}function Et(Qe){if(_("onerror",Qe),At(),R.removeListener("error",Et),R.listenerCount("error")===0){let wt=R._writableState||R._readableState;wt&&!wt.errorEmitted?M(R,Qe):R.emit("error",Qe)}}x(R,"error",Et);function ze(){R.removeListener("finish",bt),At()}R.once("close",ze);function bt(){_("onfinish"),R.removeListener("close",ze),At()}R.once("finish",bt);function At(){_("unpipe"),Pe.unpipe(R)}return R.emit("pipe",Pe),R.writableNeedDrain===!0?Kt():Te.flowing||(_("pipe resume"),Pe.resume()),R};function Re(R,F){return function(){let Pe=R._readableState;Pe.awaitDrainWriters===F?(_("pipeOnDrain",1),Pe.awaitDrainWriters=null):Pe.multiAwaitDrain&&(_("pipeOnDrain",Pe.awaitDrainWriters.size),Pe.awaitDrainWriters.delete(F)),(!Pe.awaitDrainWriters||Pe.awaitDrainWriters.size===0)&&R.listenerCount("data")&&R.resume()}}fe.prototype.unpipe=function(R){let F=this._readableState,Pe={hasUnpiped:!1};if(F.pipes.length===0)return this;if(!R){let Me=F.pipes;F.pipes=[],this.pause();for(let rt=0;rt<Me.length;rt++)Me[rt].emit("unpipe",this,{hasUnpiped:!1});return this}let Te=a(F.pipes,R);return Te===-1?this:(F.pipes.splice(Te,1),F.pipes.length===0&&this.pause(),R.emit("unpipe",this,Pe),this)},fe.prototype.on=function(R,F){let Pe=S.prototype.on.call(this,R,F),Te=this._readableState;return R==="data"?(Te.readableListening=this.listenerCount("readable")>0,Te.flowing!==!1&&this.resume()):R==="readable"&&!Te.endEmitted&&!Te.readableListening&&(Te.readableListening=Te.needReadable=!0,Te.flowing=!1,Te.emittedReadable=!1,_("on readable",Te.length,Te.reading),Te.length?K(this):Te.reading||s.nextTick(Le,this)),Pe},fe.prototype.addListener=fe.prototype.on,fe.prototype.removeListener=function(R,F){let Pe=S.prototype.removeListener.call(this,R,F);return R==="readable"&&s.nextTick(ke,this),Pe},fe.prototype.off=fe.prototype.removeListener,fe.prototype.removeAllListeners=function(R){let F=S.prototype.removeAllListeners.apply(this,arguments);return(R==="readable"||R===void 0)&&s.nextTick(ke,this),F};function ke(R){let F=R._readableState;F.readableListening=R.listenerCount("readable")>0,F.resumeScheduled&&F[te]===!1?F.flowing=!0:R.listenerCount("data")>0?R.resume():F.readableListening||(F.flowing=null)}function Le(R){_("readable nexttick read 0"),R.read(0)}fe.prototype.resume=function(){let R=this._readableState;return R.flowing||(_("resume"),R.flowing=!R.readableListening,Ue(this,R)),R[te]=!1,this};function Ue(R,F){F.resumeScheduled||(F.resumeScheduled=!0,s.nextTick(Xe,R,F))}function Xe(R,F){_("resume",F.reading),F.reading||R.read(0),F.resumeScheduled=!1,R.emit("resume"),Fe(R),F.flowing&&!F.reading&&R.read(0)}fe.prototype.pause=function(){return _("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(_("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[te]=!0,this};function Fe(R){let F=R._readableState;for(_("flow",F.flowing);F.flowing&&R.read()!==null;);}fe.prototype.wrap=function(R){let F=!1;R.on("data",Te=>{!this.push(Te)&&R.pause&&(F=!0,R.pause())}),R.on("end",()=>{this.push(null)}),R.on("error",Te=>{M(this,Te)}),R.on("close",()=>{this.destroy()}),R.on("destroy",()=>{this.destroy()}),this._read=()=>{F&&R.resume&&(F=!1,R.resume())};let Pe=e(R);for(let Te=1;Te<Pe.length;Te++){let Me=Pe[Te];this[Me]===void 0&&typeof R[Me]=="function"&&(this[Me]=R[Me].bind(R))}return this},fe.prototype[g]=function(){return We(this)},fe.prototype.iterator=function(R){return R!==void 0&&ne(R,"options"),We(this,R)};function We(R,F){typeof R.read!="function"&&(R=fe.wrap(R,{objectMode:!0}));let Pe=je(R,F);return Pe.stream=R,Pe}async function*je(R,F){let Pe=le;function Te(at){this===R?(Pe(),Pe=le):Pe=at}R.on("readable",Te);let Me,rt=A(R,{writable:!1},at=>{Me=at?j(Me,at):null,Pe(),Pe=le});try{for(;;){let at=R.destroyed?null:R.read();if(at!==null)yield at;else{if(Me)throw Me;if(Me===null)return;await new l(Te)}}}catch(at){throw Me=j(Me,at),Me}finally{(Me||F?.destroyOnReturn!==!1)&&(Me===void 0||R._readableState.autoDestroy)?w.destroyer(R,null):(R.off("readable",Te),rt())}}t(fe.prototype,{readable:{__proto__:null,get(){let R=this._readableState;return!!R&&R.readable!==!1&&!R.destroyed&&!R.errorEmitted&&!R.endEmitted},set(R){this._readableState&&(this._readableState.readable=!!R)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(R){this._readableState&&(this._readableState.flowing=R)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(R){this._readableState&&(this._readableState.destroyed=R)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),t(Oe.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[te]!==!1},set(R){this[te]=!!R}}}),fe._fromList=tt;function tt(R,F){if(F.length===0)return null;let Pe;return F.objectMode?Pe=F.buffer.shift():!R||R>=F.length?(F.decoder?Pe=F.buffer.join(""):F.buffer.length===1?Pe=F.buffer.first():Pe=F.buffer.concat(F.length),F.buffer.clear()):Pe=F.buffer.consume(R,F.decoder),Pe}function He(R){let F=R._readableState;_("endReadable",F.endEmitted),F.endEmitted||(F.ended=!0,s.nextTick($e,F,R))}function $e(R,F){if(_("endReadableNT",R.endEmitted,R.length),!R.errored&&!R.closeEmitted&&!R.endEmitted&&R.length===0){if(R.endEmitted=!0,F.emit("end"),F.writable&&F.allowHalfOpen===!1)s.nextTick(nt,F);else if(R.autoDestroy){let Pe=F._writableState;(!Pe||Pe.autoDestroy&&(Pe.finished||Pe.writable===!1))&&F.destroy()}}}function nt(R){R.writable&&!R.writableEnded&&!R.destroyed&&R.end()}fe.from=function(R,F){return V(fe,R,F)};var dt;function lt(){return dt===void 0&&(dt={}),dt}fe.fromWeb=function(R,F){return lt().newStreamReadableFromReadableStream(R,F)},fe.toWeb=function(R,F){return lt().newReadableStreamFromStreamReadable(R,F)},fe.wrap=function(R,F){var Pe,Te;return new fe({objectMode:(Pe=(Te=R.readableObjectMode)!==null&&Te!==void 0?Te:R.objectMode)!==null&&Pe!==void 0?Pe:!0,...F,destroy(Me,rt){w.destroyer(R,Me),rt(Me)}}).wrap(R)}}),ho=Se((f,h)=>{ge(),me(),ye();var s=er(),{ArrayPrototypeSlice:a,Error:c,FunctionPrototypeSymbolHasInstance:n,ObjectDefineProperty:r,ObjectDefineProperties:t,ObjectSetPrototypeOf:e,StringPrototypeToLowerCase:i,Symbol:l,SymbolHasInstance:d}=Ze();h.exports=ne,ne.WritableState=q;var{EventEmitter:p}=(Zt(),Ke(qt)),g=co().Stream,{Buffer:b}=(st(),Ke(ot)),E=sr(),{addAbortSignal:S}=Yr(),{getHighWaterMark:x,getDefaultHighWaterMark:y}=Jr(),{ERR_INVALID_ARG_TYPE:v,ERR_METHOD_NOT_IMPLEMENTED:A,ERR_MULTIPLE_CALLBACK:_,ERR_STREAM_CANNOT_PIPE:C,ERR_STREAM_DESTROYED:w,ERR_STREAM_ALREADY_FINISHED:I,ERR_STREAM_NULL_VALUES:k,ERR_STREAM_WRITE_AFTER_END:j,ERR_UNKNOWN_ENCODING:U}=pt().codes,{errorOrDestroy:P}=E;e(ne.prototype,g.prototype),e(ne,g);function z(){}var G=l("kOnFinished");function q(L,H,se){typeof se!="boolean"&&(se=H instanceof kt()),this.objectMode=!!(L&&L.objectMode),se&&(this.objectMode=this.objectMode||!!(L&&L.writableObjectMode)),this.highWaterMark=L?x(this,L,"writableHighWaterMark",se):y(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let be=!!(L&&L.decodeStrings===!1);this.decodeStrings=!be,this.defaultEncoding=L&&L.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=M.bind(void 0,H),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,he(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!L||L.emitClose!==!1,this.autoDestroy=!L||L.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[G]=[]}function he(L){L.buffered=[],L.bufferedIndex=0,L.allBuffers=!0,L.allNoop=!0}q.prototype.getBuffer=function(){return a(this.buffered,this.bufferedIndex)},r(q.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function ne(L){let H=this instanceof kt();if(!H&&!n(ne,this))return new ne(L);this._writableState=new q(L,this,H),L&&(typeof L.write=="function"&&(this._write=L.write),typeof L.writev=="function"&&(this._writev=L.writev),typeof L.destroy=="function"&&(this._destroy=L.destroy),typeof L.final=="function"&&(this._final=L.final),typeof L.construct=="function"&&(this._construct=L.construct),L.signal&&S(L.signal,this)),g.call(this,L),E.construct(this,()=>{let se=this._writableState;se.writing||Ae(this,se),X(this,se)})}r(ne,d,{__proto__:null,value:function(L){return n(this,L)?!0:this!==ne?!1:L&&L._writableState instanceof q}}),ne.prototype.pipe=function(){P(this,new C)};function te(L,H,se,be){let ve=L._writableState;if(typeof se=="function")be=se,se=ve.defaultEncoding;else{if(!se)se=ve.defaultEncoding;else if(se!=="buffer"&&!b.isEncoding(se))throw new U(se);typeof be!="function"&&(be=z)}if(H===null)throw new k;if(!ve.objectMode)if(typeof H=="string")ve.decodeStrings!==!1&&(H=b.from(H,se),se="buffer");else if(H instanceof b)se="buffer";else if(g._isUint8Array(H))H=g._uint8ArrayToBuffer(H),se="buffer";else throw new v("chunk",["string","Buffer","Uint8Array"],H);let Ee;return ve.ending?Ee=new j:ve.destroyed&&(Ee=new w("write")),Ee?(s.nextTick(be,Ee),P(L,Ee,!0),Ee):(ve.pendingcb++,ce(L,ve,H,se,be))}ne.prototype.write=function(L,H,se){return te(this,L,H,se)===!0},ne.prototype.cork=function(){this._writableState.corked++},ne.prototype.uncork=function(){let L=this._writableState;L.corked&&(L.corked--,L.writing||Ae(this,L))},ne.prototype.setDefaultEncoding=function(L){if(typeof L=="string"&&(L=i(L)),!b.isEncoding(L))throw new U(L);return this._writableState.defaultEncoding=L,this};function ce(L,H,se,be,ve){let Ee=H.objectMode?1:se.length;H.length+=Ee;let Q=H.length<H.highWaterMark;return Q||(H.needDrain=!0),H.writing||H.corked||H.errored||!H.constructed?(H.buffered.push({chunk:se,encoding:be,callback:ve}),H.allBuffers&&be!=="buffer"&&(H.allBuffers=!1),H.allNoop&&ve!==z&&(H.allNoop=!1)):(H.writelen=Ee,H.writecb=ve,H.writing=!0,H.sync=!0,L._write(se,be,H.onwrite),H.sync=!1),Q&&!H.errored&&!H.destroyed}function V(L,H,se,be,ve,Ee,Q){H.writelen=be,H.writecb=Q,H.writing=!0,H.sync=!0,H.destroyed?H.onwrite(new w("write")):se?L._writev(ve,H.onwrite):L._write(ve,Ee,H.onwrite),H.sync=!1}function le(L,H,se,be){--H.pendingcb,be(se),ue(H),P(L,se)}function M(L,H){let se=L._writableState,be=se.sync,ve=se.writecb;if(typeof ve!="function"){P(L,new _);return}se.writing=!1,se.writecb=null,se.length-=se.writelen,se.writelen=0,H?(H.stack,se.errored||(se.errored=H),L._readableState&&!L._readableState.errored&&(L._readableState.errored=H),be?s.nextTick(le,L,se,H,ve):le(L,se,H,ve)):(se.buffered.length>se.bufferedIndex&&Ae(L,se),be?se.afterWriteTickInfo!==null&&se.afterWriteTickInfo.cb===ve?se.afterWriteTickInfo.count++:(se.afterWriteTickInfo={count:1,cb:ve,stream:L,state:se},s.nextTick(ee,se.afterWriteTickInfo)):Z(L,se,1,ve))}function ee({stream:L,state:H,count:se,cb:be}){return H.afterWriteTickInfo=null,Z(L,H,se,be)}function Z(L,H,se,be){for(!H.ending&&!L.destroyed&&H.length===0&&H.needDrain&&(H.needDrain=!1,L.emit("drain"));se-- >0;)H.pendingcb--,be();H.destroyed&&ue(H),X(L,H)}function ue(L){if(L.writing)return;for(let ve=L.bufferedIndex;ve<L.buffered.length;++ve){var H;let{chunk:Ee,callback:Q}=L.buffered[ve],_e=L.objectMode?1:Ee.length;L.length-=_e,Q((H=L.errored)!==null&&H!==void 0?H:new w("write"))}let se=L[G].splice(0);for(let ve=0;ve<se.length;ve++){var be;se[ve]((be=L.errored)!==null&&be!==void 0?be:new w("end"))}he(L)}function Ae(L,H){if(H.corked||H.bufferProcessing||H.destroyed||!H.constructed)return;let{buffered:se,bufferedIndex:be,objectMode:ve}=H,Ee=se.length-be;if(!Ee)return;let Q=be;if(H.bufferProcessing=!0,Ee>1&&L._writev){H.pendingcb-=Ee-1;let _e=H.allNoop?z:fe=>{for(let Be=Q;Be<se.length;++Be)se[Be].callback(fe)},Oe=H.allNoop&&Q===0?se:a(se,Q);Oe.allBuffers=H.allBuffers,V(L,H,!0,H.length,Oe,"",_e),he(H)}else{do{let{chunk:_e,encoding:Oe,callback:fe}=se[Q];se[Q++]=null;let Be=ve?1:_e.length;V(L,H,!1,Be,_e,Oe,fe)}while(Q<se.length&&!H.writing);Q===se.length?he(H):Q>256?(se.splice(0,Q),H.bufferedIndex=0):H.bufferedIndex=Q}H.bufferProcessing=!1}ne.prototype._write=function(L,H,se){if(this._writev)this._writev([{chunk:L,encoding:H}],se);else throw new A("_write()")},ne.prototype._writev=null,ne.prototype.end=function(L,H,se){let be=this._writableState;typeof L=="function"?(se=L,L=null,H=null):typeof H=="function"&&(se=H,H=null);let ve;if(L!=null){let Ee=te(this,L,H);Ee instanceof c&&(ve=Ee)}return be.corked&&(be.corked=1,this.uncork()),ve||(!be.errored&&!be.ending?(be.ending=!0,X(this,be,!0),be.ended=!0):be.finished?ve=new I("end"):be.destroyed&&(ve=new w("end"))),typeof se=="function"&&(ve||be.finished?s.nextTick(se,ve):be[G].push(se)),this};function Y(L){return L.ending&&!L.destroyed&&L.constructed&&L.length===0&&!L.errored&&L.buffered.length===0&&!L.finished&&!L.writing&&!L.errorEmitted&&!L.closeEmitted}function W(L,H){let se=!1;function be(ve){if(se){P(L,ve??_());return}if(se=!0,H.pendingcb--,ve){let Ee=H[G].splice(0);for(let Q=0;Q<Ee.length;Q++)Ee[Q](ve);P(L,ve,H.sync)}else Y(H)&&(H.prefinished=!0,L.emit("prefinish"),H.pendingcb++,s.nextTick(J,L,H))}H.sync=!0,H.pendingcb++;try{L._final(be)}catch(ve){be(ve)}H.sync=!1}function oe(L,H){!H.prefinished&&!H.finalCalled&&(typeof L._final=="function"&&!H.destroyed?(H.finalCalled=!0,W(L,H)):(H.prefinished=!0,L.emit("prefinish")))}function X(L,H,se){Y(H)&&(oe(L,H),H.pendingcb===0&&(se?(H.pendingcb++,s.nextTick((be,ve)=>{Y(ve)?J(be,ve):ve.pendingcb--},L,H)):Y(H)&&(H.pendingcb++,J(L,H))))}function J(L,H){H.pendingcb--,H.finished=!0;let se=H[G].splice(0);for(let be=0;be<se.length;be++)se[be]();if(L.emit("finish"),H.autoDestroy){let be=L._readableState;(!be||be.autoDestroy&&(be.endEmitted||be.readable===!1))&&L.destroy()}}t(ne.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(L){this._writableState&&(this._writableState.destroyed=L)}},writable:{__proto__:null,get(){let L=this._writableState;return!!L&&L.writable!==!1&&!L.destroyed&&!L.errored&&!L.ending&&!L.ended},set(L){this._writableState&&(this._writableState.writable=!!L)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let L=this._writableState;return L?!L.destroyed&&!L.ending&&L.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var re=E.destroy;ne.prototype.destroy=function(L,H){let se=this._writableState;return!se.destroyed&&(se.bufferedIndex<se.buffered.length||se[G].length)&&s.nextTick(ue,se),re.call(this,L,H),this},ne.prototype._undestroy=E.undestroy,ne.prototype._destroy=function(L,H){H(L)},ne.prototype[p.captureRejectionSymbol]=function(L){this.destroy(L)};var we;function pe(){return we===void 0&&(we={}),we}ne.fromWeb=function(L,H){return pe().newStreamWritableFromWritableStream(L,H)},ne.toWeb=function(L){return pe().newWritableStreamFromStreamWritable(L)}}),Yl=Se((f,h)=>{ge(),me(),ye();var s=er(),a=(st(),Ke(ot)),{isReadable:c,isWritable:n,isIterable:r,isNodeStream:t,isReadableNodeStream:e,isWritableNodeStream:i,isDuplexNodeStream:l,isReadableStream:d,isWritableStream:p}=Ct(),g=Vt(),{AbortError:b,codes:{ERR_INVALID_ARG_TYPE:E,ERR_INVALID_RETURN_VALUE:S}}=pt(),{destroyer:x}=sr(),y=kt(),v=Xr(),A=ho(),{createDeferredPromise:_}=gt(),C=ra(),w=globalThis.Blob||a.Blob,I=typeof w<"u"?function(G){return G instanceof w}:function(G){return!1},k=globalThis.AbortController||gr().AbortController,{FunctionPrototypeCall:j}=Ze(),U=class extends y{constructor(G){super(G),G?.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),G?.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}};h.exports=function G(q,he){if(l(q))return q;if(e(q))return z({readable:q});if(i(q))return z({writable:q});if(t(q))return z({writable:!1,readable:!1});if(d(q))return z({readable:v.fromWeb(q)});if(p(q))return z({writable:A.fromWeb(q)});if(typeof q=="function"){let{value:te,write:ce,final:V,destroy:le}=P(q);if(r(te))return C(U,te,{objectMode:!0,write:ce,final:V,destroy:le});let M=te?.then;if(typeof M=="function"){let ee,Z=j(M,te,ue=>{if(ue!=null)throw new S("nully","body",ue)},ue=>{x(ee,ue)});return ee=new U({objectMode:!0,readable:!1,write:ce,final(ue){V(async()=>{try{await Z,s.nextTick(ue,null)}catch(Ae){s.nextTick(ue,Ae)}})},destroy:le})}throw new S("Iterable, AsyncIterable or AsyncFunction",he,te)}if(I(q))return G(q.arrayBuffer());if(r(q))return C(U,q,{objectMode:!0,writable:!1});if(d(q?.readable)&&p(q?.writable))return U.fromWeb(q);if(typeof q?.writable=="object"||typeof q?.readable=="object"){let te=q!=null&&q.readable?e(q?.readable)?q?.readable:G(q.readable):void 0,ce=q!=null&&q.writable?i(q?.writable)?q?.writable:G(q.writable):void 0;return z({readable:te,writable:ce})}let ne=q?.then;if(typeof ne=="function"){let te;return j(ne,q,ce=>{ce!=null&&te.push(ce),te.push(null)},ce=>{x(te,ce)}),te=new U({objectMode:!0,writable:!1,read(){}})}throw new E(he,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],q)};function P(G){let{promise:q,resolve:he}=_(),ne=new k,te=ne.signal;return{value:G((async function*(){for(;;){let ce=q;q=null;let{chunk:V,done:le,cb:M}=await ce;if(s.nextTick(M),le)return;if(te.aborted)throw new b(void 0,{cause:te.reason});({promise:q,resolve:he}=_()),yield V}})(),{signal:te}),write(ce,V,le){let M=he;he=null,M({chunk:ce,done:!1,cb:le})},final(ce){let V=he;he=null,V({done:!0,cb:ce})},destroy(ce,V){ne.abort(),V(ce)}}}function z(G){let q=G.readable&&typeof G.readable.read!="function"?v.wrap(G.readable):G.readable,he=G.writable,ne=!!c(q),te=!!n(he),ce,V,le,M,ee;function Z(ue){let Ae=M;M=null,Ae?Ae(ue):ue&&ee.destroy(ue)}return ee=new U({readableObjectMode:!!(q!=null&&q.readableObjectMode),writableObjectMode:!!(he!=null&&he.writableObjectMode),readable:ne,writable:te}),te&&(g(he,ue=>{te=!1,ue&&x(q,ue),Z(ue)}),ee._write=function(ue,Ae,Y){he.write(ue,Ae)?Y():ce=Y},ee._final=function(ue){he.end(),V=ue},he.on("drain",function(){if(ce){let ue=ce;ce=null,ue()}}),he.on("finish",function(){if(V){let ue=V;V=null,ue()}})),ne&&(g(q,ue=>{ne=!1,ue&&x(q,ue),Z(ue)}),q.on("readable",function(){if(le){let ue=le;le=null,ue()}}),q.on("end",function(){ee.push(null)}),ee._read=function(){for(;;){let ue=q.read();if(ue===null){le=ee._read;return}if(!ee.push(ue))return}}),ee._destroy=function(ue,Ae){!ue&&M!==null&&(ue=new b),le=null,ce=null,V=null,M===null?Ae(ue):(M=Ae,x(he,ue),x(q,ue))},ee}}),kt=Se((f,h)=>{ge(),me(),ye();var{ObjectDefineProperties:s,ObjectGetOwnPropertyDescriptor:a,ObjectKeys:c,ObjectSetPrototypeOf:n}=Ze();h.exports=e;var r=Xr(),t=ho();n(e.prototype,r.prototype),n(e,r);{let p=c(t.prototype);for(let g=0;g<p.length;g++){let b=p[g];e.prototype[b]||(e.prototype[b]=t.prototype[b])}}function e(p){if(!(this instanceof e))return new e(p);r.call(this,p),t.call(this,p),p?(this.allowHalfOpen=p.allowHalfOpen!==!1,p.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),p.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}s(e.prototype,{writable:{__proto__:null,...a(t.prototype,"writable")},writableHighWaterMark:{__proto__:null,...a(t.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...a(t.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...a(t.prototype,"writableBuffer")},writableLength:{__proto__:null,...a(t.prototype,"writableLength")},writableFinished:{__proto__:null,...a(t.prototype,"writableFinished")},writableCorked:{__proto__:null,...a(t.prototype,"writableCorked")},writableEnded:{__proto__:null,...a(t.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...a(t.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(p){this._readableState&&this._writableState&&(this._readableState.destroyed=p,this._writableState.destroyed=p)}}});var i;function l(){return i===void 0&&(i={}),i}e.fromWeb=function(p,g){return l().newStreamDuplexFromReadableWritablePair(p,g)},e.toWeb=function(p){return l().newReadableWritablePairFromDuplex(p)};var d;e.from=function(p){return d||(d=Yl()),d(p,"body")}}),na=Se((f,h)=>{ge(),me(),ye();var{ObjectSetPrototypeOf:s,Symbol:a}=Ze();h.exports=e;var{ERR_METHOD_NOT_IMPLEMENTED:c}=pt().codes,n=kt(),{getHighWaterMark:r}=Jr();s(e.prototype,n.prototype),s(e,n);var t=a("kCallback");function e(d){if(!(this instanceof e))return new e(d);let p=d?r(this,d,"readableHighWaterMark",!0):null;p===0&&(d={...d,highWaterMark:null,readableHighWaterMark:p,writableHighWaterMark:d.writableHighWaterMark||0}),n.call(this,d),this._readableState.sync=!1,this[t]=null,d&&(typeof d.transform=="function"&&(this._transform=d.transform),typeof d.flush=="function"&&(this._flush=d.flush)),this.on("prefinish",l)}function i(d){typeof this._flush=="function"&&!this.destroyed?this._flush((p,g)=>{if(p){d?d(p):this.destroy(p);return}g!=null&&this.push(g),this.push(null),d&&d()}):(this.push(null),d&&d())}function l(){this._final!==i&&i.call(this)}e.prototype._final=i,e.prototype._transform=function(d,p,g){throw new c("_transform()")},e.prototype._write=function(d,p,g){let b=this._readableState,E=this._writableState,S=b.length;this._transform(d,p,(x,y)=>{if(x){g(x);return}y!=null&&this.push(y),E.ended||S===b.length||b.length<b.highWaterMark?g():this[t]=g})},e.prototype._read=function(){if(this[t]){let d=this[t];this[t]=null,d()}}}),ia=Se((f,h)=>{ge(),me(),ye();var{ObjectSetPrototypeOf:s}=Ze();h.exports=c;var a=na();s(c.prototype,a.prototype),s(c,a);function c(n){if(!(this instanceof c))return new c(n);a.call(this,n)}c.prototype._transform=function(n,r,t){t(null,n)}}),fo=Se((f,h)=>{ge(),me(),ye();var s=er(),{ArrayIsArray:a,Promise:c,SymbolAsyncIterator:n,SymbolDispose:r}=Ze(),t=Vt(),{once:e}=gt(),i=sr(),l=kt(),{aggregateTwoErrors:d,codes:{ERR_INVALID_ARG_TYPE:p,ERR_INVALID_RETURN_VALUE:g,ERR_MISSING_ARGS:b,ERR_STREAM_DESTROYED:E,ERR_STREAM_PREMATURE_CLOSE:S},AbortError:x}=pt(),{validateFunction:y,validateAbortSignal:v}=yr(),{isIterable:A,isReadable:_,isReadableNodeStream:C,isNodeStream:w,isTransformStream:I,isWebStream:k,isReadableStream:j,isReadableFinished:U}=Ct(),P=globalThis.AbortController||gr().AbortController,z,G,q;function he(ue,Ae,Y){let W=!1;ue.on("close",()=>{W=!0});let oe=t(ue,{readable:Ae,writable:Y},X=>{W=!X});return{destroy:X=>{W||(W=!0,i.destroyer(ue,X||new E("pipe")))},cleanup:oe}}function ne(ue){return y(ue[ue.length-1],"streams[stream.length - 1]"),ue.pop()}function te(ue){if(A(ue))return ue;if(C(ue))return ce(ue);throw new p("val",["Readable","Iterable","AsyncIterable"],ue)}async function*ce(ue){G||(G=Xr()),yield*G.prototype[n].call(ue)}async function V(ue,Ae,Y,{end:W}){let oe,X=null,J=pe=>{if(pe&&(oe=pe),X){let L=X;X=null,L()}},re=()=>new c((pe,L)=>{oe?L(oe):X=()=>{oe?L(oe):pe()}});Ae.on("drain",J);let we=t(Ae,{readable:!1},J);try{Ae.writableNeedDrain&&await re();for await(let pe of ue)Ae.write(pe)||await re();W&&(Ae.end(),await re()),Y()}catch(pe){Y(oe!==pe?d(oe,pe):pe)}finally{we(),Ae.off("drain",J)}}async function le(ue,Ae,Y,{end:W}){I(Ae)&&(Ae=Ae.writable);let oe=Ae.getWriter();try{for await(let X of ue)await oe.ready,oe.write(X).catch(()=>{});await oe.ready,W&&await oe.close(),Y()}catch(X){try{await oe.abort(X),Y(X)}catch(J){Y(J)}}}function M(...ue){return ee(ue,e(ne(ue)))}function ee(ue,Ae,Y){if(ue.length===1&&a(ue[0])&&(ue=ue[0]),ue.length<2)throw new b("streams");let W=new P,oe=W.signal,X=Y?.signal,J=[];v(X,"options.signal");function re(){ve(new x)}q=q||gt().addAbortListener;let we;X&&(we=q(X,re));let pe,L,H=[],se=0;function be(Oe){ve(Oe,--se===0)}function ve(Oe,fe){var Be;if(Oe&&(!pe||pe.code==="ERR_STREAM_PREMATURE_CLOSE")&&(pe=Oe),!(!pe&&!fe)){for(;H.length;)H.shift()(pe);(Be=we)===null||Be===void 0||Be[r](),W.abort(),fe&&(pe||J.forEach(o=>o()),s.nextTick(Ae,pe,L))}}let Ee;for(let Oe=0;Oe<ue.length;Oe++){let fe=ue[Oe],Be=Oe<ue.length-1,o=Oe>0,u=Be||Y?.end!==!1,m=Oe===ue.length-1;if(w(fe)){let T=function(N){N&&N.name!=="AbortError"&&N.code!=="ERR_STREAM_PREMATURE_CLOSE"&&be(N)};if(u){let{destroy:N,cleanup:K}=he(fe,Be,o);H.push(N),_(fe)&&m&&J.push(K)}fe.on("error",T),_(fe)&&m&&J.push(()=>{fe.removeListener("error",T)})}if(Oe===0)if(typeof fe=="function"){if(Ee=fe({signal:oe}),!A(Ee))throw new g("Iterable, AsyncIterable or Stream","source",Ee)}else A(fe)||C(fe)||I(fe)?Ee=fe:Ee=l.from(fe);else if(typeof fe=="function"){if(I(Ee)){var Q;Ee=te((Q=Ee)===null||Q===void 0?void 0:Q.readable)}else Ee=te(Ee);if(Ee=fe(Ee,{signal:oe}),Be){if(!A(Ee,!0))throw new g("AsyncIterable",`transform[${Oe-1}]`,Ee)}else{var _e;z||(z=ia());let T=new z({objectMode:!0}),N=(_e=Ee)===null||_e===void 0?void 0:_e.then;if(typeof N=="function")se++,N.call(Ee,$=>{L=$,$!=null&&T.write($),u&&T.end(),s.nextTick(be)},$=>{T.destroy($),s.nextTick(be,$)});else if(A(Ee,!0))se++,V(Ee,T,be,{end:u});else if(j(Ee)||I(Ee)){let $=Ee.readable||Ee;se++,V($,T,be,{end:u})}else throw new g("AsyncIterable or Promise","destination",Ee);Ee=T;let{destroy:K,cleanup:de}=he(Ee,!1,!0);H.push(K),m&&J.push(de)}}else if(w(fe)){if(C(Ee)){se+=2;let T=Z(Ee,fe,be,{end:u});_(fe)&&m&&J.push(T)}else if(I(Ee)||j(Ee)){let T=Ee.readable||Ee;se++,V(T,fe,be,{end:u})}else if(A(Ee))se++,V(Ee,fe,be,{end:u});else throw new p("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],Ee);Ee=fe}else if(k(fe)){if(C(Ee))se++,le(te(Ee),fe,be,{end:u});else if(j(Ee)||A(Ee))se++,le(Ee,fe,be,{end:u});else if(I(Ee))se++,le(Ee.readable,fe,be,{end:u});else throw new p("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],Ee);Ee=fe}else Ee=l.from(fe)}return(oe!=null&&oe.aborted||X!=null&&X.aborted)&&s.nextTick(re),Ee}function Z(ue,Ae,Y,{end:W}){let oe=!1;if(Ae.on("close",()=>{oe||Y(new S)}),ue.pipe(Ae,{end:!1}),W){let X=function(){oe=!0,Ae.end()};U(ue)?s.nextTick(X):ue.once("end",X)}else Y();return t(ue,{readable:!0,writable:!1},X=>{let J=ue._readableState;X&&X.code==="ERR_STREAM_PREMATURE_CLOSE"&&J&&J.ended&&!J.errored&&!J.errorEmitted?ue.once("end",Y).once("error",Y):Y(X)}),t(Ae,{readable:!1,writable:!0},Y)}h.exports={pipelineImpl:ee,pipeline:M}}),oa=Se((f,h)=>{ge(),me(),ye();var{pipeline:s}=fo(),a=kt(),{destroyer:c}=sr(),{isNodeStream:n,isReadable:r,isWritable:t,isWebStream:e,isTransformStream:i,isWritableStream:l,isReadableStream:d}=Ct(),{AbortError:p,codes:{ERR_INVALID_ARG_VALUE:g,ERR_MISSING_ARGS:b}}=pt(),E=Vt();h.exports=function(...S){if(S.length===0)throw new b("streams");if(S.length===1)return a.from(S[0]);let x=[...S];if(typeof S[0]=="function"&&(S[0]=a.from(S[0])),typeof S[S.length-1]=="function"){let P=S.length-1;S[P]=a.from(S[P])}for(let P=0;P<S.length;++P)if(!(!n(S[P])&&!e(S[P]))){if(P<S.length-1&&!(r(S[P])||d(S[P])||i(S[P])))throw new g(`streams[${P}]`,x[P],"must be readable");if(P>0&&!(t(S[P])||l(S[P])||i(S[P])))throw new g(`streams[${P}]`,x[P],"must be writable")}let y,v,A,_,C;function w(P){let z=_;_=null,z?z(P):P?C.destroy(P):!U&&!j&&C.destroy()}let I=S[0],k=s(S,w),j=!!(t(I)||l(I)||i(I)),U=!!(r(k)||d(k)||i(k));if(C=new a({writableObjectMode:!!(I!=null&&I.writableObjectMode),readableObjectMode:!!(k!=null&&k.readableObjectMode),writable:j,readable:U}),j){if(n(I))C._write=function(z,G,q){I.write(z,G)?q():y=q},C._final=function(z){I.end(),v=z},I.on("drain",function(){if(y){let z=y;y=null,z()}});else if(e(I)){let z=(i(I)?I.writable:I).getWriter();C._write=async function(G,q,he){try{await z.ready,z.write(G).catch(()=>{}),he()}catch(ne){he(ne)}},C._final=async function(G){try{await z.ready,z.close().catch(()=>{}),v=G}catch(q){G(q)}}}let P=i(k)?k.readable:k;E(P,()=>{if(v){let z=v;v=null,z()}})}if(U){if(n(k))k.on("readable",function(){if(A){let P=A;A=null,P()}}),k.on("end",function(){C.push(null)}),C._read=function(){for(;;){let P=k.read();if(P===null){A=C._read;return}if(!C.push(P))return}};else if(e(k)){let P=(i(k)?k.readable:k).getReader();C._read=async function(){for(;;)try{let{value:z,done:G}=await P.read();if(!C.push(z))return;if(G){C.push(null);return}}catch{return}}}}return C._destroy=function(P,z){!P&&_!==null&&(P=new p),A=null,y=null,v=null,_===null?z(P):(_=z,n(k)&&c(k,P))},C}}),Jl=Se((f,h)=>{ge(),me(),ye();var s=globalThis.AbortController||gr().AbortController,{codes:{ERR_INVALID_ARG_VALUE:a,ERR_INVALID_ARG_TYPE:c,ERR_MISSING_ARGS:n,ERR_OUT_OF_RANGE:r},AbortError:t}=pt(),{validateAbortSignal:e,validateInteger:i,validateObject:l}=yr(),d=Ze().Symbol("kWeak"),p=Ze().Symbol("kResistStopPropagation"),{finished:g}=Vt(),b=oa(),{addAbortSignalNoValidate:E}=Yr(),{isWritable:S,isNodeStream:x}=Ct(),{deprecate:y}=gt(),{ArrayPrototypePush:v,Boolean:A,MathFloor:_,Number:C,NumberIsNaN:w,Promise:I,PromiseReject:k,PromiseResolve:j,PromisePrototypeThen:U,Symbol:P}=Ze(),z=P("kEmpty"),G=P("kEof");function q(X,J){if(J!=null&&l(J,"options"),J?.signal!=null&&e(J.signal,"options.signal"),x(X)&&!S(X))throw new a("stream",X,"must be writable");let re=b(this,X);return J!=null&&J.signal&&E(J.signal,re),re}function he(X,J){if(typeof X!="function")throw new c("fn",["Function","AsyncFunction"],X);J!=null&&l(J,"options"),J?.signal!=null&&e(J.signal,"options.signal");let re=1;J?.concurrency!=null&&(re=_(J.concurrency));let we=re-1;return J?.highWaterMark!=null&&(we=_(J.highWaterMark)),i(re,"options.concurrency",1),i(we,"options.highWaterMark",0),we+=re,(async function*(){let pe=gt().AbortSignalAny([J?.signal].filter(A)),L=this,H=[],se={signal:pe},be,ve,Ee=!1,Q=0;function _e(){Ee=!0,Oe()}function Oe(){Q-=1,fe()}function fe(){ve&&!Ee&&Q<re&&H.length<we&&(ve(),ve=null)}async function Be(){try{for await(let o of L){if(Ee)return;if(pe.aborted)throw new t;try{if(o=X(o,se),o===z)continue;o=j(o)}catch(u){o=k(u)}Q+=1,U(o,Oe,_e),H.push(o),be&&(be(),be=null),!Ee&&(H.length>=we||Q>=re)&&await new I(u=>{ve=u})}H.push(G)}catch(o){let u=k(o);U(u,Oe,_e),H.push(u)}finally{Ee=!0,be&&(be(),be=null)}}Be();try{for(;;){for(;H.length>0;){let o=await H[0];if(o===G)return;if(pe.aborted)throw new t;o!==z&&(yield o),H.shift(),fe()}await new I(o=>{be=o})}}finally{Ee=!0,ve&&(ve(),ve=null)}}).call(this)}function ne(X=void 0){return X!=null&&l(X,"options"),X?.signal!=null&&e(X.signal,"options.signal"),(async function*(){let J=0;for await(let we of this){var re;if(X!=null&&(re=X.signal)!==null&&re!==void 0&&re.aborted)throw new t({cause:X.signal.reason});yield[J++,we]}}).call(this)}async function te(X,J=void 0){for await(let re of M.call(this,X,J))return!0;return!1}async function ce(X,J=void 0){if(typeof X!="function")throw new c("fn",["Function","AsyncFunction"],X);return!await te.call(this,async(...re)=>!await X(...re),J)}async function V(X,J){for await(let re of M.call(this,X,J))return re}async function le(X,J){if(typeof X!="function")throw new c("fn",["Function","AsyncFunction"],X);async function re(we,pe){return await X(we,pe),z}for await(let we of he.call(this,re,J));}function M(X,J){if(typeof X!="function")throw new c("fn",["Function","AsyncFunction"],X);async function re(we,pe){return await X(we,pe)?we:z}return he.call(this,re,J)}var ee=class extends n{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};async function Z(X,J,re){var we;if(typeof X!="function")throw new c("reducer",["Function","AsyncFunction"],X);re!=null&&l(re,"options"),re?.signal!=null&&e(re.signal,"options.signal");let pe=arguments.length>1;if(re!=null&&(we=re.signal)!==null&&we!==void 0&&we.aborted){let ve=new t(void 0,{cause:re.signal.reason});throw this.once("error",()=>{}),await g(this.destroy(ve)),ve}let L=new s,H=L.signal;if(re!=null&&re.signal){let ve={once:!0,[d]:this,[p]:!0};re.signal.addEventListener("abort",()=>L.abort(),ve)}let se=!1;try{for await(let ve of this){var be;if(se=!0,re!=null&&(be=re.signal)!==null&&be!==void 0&&be.aborted)throw new t;pe?J=await X(J,ve,{signal:H}):(J=ve,pe=!0)}if(!se&&!pe)throw new ee}finally{L.abort()}return J}async function ue(X){X!=null&&l(X,"options"),X?.signal!=null&&e(X.signal,"options.signal");let J=[];for await(let we of this){var re;if(X!=null&&(re=X.signal)!==null&&re!==void 0&&re.aborted)throw new t(void 0,{cause:X.signal.reason});v(J,we)}return J}function Ae(X,J){let re=he.call(this,X,J);return(async function*(){for await(let we of re)yield*we}).call(this)}function Y(X){if(X=C(X),w(X))return 0;if(X<0)throw new r("number",">= 0",X);return X}function W(X,J=void 0){return J!=null&&l(J,"options"),J?.signal!=null&&e(J.signal,"options.signal"),X=Y(X),(async function*(){var re;if(J!=null&&(re=J.signal)!==null&&re!==void 0&&re.aborted)throw new t;for await(let pe of this){var we;if(J!=null&&(we=J.signal)!==null&&we!==void 0&&we.aborted)throw new t;X--<=0&&(yield pe)}}).call(this)}function oe(X,J=void 0){return J!=null&&l(J,"options"),J?.signal!=null&&e(J.signal,"options.signal"),X=Y(X),(async function*(){var re;if(J!=null&&(re=J.signal)!==null&&re!==void 0&&re.aborted)throw new t;for await(let pe of this){var we;if(J!=null&&(we=J.signal)!==null&&we!==void 0&&we.aborted)throw new t;if(X-- >0&&(yield pe),X<=0)return}}).call(this)}h.exports.streamReturningOperators={asIndexedPairs:y(ne,"readable.asIndexedPairs will be removed in a future version."),drop:W,filter:M,flatMap:Ae,map:he,take:oe,compose:q},h.exports.promiseReturningOperators={every:ce,forEach:le,reduce:Z,toArray:ue,some:te,find:V}}),sa=Se((f,h)=>{ge(),me(),ye();var{ArrayPrototypePop:s,Promise:a}=Ze(),{isIterable:c,isNodeStream:n,isWebStream:r}=Ct(),{pipelineImpl:t}=fo(),{finished:e}=Vt();aa();function i(...l){return new a((d,p)=>{let g,b,E=l[l.length-1];if(E&&typeof E=="object"&&!n(E)&&!c(E)&&!r(E)){let S=s(l);g=S.signal,b=S.end}t(l,(S,x)=>{S?p(S):d(x)},{signal:g,end:b})})}h.exports={finished:e,pipeline:i}}),aa=Se((f,h)=>{ge(),me(),ye();var{Buffer:s}=(st(),Ke(ot)),{ObjectDefineProperty:a,ObjectKeys:c,ReflectApply:n}=Ze(),{promisify:{custom:r}}=gt(),{streamReturningOperators:t,promiseReturningOperators:e}=Jl(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:i}}=pt(),l=oa(),{setDefaultHighWaterMark:d,getDefaultHighWaterMark:p}=Jr(),{pipeline:g}=fo(),{destroyer:b}=sr(),E=Vt(),S=sa(),x=Ct(),y=h.exports=co().Stream;y.isDestroyed=x.isDestroyed,y.isDisturbed=x.isDisturbed,y.isErrored=x.isErrored,y.isReadable=x.isReadable,y.isWritable=x.isWritable,y.Readable=Xr();for(let A of c(t)){let _=function(...w){if(new.target)throw i();return y.Readable.from(n(C,this,w))},C=t[A];a(_,"name",{__proto__:null,value:C.name}),a(_,"length",{__proto__:null,value:C.length}),a(y.Readable.prototype,A,{__proto__:null,value:_,enumerable:!1,configurable:!0,writable:!0})}for(let A of c(e)){let _=function(...w){if(new.target)throw i();return n(C,this,w)},C=e[A];a(_,"name",{__proto__:null,value:C.name}),a(_,"length",{__proto__:null,value:C.length}),a(y.Readable.prototype,A,{__proto__:null,value:_,enumerable:!1,configurable:!0,writable:!0})}y.Writable=ho(),y.Duplex=kt(),y.Transform=na(),y.PassThrough=ia(),y.pipeline=g;var{addAbortSignal:v}=Yr();y.addAbortSignal=v,y.finished=E,y.destroy=b,y.compose=l,y.setDefaultHighWaterMark=d,y.getDefaultHighWaterMark=p,a(y,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return S}}),a(g,r,{__proto__:null,enumerable:!0,get(){return S.pipeline}}),a(E,r,{__proto__:null,enumerable:!0,get(){return S.finished}}),y.Stream=y,y._isUint8Array=function(A){return A instanceof Uint8Array},y._uint8ArrayToBuffer=function(A){return s.from(A.buffer,A.byteOffset,A.byteLength)}}),tr=Se((f,h)=>{ge(),me(),ye();var s=aa(),a=sa(),c=s.Readable.destroy;h.exports=s.Readable,h.exports._uint8ArrayToBuffer=s._uint8ArrayToBuffer,h.exports._isUint8Array=s._isUint8Array,h.exports.isDisturbed=s.isDisturbed,h.exports.isErrored=s.isErrored,h.exports.isReadable=s.isReadable,h.exports.Readable=s.Readable,h.exports.Writable=s.Writable,h.exports.Duplex=s.Duplex,h.exports.Transform=s.Transform,h.exports.PassThrough=s.PassThrough,h.exports.addAbortSignal=s.addAbortSignal,h.exports.finished=s.finished,h.exports.destroy=s.destroy,h.exports.destroy=c,h.exports.pipeline=s.pipeline,h.exports.compose=s.compose,Object.defineProperty(s,"promises",{configurable:!0,enumerable:!0,get(){return a}}),h.exports.Stream=s.Stream,h.exports.default=h.exports}),Xl=Se((f,h)=>{ge(),me(),ye(),typeof Object.create=="function"?h.exports=function(s,a){a&&(s.super_=a,s.prototype=Object.create(a.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}))}:h.exports=function(s,a){if(a){s.super_=a;var c=function(){};c.prototype=a.prototype,s.prototype=new c,s.prototype.constructor=s}}}),Zl=Se((f,h)=>{ge(),me(),ye();var{Buffer:s}=(st(),Ke(ot)),a=Symbol.for("BufferList");function c(n){if(!(this instanceof c))return new c(n);c._init.call(this,n)}c._init=function(n){Object.defineProperty(this,a,{value:!0}),this._bufs=[],this.length=0,n&&this.append(n)},c.prototype._new=function(n){return new c(n)},c.prototype._offset=function(n){if(n===0)return[0,0];let r=0;for(let t=0;t<this._bufs.length;t++){let e=r+this._bufs[t].length;if(n<e||t===this._bufs.length-1)return[t,n-r];r=e}},c.prototype._reverseOffset=function(n){let r=n[0],t=n[1];for(let e=0;e<r;e++)t+=this._bufs[e].length;return t},c.prototype.getBuffers=function(){return this._bufs},c.prototype.get=function(n){if(n>this.length||n<0)return;let r=this._offset(n);return this._bufs[r[0]][r[1]]},c.prototype.slice=function(n,r){return typeof n=="number"&&n<0&&(n+=this.length),typeof r=="number"&&r<0&&(r+=this.length),this.copy(null,0,n,r)},c.prototype.copy=function(n,r,t,e){if((typeof t!="number"||t<0)&&(t=0),(typeof e!="number"||e>this.length)&&(e=this.length),t>=this.length||e<=0)return n||s.alloc(0);let i=!!n,l=this._offset(t),d=e-t,p=d,g=i&&r||0,b=l[1];if(t===0&&e===this.length){if(!i)return this._bufs.length===1?this._bufs[0]:s.concat(this._bufs,this.length);for(let E=0;E<this._bufs.length;E++)this._bufs[E].copy(n,g),g+=this._bufs[E].length;return n}if(p<=this._bufs[l[0]].length-b)return i?this._bufs[l[0]].copy(n,r,b,b+p):this._bufs[l[0]].slice(b,b+p);i||(n=s.allocUnsafe(d));for(let E=l[0];E<this._bufs.length;E++){let S=this._bufs[E].length-b;if(p>S)this._bufs[E].copy(n,g,b),g+=S;else{this._bufs[E].copy(n,g,b,b+p),g+=S;break}p-=S,b&&(b=0)}return n.length>g?n.slice(0,g):n},c.prototype.shallowSlice=function(n,r){if(n=n||0,r=typeof r!="number"?this.length:r,n<0&&(n+=this.length),r<0&&(r+=this.length),n===r)return this._new();let t=this._offset(n),e=this._offset(r),i=this._bufs.slice(t[0],e[0]+1);return e[1]===0?i.pop():i[i.length-1]=i[i.length-1].slice(0,e[1]),t[1]!==0&&(i[0]=i[0].slice(t[1])),this._new(i)},c.prototype.toString=function(n,r,t){return this.slice(r,t).toString(n)},c.prototype.consume=function(n){if(n=Math.trunc(n),Number.isNaN(n)||n<=0)return this;for(;this._bufs.length;)if(n>=this._bufs[0].length)n-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift();else{this._bufs[0]=this._bufs[0].slice(n),this.length-=n;break}return this},c.prototype.duplicate=function(){let n=this._new();for(let r=0;r<this._bufs.length;r++)n.append(this._bufs[r]);return n},c.prototype.append=function(n){return this._attach(n,c.prototype._appendBuffer)},c.prototype.prepend=function(n){return this._attach(n,c.prototype._prependBuffer,!0)},c.prototype._attach=function(n,r,t){if(n==null)return this;if(n.buffer)r.call(this,s.from(n.buffer,n.byteOffset,n.byteLength));else if(Array.isArray(n)){let[e,i]=t?[n.length-1,-1]:[0,1];for(let l=e;l>=0&&l<n.length;l+=i)this._attach(n[l],r,t)}else if(this._isBufferList(n)){let[e,i]=t?[n._bufs.length-1,-1]:[0,1];for(let l=e;l>=0&&l<n._bufs.length;l+=i)this._attach(n._bufs[l],r,t)}else typeof n=="number"&&(n=n.toString()),r.call(this,s.from(n));return this},c.prototype._appendBuffer=function(n){this._bufs.push(n),this.length+=n.length},c.prototype._prependBuffer=function(n){this._bufs.unshift(n),this.length+=n.length},c.prototype.indexOf=function(n,r,t){if(t===void 0&&typeof r=="string"&&(t=r,r=void 0),typeof n=="function"||Array.isArray(n))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if(typeof n=="number"?n=s.from([n]):typeof n=="string"?n=s.from(n,t):this._isBufferList(n)?n=n.slice():Array.isArray(n.buffer)?n=s.from(n.buffer,n.byteOffset,n.byteLength):s.isBuffer(n)||(n=s.from(n)),r=Number(r||0),isNaN(r)&&(r=0),r<0&&(r=this.length+r),r<0&&(r=0),n.length===0)return r>this.length?this.length:r;let e=this._offset(r),i=e[0],l=e[1];for(;i<this._bufs.length;i++){let d=this._bufs[i];for(;l<d.length;)if(d.length-l>=n.length){let p=d.indexOf(n,l);if(p!==-1)return this._reverseOffset([i,p]);l=d.length-n.length+1}else{let p=this._reverseOffset([i,l]);if(this._match(p,n))return p;l++}l=0}return-1},c.prototype._match=function(n,r){if(this.length-n<r.length)return!1;for(let t=0;t<r.length;t++)if(this.get(n+t)!==r[t])return!1;return!0},(function(){let n={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readBigInt64BE:8,readBigInt64LE:8,readBigUInt64BE:8,readBigUInt64LE:8,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(let r in n)(function(t){n[t]===null?c.prototype[t]=function(e,i){return this.slice(e,e+i)[t](0,i)}:c.prototype[t]=function(e=0){return this.slice(e,e+n[t])[t](0)}})(r)})(),c.prototype._isBufferList=function(n){return n instanceof c||c.isBufferList(n)},c.isBufferList=function(n){return n!=null&&n[a]},h.exports=c}),eu=Se((f,h)=>{ge(),me(),ye();var s=tr().Duplex,a=Xl(),c=Zl();function n(r){if(!(this instanceof n))return new n(r);if(typeof r=="function"){this._callback=r;let t=(function(e){this._callback&&(this._callback(e),this._callback=null)}).bind(this);this.on("pipe",function(e){e.on("error",t)}),this.on("unpipe",function(e){e.removeListener("error",t)}),r=null}c._init.call(this,r),s.call(this)}a(n,s),Object.assign(n.prototype,c.prototype),n.prototype._new=function(r){return new n(r)},n.prototype._write=function(r,t,e){this._appendBuffer(r),typeof e=="function"&&e()},n.prototype._read=function(r){if(!this.length)return this.push(null);r=Math.min(r,this.length),this.push(this.slice(0,r)),this.consume(r)},n.prototype.end=function(r){s.prototype.end.call(this,r),this._callback&&(this._callback(null,this.slice()),this._callback=null)},n.prototype._destroy=function(r,t){this._bufs.length=0,this.length=0,t(r)},n.prototype._isBufferList=function(r){return r instanceof n||r instanceof c||n.isBufferList(r)},n.isBufferList=c.isBufferList,h.exports=n,h.exports.BufferListStream=n,h.exports.BufferList=c}),tu=Se((f,h)=>{ge(),me(),ye();var s=class{constructor(){this.cmd=null,this.retain=!1,this.qos=0,this.dup=!1,this.length=-1,this.topic=null,this.payload=null}};h.exports=s}),la=Se((f,h)=>{ge(),me(),ye();var s=h.exports,{Buffer:a}=(st(),Ke(ot));s.types={0:"reserved",1:"connect",2:"connack",3:"publish",4:"puback",5:"pubrec",6:"pubrel",7:"pubcomp",8:"subscribe",9:"suback",10:"unsubscribe",11:"unsuback",12:"pingreq",13:"pingresp",14:"disconnect",15:"auth"},s.requiredHeaderFlags={1:0,2:0,4:0,5:0,6:2,7:0,8:2,9:0,10:2,11:0,12:0,13:0,14:0,15:0},s.requiredHeaderFlagsErrors={};for(let n in s.requiredHeaderFlags){let r=s.requiredHeaderFlags[n];s.requiredHeaderFlagsErrors[n]="Invalid header flag bits, must be 0x"+r.toString(16)+" for "+s.types[n]+" packet"}s.codes={};for(let n in s.types){let r=s.types[n];s.codes[r]=n}s.CMD_SHIFT=4,s.CMD_MASK=240,s.DUP_MASK=8,s.QOS_MASK=3,s.QOS_SHIFT=1,s.RETAIN_MASK=1,s.VARBYTEINT_MASK=127,s.VARBYTEINT_FIN_MASK=128,s.VARBYTEINT_MAX=268435455,s.SESSIONPRESENT_MASK=1,s.SESSIONPRESENT_HEADER=a.from([s.SESSIONPRESENT_MASK]),s.CONNACK_HEADER=a.from([s.codes.connack<<s.CMD_SHIFT]),s.USERNAME_MASK=128,s.PASSWORD_MASK=64,s.WILL_RETAIN_MASK=32,s.WILL_QOS_MASK=24,s.WILL_QOS_SHIFT=3,s.WILL_FLAG_MASK=4,s.CLEAN_SESSION_MASK=2,s.CONNECT_HEADER=a.from([s.codes.connect<<s.CMD_SHIFT]),s.properties={sessionExpiryInterval:17,willDelayInterval:24,receiveMaximum:33,maximumPacketSize:39,topicAliasMaximum:34,requestResponseInformation:25,requestProblemInformation:23,userProperties:38,authenticationMethod:21,authenticationData:22,payloadFormatIndicator:1,messageExpiryInterval:2,contentType:3,responseTopic:8,correlationData:9,maximumQoS:36,retainAvailable:37,assignedClientIdentifier:18,reasonString:31,wildcardSubscriptionAvailable:40,subscriptionIdentifiersAvailable:41,sharedSubscriptionAvailable:42,serverKeepAlive:19,responseInformation:26,serverReference:28,topicAlias:35,subscriptionIdentifier:11},s.propertiesCodes={};for(let n in s.properties){let r=s.properties[n];s.propertiesCodes[r]=n}s.propertiesTypes={sessionExpiryInterval:"int32",willDelayInterval:"int32",receiveMaximum:"int16",maximumPacketSize:"int32",topicAliasMaximum:"int16",requestResponseInformation:"byte",requestProblemInformation:"byte",userProperties:"pair",authenticationMethod:"string",authenticationData:"binary",payloadFormatIndicator:"byte",messageExpiryInterval:"int32",contentType:"string",responseTopic:"string",correlationData:"binary",maximumQoS:"int8",retainAvailable:"byte",assignedClientIdentifier:"string",reasonString:"string",wildcardSubscriptionAvailable:"byte",subscriptionIdentifiersAvailable:"byte",sharedSubscriptionAvailable:"byte",serverKeepAlive:"int16",responseInformation:"string",serverReference:"string",topicAlias:"int16",subscriptionIdentifier:"var"};function c(n){return[0,1,2].map(r=>[0,1].map(t=>[0,1].map(e=>{let i=a.alloc(1);return i.writeUInt8(s.codes[n]<<s.CMD_SHIFT|(t?s.DUP_MASK:0)|r<<s.QOS_SHIFT|e,0,!0),i})))}s.PUBLISH_HEADER=c("publish"),s.SUBSCRIBE_HEADER=c("subscribe"),s.SUBSCRIBE_OPTIONS_QOS_MASK=3,s.SUBSCRIBE_OPTIONS_NL_MASK=1,s.SUBSCRIBE_OPTIONS_NL_SHIFT=2,s.SUBSCRIBE_OPTIONS_RAP_MASK=1,s.SUBSCRIBE_OPTIONS_RAP_SHIFT=3,s.SUBSCRIBE_OPTIONS_RH_MASK=3,s.SUBSCRIBE_OPTIONS_RH_SHIFT=4,s.SUBSCRIBE_OPTIONS_RH=[0,16,32],s.SUBSCRIBE_OPTIONS_NL=4,s.SUBSCRIBE_OPTIONS_RAP=8,s.SUBSCRIBE_OPTIONS_QOS=[0,1,2],s.UNSUBSCRIBE_HEADER=c("unsubscribe"),s.ACKS={unsuback:c("unsuback"),puback:c("puback"),pubcomp:c("pubcomp"),pubrel:c("pubrel"),pubrec:c("pubrec")},s.SUBACK_HEADER=a.from([s.codes.suback<<s.CMD_SHIFT]),s.VERSION3=a.from([3]),s.VERSION4=a.from([4]),s.VERSION5=a.from([5]),s.VERSION131=a.from([131]),s.VERSION132=a.from([132]),s.QOS=[0,1,2].map(n=>a.from([n])),s.EMPTY={pingreq:a.from([s.codes.pingreq<<4,0]),pingresp:a.from([s.codes.pingresp<<4,0]),disconnect:a.from([s.codes.disconnect<<4,0])},s.MQTT5_PUBACK_PUBREC_CODES={0:"Success",16:"No matching subscribers",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",144:"Topic Name invalid",145:"Packet identifier in use",151:"Quota exceeded",153:"Payload format invalid"},s.MQTT5_PUBREL_PUBCOMP_CODES={0:"Success",146:"Packet Identifier not found"},s.MQTT5_SUBACK_CODES={0:"Granted QoS 0",1:"Granted QoS 1",2:"Granted QoS 2",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",143:"Topic Filter invalid",145:"Packet Identifier in use",151:"Quota exceeded",158:"Shared Subscriptions not supported",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"},s.MQTT5_UNSUBACK_CODES={0:"Success",17:"No subscription existed",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",143:"Topic Filter invalid",145:"Packet Identifier in use"},s.MQTT5_DISCONNECT_CODES={0:"Normal disconnection",4:"Disconnect with Will Message",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",135:"Not authorized",137:"Server busy",139:"Server shutting down",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"},s.MQTT5_AUTH_CODES={0:"Success",24:"Continue authentication",25:"Re-authenticate"}}),ru=Se((f,h)=>{ge(),me(),ye();var s=1e3,a=s*60,c=a*60,n=c*24,r=n*7,t=n*365.25;h.exports=function(p,g){g=g||{};var b=typeof p;if(b==="string"&&p.length>0)return e(p);if(b==="number"&&isFinite(p))return g.long?l(p):i(p);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(p))};function e(p){if(p=String(p),!(p.length>100)){var g=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(p);if(g){var b=parseFloat(g[1]),E=(g[2]||"ms").toLowerCase();switch(E){case"years":case"year":case"yrs":case"yr":case"y":return b*t;case"weeks":case"week":case"w":return b*r;case"days":case"day":case"d":return b*n;case"hours":case"hour":case"hrs":case"hr":case"h":return b*c;case"minutes":case"minute":case"mins":case"min":case"m":return b*a;case"seconds":case"second":case"secs":case"sec":case"s":return b*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return b;default:return}}}}function i(p){var g=Math.abs(p);return g>=n?Math.round(p/n)+"d":g>=c?Math.round(p/c)+"h":g>=a?Math.round(p/a)+"m":g>=s?Math.round(p/s)+"s":p+"ms"}function l(p){var g=Math.abs(p);return g>=n?d(p,g,n,"day"):g>=c?d(p,g,c,"hour"):g>=a?d(p,g,a,"minute"):g>=s?d(p,g,s,"second"):p+" ms"}function d(p,g,b,E){var S=g>=b*1.5;return Math.round(p/b)+" "+E+(S?"s":"")}}),nu=Se((f,h)=>{ge(),me(),ye();function s(a){n.debug=n,n.default=n,n.coerce=d,n.disable=i,n.enable=t,n.enabled=l,n.humanize=ru(),n.destroy=p,Object.keys(a).forEach(g=>{n[g]=a[g]}),n.names=[],n.skips=[],n.formatters={};function c(g){let b=0;for(let E=0;E<g.length;E++)b=(b<<5)-b+g.charCodeAt(E),b|=0;return n.colors[Math.abs(b)%n.colors.length]}n.selectColor=c;function n(g){let b,E=null,S,x;function y(...v){if(!y.enabled)return;let A=y,_=Number(new Date),C=_-(b||_);A.diff=C,A.prev=b,A.curr=_,b=_,v[0]=n.coerce(v[0]),typeof v[0]!="string"&&v.unshift("%O");let w=0;v[0]=v[0].replace(/%([a-zA-Z%])/g,(I,k)=>{if(I==="%%")return"%";w++;let j=n.formatters[k];if(typeof j=="function"){let U=v[w];I=j.call(A,U),v.splice(w,1),w--}return I}),n.formatArgs.call(A,v),(A.log||n.log).apply(A,v)}return y.namespace=g,y.useColors=n.useColors(),y.color=n.selectColor(g),y.extend=r,y.destroy=n.destroy,Object.defineProperty(y,"enabled",{enumerable:!0,configurable:!1,get:()=>E!==null?E:(S!==n.namespaces&&(S=n.namespaces,x=n.enabled(g)),x),set:v=>{E=v}}),typeof n.init=="function"&&n.init(y),y}function r(g,b){let E=n(this.namespace+(typeof b>"u"?":":b)+g);return E.log=this.log,E}function t(g){n.save(g),n.namespaces=g,n.names=[],n.skips=[];let b=(typeof g=="string"?g:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(let E of b)E[0]==="-"?n.skips.push(E.slice(1)):n.names.push(E)}function e(g,b){let E=0,S=0,x=-1,y=0;for(;E<g.length;)if(S<b.length&&(b[S]===g[E]||b[S]==="*"))b[S]==="*"?(x=S,y=E,S++):(E++,S++);else if(x!==-1)S=x+1,y++,E=y;else return!1;for(;S<b.length&&b[S]==="*";)S++;return S===b.length}function i(){let g=[...n.names,...n.skips.map(b=>"-"+b)].join(",");return n.enable(""),g}function l(g){for(let b of n.skips)if(e(g,b))return!1;for(let b of n.names)if(e(g,b))return!0;return!1}function d(g){return g instanceof Error?g.stack||g.message:g}function p(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}h.exports=s}),Tt=Se((f,h)=>{ge(),me(),ye(),f.formatArgs=a,f.save=c,f.load=n,f.useColors=s,f.storage=r(),f.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),f.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function s(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let e;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(e=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(e[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function a(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+h.exports.humanize(this.diff),!this.useColors)return;let i="color: "+this.color;e.splice(1,0,i,"color: inherit");let l=0,d=0;e[0].replace(/%[a-zA-Z%]/g,p=>{p!=="%%"&&(l++,p==="%c"&&(d=l))}),e.splice(d,0,i)}f.log=console.debug||console.log||(()=>{});function c(e){try{e?f.storage.setItem("debug",e):f.storage.removeItem("debug")}catch{}}function n(){let e;try{e=f.storage.getItem("debug")||f.storage.getItem("DEBUG")}catch{}return!e&&typeof Ge<"u"&&"env"in Ge&&(e=Ge.env.DEBUG),e}function r(){try{return localStorage}catch{}}h.exports=nu()(f);var{formatters:t}=h.exports;t.j=function(e){try{return JSON.stringify(e)}catch(i){return"[UnexpectedJSONParseError]: "+i.message}}}),iu=Se((f,h)=>{ge(),me(),ye();var s=eu(),{EventEmitter:a}=(Zt(),Ke(qt)),c=tu(),n=la(),r=Tt()("mqtt-packet:parser"),t=class gi extends a{constructor(){super(),this.parser=this.constructor.parser}static parser(i){return this instanceof gi?(this.settings=i||{},this._states=["_parseHeader","_parseLength","_parsePayload","_newPacket"],this._resetState(),this):new gi().parser(i)}_resetState(){r("_resetState: resetting packet, error, _list, and _stateCounter"),this.packet=new c,this.error=null,this._list=s(),this._stateCounter=0}parse(i){for(this.error&&this._resetState(),this._list.append(i),r("parse: current state: %s",this._states[this._stateCounter]);(this.packet.length!==-1||this._list.length>0)&&this[this._states[this._stateCounter]]()&&!this.error;)this._stateCounter++,r("parse: state complete. _stateCounter is now: %d",this._stateCounter),r("parse: packet.length: %d, buffer list length: %d",this.packet.length,this._list.length),this._stateCounter>=this._states.length&&(this._stateCounter=0);return r("parse: exited while loop. packet: %d, buffer list length: %d",this.packet.length,this._list.length),this._list.length}_parseHeader(){let i=this._list.readUInt8(0),l=i>>n.CMD_SHIFT;this.packet.cmd=n.types[l];let d=i&15,p=n.requiredHeaderFlags[l];return p!=null&&d!==p?this._emitError(new Error(n.requiredHeaderFlagsErrors[l])):(this.packet.retain=(i&n.RETAIN_MASK)!==0,this.packet.qos=i>>n.QOS_SHIFT&n.QOS_MASK,this.packet.qos>2?this._emitError(new Error("Packet must not have both QoS bits set to 1")):(this.packet.dup=(i&n.DUP_MASK)!==0,r("_parseHeader: packet: %o",this.packet),this._list.consume(1),!0))}_parseLength(){let i=this._parseVarByteNum(!0);return i&&(this.packet.length=i.value,this._list.consume(i.bytes)),r("_parseLength %d",i.value),!!i}_parsePayload(){r("_parsePayload: payload %O",this._list);let i=!1;if(this.packet.length===0||this._list.length>=this.packet.length){switch(this._pos=0,this.packet.cmd){case"connect":this._parseConnect();break;case"connack":this._parseConnack();break;case"publish":this._parsePublish();break;case"puback":case"pubrec":case"pubrel":case"pubcomp":this._parseConfirmation();break;case"subscribe":this._parseSubscribe();break;case"suback":this._parseSuback();break;case"unsubscribe":this._parseUnsubscribe();break;case"unsuback":this._parseUnsuback();break;case"pingreq":case"pingresp":break;case"disconnect":this._parseDisconnect();break;case"auth":this._parseAuth();break;default:this._emitError(new Error("Not supported"))}i=!0}return r("_parsePayload complete result: %s",i),i}_parseConnect(){r("_parseConnect");let i,l,d,p,g={},b=this.packet,E=this._parseString();if(E===null)return this._emitError(new Error("Cannot parse protocolId"));if(E!=="MQTT"&&E!=="MQIsdp")return this._emitError(new Error("Invalid protocolId"));if(b.protocolId=E,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(b.protocolVersion=this._list.readUInt8(this._pos),b.protocolVersion>=128&&(b.bridgeMode=!0,b.protocolVersion=b.protocolVersion-128),b.protocolVersion!==3&&b.protocolVersion!==4&&b.protocolVersion!==5)return this._emitError(new Error("Invalid protocol version"));if(this._pos++,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(this._list.readUInt8(this._pos)&1)return this._emitError(new Error("Connect flag bit 0 must be 0, but got 1"));g.username=this._list.readUInt8(this._pos)&n.USERNAME_MASK,g.password=this._list.readUInt8(this._pos)&n.PASSWORD_MASK,g.will=this._list.readUInt8(this._pos)&n.WILL_FLAG_MASK;let S=!!(this._list.readUInt8(this._pos)&n.WILL_RETAIN_MASK),x=(this._list.readUInt8(this._pos)&n.WILL_QOS_MASK)>>n.WILL_QOS_SHIFT;if(g.will)b.will={},b.will.retain=S,b.will.qos=x;else{if(S)return this._emitError(new Error("Will Retain Flag must be set to zero when Will Flag is set to 0"));if(x)return this._emitError(new Error("Will QoS must be set to zero when Will Flag is set to 0"))}if(b.clean=(this._list.readUInt8(this._pos)&n.CLEAN_SESSION_MASK)!==0,this._pos++,b.keepalive=this._parseNum(),b.keepalive===-1)return this._emitError(new Error("Packet too short"));if(b.protocolVersion===5){let v=this._parseProperties();Object.getOwnPropertyNames(v).length&&(b.properties=v)}let y=this._parseString();if(y===null)return this._emitError(new Error("Packet too short"));if(b.clientId=y,r("_parseConnect: packet.clientId: %s",b.clientId),g.will){if(b.protocolVersion===5){let v=this._parseProperties();Object.getOwnPropertyNames(v).length&&(b.will.properties=v)}if(i=this._parseString(),i===null)return this._emitError(new Error("Cannot parse will topic"));if(b.will.topic=i,r("_parseConnect: packet.will.topic: %s",b.will.topic),l=this._parseBuffer(),l===null)return this._emitError(new Error("Cannot parse will payload"));b.will.payload=l,r("_parseConnect: packet.will.paylaod: %s",b.will.payload)}if(g.username){if(p=this._parseString(),p===null)return this._emitError(new Error("Cannot parse username"));b.username=p,r("_parseConnect: packet.username: %s",b.username)}if(g.password){if(d=this._parseBuffer(),d===null)return this._emitError(new Error("Cannot parse password"));b.password=d}return this.settings=b,r("_parseConnect: complete"),b}_parseConnack(){r("_parseConnack");let i=this.packet;if(this._list.length<1)return null;let l=this._list.readUInt8(this._pos++);if(l>1)return this._emitError(new Error("Invalid connack flags, bits 7-1 must be set to 0"));if(i.sessionPresent=!!(l&n.SESSIONPRESENT_MASK),this.settings.protocolVersion===5)this._list.length>=2?i.reasonCode=this._list.readUInt8(this._pos++):i.reasonCode=0;else{if(this._list.length<2)return null;i.returnCode=this._list.readUInt8(this._pos++)}if(i.returnCode===-1||i.reasonCode===-1)return this._emitError(new Error("Cannot parse return code"));if(this.settings.protocolVersion===5){let d=this._parseProperties();Object.getOwnPropertyNames(d).length&&(i.properties=d)}r("_parseConnack: complete")}_parsePublish(){r("_parsePublish");let i=this.packet;if(i.topic=this._parseString(),i.topic===null)return this._emitError(new Error("Cannot parse topic"));if(!(i.qos>0&&!this._parseMessageId())){if(this.settings.protocolVersion===5){let l=this._parseProperties();Object.getOwnPropertyNames(l).length&&(i.properties=l)}i.payload=this._list.slice(this._pos,i.length),r("_parsePublish: payload from buffer list: %o",i.payload)}}_parseSubscribe(){r("_parseSubscribe");let i=this.packet,l,d,p,g,b,E,S;if(i.subscriptions=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let x=this._parseProperties();Object.getOwnPropertyNames(x).length&&(i.properties=x)}if(i.length<=0)return this._emitError(new Error("Malformed subscribe, no payload specified"));for(;this._pos<i.length;){if(l=this._parseString(),l===null)return this._emitError(new Error("Cannot parse topic"));if(this._pos>=i.length)return this._emitError(new Error("Malformed Subscribe Payload"));if(d=this._parseByte(),this.settings.protocolVersion===5){if(d&192)return this._emitError(new Error("Invalid subscribe topic flag bits, bits 7-6 must be 0"))}else if(d&252)return this._emitError(new Error("Invalid subscribe topic flag bits, bits 7-2 must be 0"));if(p=d&n.SUBSCRIBE_OPTIONS_QOS_MASK,p>2)return this._emitError(new Error("Invalid subscribe QoS, must be <= 2"));if(E=(d>>n.SUBSCRIBE_OPTIONS_NL_SHIFT&n.SUBSCRIBE_OPTIONS_NL_MASK)!==0,b=(d>>n.SUBSCRIBE_OPTIONS_RAP_SHIFT&n.SUBSCRIBE_OPTIONS_RAP_MASK)!==0,g=d>>n.SUBSCRIBE_OPTIONS_RH_SHIFT&n.SUBSCRIBE_OPTIONS_RH_MASK,g>2)return this._emitError(new Error("Invalid retain handling, must be <= 2"));S={topic:l,qos:p},this.settings.protocolVersion===5?(S.nl=E,S.rap=b,S.rh=g):this.settings.bridgeMode&&(S.rh=0,S.rap=!0,S.nl=!0),r("_parseSubscribe: push subscription `%s` to subscription",S),i.subscriptions.push(S)}}}_parseSuback(){r("_parseSuback");let i=this.packet;if(this.packet.granted=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let l=this._parseProperties();Object.getOwnPropertyNames(l).length&&(i.properties=l)}if(i.length<=0)return this._emitError(new Error("Malformed suback, no payload specified"));for(;this._pos<this.packet.length;){let l=this._list.readUInt8(this._pos++);if(this.settings.protocolVersion===5){if(!n.MQTT5_SUBACK_CODES[l])return this._emitError(new Error("Invalid suback code"))}else if(l>2&&l!==128)return this._emitError(new Error("Invalid suback QoS, must be 0, 1, 2 or 128"));this.packet.granted.push(l)}}}_parseUnsubscribe(){r("_parseUnsubscribe");let i=this.packet;if(i.unsubscriptions=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let l=this._parseProperties();Object.getOwnPropertyNames(l).length&&(i.properties=l)}if(i.length<=0)return this._emitError(new Error("Malformed unsubscribe, no payload specified"));for(;this._pos<i.length;){let l=this._parseString();if(l===null)return this._emitError(new Error("Cannot parse topic"));r("_parseUnsubscribe: push topic `%s` to unsubscriptions",l),i.unsubscriptions.push(l)}}}_parseUnsuback(){r("_parseUnsuback");let i=this.packet;if(!this._parseMessageId())return this._emitError(new Error("Cannot parse messageId"));if((this.settings.protocolVersion===3||this.settings.protocolVersion===4)&&i.length!==2)return this._emitError(new Error("Malformed unsuback, payload length must be 2"));if(i.length<=0)return this._emitError(new Error("Malformed unsuback, no payload specified"));if(this.settings.protocolVersion===5){let l=this._parseProperties();for(Object.getOwnPropertyNames(l).length&&(i.properties=l),i.granted=[];this._pos<this.packet.length;){let d=this._list.readUInt8(this._pos++);if(!n.MQTT5_UNSUBACK_CODES[d])return this._emitError(new Error("Invalid unsuback code"));this.packet.granted.push(d)}}}_parseConfirmation(){r("_parseConfirmation: packet.cmd: `%s`",this.packet.cmd);let i=this.packet;if(this._parseMessageId(),this.settings.protocolVersion===5){if(i.length>2){switch(i.reasonCode=this._parseByte(),this.packet.cmd){case"puback":case"pubrec":if(!n.MQTT5_PUBACK_PUBREC_CODES[i.reasonCode])return this._emitError(new Error("Invalid "+this.packet.cmd+" reason code"));break;case"pubrel":case"pubcomp":if(!n.MQTT5_PUBREL_PUBCOMP_CODES[i.reasonCode])return this._emitError(new Error("Invalid "+this.packet.cmd+" reason code"));break}r("_parseConfirmation: packet.reasonCode `%d`",i.reasonCode)}else i.reasonCode=0;if(i.length>3){let l=this._parseProperties();Object.getOwnPropertyNames(l).length&&(i.properties=l)}}return!0}_parseDisconnect(){let i=this.packet;if(r("_parseDisconnect"),this.settings.protocolVersion===5){this._list.length>0?(i.reasonCode=this._parseByte(),n.MQTT5_DISCONNECT_CODES[i.reasonCode]||this._emitError(new Error("Invalid disconnect reason code"))):i.reasonCode=0;let l=this._parseProperties();Object.getOwnPropertyNames(l).length&&(i.properties=l)}return r("_parseDisconnect result: true"),!0}_parseAuth(){r("_parseAuth");let i=this.packet;if(this.settings.protocolVersion!==5)return this._emitError(new Error("Not supported auth packet for this version MQTT"));if(i.reasonCode=this._parseByte(),!n.MQTT5_AUTH_CODES[i.reasonCode])return this._emitError(new Error("Invalid auth reason code"));let l=this._parseProperties();return Object.getOwnPropertyNames(l).length&&(i.properties=l),r("_parseAuth: result: true"),!0}_parseMessageId(){let i=this.packet;return i.messageId=this._parseNum(),i.messageId===null?(this._emitError(new Error("Cannot parse messageId")),!1):(r("_parseMessageId: packet.messageId %d",i.messageId),!0)}_parseString(i){let l=this._parseNum(),d=l+this._pos;if(l===-1||d>this._list.length||d>this.packet.length)return null;let p=this._list.toString("utf8",this._pos,d);return this._pos+=l,r("_parseString: result: %s",p),p}_parseStringPair(){return r("_parseStringPair"),{name:this._parseString(),value:this._parseString()}}_parseBuffer(){let i=this._parseNum(),l=i+this._pos;if(i===-1||l>this._list.length||l>this.packet.length)return null;let d=this._list.slice(this._pos,l);return this._pos+=i,r("_parseBuffer: result: %o",d),d}_parseNum(){if(this._list.length-this._pos<2)return-1;let i=this._list.readUInt16BE(this._pos);return this._pos+=2,r("_parseNum: result: %s",i),i}_parse4ByteNum(){if(this._list.length-this._pos<4)return-1;let i=this._list.readUInt32BE(this._pos);return this._pos+=4,r("_parse4ByteNum: result: %s",i),i}_parseVarByteNum(i){r("_parseVarByteNum");let l=4,d=0,p=1,g=0,b=!1,E,S=this._pos?this._pos:0;for(;d<l&&S+d<this._list.length;){if(E=this._list.readUInt8(S+d++),g+=p*(E&n.VARBYTEINT_MASK),p*=128,(E&n.VARBYTEINT_FIN_MASK)===0){b=!0;break}if(this._list.length<=d)break}return!b&&d===l&&this._list.length>=d&&this._emitError(new Error("Invalid variable byte integer")),S&&(this._pos+=d),b?i?b={bytes:d,value:g}:b=g:b=!1,r("_parseVarByteNum: result: %o",b),b}_parseByte(){let i;return this._pos<this._list.length&&(i=this._list.readUInt8(this._pos),this._pos++),r("_parseByte: result: %o",i),i}_parseByType(i){switch(r("_parseByType: type: %s",i),i){case"byte":return this._parseByte()!==0;case"int8":return this._parseByte();case"int16":return this._parseNum();case"int32":return this._parse4ByteNum();case"var":return this._parseVarByteNum();case"string":return this._parseString();case"pair":return this._parseStringPair();case"binary":return this._parseBuffer()}}_parseProperties(){r("_parseProperties");let i=this._parseVarByteNum(),l=this._pos+i,d={};for(;this._pos<l;){let p=this._parseByte();if(!p)return this._emitError(new Error("Cannot parse property code type")),!1;let g=n.propertiesCodes[p];if(!g)return this._emitError(new Error("Unknown property")),!1;if(g==="userProperties"){d[g]||(d[g]=Object.create(null));let b=this._parseByType(n.propertiesTypes[g]);if(d[g][b.name])if(Array.isArray(d[g][b.name]))d[g][b.name].push(b.value);else{let E=d[g][b.name];d[g][b.name]=[E],d[g][b.name].push(b.value)}else d[g][b.name]=b.value;continue}d[g]?Array.isArray(d[g])?d[g].push(this._parseByType(n.propertiesTypes[g])):(d[g]=[d[g]],d[g].push(this._parseByType(n.propertiesTypes[g]))):d[g]=this._parseByType(n.propertiesTypes[g])}return d}_newPacket(){return r("_newPacket"),this.packet&&(this._list.consume(this.packet.length),r("_newPacket: parser emit packet: packet.cmd: %s, packet.payload: %s, packet.length: %d",this.packet.cmd,this.packet.payload,this.packet.length),this.emit("packet",this.packet)),r("_newPacket: new packet"),this.packet=new c,this._pos=0,!0}_emitError(i){r("_emitError",i),this.error=i,this.emit("error",i)}};h.exports=t}),ou=Se((f,h)=>{ge(),me(),ye();var{Buffer:s}=(st(),Ke(ot)),a=65536,c={},n=s.isBuffer(s.from([1,2]).subarray(0,1));function r(l){let d=s.allocUnsafe(2);return d.writeUInt8(l>>8,0),d.writeUInt8(l&255,1),d}function t(){for(let l=0;l<a;l++)c[l]=r(l)}function e(l){let d=0,p=0,g=s.allocUnsafe(4);do d=l%128|0,l=l/128|0,l>0&&(d=d|128),g.writeUInt8(d,p++);while(l>0&&p<4);return l>0&&(p=0),n?g.subarray(0,p):g.slice(0,p)}function i(l){let d=s.allocUnsafe(4);return d.writeUInt32BE(l,0),d}h.exports={cache:c,generateCache:t,generateNumber:r,genBufVariableByteInt:e,generate4ByteBuffer:i}}),su=Se((f,h)=>{ge(),me(),ye(),typeof Ge>"u"||!Ge.version||Ge.version.indexOf("v0.")===0||Ge.version.indexOf("v1.")===0&&Ge.version.indexOf("v1.8.")!==0?h.exports={nextTick:s}:h.exports=Ge;function s(a,c,n,r){if(typeof a!="function")throw new TypeError('"callback" argument must be a function');var t=arguments.length,e,i;switch(t){case 0:case 1:return Ge.nextTick(a);case 2:return Ge.nextTick(function(){a.call(null,c)});case 3:return Ge.nextTick(function(){a.call(null,c,n)});case 4:return Ge.nextTick(function(){a.call(null,c,n,r)});default:for(e=new Array(t-1),i=0;i<e.length;)e[i++]=arguments[i];return Ge.nextTick(function(){a.apply(null,e)})}}}),ua=Se((f,h)=>{ge(),me(),ye();var s=la(),{Buffer:a}=(st(),Ke(ot)),c=a.allocUnsafe(0),n=a.from([0]),r=ou(),t=su().nextTick,e=Tt()("mqtt-packet:writeToStream"),i=r.cache,l=r.generateNumber,d=r.generateCache,p=r.genBufVariableByteInt,g=r.generate4ByteBuffer,b=ne,E=!0;function S(Y,W,oe){switch(e("generate called"),W.cork&&(W.cork(),t(x,W)),E&&(E=!1,d()),e("generate: packet.cmd: %s",Y.cmd),Y.cmd){case"connect":return y(Y,W);case"connack":return v(Y,W,oe);case"publish":return A(Y,W,oe);case"puback":case"pubrec":case"pubrel":case"pubcomp":return _(Y,W,oe);case"subscribe":return C(Y,W,oe);case"suback":return w(Y,W,oe);case"unsubscribe":return I(Y,W,oe);case"unsuback":return k(Y,W,oe);case"pingreq":case"pingresp":return j(Y,W);case"disconnect":return U(Y,W,oe);case"auth":return P(Y,W,oe);default:return W.destroy(new Error("Unknown command")),!1}}Object.defineProperty(S,"cacheNumbers",{get(){return b===ne},set(Y){Y?((!i||Object.keys(i).length===0)&&(E=!0),b=ne):(E=!1,b=te)}});function x(Y){Y.uncork()}function y(Y,W,oe){let X=Y||{},J=X.protocolId||"MQTT",re=X.protocolVersion||4,we=X.will,pe=X.clean,L=X.keepalive||0,H=X.clientId||"",se=X.username,be=X.password,ve=X.properties;pe===void 0&&(pe=!0);let Ee=0;if(typeof J!="string"&&!a.isBuffer(J))return W.destroy(new Error("Invalid protocolId")),!1;if(Ee+=J.length+2,re!==3&&re!==4&&re!==5)return W.destroy(new Error("Invalid protocol version")),!1;if(Ee+=1,(typeof H=="string"||a.isBuffer(H))&&(H||re>=4)&&(H||pe))Ee+=a.byteLength(H)+2;else{if(re<4)return W.destroy(new Error("clientId must be supplied before 3.1.1")),!1;if(pe*1===0)return W.destroy(new Error("clientId must be given if cleanSession set to 0")),!1}if(typeof L!="number"||L<0||L>65535||L%1!==0)return W.destroy(new Error("Invalid keepalive")),!1;Ee+=2,Ee+=1;let Q,_e;if(re===5){if(Q=le(W,ve),!Q)return!1;Ee+=Q.length}if(we){if(typeof we!="object")return W.destroy(new Error("Invalid will")),!1;if(!we.topic||typeof we.topic!="string")return W.destroy(new Error("Invalid will topic")),!1;if(Ee+=a.byteLength(we.topic)+2,Ee+=2,we.payload)if(we.payload.length>=0)typeof we.payload=="string"?Ee+=a.byteLength(we.payload):Ee+=we.payload.length;else return W.destroy(new Error("Invalid will payload")),!1;if(_e={},re===5){if(_e=le(W,we.properties),!_e)return!1;Ee+=_e.length}}let Oe=!1;if(se!=null)if(Ae(se))Oe=!0,Ee+=a.byteLength(se)+2;else return W.destroy(new Error("Invalid username")),!1;if(be!=null){if(!Oe)return W.destroy(new Error("Username is required to use password")),!1;if(Ae(be))Ee+=ue(be)+2;else return W.destroy(new Error("Invalid password")),!1}W.write(s.CONNECT_HEADER),G(W,Ee),V(W,J),X.bridgeMode&&(re+=128),W.write(re===131?s.VERSION131:re===132?s.VERSION132:re===4?s.VERSION4:re===5?s.VERSION5:s.VERSION3);let fe=0;return fe|=se!=null?s.USERNAME_MASK:0,fe|=be!=null?s.PASSWORD_MASK:0,fe|=we&&we.retain?s.WILL_RETAIN_MASK:0,fe|=we&&we.qos?we.qos<<s.WILL_QOS_SHIFT:0,fe|=we?s.WILL_FLAG_MASK:0,fe|=pe?s.CLEAN_SESSION_MASK:0,W.write(a.from([fe])),b(W,L),re===5&&Q.write(),V(W,H),we&&(re===5&&_e.write(),q(W,we.topic),V(W,we.payload)),se!=null&&V(W,se),be!=null&&V(W,be),!0}function v(Y,W,oe){let X=oe?oe.protocolVersion:4,J=Y||{},re=X===5?J.reasonCode:J.returnCode,we=J.properties,pe=2;if(typeof re!="number")return W.destroy(new Error("Invalid return code")),!1;let L=null;if(X===5){if(L=le(W,we),!L)return!1;pe+=L.length}return W.write(s.CONNACK_HEADER),G(W,pe),W.write(J.sessionPresent?s.SESSIONPRESENT_HEADER:n),W.write(a.from([re])),L?.write(),!0}function A(Y,W,oe){e("publish: packet: %o",Y);let X=oe?oe.protocolVersion:4,J=Y||{},re=J.qos||0,we=J.retain?s.RETAIN_MASK:0,pe=J.topic,L=J.payload||c,H=J.messageId,se=J.properties,be=0;if(typeof pe=="string")be+=a.byteLength(pe)+2;else if(a.isBuffer(pe))be+=pe.length+2;else return W.destroy(new Error("Invalid topic")),!1;if(a.isBuffer(L)?be+=L.length:be+=a.byteLength(L),re&&typeof H!="number")return W.destroy(new Error("Invalid messageId")),!1;re&&(be+=2);let ve=null;if(X===5){if(ve=le(W,se),!ve)return!1;be+=ve.length}return W.write(s.PUBLISH_HEADER[re][J.dup?1:0][we?1:0]),G(W,be),b(W,ue(pe)),W.write(pe),re>0&&b(W,H),ve?.write(),e("publish: payload: %o",L),W.write(L)}function _(Y,W,oe){let X=oe?oe.protocolVersion:4,J=Y||{},re=J.cmd||"puback",we=J.messageId,pe=J.dup&&re==="pubrel"?s.DUP_MASK:0,L=0,H=J.reasonCode,se=J.properties,be=X===5?3:2;if(re==="pubrel"&&(L=1),typeof we!="number")return W.destroy(new Error("Invalid messageId")),!1;let ve=null;if(X===5&&typeof se=="object"){if(ve=M(W,se,oe,be),!ve)return!1;be+=ve.length}return W.write(s.ACKS[re][L][pe][0]),be===3&&(be+=H!==0?1:-1),G(W,be),b(W,we),X===5&&be!==2&&W.write(a.from([H])),ve!==null?ve.write():be===4&&W.write(a.from([0])),!0}function C(Y,W,oe){e("subscribe: packet: ");let X=oe?oe.protocolVersion:4,J=Y||{},re=J.dup?s.DUP_MASK:0,we=J.messageId,pe=J.subscriptions,L=J.properties,H=0;if(typeof we!="number")return W.destroy(new Error("Invalid messageId")),!1;H+=2;let se=null;if(X===5){if(se=le(W,L),!se)return!1;H+=se.length}if(typeof pe=="object"&&pe.length)for(let ve=0;ve<pe.length;ve+=1){let Ee=pe[ve].topic,Q=pe[ve].qos;if(typeof Ee!="string")return W.destroy(new Error("Invalid subscriptions - invalid topic")),!1;if(typeof Q!="number")return W.destroy(new Error("Invalid subscriptions - invalid qos")),!1;if(X===5){if(typeof(pe[ve].nl||!1)!="boolean")return W.destroy(new Error("Invalid subscriptions - invalid No Local")),!1;if(typeof(pe[ve].rap||!1)!="boolean")return W.destroy(new Error("Invalid subscriptions - invalid Retain as Published")),!1;let _e=pe[ve].rh||0;if(typeof _e!="number"||_e>2)return W.destroy(new Error("Invalid subscriptions - invalid Retain Handling")),!1}H+=a.byteLength(Ee)+2+1}else return W.destroy(new Error("Invalid subscriptions")),!1;e("subscribe: writing to stream: %o",s.SUBSCRIBE_HEADER),W.write(s.SUBSCRIBE_HEADER[1][re?1:0][0]),G(W,H),b(W,we),se!==null&&se.write();let be=!0;for(let ve of pe){let Ee=ve.topic,Q=ve.qos,_e=+ve.nl,Oe=+ve.rap,fe=ve.rh,Be;q(W,Ee),Be=s.SUBSCRIBE_OPTIONS_QOS[Q],X===5&&(Be|=_e?s.SUBSCRIBE_OPTIONS_NL:0,Be|=Oe?s.SUBSCRIBE_OPTIONS_RAP:0,Be|=fe?s.SUBSCRIBE_OPTIONS_RH[fe]:0),be=W.write(a.from([Be]))}return be}function w(Y,W,oe){let X=oe?oe.protocolVersion:4,J=Y||{},re=J.messageId,we=J.granted,pe=J.properties,L=0;if(typeof re!="number")return W.destroy(new Error("Invalid messageId")),!1;if(L+=2,typeof we=="object"&&we.length)for(let se=0;se<we.length;se+=1){if(typeof we[se]!="number")return W.destroy(new Error("Invalid qos vector")),!1;L+=1}else return W.destroy(new Error("Invalid qos vector")),!1;let H=null;if(X===5){if(H=M(W,pe,oe,L),!H)return!1;L+=H.length}return W.write(s.SUBACK_HEADER),G(W,L),b(W,re),H!==null&&H.write(),W.write(a.from(we))}function I(Y,W,oe){let X=oe?oe.protocolVersion:4,J=Y||{},re=J.messageId,we=J.dup?s.DUP_MASK:0,pe=J.unsubscriptions,L=J.properties,H=0;if(typeof re!="number")return W.destroy(new Error("Invalid messageId")),!1;if(H+=2,typeof pe=="object"&&pe.length)for(let ve=0;ve<pe.length;ve+=1){if(typeof pe[ve]!="string")return W.destroy(new Error("Invalid unsubscriptions")),!1;H+=a.byteLength(pe[ve])+2}else return W.destroy(new Error("Invalid unsubscriptions")),!1;let se=null;if(X===5){if(se=le(W,L),!se)return!1;H+=se.length}W.write(s.UNSUBSCRIBE_HEADER[1][we?1:0][0]),G(W,H),b(W,re),se!==null&&se.write();let be=!0;for(let ve=0;ve<pe.length;ve++)be=q(W,pe[ve]);return be}function k(Y,W,oe){let X=oe?oe.protocolVersion:4,J=Y||{},re=J.messageId,we=J.dup?s.DUP_MASK:0,pe=J.granted,L=J.properties,H=J.cmd,se=0,be=2;if(typeof re!="number")return W.destroy(new Error("Invalid messageId")),!1;if(X===5)if(typeof pe=="object"&&pe.length)for(let Ee=0;Ee<pe.length;Ee+=1){if(typeof pe[Ee]!="number")return W.destroy(new Error("Invalid qos vector")),!1;be+=1}else return W.destroy(new Error("Invalid qos vector")),!1;let ve=null;if(X===5){if(ve=M(W,L,oe,be),!ve)return!1;be+=ve.length}return W.write(s.ACKS[H][se][we][0]),G(W,be),b(W,re),ve!==null&&ve.write(),X===5&&W.write(a.from(pe)),!0}function j(Y,W,oe){return W.write(s.EMPTY[Y.cmd])}function U(Y,W,oe){let X=oe?oe.protocolVersion:4,J=Y||{},re=J.reasonCode,we=J.properties,pe=X===5?1:0,L=null;if(X===5){if(L=M(W,we,oe,pe),!L)return!1;pe+=L.length}return W.write(a.from([s.codes.disconnect<<4])),G(W,pe),X===5&&W.write(a.from([re])),L!==null&&L.write(),!0}function P(Y,W,oe){let X=oe?oe.protocolVersion:4,J=Y||{},re=J.reasonCode,we=J.properties,pe=X===5?1:0;X!==5&&W.destroy(new Error("Invalid mqtt version for auth packet"));let L=M(W,we,oe,pe);return L?(pe+=L.length,W.write(a.from([s.codes.auth<<4])),G(W,pe),W.write(a.from([re])),L!==null&&L.write(),!0):!1}var z={};function G(Y,W){if(W>s.VARBYTEINT_MAX)return Y.destroy(new Error(`Invalid variable byte integer: ${W}`)),!1;let oe=z[W];return oe||(oe=p(W),W<16384&&(z[W]=oe)),e("writeVarByteInt: writing to stream: %o",oe),Y.write(oe)}function q(Y,W){let oe=a.byteLength(W);return b(Y,oe),e("writeString: %s",W),Y.write(W,"utf8")}function he(Y,W,oe){q(Y,W),q(Y,oe)}function ne(Y,W){return e("writeNumberCached: number: %d",W),e("writeNumberCached: %o",i[W]),Y.write(i[W])}function te(Y,W){let oe=l(W);return e("writeNumberGenerated: %o",oe),Y.write(oe)}function ce(Y,W){let oe=g(W);return e("write4ByteNumber: %o",oe),Y.write(oe)}function V(Y,W){typeof W=="string"?q(Y,W):W?(b(Y,W.length),Y.write(W)):b(Y,0)}function le(Y,W){if(typeof W!="object"||W.length!=null)return{length:1,write(){Z(Y,{},0)}};let oe=0;function X(J,re){let we=s.propertiesTypes[J],pe=0;switch(we){case"byte":{if(typeof re!="boolean")return Y.destroy(new Error(`Invalid ${J}: ${re}`)),!1;pe+=2;break}case"int8":{if(typeof re!="number"||re<0||re>255)return Y.destroy(new Error(`Invalid ${J}: ${re}`)),!1;pe+=2;break}case"binary":{if(re&&re===null)return Y.destroy(new Error(`Invalid ${J}: ${re}`)),!1;pe+=1+a.byteLength(re)+2;break}case"int16":{if(typeof re!="number"||re<0||re>65535)return Y.destroy(new Error(`Invalid ${J}: ${re}`)),!1;pe+=3;break}case"int32":{if(typeof re!="number"||re<0||re>4294967295)return Y.destroy(new Error(`Invalid ${J}: ${re}`)),!1;pe+=5;break}case"var":{if(typeof re!="number"||re<0||re>268435455)return Y.destroy(new Error(`Invalid ${J}: ${re}`)),!1;pe+=1+a.byteLength(p(re));break}case"string":{if(typeof re!="string")return Y.destroy(new Error(`Invalid ${J}: ${re}`)),!1;pe+=3+a.byteLength(re.toString());break}case"pair":{if(typeof re!="object")return Y.destroy(new Error(`Invalid ${J}: ${re}`)),!1;pe+=Object.getOwnPropertyNames(re).reduce((L,H)=>{let se=re[H];return Array.isArray(se)?L+=se.reduce((be,ve)=>(be+=3+a.byteLength(H.toString())+2+a.byteLength(ve.toString()),be),0):L+=3+a.byteLength(H.toString())+2+a.byteLength(re[H].toString()),L},0);break}default:return Y.destroy(new Error(`Invalid property ${J}: ${re}`)),!1}return pe}if(W)for(let J in W){let re=0,we=0,pe=W[J];if(pe!==void 0){if(Array.isArray(pe))for(let L=0;L<pe.length;L++){if(we=X(J,pe[L]),!we)return!1;re+=we}else{if(we=X(J,pe),!we)return!1;re=we}if(!re)return!1;oe+=re}}return{length:a.byteLength(p(oe))+oe,write(){Z(Y,W,oe)}}}function M(Y,W,oe,X){let J=["reasonString","userProperties"],re=oe&&oe.properties&&oe.properties.maximumPacketSize?oe.properties.maximumPacketSize:0,we=le(Y,W);if(re)for(;X+we.length>re;){let pe=J.shift();if(pe&&W[pe])delete W[pe],we=le(Y,W);else return!1}return we}function ee(Y,W,oe){switch(s.propertiesTypes[W]){case"byte":{Y.write(a.from([s.properties[W]])),Y.write(a.from([+oe]));break}case"int8":{Y.write(a.from([s.properties[W]])),Y.write(a.from([oe]));break}case"binary":{Y.write(a.from([s.properties[W]])),V(Y,oe);break}case"int16":{Y.write(a.from([s.properties[W]])),b(Y,oe);break}case"int32":{Y.write(a.from([s.properties[W]])),ce(Y,oe);break}case"var":{Y.write(a.from([s.properties[W]])),G(Y,oe);break}case"string":{Y.write(a.from([s.properties[W]])),q(Y,oe);break}case"pair":{Object.getOwnPropertyNames(oe).forEach(X=>{let J=oe[X];Array.isArray(J)?J.forEach(re=>{Y.write(a.from([s.properties[W]])),he(Y,X.toString(),re.toString())}):(Y.write(a.from([s.properties[W]])),he(Y,X.toString(),J.toString()))});break}default:return Y.destroy(new Error(`Invalid property ${W} value: ${oe}`)),!1}}function Z(Y,W,oe){G(Y,oe);for(let X in W)if(Object.prototype.hasOwnProperty.call(W,X)&&W[X]!=null){let J=W[X];if(Array.isArray(J))for(let re=0;re<J.length;re++)ee(Y,X,J[re]);else ee(Y,X,J)}}function ue(Y){return Y?Y instanceof a?Y.length:a.byteLength(Y):0}function Ae(Y){return typeof Y=="string"||Y instanceof a}h.exports=S}),au=Se((f,h)=>{ge(),me(),ye();var s=ua(),{EventEmitter:a}=(Zt(),Ke(qt)),{Buffer:c}=(st(),Ke(ot));function n(t,e){let i=new r;return s(t,i,e),i.concat()}var r=class extends a{constructor(){super(),this._array=new Array(20),this._i=0}write(t){return this._array[this._i++]=t,!0}concat(){let t=0,e=new Array(this._array.length),i=this._array,l=0,d;for(d=0;d<i.length&&i[d]!==void 0;d++)typeof i[d]!="string"?e[d]=i[d].length:e[d]=c.byteLength(i[d]),t+=e[d];let p=c.allocUnsafe(t);for(d=0;d<i.length&&i[d]!==void 0;d++)typeof i[d]!="string"?(i[d].copy(p,l),l+=e[d]):(p.write(i[d],l),l+=e[d]);return p}destroy(t){t&&this.emit("error",t)}};h.exports=n}),lu=Se(f=>{ge(),me(),ye(),f.parser=iu().parser,f.generate=au(),f.writeToStream=ua()}),uu=Se((f,h)=>{ge(),me(),ye(),h.exports=a;function s(n){return n instanceof Gr?Gr.from(n):new n.constructor(n.buffer.slice(),n.byteOffset,n.length)}function a(n){if(n=n||{},n.circles)return c(n);let r=new Map;if(r.set(Date,d=>new Date(d)),r.set(Map,(d,p)=>new Map(e(Array.from(d),p))),r.set(Set,(d,p)=>new Set(e(Array.from(d),p))),n.constructorHandlers)for(let d of n.constructorHandlers)r.set(d[0],d[1]);let t=null;return n.proto?l:i;function e(d,p){let g=Object.keys(d),b=new Array(g.length);for(let E=0;E<g.length;E++){let S=g[E],x=d[S];typeof x!="object"||x===null?b[S]=x:x.constructor!==Object&&(t=r.get(x.constructor))?b[S]=t(x,p):ArrayBuffer.isView(x)?b[S]=s(x):b[S]=p(x)}return b}function i(d){if(typeof d!="object"||d===null)return d;if(Array.isArray(d))return e(d,i);if(d.constructor!==Object&&(t=r.get(d.constructor)))return t(d,i);let p={};for(let g in d){if(Object.hasOwnProperty.call(d,g)===!1)continue;let b=d[g];typeof b!="object"||b===null?p[g]=b:b.constructor!==Object&&(t=r.get(b.constructor))?p[g]=t(b,i):ArrayBuffer.isView(b)?p[g]=s(b):p[g]=i(b)}return p}function l(d){if(typeof d!="object"||d===null)return d;if(Array.isArray(d))return e(d,l);if(d.constructor!==Object&&(t=r.get(d.constructor)))return t(d,l);let p={};for(let g in d){let b=d[g];typeof b!="object"||b===null?p[g]=b:b.constructor!==Object&&(t=r.get(b.constructor))?p[g]=t(b,l):ArrayBuffer.isView(b)?p[g]=s(b):p[g]=l(b)}return p}}function c(n){let r=[],t=[],e=new Map;if(e.set(Date,g=>new Date(g)),e.set(Map,(g,b)=>new Map(l(Array.from(g),b))),e.set(Set,(g,b)=>new Set(l(Array.from(g),b))),n.constructorHandlers)for(let g of n.constructorHandlers)e.set(g[0],g[1]);let i=null;return n.proto?p:d;function l(g,b){let E=Object.keys(g),S=new Array(E.length);for(let x=0;x<E.length;x++){let y=E[x],v=g[y];if(typeof v!="object"||v===null)S[y]=v;else if(v.constructor!==Object&&(i=e.get(v.constructor)))S[y]=i(v,b);else if(ArrayBuffer.isView(v))S[y]=s(v);else{let A=r.indexOf(v);A!==-1?S[y]=t[A]:S[y]=b(v)}}return S}function d(g){if(typeof g!="object"||g===null)return g;if(Array.isArray(g))return l(g,d);if(g.constructor!==Object&&(i=e.get(g.constructor)))return i(g,d);let b={};r.push(g),t.push(b);for(let E in g){if(Object.hasOwnProperty.call(g,E)===!1)continue;let S=g[E];if(typeof S!="object"||S===null)b[E]=S;else if(S.constructor!==Object&&(i=e.get(S.constructor)))b[E]=i(S,d);else if(ArrayBuffer.isView(S))b[E]=s(S);else{let x=r.indexOf(S);x!==-1?b[E]=t[x]:b[E]=d(S)}}return r.pop(),t.pop(),b}function p(g){if(typeof g!="object"||g===null)return g;if(Array.isArray(g))return l(g,p);if(g.constructor!==Object&&(i=e.get(g.constructor)))return i(g,p);let b={};r.push(g),t.push(b);for(let E in g){let S=g[E];if(typeof S!="object"||S===null)b[E]=S;else if(S.constructor!==Object&&(i=e.get(S.constructor)))b[E]=i(S,p);else if(ArrayBuffer.isView(S))b[E]=s(S);else{let x=r.indexOf(S);x!==-1?b[E]=t[x]:b[E]=p(S)}}return r.pop(),t.pop(),b}}}),cu=Se((f,h)=>{ge(),me(),ye(),h.exports=uu()()}),hu=Se(f=>{ge(),me(),ye(),Object.defineProperty(f,"__esModule",{value:!0}),f.validateTopic=h,f.validateTopics=s;function h(a){let c=a.split("/");for(let n=0;n<c.length;n++)if(c[n]!=="+"){if(c[n]==="#")return n===c.length-1;if(c[n].indexOf("+")!==-1||c[n].indexOf("#")!==-1)return!1}return!0}function s(a){if(a.length===0)return"empty_topic_list";for(let c=0;c<a.length;c++)if(!h(a[c]))return a[c];return null}}),ca=Se(f=>{ge(),me(),ye(),Object.defineProperty(f,"__esModule",{value:!0});var h=tr(),s={objectMode:!0},a={clean:!0},c=class{options;_inflights;constructor(n){this.options=n||{},this.options={...a,...n},this._inflights=new Map}put(n,r){return this._inflights.set(n.messageId,n),r&&r(),this}createStream(){let n=new h.Readable(s),r=[],t=!1,e=0;return this._inflights.forEach((i,l)=>{r.push(i)}),n._read=()=>{!t&&e<r.length?n.push(r[e++]):n.push(null)},n.destroy=i=>{if(!t)return t=!0,setTimeout(()=>{n.emit("close")},0),n},n}del(n,r){let t=this._inflights.get(n.messageId);return t?(this._inflights.delete(n.messageId),r(null,t)):r&&r(new Error("missing packet")),this}get(n,r){let t=this._inflights.get(n.messageId);return t?r(null,t):r&&r(new Error("missing packet")),this}close(n){this.options.clean&&(this._inflights=null),n&&n()}};f.default=c}),fu=Se(f=>{ge(),me(),ye(),Object.defineProperty(f,"__esModule",{value:!0});var h=[0,16,128,131,135,144,145,151,153],s=(a,c,n)=>{a.log("handlePublish: packet %o",c),n=typeof n<"u"?n:a.noop;let r=c.topic.toString(),t=c.payload,{qos:e}=c,{messageId:i}=c,{options:l}=a;if(a.options.protocolVersion===5){let d;if(c.properties&&(d=c.properties.topicAlias),typeof d<"u")if(r.length===0)if(d>0&&d<=65535){let p=a.topicAliasRecv.getTopicByAlias(d);if(p)r=p,a.log("handlePublish :: topic complemented by alias. topic: %s - alias: %d",r,d);else{a.log("handlePublish :: unregistered topic alias. alias: %d",d),a.emit("error",new Error("Received unregistered Topic Alias"));return}}else{a.log("handlePublish :: topic alias out of range. alias: %d",d),a.emit("error",new Error("Received Topic Alias is out of range"));return}else if(a.topicAliasRecv.put(r,d))a.log("handlePublish :: registered topic: %s - alias: %d",r,d);else{a.log("handlePublish :: topic alias out of range. alias: %d",d),a.emit("error",new Error("Received Topic Alias is out of range"));return}}switch(a.log("handlePublish: qos %d",e),e){case 2:{l.customHandleAcks(r,t,c,(d,p)=>{if(typeof d=="number"&&(p=d,d=null),d)return a.emit("error",d);if(h.indexOf(p)===-1)return a.emit("error",new Error("Wrong reason code for pubrec"));p?a._sendPacket({cmd:"pubrec",messageId:i,reasonCode:p},n):a.incomingStore.put(c,()=>{a._sendPacket({cmd:"pubrec",messageId:i},n)})});break}case 1:{l.customHandleAcks(r,t,c,(d,p)=>{if(typeof d=="number"&&(p=d,d=null),d)return a.emit("error",d);if(h.indexOf(p)===-1)return a.emit("error",new Error("Wrong reason code for puback"));p||a.emit("message",r,t,c),a.handleMessage(c,g=>{if(g)return n&&n(g);a._sendPacket({cmd:"puback",messageId:i,reasonCode:p},n)})});break}case 0:a.emit("message",r,t,c),a.handleMessage(c,n);break;default:a.log("handlePublish: unknown QoS. Doing nothing.");break}};f.default=s}),pu=Se((f,h)=>{h.exports={version:"5.14.0"}}),ar=Se(f=>{ge(),me(),ye(),Object.defineProperty(f,"__esModule",{value:!0}),f.MQTTJS_VERSION=f.nextTick=f.ErrorWithSubackPacket=f.ErrorWithReasonCode=void 0,f.applyMixin=a;var h=class ha extends Error{code;constructor(n,r){super(n),this.code=r,Object.setPrototypeOf(this,ha.prototype),Object.getPrototypeOf(this).name="ErrorWithReasonCode"}};f.ErrorWithReasonCode=h;var s=class fa extends Error{packet;constructor(n,r){super(n),this.packet=r,Object.setPrototypeOf(this,fa.prototype),Object.getPrototypeOf(this).name="ErrorWithSubackPacket"}};f.ErrorWithSubackPacket=s;function a(c,n,r=!1){let t=[n];for(;;){let e=t[0],i=Object.getPrototypeOf(e);if(i?.prototype)t.unshift(i);else break}for(let e of t)for(let i of Object.getOwnPropertyNames(e.prototype))(r||i!=="constructor")&&Object.defineProperty(c.prototype,i,Object.getOwnPropertyDescriptor(e.prototype,i)??Object.create(null))}f.nextTick=typeof Ge?.nextTick=="function"?Ge.nextTick:c=>{setTimeout(c,0)},f.MQTTJS_VERSION=pu().version}),Zr=Se(f=>{ge(),me(),ye(),Object.defineProperty(f,"__esModule",{value:!0}),f.ReasonCodes=void 0;var h=ar();f.ReasonCodes={0:"",1:"Unacceptable protocol version",2:"Identifier rejected",3:"Server unavailable",4:"Bad username or password",5:"Not authorized",16:"No matching subscribers",17:"No subscription existed",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",132:"Unsupported Protocol Version",133:"Client Identifier not valid",134:"Bad User Name or Password",135:"Not authorized",136:"Server unavailable",137:"Server busy",138:"Banned",139:"Server shutting down",140:"Bad authentication method",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",145:"Packet identifier in use",146:"Packet Identifier not found",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"};var s=(a,c)=>{let{messageId:n}=c,r=c.cmd,t=null,e=a.outgoing[n]?a.outgoing[n].cb:null,i=null;if(!e){a.log("_handleAck :: Server sent an ack in error. Ignoring.");return}switch(a.log("_handleAck :: packet type",r),r){case"pubcomp":case"puback":{let l=c.reasonCode;l&&l>0&&l!==16?(i=new h.ErrorWithReasonCode(`Publish error: ${f.ReasonCodes[l]}`,l),a._removeOutgoingAndStoreMessage(n,()=>{e(i,c)})):a._removeOutgoingAndStoreMessage(n,e);break}case"pubrec":{t={cmd:"pubrel",qos:2,messageId:n};let l=c.reasonCode;l&&l>0&&l!==16?(i=new h.ErrorWithReasonCode(`Publish error: ${f.ReasonCodes[l]}`,l),a._removeOutgoingAndStoreMessage(n,()=>{e(i,c)})):a._sendPacket(t);break}case"suback":{delete a.outgoing[n],a.messageIdProvider.deallocate(n);let l=c.granted;for(let d=0;d<l.length;d++){let p=l[d];if((p&128)!==0){i=new Error(`Subscribe error: ${f.ReasonCodes[p]}`),i.code=p;let g=a.messageIdToTopic[n];g&&g.forEach(b=>{delete a._resubscribeTopics[b]})}}delete a.messageIdToTopic[n],a._invokeStoreProcessingQueue(),e(i,c);break}case"unsuback":{delete a.outgoing[n],a.messageIdProvider.deallocate(n),a._invokeStoreProcessingQueue(),e(null,c);break}default:a.emit("error",new Error("unrecognized packet type"))}a.disconnecting&&Object.keys(a.outgoing).length===0&&a.emit("outgoingEmpty")};f.default=s}),du=Se(f=>{ge(),me(),ye(),Object.defineProperty(f,"__esModule",{value:!0});var h=ar(),s=Zr(),a=(c,n)=>{let{options:r}=c,t=r.protocolVersion,e=t===5?n.reasonCode:n.returnCode;if(t!==5){let i=new h.ErrorWithReasonCode(`Protocol error: Auth packets are only supported in MQTT 5. Your version:${t}`,e);c.emit("error",i);return}c.handleAuth(n,(i,l)=>{if(i){c.emit("error",i);return}if(e===24)c.reconnecting=!1,c._sendPacket(l);else{let d=new h.ErrorWithReasonCode(`Connection refused: ${s.ReasonCodes[e]}`,e);c.emit("error",d)}})};f.default=a}),gu=Se(f=>{var g,b,E,S,x,y,v,A,_,C,w,I,k,j,U,P,z,G,q,he,ne,te,ce,V,le,M,ee,Z,yi,Ae,Y,W,oe,pa,J,re,we,Lt,Dt,mi,Er,Ar,Ye,bi,fr,Ft,vi,fe;ge(),me(),ye(),Object.defineProperty(f,"__esModule",{value:!0}),f.LRUCache=void 0;var h=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,s=new Set,a=typeof Ge=="object"&&Ge?Ge:{},c=(Be,o,u,m)=>{typeof a.emitWarning=="function"?a.emitWarning(Be,o,u,m):console.error(`[${u}] ${o}: ${Be}`)},n=globalThis.AbortController,r=globalThis.AbortSignal;if(typeof n>"u"){r=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(u,m){this._onabort.push(m)}},n=class{constructor(){o()}signal=new r;abort(u){if(!this.signal.aborted){this.signal.reason=u,this.signal.aborted=!0;for(let m of this.signal._onabort)m(u);this.signal.onabort?.(u)}}};let Be=a.env?.LRU_CACHE_IGNORE_AC_WARNING!=="1",o=()=>{Be&&(Be=!1,c("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",o))}}var t=Be=>!s.has(Be),e=Be=>Be&&Be===Math.floor(Be)&&Be>0&&isFinite(Be),i=Be=>e(Be)?Be<=Math.pow(2,8)?Uint8Array:Be<=Math.pow(2,16)?Uint16Array:Be<=Math.pow(2,32)?Uint32Array:Be<=Number.MAX_SAFE_INTEGER?l:null:null,l=class extends Array{constructor(Be){super(Be),this.fill(0)}},d=(g=class{heap;length;static create(o){let u=i(o);if(!u)return[];De(g,b,!0);let m=new g(o,u);return De(g,b,!1),m}constructor(o,u){if(!D(g,b))throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new u(o),this.length=0}push(o){this.heap[this.length++]=o}pop(){return this.heap[--this.length]}},b=new WeakMap,qe(g,b,!1),g),p=(fe=class{constructor(o){qe(this,Z);qe(this,x);qe(this,y);qe(this,v);qe(this,A);qe(this,_);qe(this,C);it(this,"ttl");it(this,"ttlResolution");it(this,"ttlAutopurge");it(this,"updateAgeOnGet");it(this,"updateAgeOnHas");it(this,"allowStale");it(this,"noDisposeOnSet");it(this,"noUpdateTTL");it(this,"maxEntrySize");it(this,"sizeCalculation");it(this,"noDeleteOnFetchRejection");it(this,"noDeleteOnStaleGet");it(this,"allowStaleOnFetchAbort");it(this,"allowStaleOnFetchRejection");it(this,"ignoreFetchAbort");qe(this,w);qe(this,I);qe(this,k);qe(this,j);qe(this,U);qe(this,P);qe(this,z);qe(this,G);qe(this,q);qe(this,he);qe(this,ne);qe(this,te);qe(this,ce);qe(this,V);qe(this,le);qe(this,M);qe(this,ee);qe(this,Ae,()=>{});qe(this,Y,()=>{});qe(this,W,()=>{});qe(this,oe,()=>!1);qe(this,J,o=>{});qe(this,re,(o,u,m)=>{});qe(this,we,(o,u,m,T)=>{if(m||T)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0});it(this,E,"LRUCache");let{max:u=0,ttl:m,ttlResolution:T=1,ttlAutopurge:N,updateAgeOnGet:K,updateAgeOnHas:de,allowStale:$,dispose:ie,disposeAfter:Re,noDisposeOnSet:ke,noUpdateTTL:Le,maxSize:Ue=0,maxEntrySize:Xe=0,sizeCalculation:Fe,fetchMethod:We,memoMethod:je,noDeleteOnFetchRejection:tt,noDeleteOnStaleGet:He,allowStaleOnFetchRejection:$e,allowStaleOnFetchAbort:nt,ignoreFetchAbort:dt}=o;if(u!==0&&!e(u))throw new TypeError("max option must be a nonnegative integer");let lt=u?i(u):Array;if(!lt)throw new Error("invalid max value: "+u);if(De(this,x,u),De(this,y,Ue),this.maxEntrySize=Xe||D(this,y),this.sizeCalculation=Fe,this.sizeCalculation){if(!D(this,y)&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(je!==void 0&&typeof je!="function")throw new TypeError("memoMethod must be a function if defined");if(De(this,C,je),We!==void 0&&typeof We!="function")throw new TypeError("fetchMethod must be a function if specified");if(De(this,_,We),De(this,M,!!We),De(this,k,new Map),De(this,j,new Array(u).fill(void 0)),De(this,U,new Array(u).fill(void 0)),De(this,P,new lt(u)),De(this,z,new lt(u)),De(this,G,0),De(this,q,0),De(this,he,d.create(u)),De(this,w,0),De(this,I,0),typeof ie=="function"&&De(this,v,ie),typeof Re=="function"?(De(this,A,Re),De(this,ne,[])):(De(this,A,void 0),De(this,ne,void 0)),De(this,le,!!D(this,v)),De(this,ee,!!D(this,A)),this.noDisposeOnSet=!!ke,this.noUpdateTTL=!!Le,this.noDeleteOnFetchRejection=!!tt,this.allowStaleOnFetchRejection=!!$e,this.allowStaleOnFetchAbort=!!nt,this.ignoreFetchAbort=!!dt,this.maxEntrySize!==0){if(D(this,y)!==0&&!e(D(this,y)))throw new TypeError("maxSize must be a positive integer if specified");if(!e(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");Ne(this,Z,pa).call(this)}if(this.allowStale=!!$,this.noDeleteOnStaleGet=!!He,this.updateAgeOnGet=!!K,this.updateAgeOnHas=!!de,this.ttlResolution=e(T)||T===0?T:1,this.ttlAutopurge=!!N,this.ttl=m||0,this.ttl){if(!e(this.ttl))throw new TypeError("ttl must be a positive integer if specified");Ne(this,Z,yi).call(this)}if(D(this,x)===0&&this.ttl===0&&D(this,y)===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!D(this,x)&&!D(this,y)){let R="LRU_CACHE_UNBOUNDED";t(R)&&(s.add(R),c("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",R,fe))}}static unsafeExposeInternals(o){return{starts:D(o,ce),ttls:D(o,V),sizes:D(o,te),keyMap:D(o,k),keyList:D(o,j),valList:D(o,U),next:D(o,P),prev:D(o,z),get head(){return D(o,G)},get tail(){return D(o,q)},free:D(o,he),isBackgroundFetch:u=>{var m;return Ne(m=o,Z,Ye).call(m,u)},backgroundFetch:(u,m,T,N)=>{var K;return Ne(K=o,Z,Ar).call(K,u,m,T,N)},moveToTail:u=>{var m;return Ne(m=o,Z,fr).call(m,u)},indexes:u=>{var m;return Ne(m=o,Z,Lt).call(m,u)},rindexes:u=>{var m;return Ne(m=o,Z,Dt).call(m,u)},isStale:u=>{var m;return D(m=o,oe).call(m,u)}}}get max(){return D(this,x)}get maxSize(){return D(this,y)}get calculatedSize(){return D(this,I)}get size(){return D(this,w)}get fetchMethod(){return D(this,_)}get memoMethod(){return D(this,C)}get dispose(){return D(this,v)}get disposeAfter(){return D(this,A)}getRemainingTTL(o){return D(this,k).has(o)?1/0:0}*entries(){for(let o of Ne(this,Z,Lt).call(this))D(this,U)[o]!==void 0&&D(this,j)[o]!==void 0&&!Ne(this,Z,Ye).call(this,D(this,U)[o])&&(yield[D(this,j)[o],D(this,U)[o]])}*rentries(){for(let o of Ne(this,Z,Dt).call(this))D(this,U)[o]!==void 0&&D(this,j)[o]!==void 0&&!Ne(this,Z,Ye).call(this,D(this,U)[o])&&(yield[D(this,j)[o],D(this,U)[o]])}*keys(){for(let o of Ne(this,Z,Lt).call(this)){let u=D(this,j)[o];u!==void 0&&!Ne(this,Z,Ye).call(this,D(this,U)[o])&&(yield u)}}*rkeys(){for(let o of Ne(this,Z,Dt).call(this)){let u=D(this,j)[o];u!==void 0&&!Ne(this,Z,Ye).call(this,D(this,U)[o])&&(yield u)}}*values(){for(let o of Ne(this,Z,Lt).call(this))D(this,U)[o]!==void 0&&!Ne(this,Z,Ye).call(this,D(this,U)[o])&&(yield D(this,U)[o])}*rvalues(){for(let o of Ne(this,Z,Dt).call(this))D(this,U)[o]!==void 0&&!Ne(this,Z,Ye).call(this,D(this,U)[o])&&(yield D(this,U)[o])}[(S=Symbol.iterator,E=Symbol.toStringTag,S)](){return this.entries()}find(o,u={}){for(let m of Ne(this,Z,Lt).call(this)){let T=D(this,U)[m],N=Ne(this,Z,Ye).call(this,T)?T.__staleWhileFetching:T;if(N!==void 0&&o(N,D(this,j)[m],this))return this.get(D(this,j)[m],u)}}forEach(o,u=this){for(let m of Ne(this,Z,Lt).call(this)){let T=D(this,U)[m],N=Ne(this,Z,Ye).call(this,T)?T.__staleWhileFetching:T;N!==void 0&&o.call(u,N,D(this,j)[m],this)}}rforEach(o,u=this){for(let m of Ne(this,Z,Dt).call(this)){let T=D(this,U)[m],N=Ne(this,Z,Ye).call(this,T)?T.__staleWhileFetching:T;N!==void 0&&o.call(u,N,D(this,j)[m],this)}}purgeStale(){let o=!1;for(let u of Ne(this,Z,Dt).call(this,{allowStale:!0}))D(this,oe).call(this,u)&&(Ne(this,Z,Ft).call(this,D(this,j)[u],"expire"),o=!0);return o}info(o){let u=D(this,k).get(o);if(u===void 0)return;let m=D(this,U)[u],T=Ne(this,Z,Ye).call(this,m)?m.__staleWhileFetching:m;if(T===void 0)return;let N={value:T};if(D(this,V)&&D(this,ce)){let K=D(this,V)[u],de=D(this,ce)[u];if(K&&de){let $=K-(h.now()-de);N.ttl=$,N.start=Date.now()}}return D(this,te)&&(N.size=D(this,te)[u]),N}dump(){let o=[];for(let u of Ne(this,Z,Lt).call(this,{allowStale:!0})){let m=D(this,j)[u],T=D(this,U)[u],N=Ne(this,Z,Ye).call(this,T)?T.__staleWhileFetching:T;if(N===void 0||m===void 0)continue;let K={value:N};if(D(this,V)&&D(this,ce)){K.ttl=D(this,V)[u];let de=h.now()-D(this,ce)[u];K.start=Math.floor(Date.now()-de)}D(this,te)&&(K.size=D(this,te)[u]),o.unshift([m,K])}return o}load(o){this.clear();for(let[u,m]of o){if(m.start){let T=Date.now()-m.start;m.start=h.now()-T}this.set(u,m.value,m)}}set(o,u,m={}){var Le,Ue,Xe;if(u===void 0)return this.delete(o),this;let{ttl:T=this.ttl,start:N,noDisposeOnSet:K=this.noDisposeOnSet,sizeCalculation:de=this.sizeCalculation,status:$}=m,{noUpdateTTL:ie=this.noUpdateTTL}=m,Re=D(this,we).call(this,o,u,m.size||0,de);if(this.maxEntrySize&&Re>this.maxEntrySize)return $&&($.set="miss",$.maxEntrySizeExceeded=!0),Ne(this,Z,Ft).call(this,o,"set"),this;let ke=D(this,w)===0?void 0:D(this,k).get(o);if(ke===void 0)ke=D(this,w)===0?D(this,q):D(this,he).length!==0?D(this,he).pop():D(this,w)===D(this,x)?Ne(this,Z,Er).call(this,!1):D(this,w),D(this,j)[ke]=o,D(this,U)[ke]=u,D(this,k).set(o,ke),D(this,P)[D(this,q)]=ke,D(this,z)[ke]=D(this,q),De(this,q,ke),br(this,w)._++,D(this,re).call(this,ke,Re,$),$&&($.set="add"),ie=!1;else{Ne(this,Z,fr).call(this,ke);let Fe=D(this,U)[ke];if(u!==Fe){if(D(this,M)&&Ne(this,Z,Ye).call(this,Fe)){Fe.__abortController.abort(new Error("replaced"));let{__staleWhileFetching:We}=Fe;We!==void 0&&!K&&(D(this,le)&&((Le=D(this,v))==null||Le.call(this,We,o,"set")),D(this,ee)&&D(this,ne)?.push([We,o,"set"]))}else K||(D(this,le)&&((Ue=D(this,v))==null||Ue.call(this,Fe,o,"set")),D(this,ee)&&D(this,ne)?.push([Fe,o,"set"]));if(D(this,J).call(this,ke),D(this,re).call(this,ke,Re,$),D(this,U)[ke]=u,$){$.set="replace";let We=Fe&&Ne(this,Z,Ye).call(this,Fe)?Fe.__staleWhileFetching:Fe;We!==void 0&&($.oldValue=We)}}else $&&($.set="update")}if(T!==0&&!D(this,V)&&Ne(this,Z,yi).call(this),D(this,V)&&(ie||D(this,W).call(this,ke,T,N),$&&D(this,Y).call(this,$,ke)),!K&&D(this,ee)&&D(this,ne)){let Fe=D(this,ne),We;for(;We=Fe?.shift();)(Xe=D(this,A))==null||Xe.call(this,...We)}return this}pop(){var o;try{for(;D(this,w);){let u=D(this,U)[D(this,G)];if(Ne(this,Z,Er).call(this,!0),Ne(this,Z,Ye).call(this,u)){if(u.__staleWhileFetching)return u.__staleWhileFetching}else if(u!==void 0)return u}}finally{if(D(this,ee)&&D(this,ne)){let u=D(this,ne),m;for(;m=u?.shift();)(o=D(this,A))==null||o.call(this,...m)}}}has(o,u={}){let{updateAgeOnHas:m=this.updateAgeOnHas,status:T}=u,N=D(this,k).get(o);if(N!==void 0){let K=D(this,U)[N];if(Ne(this,Z,Ye).call(this,K)&&K.__staleWhileFetching===void 0)return!1;if(D(this,oe).call(this,N))T&&(T.has="stale",D(this,Y).call(this,T,N));else return m&&D(this,Ae).call(this,N),T&&(T.has="hit",D(this,Y).call(this,T,N)),!0}else T&&(T.has="miss");return!1}peek(o,u={}){let{allowStale:m=this.allowStale}=u,T=D(this,k).get(o);if(T===void 0||!m&&D(this,oe).call(this,T))return;let N=D(this,U)[T];return Ne(this,Z,Ye).call(this,N)?N.__staleWhileFetching:N}async fetch(o,u={}){let{allowStale:m=this.allowStale,updateAgeOnGet:T=this.updateAgeOnGet,noDeleteOnStaleGet:N=this.noDeleteOnStaleGet,ttl:K=this.ttl,noDisposeOnSet:de=this.noDisposeOnSet,size:$=0,sizeCalculation:ie=this.sizeCalculation,noUpdateTTL:Re=this.noUpdateTTL,noDeleteOnFetchRejection:ke=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:Le=this.allowStaleOnFetchRejection,ignoreFetchAbort:Ue=this.ignoreFetchAbort,allowStaleOnFetchAbort:Xe=this.allowStaleOnFetchAbort,context:Fe,forceRefresh:We=!1,status:je,signal:tt}=u;if(!D(this,M))return je&&(je.fetch="get"),this.get(o,{allowStale:m,updateAgeOnGet:T,noDeleteOnStaleGet:N,status:je});let He={allowStale:m,updateAgeOnGet:T,noDeleteOnStaleGet:N,ttl:K,noDisposeOnSet:de,size:$,sizeCalculation:ie,noUpdateTTL:Re,noDeleteOnFetchRejection:ke,allowStaleOnFetchRejection:Le,allowStaleOnFetchAbort:Xe,ignoreFetchAbort:Ue,status:je,signal:tt},$e=D(this,k).get(o);if($e===void 0){je&&(je.fetch="miss");let nt=Ne(this,Z,Ar).call(this,o,$e,He,Fe);return nt.__returned=nt}else{let nt=D(this,U)[$e];if(Ne(this,Z,Ye).call(this,nt)){let F=m&&nt.__staleWhileFetching!==void 0;return je&&(je.fetch="inflight",F&&(je.returnedStale=!0)),F?nt.__staleWhileFetching:nt.__returned=nt}let dt=D(this,oe).call(this,$e);if(!We&&!dt)return je&&(je.fetch="hit"),Ne(this,Z,fr).call(this,$e),T&&D(this,Ae).call(this,$e),je&&D(this,Y).call(this,je,$e),nt;let lt=Ne(this,Z,Ar).call(this,o,$e,He,Fe),R=lt.__staleWhileFetching!==void 0&&m;return je&&(je.fetch=dt?"stale":"refresh",R&&dt&&(je.returnedStale=!0)),R?lt.__staleWhileFetching:lt.__returned=lt}}async forceFetch(o,u={}){let m=await this.fetch(o,u);if(m===void 0)throw new Error("fetch() returned undefined");return m}memo(o,u={}){let m=D(this,C);if(!m)throw new Error("no memoMethod provided to constructor");let{context:T,forceRefresh:N,...K}=u,de=this.get(o,K);if(!N&&de!==void 0)return de;let $=m(o,de,{options:K,context:T});return this.set(o,$,K),$}get(o,u={}){let{allowStale:m=this.allowStale,updateAgeOnGet:T=this.updateAgeOnGet,noDeleteOnStaleGet:N=this.noDeleteOnStaleGet,status:K}=u,de=D(this,k).get(o);if(de!==void 0){let $=D(this,U)[de],ie=Ne(this,Z,Ye).call(this,$);return K&&D(this,Y).call(this,K,de),D(this,oe).call(this,de)?(K&&(K.get="stale"),ie?(K&&m&&$.__staleWhileFetching!==void 0&&(K.returnedStale=!0),m?$.__staleWhileFetching:void 0):(N||Ne(this,Z,Ft).call(this,o,"expire"),K&&m&&(K.returnedStale=!0),m?$:void 0)):(K&&(K.get="hit"),ie?$.__staleWhileFetching:(Ne(this,Z,fr).call(this,de),T&&D(this,Ae).call(this,de),$))}else K&&(K.get="miss")}delete(o){return Ne(this,Z,Ft).call(this,o,"delete")}clear(){return Ne(this,Z,vi).call(this,"delete")}},x=new WeakMap,y=new WeakMap,v=new WeakMap,A=new WeakMap,_=new WeakMap,C=new WeakMap,w=new WeakMap,I=new WeakMap,k=new WeakMap,j=new WeakMap,U=new WeakMap,P=new WeakMap,z=new WeakMap,G=new WeakMap,q=new WeakMap,he=new WeakMap,ne=new WeakMap,te=new WeakMap,ce=new WeakMap,V=new WeakMap,le=new WeakMap,M=new WeakMap,ee=new WeakMap,Z=new WeakSet,yi=function(){let o=new l(D(this,x)),u=new l(D(this,x));De(this,V,o),De(this,ce,u),De(this,W,(N,K,de=h.now())=>{if(u[N]=K!==0?de:0,o[N]=K,K!==0&&this.ttlAutopurge){let $=setTimeout(()=>{D(this,oe).call(this,N)&&Ne(this,Z,Ft).call(this,D(this,j)[N],"expire")},K+1);$.unref&&$.unref()}}),De(this,Ae,N=>{u[N]=o[N]!==0?h.now():0}),De(this,Y,(N,K)=>{if(o[K]){let de=o[K],$=u[K];if(!de||!$)return;N.ttl=de,N.start=$,N.now=m||T();let ie=N.now-$;N.remainingTTL=de-ie}});let m=0,T=()=>{let N=h.now();if(this.ttlResolution>0){m=N;let K=setTimeout(()=>m=0,this.ttlResolution);K.unref&&K.unref()}return N};this.getRemainingTTL=N=>{let K=D(this,k).get(N);if(K===void 0)return 0;let de=o[K],$=u[K];if(!de||!$)return 1/0;let ie=(m||T())-$;return de-ie},De(this,oe,N=>{let K=u[N],de=o[N];return!!de&&!!K&&(m||T())-K>de})},Ae=new WeakMap,Y=new WeakMap,W=new WeakMap,oe=new WeakMap,pa=function(){let o=new l(D(this,x));De(this,I,0),De(this,te,o),De(this,J,u=>{De(this,I,D(this,I)-o[u]),o[u]=0}),De(this,we,(u,m,T,N)=>{if(Ne(this,Z,Ye).call(this,m))return 0;if(!e(T))if(N){if(typeof N!="function")throw new TypeError("sizeCalculation must be a function");if(T=N(m,u),!e(T))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return T}),De(this,re,(u,m,T)=>{if(o[u]=m,D(this,y)){let N=D(this,y)-o[u];for(;D(this,I)>N;)Ne(this,Z,Er).call(this,!0)}De(this,I,D(this,I)+o[u]),T&&(T.entrySize=m,T.totalCalculatedSize=D(this,I))})},J=new WeakMap,re=new WeakMap,we=new WeakMap,Lt=function*({allowStale:o=this.allowStale}={}){if(D(this,w))for(let u=D(this,q);!(!Ne(this,Z,mi).call(this,u)||((o||!D(this,oe).call(this,u))&&(yield u),u===D(this,G)));)u=D(this,z)[u]},Dt=function*({allowStale:o=this.allowStale}={}){if(D(this,w))for(let u=D(this,G);!(!Ne(this,Z,mi).call(this,u)||((o||!D(this,oe).call(this,u))&&(yield u),u===D(this,q)));)u=D(this,P)[u]},mi=function(o){return o!==void 0&&D(this,k).get(D(this,j)[o])===o},Er=function(o){var N;let u=D(this,G),m=D(this,j)[u],T=D(this,U)[u];return D(this,M)&&Ne(this,Z,Ye).call(this,T)?T.__abortController.abort(new Error("evicted")):(D(this,le)||D(this,ee))&&(D(this,le)&&((N=D(this,v))==null||N.call(this,T,m,"evict")),D(this,ee)&&D(this,ne)?.push([T,m,"evict"])),D(this,J).call(this,u),o&&(D(this,j)[u]=void 0,D(this,U)[u]=void 0,D(this,he).push(u)),D(this,w)===1?(De(this,G,De(this,q,0)),D(this,he).length=0):De(this,G,D(this,P)[u]),D(this,k).delete(m),br(this,w)._--,u},Ar=function(o,u,m,T){let N=u===void 0?void 0:D(this,U)[u];if(Ne(this,Z,Ye).call(this,N))return N;let K=new n,{signal:de}=m;de?.addEventListener("abort",()=>K.abort(de.reason),{signal:K.signal});let $={signal:K.signal,options:m,context:T},ie=(Fe,We=!1)=>{let{aborted:je}=K.signal,tt=m.ignoreFetchAbort&&Fe!==void 0;if(m.status&&(je&&!We?(m.status.fetchAborted=!0,m.status.fetchError=K.signal.reason,tt&&(m.status.fetchAbortIgnored=!0)):m.status.fetchResolved=!0),je&&!tt&&!We)return ke(K.signal.reason);let He=Ue;return D(this,U)[u]===Ue&&(Fe===void 0?He.__staleWhileFetching?D(this,U)[u]=He.__staleWhileFetching:Ne(this,Z,Ft).call(this,o,"fetch"):(m.status&&(m.status.fetchUpdated=!0),this.set(o,Fe,$.options))),Fe},Re=Fe=>(m.status&&(m.status.fetchRejected=!0,m.status.fetchError=Fe),ke(Fe)),ke=Fe=>{let{aborted:We}=K.signal,je=We&&m.allowStaleOnFetchAbort,tt=je||m.allowStaleOnFetchRejection,He=tt||m.noDeleteOnFetchRejection,$e=Ue;if(D(this,U)[u]===Ue&&(!He||$e.__staleWhileFetching===void 0?Ne(this,Z,Ft).call(this,o,"fetch"):je||(D(this,U)[u]=$e.__staleWhileFetching)),tt)return m.status&&$e.__staleWhileFetching!==void 0&&(m.status.returnedStale=!0),$e.__staleWhileFetching;if($e.__returned===$e)throw Fe},Le=(Fe,We)=>{var tt;let je=(tt=D(this,_))==null?void 0:tt.call(this,o,N,$);je&&je instanceof Promise&&je.then(He=>Fe(He===void 0?void 0:He),We),K.signal.addEventListener("abort",()=>{(!m.ignoreFetchAbort||m.allowStaleOnFetchAbort)&&(Fe(void 0),m.allowStaleOnFetchAbort&&(Fe=He=>ie(He,!0)))})};m.status&&(m.status.fetchDispatched=!0);let Ue=new Promise(Le).then(ie,Re),Xe=Object.assign(Ue,{__abortController:K,__staleWhileFetching:N,__returned:void 0});return u===void 0?(this.set(o,Xe,{...$.options,status:void 0}),u=D(this,k).get(o)):D(this,U)[u]=Xe,Xe},Ye=function(o){if(!D(this,M))return!1;let u=o;return!!u&&u instanceof Promise&&u.hasOwnProperty("__staleWhileFetching")&&u.__abortController instanceof n},bi=function(o,u){D(this,z)[u]=o,D(this,P)[o]=u},fr=function(o){o!==D(this,q)&&(o===D(this,G)?De(this,G,D(this,P)[o]):Ne(this,Z,bi).call(this,D(this,z)[o],D(this,P)[o]),Ne(this,Z,bi).call(this,D(this,q),o),De(this,q,o))},Ft=function(o,u){var T,N;let m=!1;if(D(this,w)!==0){let K=D(this,k).get(o);if(K!==void 0)if(m=!0,D(this,w)===1)Ne(this,Z,vi).call(this,u);else{D(this,J).call(this,K);let de=D(this,U)[K];if(Ne(this,Z,Ye).call(this,de)?de.__abortController.abort(new Error("deleted")):(D(this,le)||D(this,ee))&&(D(this,le)&&((T=D(this,v))==null||T.call(this,de,o,u)),D(this,ee)&&D(this,ne)?.push([de,o,u])),D(this,k).delete(o),D(this,j)[K]=void 0,D(this,U)[K]=void 0,K===D(this,q))De(this,q,D(this,z)[K]);else if(K===D(this,G))De(this,G,D(this,P)[K]);else{let $=D(this,z)[K];D(this,P)[$]=D(this,P)[K];let ie=D(this,P)[K];D(this,z)[ie]=D(this,z)[K]}br(this,w)._--,D(this,he).push(K)}}if(D(this,ee)&&D(this,ne)?.length){let K=D(this,ne),de;for(;de=K?.shift();)(N=D(this,A))==null||N.call(this,...de)}return m},vi=function(o){var u,m;for(let T of Ne(this,Z,Dt).call(this,{allowStale:!0})){let N=D(this,U)[T];if(Ne(this,Z,Ye).call(this,N))N.__abortController.abort(new Error("deleted"));else{let K=D(this,j)[T];D(this,le)&&((u=D(this,v))==null||u.call(this,N,K,o)),D(this,ee)&&D(this,ne)?.push([N,K,o])}}if(D(this,k).clear(),D(this,U).fill(void 0),D(this,j).fill(void 0),D(this,V)&&D(this,ce)&&(D(this,V).fill(0),D(this,ce).fill(0)),D(this,te)&&D(this,te).fill(0),De(this,G,0),De(this,q,0),D(this,he).length=0,De(this,I,0),De(this,w,0),D(this,ee)&&D(this,ne)){let T=D(this,ne),N;for(;N=T?.shift();)(m=D(this,A))==null||m.call(this,...N)}},fe);f.LRUCache=p}),Rt=Se(f=>{ge(),me(),ye(),Object.defineProperty(f,"t",{value:!0}),f.ContainerIterator=f.Container=f.Base=void 0;var h=class{constructor(c=0){this.iteratorType=c}equals(c){return this.o===c.o}};f.ContainerIterator=h;var s=class{constructor(){this.i=0}get length(){return this.i}size(){return this.i}empty(){return this.i===0}};f.Base=s;var a=class extends s{};f.Container=a}),yu=Se(f=>{ge(),me(),ye(),Object.defineProperty(f,"t",{value:!0}),f.default=void 0;var h=Rt(),s=class extends h.Base{constructor(c=[]){super(),this.S=[];let n=this;c.forEach(function(r){n.push(r)})}clear(){this.i=0,this.S=[]}push(c){return this.S.push(c),this.i+=1,this.i}pop(){if(this.i!==0)return this.i-=1,this.S.pop()}top(){return this.S[this.i-1]}},a=s;f.default=a}),mu=Se(f=>{ge(),me(),ye(),Object.defineProperty(f,"t",{value:!0}),f.default=void 0;var h=Rt(),s=class extends h.Base{constructor(c=[]){super(),this.j=0,this.q=[];let n=this;c.forEach(function(r){n.push(r)})}clear(){this.q=[],this.i=this.j=0}push(c){let n=this.q.length;if(this.j/n>.5&&this.j+this.i>=n&&n>4096){let r=this.i;for(let t=0;t<r;++t)this.q[t]=this.q[this.j+t];this.j=0,this.q[this.i]=c}else this.q[this.j+this.i]=c;return++this.i}pop(){if(this.i===0)return;let c=this.q[this.j++];return this.i-=1,c}front(){if(this.i!==0)return this.q[this.j]}},a=s;f.default=a}),bu=Se(f=>{ge(),me(),ye(),Object.defineProperty(f,"t",{value:!0}),f.default=void 0;var h=Rt(),s=class extends h.Base{constructor(c=[],n=function(t,e){return t>e?-1:t<e?1:0},r=!0){if(super(),this.v=n,Array.isArray(c))this.C=r?[...c]:c;else{this.C=[];let e=this;c.forEach(function(i){e.C.push(i)})}this.i=this.C.length;let t=this.i>>1;for(let e=this.i-1>>1;e>=0;--e)this.k(e,t)}m(c){let n=this.C[c];for(;c>0;){let r=c-1>>1,t=this.C[r];if(this.v(t,n)<=0)break;this.C[c]=t,c=r}this.C[c]=n}k(c,n){let r=this.C[c];for(;c<n;){let t=c<<1|1,e=t+1,i=this.C[t];if(e<this.i&&this.v(i,this.C[e])>0&&(t=e,i=this.C[e]),this.v(i,r)>=0)break;this.C[c]=i,c=t}this.C[c]=r}clear(){this.i=0,this.C.length=0}push(c){this.C.push(c),this.m(this.i),this.i+=1}pop(){if(this.i===0)return;let c=this.C[0],n=this.C.pop();return this.i-=1,this.i&&(this.C[0]=n,this.k(0,this.i>>1)),c}top(){return this.C[0]}find(c){return this.C.indexOf(c)>=0}remove(c){let n=this.C.indexOf(c);return n<0?!1:(n===0?this.pop():n===this.i-1?(this.C.pop(),this.i-=1):(this.C.splice(n,1,this.C.pop()),this.i-=1,this.m(n),this.k(n,this.i>>1)),!0)}updateItem(c){let n=this.C.indexOf(c);return n<0?!1:(this.m(n),this.k(n,this.i>>1),!0)}toArray(){return[...this.C]}},a=s;f.default=a}),po=Se(f=>{ge(),me(),ye(),Object.defineProperty(f,"t",{value:!0}),f.default=void 0;var h=Rt(),s=class extends h.Container{},a=s;f.default=a}),jt=Se(f=>{ge(),me(),ye(),Object.defineProperty(f,"t",{value:!0}),f.throwIteratorAccessError=h;function h(){throw new RangeError("Iterator access denied!")}}),da=Se(f=>{ge(),me(),ye(),Object.defineProperty(f,"t",{value:!0}),f.RandomIterator=void 0;var h=Rt(),s=jt(),a=class extends h.ContainerIterator{constructor(c,n){super(n),this.o=c,this.iteratorType===0?(this.pre=function(){return this.o===0&&(0,s.throwIteratorAccessError)(),this.o-=1,this},this.next=function(){return this.o===this.container.size()&&(0,s.throwIteratorAccessError)(),this.o+=1,this}):(this.pre=function(){return this.o===this.container.size()-1&&(0,s.throwIteratorAccessError)(),this.o+=1,this},this.next=function(){return this.o===-1&&(0,s.throwIteratorAccessError)(),this.o-=1,this})}get pointer(){return this.container.getElementByPos(this.o)}set pointer(c){this.container.setElementByPos(this.o,c)}};f.RandomIterator=a}),vu=Se(f=>{ge(),me(),ye(),Object.defineProperty(f,"t",{value:!0}),f.default=void 0;var h=a(po()),s=da();function a(t){return t&&t.t?t:{default:t}}var c=class ga extends s.RandomIterator{constructor(e,i,l){super(e,l),this.container=i}copy(){return new ga(this.o,this.container,this.iteratorType)}},n=class extends h.default{constructor(t=[],e=!0){if(super(),Array.isArray(t))this.J=e?[...t]:t,this.i=t.length;else{this.J=[];let i=this;t.forEach(function(l){i.pushBack(l)})}}clear(){this.i=0,this.J.length=0}begin(){return new c(0,this)}end(){return new c(this.i,this)}rBegin(){return new c(this.i-1,this,1)}rEnd(){return new c(-1,this,1)}front(){return this.J[0]}back(){return this.J[this.i-1]}getElementByPos(t){if(t<0||t>this.i-1)throw new RangeError;return this.J[t]}eraseElementByPos(t){if(t<0||t>this.i-1)throw new RangeError;return this.J.splice(t,1),this.i-=1,this.i}eraseElementByValue(t){let e=0;for(let i=0;i<this.i;++i)this.J[i]!==t&&(this.J[e++]=this.J[i]);return this.i=this.J.length=e,this.i}eraseElementByIterator(t){let e=t.o;return t=t.next(),this.eraseElementByPos(e),t}pushBack(t){return this.J.push(t),this.i+=1,this.i}popBack(){if(this.i!==0)return this.i-=1,this.J.pop()}setElementByPos(t,e){if(t<0||t>this.i-1)throw new RangeError;this.J[t]=e}insert(t,e,i=1){if(t<0||t>this.i)throw new RangeError;return this.J.splice(t,0,...new Array(i).fill(e)),this.i+=i,this.i}find(t){for(let e=0;e<this.i;++e)if(this.J[e]===t)return new c(e,this);return this.end()}reverse(){this.J.reverse()}unique(){let t=1;for(let e=1;e<this.i;++e)this.J[e]!==this.J[e-1]&&(this.J[t++]=this.J[e]);return this.i=this.J.length=t,this.i}sort(t){this.J.sort(t)}forEach(t){for(let e=0;e<this.i;++e)t(this.J[e],e,this)}[Symbol.iterator](){return(function*(){yield*this.J}).bind(this)()}},r=n;f.default=r}),wu=Se(f=>{ge(),me(),ye(),Object.defineProperty(f,"t",{value:!0}),f.default=void 0;var h=c(po()),s=Rt(),a=jt();function c(e){return e&&e.t?e:{default:e}}var n=class ya extends s.ContainerIterator{constructor(i,l,d,p){super(p),this.o=i,this.h=l,this.container=d,this.iteratorType===0?(this.pre=function(){return this.o.L===this.h&&(0,a.throwIteratorAccessError)(),this.o=this.o.L,this},this.next=function(){return this.o===this.h&&(0,a.throwIteratorAccessError)(),this.o=this.o.B,this}):(this.pre=function(){return this.o.B===this.h&&(0,a.throwIteratorAccessError)(),this.o=this.o.B,this},this.next=function(){return this.o===this.h&&(0,a.throwIteratorAccessError)(),this.o=this.o.L,this})}get pointer(){return this.o===this.h&&(0,a.throwIteratorAccessError)(),this.o.l}set pointer(i){this.o===this.h&&(0,a.throwIteratorAccessError)(),this.o.l=i}copy(){return new ya(this.o,this.h,this.container,this.iteratorType)}},r=class extends h.default{constructor(e=[]){super(),this.h={},this.p=this._=this.h.L=this.h.B=this.h;let i=this;e.forEach(function(l){i.pushBack(l)})}V(e){let{L:i,B:l}=e;i.B=l,l.L=i,e===this.p&&(this.p=l),e===this._&&(this._=i),this.i-=1}G(e,i){let l=i.B,d={l:e,L:i,B:l};i.B=d,l.L=d,i===this.h&&(this.p=d),l===this.h&&(this._=d),this.i+=1}clear(){this.i=0,this.p=this._=this.h.L=this.h.B=this.h}begin(){return new n(this.p,this.h,this)}end(){return new n(this.h,this.h,this)}rBegin(){return new n(this._,this.h,this,1)}rEnd(){return new n(this.h,this.h,this,1)}front(){return this.p.l}back(){return this._.l}getElementByPos(e){if(e<0||e>this.i-1)throw new RangeError;let i=this.p;for(;e--;)i=i.B;return i.l}eraseElementByPos(e){if(e<0||e>this.i-1)throw new RangeError;let i=this.p;for(;e--;)i=i.B;return this.V(i),this.i}eraseElementByValue(e){let i=this.p;for(;i!==this.h;)i.l===e&&this.V(i),i=i.B;return this.i}eraseElementByIterator(e){let i=e.o;return i===this.h&&(0,a.throwIteratorAccessError)(),e=e.next(),this.V(i),e}pushBack(e){return this.G(e,this._),this.i}popBack(){if(this.i===0)return;let e=this._.l;return this.V(this._),e}pushFront(e){return this.G(e,this.h),this.i}popFront(){if(this.i===0)return;let e=this.p.l;return this.V(this.p),e}setElementByPos(e,i){if(e<0||e>this.i-1)throw new RangeError;let l=this.p;for(;e--;)l=l.B;l.l=i}insert(e,i,l=1){if(e<0||e>this.i)throw new RangeError;if(l<=0)return this.i;if(e===0)for(;l--;)this.pushFront(i);else if(e===this.i)for(;l--;)this.pushBack(i);else{let d=this.p;for(let g=1;g<e;++g)d=d.B;let p=d.B;for(this.i+=l;l--;)d.B={l:i,L:d},d.B.L=d,d=d.B;d.B=p,p.L=d}return this.i}find(e){let i=this.p;for(;i!==this.h;){if(i.l===e)return new n(i,this.h,this);i=i.B}return this.end()}reverse(){if(this.i<=1)return;let e=this.p,i=this._,l=0;for(;l<<1<this.i;){let d=e.l;e.l=i.l,i.l=d,e=e.B,i=i.L,l+=1}}unique(){if(this.i<=1)return this.i;let e=this.p;for(;e!==this.h;){let i=e;for(;i.B!==this.h&&i.l===i.B.l;)i=i.B,this.i-=1;e.B=i.B,e.B.L=e,e=e.B}return this.i}sort(e){if(this.i<=1)return;let i=[];this.forEach(function(d){i.push(d)}),i.sort(e);let l=this.p;i.forEach(function(d){l.l=d,l=l.B})}merge(e){let i=this;if(this.i===0)e.forEach(function(l){i.pushBack(l)});else{let l=this.p;e.forEach(function(d){for(;l!==i.h&&l.l<=d;)l=l.B;i.G(d,l.L)})}return this.i}forEach(e){let i=this.p,l=0;for(;i!==this.h;)e(i.l,l++,this),i=i.B}[Symbol.iterator](){return(function*(){if(this.i===0)return;let e=this.p;for(;e!==this.h;)yield e.l,e=e.B}).bind(this)()}},t=r;f.default=t}),_u=Se(f=>{ge(),me(),ye(),Object.defineProperty(f,"t",{value:!0}),f.default=void 0;var h=a(po()),s=da();function a(t){return t&&t.t?t:{default:t}}var c=class ma extends s.RandomIterator{constructor(e,i,l){super(e,l),this.container=i}copy(){return new ma(this.o,this.container,this.iteratorType)}},n=class extends h.default{constructor(t=[],e=4096){super(),this.j=0,this.D=0,this.R=0,this.N=0,this.P=0,this.A=[];let i=(()=>{if(typeof t.length=="number")return t.length;if(typeof t.size=="number")return t.size;if(typeof t.size=="function")return t.size();throw new TypeError("Cannot get the length or size of the container")})();this.F=e,this.P=Math.max(Math.ceil(i/this.F),1);for(let p=0;p<this.P;++p)this.A.push(new Array(this.F));let l=Math.ceil(i/this.F);this.j=this.R=(this.P>>1)-(l>>1),this.D=this.N=this.F-i%this.F>>1;let d=this;t.forEach(function(p){d.pushBack(p)})}T(){let t=[],e=Math.max(this.P>>1,1);for(let i=0;i<e;++i)t[i]=new Array(this.F);for(let i=this.j;i<this.P;++i)t[t.length]=this.A[i];for(let i=0;i<this.R;++i)t[t.length]=this.A[i];t[t.length]=[...this.A[this.R]],this.j=e,this.R=t.length-1;for(let i=0;i<e;++i)t[t.length]=new Array(this.F);this.A=t,this.P=t.length}O(t){let e=this.D+t+1,i=e%this.F,l=i-1,d=this.j+(e-i)/this.F;return i===0&&(d-=1),d%=this.P,l<0&&(l+=this.F),{curNodeBucketIndex:d,curNodePointerIndex:l}}clear(){this.A=[new Array(this.F)],this.P=1,this.j=this.R=this.i=0,this.D=this.N=this.F>>1}begin(){return new c(0,this)}end(){return new c(this.i,this)}rBegin(){return new c(this.i-1,this,1)}rEnd(){return new c(-1,this,1)}front(){if(this.i!==0)return this.A[this.j][this.D]}back(){if(this.i!==0)return this.A[this.R][this.N]}pushBack(t){return this.i&&(this.N<this.F-1?this.N+=1:this.R<this.P-1?(this.R+=1,this.N=0):(this.R=0,this.N=0),this.R===this.j&&this.N===this.D&&this.T()),this.i+=1,this.A[this.R][this.N]=t,this.i}popBack(){if(this.i===0)return;let t=this.A[this.R][this.N];return this.i!==1&&(this.N>0?this.N-=1:this.R>0?(this.R-=1,this.N=this.F-1):(this.R=this.P-1,this.N=this.F-1)),this.i-=1,t}pushFront(t){return this.i&&(this.D>0?this.D-=1:this.j>0?(this.j-=1,this.D=this.F-1):(this.j=this.P-1,this.D=this.F-1),this.j===this.R&&this.D===this.N&&this.T()),this.i+=1,this.A[this.j][this.D]=t,this.i}popFront(){if(this.i===0)return;let t=this.A[this.j][this.D];return this.i!==1&&(this.D<this.F-1?this.D+=1:this.j<this.P-1?(this.j+=1,this.D=0):(this.j=0,this.D=0)),this.i-=1,t}getElementByPos(t){if(t<0||t>this.i-1)throw new RangeError;let{curNodeBucketIndex:e,curNodePointerIndex:i}=this.O(t);return this.A[e][i]}setElementByPos(t,e){if(t<0||t>this.i-1)throw new RangeError;let{curNodeBucketIndex:i,curNodePointerIndex:l}=this.O(t);this.A[i][l]=e}insert(t,e,i=1){if(t<0||t>this.i)throw new RangeError;if(t===0)for(;i--;)this.pushFront(e);else if(t===this.i)for(;i--;)this.pushBack(e);else{let l=[];for(let d=t;d<this.i;++d)l.push(this.getElementByPos(d));this.cut(t-1);for(let d=0;d<i;++d)this.pushBack(e);for(let d=0;d<l.length;++d)this.pushBack(l[d])}return this.i}cut(t){if(t<0)return this.clear(),0;let{curNodeBucketIndex:e,curNodePointerIndex:i}=this.O(t);return this.R=e,this.N=i,this.i=t+1,this.i}eraseElementByPos(t){if(t<0||t>this.i-1)throw new RangeError;if(t===0)this.popFront();else if(t===this.i-1)this.popBack();else{let e=[];for(let l=t+1;l<this.i;++l)e.push(this.getElementByPos(l));this.cut(t),this.popBack();let i=this;e.forEach(function(l){i.pushBack(l)})}return this.i}eraseElementByValue(t){if(this.i===0)return 0;let e=[];for(let l=0;l<this.i;++l){let d=this.getElementByPos(l);d!==t&&e.push(d)}let i=e.length;for(let l=0;l<i;++l)this.setElementByPos(l,e[l]);return this.cut(i-1)}eraseElementByIterator(t){let e=t.o;return this.eraseElementByPos(e),t=t.next(),t}find(t){for(let e=0;e<this.i;++e)if(this.getElementByPos(e)===t)return new c(e,this);return this.end()}reverse(){let t=0,e=this.i-1;for(;t<e;){let i=this.getElementByPos(t);this.setElementByPos(t,this.getElementByPos(e)),this.setElementByPos(e,i),t+=1,e-=1}}unique(){if(this.i<=1)return this.i;let t=1,e=this.getElementByPos(0);for(let i=1;i<this.i;++i){let l=this.getElementByPos(i);l!==e&&(e=l,this.setElementByPos(t++,l))}for(;this.i>t;)this.popBack();return this.i}sort(t){let e=[];for(let i=0;i<this.i;++i)e.push(this.getElementByPos(i));e.sort(t);for(let i=0;i<this.i;++i)this.setElementByPos(i,e[i])}shrinkToFit(){if(this.i===0)return;let t=[];this.forEach(function(e){t.push(e)}),this.P=Math.max(Math.ceil(this.i/this.F),1),this.i=this.j=this.R=this.D=this.N=0,this.A=[];for(let e=0;e<this.P;++e)this.A.push(new Array(this.F));for(let e=0;e<t.length;++e)this.pushBack(t[e])}forEach(t){for(let e=0;e<this.i;++e)t(this.getElementByPos(e),e,this)}[Symbol.iterator](){return(function*(){for(let t=0;t<this.i;++t)yield this.getElementByPos(t)}).bind(this)()}},r=n;f.default=r}),Su=Se(f=>{ge(),me(),ye(),Object.defineProperty(f,"t",{value:!0}),f.TreeNodeEnableIndex=f.TreeNode=void 0;var h=class{constructor(a,c){this.ee=1,this.u=void 0,this.l=void 0,this.U=void 0,this.W=void 0,this.tt=void 0,this.u=a,this.l=c}L(){let a=this;if(a.ee===1&&a.tt.tt===a)a=a.W;else if(a.U)for(a=a.U;a.W;)a=a.W;else{let c=a.tt;for(;c.U===a;)a=c,c=a.tt;a=c}return a}B(){let a=this;if(a.W){for(a=a.W;a.U;)a=a.U;return a}else{let c=a.tt;for(;c.W===a;)a=c,c=a.tt;return a.W!==c?c:a}}te(){let a=this.tt,c=this.W,n=c.U;return a.tt===this?a.tt=c:a.U===this?a.U=c:a.W=c,c.tt=a,c.U=this,this.tt=c,this.W=n,n&&(n.tt=this),c}se(){let a=this.tt,c=this.U,n=c.W;return a.tt===this?a.tt=c:a.U===this?a.U=c:a.W=c,c.tt=a,c.W=this,this.tt=c,this.U=n,n&&(n.tt=this),c}};f.TreeNode=h;var s=class extends h{constructor(){super(...arguments),this.rt=1}te(){let a=super.te();return this.ie(),a.ie(),a}se(){let a=super.se();return this.ie(),a.ie(),a}ie(){this.rt=1,this.U&&(this.rt+=this.U.rt),this.W&&(this.rt+=this.W.rt)}};f.TreeNodeEnableIndex=s}),ba=Se(f=>{ge(),me(),ye(),Object.defineProperty(f,"t",{value:!0}),f.default=void 0;var h=Su(),s=Rt(),a=jt(),c=class extends s.Container{constructor(r=function(e,i){return e<i?-1:e>i?1:0},t=!1){super(),this.Y=void 0,this.v=r,t?(this.re=h.TreeNodeEnableIndex,this.M=function(e,i,l){let d=this.ne(e,i,l);if(d){let p=d.tt;for(;p!==this.h;)p.rt+=1,p=p.tt;let g=this.he(d);if(g){let{parentNode:b,grandParent:E,curNode:S}=g;b.ie(),E.ie(),S.ie()}}return this.i},this.V=function(e){let i=this.fe(e);for(;i!==this.h;)i.rt-=1,i=i.tt}):(this.re=h.TreeNode,this.M=function(e,i,l){let d=this.ne(e,i,l);return d&&this.he(d),this.i},this.V=this.fe),this.h=new this.re}X(r,t){let e=this.h;for(;r;){let i=this.v(r.u,t);if(i<0)r=r.W;else if(i>0)e=r,r=r.U;else return r}return e}Z(r,t){let e=this.h;for(;r;)this.v(r.u,t)<=0?r=r.W:(e=r,r=r.U);return e}$(r,t){let e=this.h;for(;r;){let i=this.v(r.u,t);if(i<0)e=r,r=r.W;else if(i>0)r=r.U;else return r}return e}rr(r,t){let e=this.h;for(;r;)this.v(r.u,t)<0?(e=r,r=r.W):r=r.U;return e}ue(r){for(;;){let t=r.tt;if(t===this.h)return;if(r.ee===1){r.ee=0;return}if(r===t.U){let e=t.W;if(e.ee===1)e.ee=0,t.ee=1,t===this.Y?this.Y=t.te():t.te();else if(e.W&&e.W.ee===1){e.ee=t.ee,t.ee=0,e.W.ee=0,t===this.Y?this.Y=t.te():t.te();return}else e.U&&e.U.ee===1?(e.ee=1,e.U.ee=0,e.se()):(e.ee=1,r=t)}else{let e=t.U;if(e.ee===1)e.ee=0,t.ee=1,t===this.Y?this.Y=t.se():t.se();else if(e.U&&e.U.ee===1){e.ee=t.ee,t.ee=0,e.U.ee=0,t===this.Y?this.Y=t.se():t.se();return}else e.W&&e.W.ee===1?(e.ee=1,e.W.ee=0,e.te()):(e.ee=1,r=t)}}}fe(r){if(this.i===1)return this.clear(),this.h;let t=r;for(;t.U||t.W;){if(t.W)for(t=t.W;t.U;)t=t.U;else t=t.U;[r.u,t.u]=[t.u,r.u],[r.l,t.l]=[t.l,r.l],r=t}this.h.U===t?this.h.U=t.tt:this.h.W===t&&(this.h.W=t.tt),this.ue(t);let e=t.tt;return t===e.U?e.U=void 0:e.W=void 0,this.i-=1,this.Y.ee=0,e}oe(r,t){return r===void 0?!1:this.oe(r.U,t)||t(r)?!0:this.oe(r.W,t)}he(r){for(;;){let t=r.tt;if(t.ee===0)return;let e=t.tt;if(t===e.U){let i=e.W;if(i&&i.ee===1){if(i.ee=t.ee=0,e===this.Y)return;e.ee=1,r=e;continue}else if(r===t.W){if(r.ee=0,r.U&&(r.U.tt=t),r.W&&(r.W.tt=e),t.W=r.U,e.U=r.W,r.U=t,r.W=e,e===this.Y)this.Y=r,this.h.tt=r;else{let l=e.tt;l.U===e?l.U=r:l.W=r}return r.tt=e.tt,t.tt=r,e.tt=r,e.ee=1,{parentNode:t,grandParent:e,curNode:r}}else t.ee=0,e===this.Y?this.Y=e.se():e.se(),e.ee=1}else{let i=e.U;if(i&&i.ee===1){if(i.ee=t.ee=0,e===this.Y)return;e.ee=1,r=e;continue}else if(r===t.U){if(r.ee=0,r.U&&(r.U.tt=e),r.W&&(r.W.tt=t),e.W=r.U,t.U=r.W,r.U=e,r.W=t,e===this.Y)this.Y=r,this.h.tt=r;else{let l=e.tt;l.U===e?l.U=r:l.W=r}return r.tt=e.tt,t.tt=r,e.tt=r,e.ee=1,{parentNode:t,grandParent:e,curNode:r}}else t.ee=0,e===this.Y?this.Y=e.te():e.te(),e.ee=1}return}}ne(r,t,e){if(this.Y===void 0){this.i+=1,this.Y=new this.re(r,t),this.Y.ee=0,this.Y.tt=this.h,this.h.tt=this.Y,this.h.U=this.Y,this.h.W=this.Y;return}let i,l=this.h.U,d=this.v(l.u,r);if(d===0){l.l=t;return}else if(d>0)l.U=new this.re(r,t),l.U.tt=l,i=l.U,this.h.U=i;else{let p=this.h.W,g=this.v(p.u,r);if(g===0){p.l=t;return}else if(g<0)p.W=new this.re(r,t),p.W.tt=p,i=p.W,this.h.W=i;else{if(e!==void 0){let b=e.o;if(b!==this.h){let E=this.v(b.u,r);if(E===0){b.l=t;return}else if(E>0){let S=b.L(),x=this.v(S.u,r);if(x===0){S.l=t;return}else x<0&&(i=new this.re(r,t),S.W===void 0?(S.W=i,i.tt=S):(b.U=i,i.tt=b))}}}if(i===void 0)for(i=this.Y;;){let b=this.v(i.u,r);if(b>0){if(i.U===void 0){i.U=new this.re(r,t),i.U.tt=i,i=i.U;break}i=i.U}else if(b<0){if(i.W===void 0){i.W=new this.re(r,t),i.W.tt=i,i=i.W;break}i=i.W}else{i.l=t;return}}}}return this.i+=1,i}I(r,t){for(;r;){let e=this.v(r.u,t);if(e<0)r=r.W;else if(e>0)r=r.U;else return r}return r||this.h}clear(){this.i=0,this.Y=void 0,this.h.tt=void 0,this.h.U=this.h.W=void 0}updateKeyByIterator(r,t){let e=r.o;if(e===this.h&&(0,a.throwIteratorAccessError)(),this.i===1)return e.u=t,!0;if(e===this.h.U)return this.v(e.B().u,t)>0?(e.u=t,!0):!1;if(e===this.h.W)return this.v(e.L().u,t)<0?(e.u=t,!0):!1;let i=e.L().u;if(this.v(i,t)>=0)return!1;let l=e.B().u;return this.v(l,t)<=0?!1:(e.u=t,!0)}eraseElementByPos(r){if(r<0||r>this.i-1)throw new RangeError;let t=0,e=this;return this.oe(this.Y,function(i){return r===t?(e.V(i),!0):(t+=1,!1)}),this.i}eraseElementByKey(r){if(this.i===0)return!1;let t=this.I(this.Y,r);return t===this.h?!1:(this.V(t),!0)}eraseElementByIterator(r){let t=r.o;t===this.h&&(0,a.throwIteratorAccessError)();let e=t.W===void 0;return r.iteratorType===0?e&&r.next():(!e||t.U===void 0)&&r.next(),this.V(t),r}forEach(r){let t=0;for(let e of this)r(e,t++,this)}getElementByPos(r){if(r<0||r>this.i-1)throw new RangeError;let t,e=0;for(let i of this){if(e===r){t=i;break}e+=1}return t}getHeight(){if(this.i===0)return 0;let r=function(t){return t?Math.max(r(t.U),r(t.W))+1:0};return r(this.Y)}},n=c;f.default=n}),va=Se(f=>{ge(),me(),ye(),Object.defineProperty(f,"t",{value:!0}),f.default=void 0;var h=Rt(),s=jt(),a=class extends h.ContainerIterator{constructor(n,r,t){super(t),this.o=n,this.h=r,this.iteratorType===0?(this.pre=function(){return this.o===this.h.U&&(0,s.throwIteratorAccessError)(),this.o=this.o.L(),this},this.next=function(){return this.o===this.h&&(0,s.throwIteratorAccessError)(),this.o=this.o.B(),this}):(this.pre=function(){return this.o===this.h.W&&(0,s.throwIteratorAccessError)(),this.o=this.o.B(),this},this.next=function(){return this.o===this.h&&(0,s.throwIteratorAccessError)(),this.o=this.o.L(),this})}get index(){let n=this.o,r=this.h.tt;if(n===this.h)return r?r.rt-1:0;let t=0;for(n.U&&(t+=n.U.rt);n!==r;){let e=n.tt;n===e.W&&(t+=1,e.U&&(t+=e.U.rt)),n=e}return t}},c=a;f.default=c}),Eu=Se(f=>{ge(),me(),ye(),Object.defineProperty(f,"t",{value:!0}),f.default=void 0;var h=c(ba()),s=c(va()),a=jt();function c(e){return e&&e.t?e:{default:e}}var n=class wa extends s.default{constructor(i,l,d,p){super(i,l,p),this.container=d}get pointer(){return this.o===this.h&&(0,a.throwIteratorAccessError)(),this.o.u}copy(){return new wa(this.o,this.h,this.container,this.iteratorType)}},r=class extends h.default{constructor(e=[],i,l){super(i,l);let d=this;e.forEach(function(p){d.insert(p)})}*K(e){e!==void 0&&(yield*this.K(e.U),yield e.u,yield*this.K(e.W))}begin(){return new n(this.h.U||this.h,this.h,this)}end(){return new n(this.h,this.h,this)}rBegin(){return new n(this.h.W||this.h,this.h,this,1)}rEnd(){return new n(this.h,this.h,this,1)}front(){return this.h.U?this.h.U.u:void 0}back(){return this.h.W?this.h.W.u:void 0}insert(e,i){return this.M(e,void 0,i)}find(e){let i=this.I(this.Y,e);return new n(i,this.h,this)}lowerBound(e){let i=this.X(this.Y,e);return new n(i,this.h,this)}upperBound(e){let i=this.Z(this.Y,e);return new n(i,this.h,this)}reverseLowerBound(e){let i=this.$(this.Y,e);return new n(i,this.h,this)}reverseUpperBound(e){let i=this.rr(this.Y,e);return new n(i,this.h,this)}union(e){let i=this;return e.forEach(function(l){i.insert(l)}),this.i}[Symbol.iterator](){return this.K(this.Y)}},t=r;f.default=t}),Au=Se(f=>{ge(),me(),ye(),Object.defineProperty(f,"t",{value:!0}),f.default=void 0;var h=c(ba()),s=c(va()),a=jt();function c(e){return e&&e.t?e:{default:e}}var n=class _a extends s.default{constructor(i,l,d,p){super(i,l,p),this.container=d}get pointer(){this.o===this.h&&(0,a.throwIteratorAccessError)();let i=this;return new Proxy([],{get(l,d){if(d==="0")return i.o.u;if(d==="1")return i.o.l},set(l,d,p){if(d!=="1")throw new TypeError("props must be 1");return i.o.l=p,!0}})}copy(){return new _a(this.o,this.h,this.container,this.iteratorType)}},r=class extends h.default{constructor(e=[],i,l){super(i,l);let d=this;e.forEach(function(p){d.setElement(p[0],p[1])})}*K(e){e!==void 0&&(yield*this.K(e.U),yield[e.u,e.l],yield*this.K(e.W))}begin(){return new n(this.h.U||this.h,this.h,this)}end(){return new n(this.h,this.h,this)}rBegin(){return new n(this.h.W||this.h,this.h,this,1)}rEnd(){return new n(this.h,this.h,this,1)}front(){if(this.i===0)return;let e=this.h.U;return[e.u,e.l]}back(){if(this.i===0)return;let e=this.h.W;return[e.u,e.l]}lowerBound(e){let i=this.X(this.Y,e);return new n(i,this.h,this)}upperBound(e){let i=this.Z(this.Y,e);return new n(i,this.h,this)}reverseLowerBound(e){let i=this.$(this.Y,e);return new n(i,this.h,this)}reverseUpperBound(e){let i=this.rr(this.Y,e);return new n(i,this.h,this)}setElement(e,i,l){return this.M(e,i,l)}find(e){let i=this.I(this.Y,e);return new n(i,this.h,this)}getElementByKey(e){return this.I(this.Y,e).l}union(e){let i=this;return e.forEach(function(l){i.setElement(l[0],l[1])}),this.i}[Symbol.iterator](){return this.K(this.Y)}},t=r;f.default=t}),Sa=Se(f=>{ge(),me(),ye(),Object.defineProperty(f,"t",{value:!0}),f.default=h;function h(s){let a=typeof s;return a==="object"&&s!==null||a==="function"}}),Ea=Se(f=>{ge(),me(),ye(),Object.defineProperty(f,"t",{value:!0}),f.HashContainerIterator=f.HashContainer=void 0;var h=Rt(),s=c(Sa()),a=jt();function c(t){return t&&t.t?t:{default:t}}var n=class extends h.ContainerIterator{constructor(t,e,i){super(i),this.o=t,this.h=e,this.iteratorType===0?(this.pre=function(){return this.o.L===this.h&&(0,a.throwIteratorAccessError)(),this.o=this.o.L,this},this.next=function(){return this.o===this.h&&(0,a.throwIteratorAccessError)(),this.o=this.o.B,this}):(this.pre=function(){return this.o.B===this.h&&(0,a.throwIteratorAccessError)(),this.o=this.o.B,this},this.next=function(){return this.o===this.h&&(0,a.throwIteratorAccessError)(),this.o=this.o.L,this})}};f.HashContainerIterator=n;var r=class extends h.Container{constructor(){super(),this.H=[],this.g={},this.HASH_TAG=Symbol("@@HASH_TAG"),Object.setPrototypeOf(this.g,null),this.h={},this.h.L=this.h.B=this.p=this._=this.h}V(t){let{L:e,B:i}=t;e.B=i,i.L=e,t===this.p&&(this.p=i),t===this._&&(this._=e),this.i-=1}M(t,e,i){i===void 0&&(i=(0,s.default)(t));let l;if(i){let d=t[this.HASH_TAG];if(d!==void 0)return this.H[d].l=e,this.i;Object.defineProperty(t,this.HASH_TAG,{value:this.H.length,configurable:!0}),l={u:t,l:e,L:this._,B:this.h},this.H.push(l)}else{let d=this.g[t];if(d)return d.l=e,this.i;l={u:t,l:e,L:this._,B:this.h},this.g[t]=l}return this.i===0?(this.p=l,this.h.B=l):this._.B=l,this._=l,this.h.L=l,++this.i}I(t,e){if(e===void 0&&(e=(0,s.default)(t)),e){let i=t[this.HASH_TAG];return i===void 0?this.h:this.H[i]}else return this.g[t]||this.h}clear(){let t=this.HASH_TAG;this.H.forEach(function(e){delete e.u[t]}),this.H=[],this.g={},Object.setPrototypeOf(this.g,null),this.i=0,this.p=this._=this.h.L=this.h.B=this.h}eraseElementByKey(t,e){let i;if(e===void 0&&(e=(0,s.default)(t)),e){let l=t[this.HASH_TAG];if(l===void 0)return!1;delete t[this.HASH_TAG],i=this.H[l],delete this.H[l]}else{if(i=this.g[t],i===void 0)return!1;delete this.g[t]}return this.V(i),!0}eraseElementByIterator(t){let e=t.o;return e===this.h&&(0,a.throwIteratorAccessError)(),this.V(e),t.next()}eraseElementByPos(t){if(t<0||t>this.i-1)throw new RangeError;let e=this.p;for(;t--;)e=e.B;return this.V(e),this.i}};f.HashContainer=r}),xu=Se(f=>{ge(),me(),ye(),Object.defineProperty(f,"t",{value:!0}),f.default=void 0;var h=Ea(),s=jt(),a=class Aa extends h.HashContainerIterator{constructor(t,e,i,l){super(t,e,l),this.container=i}get pointer(){return this.o===this.h&&(0,s.throwIteratorAccessError)(),this.o.u}copy(){return new Aa(this.o,this.h,this.container,this.iteratorType)}},c=class extends h.HashContainer{constructor(r=[]){super();let t=this;r.forEach(function(e){t.insert(e)})}begin(){return new a(this.p,this.h,this)}end(){return new a(this.h,this.h,this)}rBegin(){return new a(this._,this.h,this,1)}rEnd(){return new a(this.h,this.h,this,1)}front(){return this.p.u}back(){return this._.u}insert(r,t){return this.M(r,void 0,t)}getElementByPos(r){if(r<0||r>this.i-1)throw new RangeError;let t=this.p;for(;r--;)t=t.B;return t.u}find(r,t){let e=this.I(r,t);return new a(e,this.h,this)}forEach(r){let t=0,e=this.p;for(;e!==this.h;)r(e.u,t++,this),e=e.B}[Symbol.iterator](){return(function*(){let r=this.p;for(;r!==this.h;)yield r.u,r=r.B}).bind(this)()}},n=c;f.default=n}),Iu=Se(f=>{ge(),me(),ye(),Object.defineProperty(f,"t",{value:!0}),f.default=void 0;var h=Ea(),s=c(Sa()),a=jt();function c(e){return e&&e.t?e:{default:e}}var n=class xa extends h.HashContainerIterator{constructor(i,l,d,p){super(i,l,p),this.container=d}get pointer(){this.o===this.h&&(0,a.throwIteratorAccessError)();let i=this;return new Proxy([],{get(l,d){if(d==="0")return i.o.u;if(d==="1")return i.o.l},set(l,d,p){if(d!=="1")throw new TypeError("props must be 1");return i.o.l=p,!0}})}copy(){return new xa(this.o,this.h,this.container,this.iteratorType)}},r=class extends h.HashContainer{constructor(e=[]){super();let i=this;e.forEach(function(l){i.setElement(l[0],l[1])})}begin(){return new n(this.p,this.h,this)}end(){return new n(this.h,this.h,this)}rBegin(){return new n(this._,this.h,this,1)}rEnd(){return new n(this.h,this.h,this,1)}front(){if(this.i!==0)return[this.p.u,this.p.l]}back(){if(this.i!==0)return[this._.u,this._.l]}setElement(e,i,l){return this.M(e,i,l)}getElementByKey(e,i){if(i===void 0&&(i=(0,s.default)(e)),i){let d=e[this.HASH_TAG];return d!==void 0?this.H[d].l:void 0}let l=this.g[e];return l?l.l:void 0}getElementByPos(e){if(e<0||e>this.i-1)throw new RangeError;let i=this.p;for(;e--;)i=i.B;return[i.u,i.l]}find(e,i){let l=this.I(e,i);return new n(l,this.h,this)}forEach(e){let i=0,l=this.p;for(;l!==this.h;)e([l.u,l.l],i++,this),l=l.B}[Symbol.iterator](){return(function*(){let e=this.p;for(;e!==this.h;)yield[e.u,e.l],e=e.B}).bind(this)()}},t=r;f.default=t}),Ou=Se(f=>{ge(),me(),ye(),Object.defineProperty(f,"t",{value:!0}),Object.defineProperty(f,"Deque",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(f,"HashMap",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(f,"HashSet",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(f,"LinkList",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(f,"OrderedMap",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(f,"OrderedSet",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(f,"PriorityQueue",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(f,"Queue",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(f,"Stack",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(f,"Vector",{enumerable:!0,get:function(){return c.default}});var h=d(yu()),s=d(mu()),a=d(bu()),c=d(vu()),n=d(wu()),r=d(_u()),t=d(Eu()),e=d(Au()),i=d(xu()),l=d(Iu());function d(p){return p&&p.t?p:{default:p}}}),Pu=Se((f,h)=>{ge(),me(),ye();var s=Ou().OrderedSet,a=Tt()("number-allocator:trace"),c=Tt()("number-allocator:error");function n(t,e){this.low=t,this.high=e}n.prototype.equals=function(t){return this.low===t.low&&this.high===t.high},n.prototype.compare=function(t){return this.low<t.low&&this.high<t.low?-1:t.low<this.low&&t.high<this.low?1:0};function r(t,e){if(!(this instanceof r))return new r(t,e);this.min=t,this.max=e,this.ss=new s([],(i,l)=>i.compare(l)),a("Create"),this.clear()}r.prototype.firstVacant=function(){return this.ss.size()===0?null:this.ss.front().low},r.prototype.alloc=function(){if(this.ss.size()===0)return a("alloc():empty"),null;let t=this.ss.begin(),e=t.pointer.low,i=t.pointer.high,l=e;return l+1<=i?this.ss.updateKeyByIterator(t,new n(e+1,i)):this.ss.eraseElementByPos(0),a("alloc():"+l),l},r.prototype.use=function(t){let e=new n(t,t),i=this.ss.lowerBound(e);if(!i.equals(this.ss.end())){let l=i.pointer.low,d=i.pointer.high;return i.pointer.equals(e)?(this.ss.eraseElementByIterator(i),a("use():"+t),!0):l>t?!1:l===t?(this.ss.updateKeyByIterator(i,new n(l+1,d)),a("use():"+t),!0):d===t?(this.ss.updateKeyByIterator(i,new n(l,d-1)),a("use():"+t),!0):(this.ss.updateKeyByIterator(i,new n(t+1,d)),this.ss.insert(new n(l,t-1)),a("use():"+t),!0)}return a("use():failed"),!1},r.prototype.free=function(t){if(t<this.min||t>this.max){c("free():"+t+" is out of range");return}let e=new n(t,t),i=this.ss.upperBound(e);if(i.equals(this.ss.end())){if(i.equals(this.ss.begin())){this.ss.insert(e);return}i.pre();let l=i.pointer.high;i.pointer.high+1===t?this.ss.updateKeyByIterator(i,new n(l,t)):this.ss.insert(e)}else if(i.equals(this.ss.begin()))if(t+1===i.pointer.low){let l=i.pointer.high;this.ss.updateKeyByIterator(i,new n(t,l))}else this.ss.insert(e);else{let l=i.pointer.low,d=i.pointer.high;i.pre();let p=i.pointer.low;i.pointer.high+1===t?t+1===l?(this.ss.eraseElementByIterator(i),this.ss.updateKeyByIterator(i,new n(p,d))):this.ss.updateKeyByIterator(i,new n(p,t)):t+1===l?(this.ss.eraseElementByIterator(i.next()),this.ss.insert(new n(t,d))):this.ss.insert(e)}a("free():"+t)},r.prototype.clear=function(){a("clear()"),this.ss.clear(),this.ss.insert(new n(this.min,this.max))},r.prototype.intervalCount=function(){return this.ss.size()},r.prototype.dump=function(){""+this.ss.size();for(let t of this.ss);},h.exports=r}),Ia=Se((f,h)=>{ge(),me(),ye();var s=Pu();h.exports.NumberAllocator=s}),ku=Se(f=>{ge(),me(),ye(),Object.defineProperty(f,"__esModule",{value:!0});var h=gu(),s=Ia(),a=class{aliasToTopic;topicToAlias;max;numberAllocator;length;constructor(c){c>0&&(this.aliasToTopic=new h.LRUCache({max:c}),this.topicToAlias={},this.numberAllocator=new s.NumberAllocator(1,c),this.max=c,this.length=0)}put(c,n){if(n===0||n>this.max)return!1;let r=this.aliasToTopic.get(n);return r&&delete this.topicToAlias[r],this.aliasToTopic.set(n,c),this.topicToAlias[c]=n,this.numberAllocator.use(n),this.length=this.aliasToTopic.size,!0}getTopicByAlias(c){return this.aliasToTopic.get(c)}getAliasByTopic(c){let n=this.topicToAlias[c];return typeof n<"u"&&this.aliasToTopic.get(n),n}clear(){this.aliasToTopic.clear(),this.topicToAlias={},this.numberAllocator.clear(),this.length=0}getLruAlias(){return this.numberAllocator.firstVacant()||[...this.aliasToTopic.keys()][this.aliasToTopic.size-1]}};f.default=a}),Tu=Se(f=>{ge(),me(),ye();var h=f&&f.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(f,"__esModule",{value:!0});var s=Zr(),a=h(ku()),c=ar(),n=(r,t)=>{r.log("_handleConnack");let{options:e}=r,i=e.protocolVersion===5?t.reasonCode:t.returnCode;if(clearTimeout(r.connackTimer),delete r.topicAliasSend,t.properties){if(t.properties.topicAliasMaximum){if(t.properties.topicAliasMaximum>65535){r.emit("error",new Error("topicAliasMaximum from broker is out of range"));return}t.properties.topicAliasMaximum>0&&(r.topicAliasSend=new a.default(t.properties.topicAliasMaximum))}t.properties.serverKeepAlive&&e.keepalive&&(e.keepalive=t.properties.serverKeepAlive),t.properties.maximumPacketSize&&(e.properties||(e.properties={}),e.properties.maximumPacketSize=t.properties.maximumPacketSize)}if(i===0)r.reconnecting=!1,r._onConnect(t);else if(i>0){let l=new c.ErrorWithReasonCode(`Connection refused: ${s.ReasonCodes[i]}`,i);r.emit("error",l),r.options.reconnectOnConnackError&&r._cleanUp(!0)}};f.default=n}),Cu=Se(f=>{ge(),me(),ye(),Object.defineProperty(f,"__esModule",{value:!0});var h=(s,a,c)=>{s.log("handling pubrel packet");let n=typeof c<"u"?c:s.noop,{messageId:r}=a,t={cmd:"pubcomp",messageId:r};s.incomingStore.get(a,(e,i)=>{e?s._sendPacket(t,n):(s.emit("message",i.topic,i.payload,i),s.handleMessage(i,l=>{if(l)return n(l);s.incomingStore.del(i,s.noop),s._sendPacket(t,n)}))})};f.default=h}),Ru=Se(f=>{ge(),me(),ye();var h=f&&f.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(f,"__esModule",{value:!0});var s=h(fu()),a=h(du()),c=h(Tu()),n=h(Zr()),r=h(Cu()),t=(e,i,l)=>{let{options:d}=e;if(d.protocolVersion===5&&d.properties&&d.properties.maximumPacketSize&&d.properties.maximumPacketSize<i.length)return e.emit("error",new Error(`exceeding packets size ${i.cmd}`)),e.end({reasonCode:149,properties:{reasonString:"Maximum packet size was exceeded"}}),e;switch(e.log("_handlePacket :: emitting packetreceive"),e.emit("packetreceive",i),i.cmd){case"publish":(0,s.default)(e,i,l);break;case"puback":case"pubrec":case"pubcomp":case"suback":case"unsuback":e.reschedulePing(),(0,n.default)(e,i),l();break;case"pubrel":e.reschedulePing(),(0,r.default)(e,i,l);break;case"connack":(0,c.default)(e,i),l();break;case"auth":e.reschedulePing(),(0,a.default)(e,i),l();break;case"pingresp":e.log("_handlePacket :: received pingresp"),e.reschedulePing(!0),l();break;case"disconnect":e.emit("disconnect",i),l();break;default:e.log("_handlePacket :: unknown command"),l();break}};f.default=t}),Oa=Se(f=>{ge(),me(),ye(),Object.defineProperty(f,"__esModule",{value:!0});var h=class{nextId;constructor(){this.nextId=Math.max(1,Math.floor(Math.random()*65535))}allocate(){let s=this.nextId++;return this.nextId===65536&&(this.nextId=1),s}getLastAllocated(){return this.nextId===1?65535:this.nextId-1}register(s){return!0}deallocate(s){}clear(){}};f.default=h}),ju=Se(f=>{ge(),me(),ye(),Object.defineProperty(f,"__esModule",{value:!0});var h=class{aliasToTopic;max;length;constructor(s){this.aliasToTopic={},this.max=s}put(s,a){return a===0||a>this.max?!1:(this.aliasToTopic[a]=s,this.length=Object.keys(this.aliasToTopic).length,!0)}getTopicByAlias(s){return this.aliasToTopic[s]}clear(){this.aliasToTopic={}}};f.default=h}),Mu=Se(f=>{ge(),me(),ye();var h=f&&f.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(f,"__esModule",{value:!0}),f.TypedEventEmitter=void 0;var s=h((Zt(),Ke(qt))),a=ar(),c=class{};f.TypedEventEmitter=c,(0,a.applyMixin)(c,s.default)}),en=Se((f,h)=>{ge(),me(),ye();function s(a){"@babel/helpers - typeof";return h.exports=s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},h.exports.__esModule=!0,h.exports.default=h.exports,s(a)}h.exports=s,h.exports.__esModule=!0,h.exports.default=h.exports}),Bu=Se((f,h)=>{ge(),me(),ye();var s=en().default;function a(c,n){if(s(c)!="object"||!c)return c;var r=c[Symbol.toPrimitive];if(r!==void 0){var t=r.call(c,n||"default");if(s(t)!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(c)}h.exports=a,h.exports.__esModule=!0,h.exports.default=h.exports}),Nu=Se((f,h)=>{ge(),me(),ye();var s=en().default,a=Bu();function c(n){var r=a(n,"string");return s(r)=="symbol"?r:r+""}h.exports=c,h.exports.__esModule=!0,h.exports.default=h.exports}),Uu=Se((f,h)=>{ge(),me(),ye();var s=Nu();function a(c,n,r){return(n=s(n))in c?Object.defineProperty(c,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):c[n]=r,c}h.exports=a,h.exports.__esModule=!0,h.exports.default=h.exports}),Lu=Se((f,h)=>{ge(),me(),ye();function s(a){if(Array.isArray(a))return a}h.exports=s,h.exports.__esModule=!0,h.exports.default=h.exports}),Du=Se((f,h)=>{ge(),me(),ye();function s(a,c){var n=a==null?null:typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(n!=null){var r,t,e,i,l=[],d=!0,p=!1;try{if(e=(n=n.call(a)).next,c===0){if(Object(n)!==n)return;d=!1}else for(;!(d=(r=e.call(n)).done)&&(l.push(r.value),l.length!==c);d=!0);}catch(g){p=!0,t=g}finally{try{if(!d&&n.return!=null&&(i=n.return(),Object(i)!==i))return}finally{if(p)throw t}}return l}}h.exports=s,h.exports.__esModule=!0,h.exports.default=h.exports}),Fu=Se((f,h)=>{ge(),me(),ye();function s(a,c){(c==null||c>a.length)&&(c=a.length);for(var n=0,r=Array(c);n<c;n++)r[n]=a[n];return r}h.exports=s,h.exports.__esModule=!0,h.exports.default=h.exports}),Wu=Se((f,h)=>{ge(),me(),ye();var s=Fu();function a(c,n){if(c){if(typeof c=="string")return s(c,n);var r={}.toString.call(c).slice(8,-1);return r==="Object"&&c.constructor&&(r=c.constructor.name),r==="Map"||r==="Set"?Array.from(c):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(c,n):void 0}}h.exports=a,h.exports.__esModule=!0,h.exports.default=h.exports}),$u=Se((f,h)=>{ge(),me(),ye();function s(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}h.exports=s,h.exports.__esModule=!0,h.exports.default=h.exports}),qu=Se((f,h)=>{ge(),me(),ye();var s=Lu(),a=Du(),c=Wu(),n=$u();function r(t,e){return s(t)||a(t,e)||c(t,e)||n()}h.exports=r,h.exports.__esModule=!0,h.exports.default=h.exports}),Pa=Se((f,h)=>{ge(),me(),ye(),(function(s,a){typeof f=="object"&&typeof h<"u"?a(f):typeof define=="function"&&define.amd?define(["exports"],a):(s=typeof globalThis<"u"?globalThis:s||self,a(s.fastUniqueNumbers={}))})(f,function(s){var a=function(g){return function(b){var E=g(b);return b.add(E),E}},c=function(g){return function(b,E){return g.set(b,E),E}},n=Number.MAX_SAFE_INTEGER===void 0?9007199254740991:Number.MAX_SAFE_INTEGER,r=536870912,t=r*2,e=function(g,b){return function(E){var S=b.get(E),x=S===void 0?E.size:S<t?S+1:0;if(!E.has(x))return g(E,x);if(E.size<r){for(;E.has(x);)x=Math.floor(Math.random()*t);return g(E,x)}if(E.size>n)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;E.has(x);)x=Math.floor(Math.random()*n);return g(E,x)}},i=new WeakMap,l=c(i),d=e(l,i),p=a(d);s.addUniqueNumber=p,s.generateUniqueNumber=d})}),Vu=Se((f,h)=>{ge(),me(),ye();function s(c,n,r,t,e,i,l){try{var d=c[i](l),p=d.value}catch(g){return void r(g)}d.done?n(p):Promise.resolve(p).then(t,e)}function a(c){return function(){var n=this,r=arguments;return new Promise(function(t,e){var i=c.apply(n,r);function l(p){s(i,t,e,l,d,"next",p)}function d(p){s(i,t,e,l,d,"throw",p)}l(void 0)})}}h.exports=a,h.exports.__esModule=!0,h.exports.default=h.exports}),ka=Se((f,h)=>{ge(),me(),ye();function s(a,c){this.v=a,this.k=c}h.exports=s,h.exports.__esModule=!0,h.exports.default=h.exports}),Ta=Se((f,h)=>{ge(),me(),ye();function s(a,c,n,r){var t=Object.defineProperty;try{t({},"",{})}catch{t=0}h.exports=s=function(e,i,l,d){function p(g,b){s(e,g,function(E){return this._invoke(g,b,E)})}i?t?t(e,i,{value:l,enumerable:!d,configurable:!d,writable:!d}):e[i]=l:(p("next",0),p("throw",1),p("return",2))},h.exports.__esModule=!0,h.exports.default=h.exports,s(a,c,n,r)}h.exports=s,h.exports.__esModule=!0,h.exports.default=h.exports}),Ca=Se((f,h)=>{ge(),me(),ye();var s=Ta();function a(){var c,n,r=typeof Symbol=="function"?Symbol:{},t=r.iterator||"@@iterator",e=r.toStringTag||"@@toStringTag";function i(x,y,v,A){var _=y&&y.prototype instanceof d?y:d,C=Object.create(_.prototype);return s(C,"_invoke",(function(w,I,k){var j,U,P,z=0,G=k||[],q=!1,he={p:0,n:0,v:c,a:ne,f:ne.bind(c,4),d:function(te,ce){return j=te,U=0,P=c,he.n=ce,l}};function ne(te,ce){for(U=te,P=ce,n=0;!q&&z&&!V&&n<G.length;n++){var V,le=G[n],M=he.p,ee=le[2];te>3?(V=ee===ce)&&(P=le[(U=le[4])?5:(U=3,3)],le[4]=le[5]=c):le[0]<=M&&((V=te<2&&M<le[1])?(U=0,he.v=ce,he.n=le[1]):M<ee&&(V=te<3||le[0]>ce||ce>ee)&&(le[4]=te,le[5]=ce,he.n=ee,U=0))}if(V||te>1)return l;throw q=!0,ce}return function(te,ce,V){if(z>1)throw TypeError("Generator is already running");for(q&&ce===1&&ne(ce,V),U=ce,P=V;(n=U<2?c:P)||!q;){j||(U?U<3?(U>1&&(he.n=-1),ne(U,P)):he.n=P:he.v=P);try{if(z=2,j){if(U||(te="next"),n=j[te]){if(!(n=n.call(j,P)))throw TypeError("iterator result is not an object");if(!n.done)return n;P=n.value,U<2&&(U=0)}else U===1&&(n=j.return)&&n.call(j),U<2&&(P=TypeError("The iterator does not provide a '"+te+"' method"),U=1);j=c}else if((n=(q=he.n<0)?P:w.call(I,he))!==l)break}catch(le){j=c,U=1,P=le}finally{z=1}}return{value:n,done:q}}})(x,v,A),!0),C}var l={};function d(){}function p(){}function g(){}n=Object.getPrototypeOf;var b=[][t]?n(n([][t]())):(s(n={},t,function(){return this}),n),E=g.prototype=d.prototype=Object.create(b);function S(x){return Object.setPrototypeOf?Object.setPrototypeOf(x,g):(x.__proto__=g,s(x,e,"GeneratorFunction")),x.prototype=Object.create(E),x}return p.prototype=g,s(E,"constructor",g),s(g,"constructor",p),p.displayName="GeneratorFunction",s(g,e,"GeneratorFunction"),s(E),s(E,e,"Generator"),s(E,t,function(){return this}),s(E,"toString",function(){return"[object Generator]"}),(h.exports=a=function(){return{w:i,m:S}},h.exports.__esModule=!0,h.exports.default=h.exports)()}h.exports=a,h.exports.__esModule=!0,h.exports.default=h.exports}),Ra=Se((f,h)=>{ge(),me(),ye();var s=ka(),a=Ta();function c(n,r){function t(i,l,d,p){try{var g=n[i](l),b=g.value;return b instanceof s?r.resolve(b.v).then(function(E){t("next",E,d,p)},function(E){t("throw",E,d,p)}):r.resolve(b).then(function(E){g.value=E,d(g)},function(E){return t("throw",E,d,p)})}catch(E){p(E)}}var e;this.next||(a(c.prototype),a(c.prototype,typeof Symbol=="function"&&Symbol.asyncIterator||"@asyncIterator",function(){return this})),a(this,"_invoke",function(i,l,d){function p(){return new r(function(g,b){t(i,d,g,b)})}return e=e?e.then(p,p):p()},!0)}h.exports=c,h.exports.__esModule=!0,h.exports.default=h.exports}),ja=Se((f,h)=>{ge(),me(),ye();var s=Ca(),a=Ra();function c(n,r,t,e,i){return new a(s().w(n,r,t,e),i||Promise)}h.exports=c,h.exports.__esModule=!0,h.exports.default=h.exports}),zu=Se((f,h)=>{ge(),me(),ye();var s=ja();function a(c,n,r,t,e){var i=s(c,n,r,t,e);return i.next().then(function(l){return l.done?l.value:i.next()})}h.exports=a,h.exports.__esModule=!0,h.exports.default=h.exports}),Ku=Se((f,h)=>{ge(),me(),ye();function s(a){var c=Object(a),n=[];for(var r in c)n.unshift(r);return function t(){for(;n.length;)if((r=n.pop())in c)return t.value=r,t.done=!1,t;return t.done=!0,t}}h.exports=s,h.exports.__esModule=!0,h.exports.default=h.exports}),Hu=Se((f,h)=>{ge(),me(),ye();var s=en().default;function a(c){if(c!=null){var n=c[typeof Symbol=="function"&&Symbol.iterator||"@@iterator"],r=0;if(n)return n.call(c);if(typeof c.next=="function")return c;if(!isNaN(c.length))return{next:function(){return c&&r>=c.length&&(c=void 0),{value:c&&c[r++],done:!c}}}}throw new TypeError(s(c)+" is not iterable")}h.exports=a,h.exports.__esModule=!0,h.exports.default=h.exports}),Gu=Se((f,h)=>{ge(),me(),ye();var s=ka(),a=Ca(),c=zu(),n=ja(),r=Ra(),t=Ku(),e=Hu();function i(){var l=a(),d=l.m(i),p=(Object.getPrototypeOf?Object.getPrototypeOf(d):d.__proto__).constructor;function g(S){var x=typeof S=="function"&&S.constructor;return!!x&&(x===p||(x.displayName||x.name)==="GeneratorFunction")}var b={throw:1,return:2,break:3,continue:3};function E(S){var x,y;return function(v){x||(x={stop:function(){return y(v.a,2)},catch:function(){return v.v},abrupt:function(A,_){return y(v.a,b[A],_)},delegateYield:function(A,_,C){return x.resultName=_,y(v.d,e(A),C)},finish:function(A){return y(v.f,A)}},y=function(A,_,C){v.p=x.prev,v.n=x.next;try{return A(_,C)}finally{x.next=v.n}}),x.resultName&&(x[x.resultName]=v.v,x.resultName=void 0),x.sent=v.v,x.next=v.n;try{return S.call(this,x)}finally{v.p=x.prev,v.n=x.next}}}return(h.exports=i=function(){return{wrap:function(S,x,y,v){return l.w(E(S),x,y,v&&v.reverse())},isGeneratorFunction:g,mark:l.m,awrap:function(S,x){return new s(S,x)},AsyncIterator:r,async:function(S,x,y,v,A){return(g(x)?n:c)(E(S),x,y,v,A)},keys:t,values:e}},h.exports.__esModule=!0,h.exports.default=h.exports)()}h.exports=i,h.exports.__esModule=!0,h.exports.default=h.exports}),Qu=Se((f,h)=>{ge(),me(),ye();var s=Gu()();h.exports=s;try{regeneratorRuntime=s}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=s:Function("r","regeneratorRuntime = r")(s)}}),Yu=Se((f,h)=>{ge(),me(),ye(),(function(s,a){typeof f=="object"&&typeof h<"u"?a(f,Uu(),qu(),Pa(),Vu(),Qu()):typeof define=="function"&&define.amd?define(["exports","@babel/runtime/helpers/defineProperty","@babel/runtime/helpers/slicedToArray","fast-unique-numbers","@babel/runtime/helpers/asyncToGenerator","@babel/runtime/regenerator"],a):(s=typeof globalThis<"u"?globalThis:s||self,a(s.brokerFactory={},s._defineProperty,s._slicedToArray,s.fastUniqueNumbers,s._asyncToGenerator,s._regeneratorRuntime))})(f,function(s,a,c,n,r,t){var e=function(y){return typeof y.start=="function"},i=new WeakMap;function l(y,v){var A=Object.keys(y);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(y);v&&(_=_.filter(function(C){return Object.getOwnPropertyDescriptor(y,C).enumerable})),A.push.apply(A,_)}return A}function d(y){for(var v=1;v<arguments.length;v++){var A=arguments[v]!=null?arguments[v]:{};v%2?l(Object(A),!0).forEach(function(_){a(y,_,A[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(y,Object.getOwnPropertyDescriptors(A)):l(Object(A)).forEach(function(_){Object.defineProperty(y,_,Object.getOwnPropertyDescriptor(A,_))})}return y}var p=function(y){return d(d({},y),{},{connect:function(v){var A=v.call;return r(t.mark(function _(){var C,w,I,k;return t.wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return C=new MessageChannel,w=C.port1,I=C.port2,j.next=1,A("connect",{port:w},[w]);case 1:return k=j.sent,i.set(I,k),j.abrupt("return",I);case 2:case"end":return j.stop()}},_)}))},disconnect:function(v){var A=v.call;return(function(){var _=r(t.mark(function C(w){var I;return t.wrap(function(k){for(;;)switch(k.prev=k.next){case 0:if(I=i.get(w),I!==void 0){k.next=1;break}throw new Error("The given port is not connected.");case 1:return k.next=2,A("disconnect",{portId:I});case 2:case"end":return k.stop()}},C)}));return function(C){return _.apply(this,arguments)}})()},isSupported:function(v){var A=v.call;return function(){return A("isSupported")}}})};function g(y,v){var A=Object.keys(y);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(y);v&&(_=_.filter(function(C){return Object.getOwnPropertyDescriptor(y,C).enumerable})),A.push.apply(A,_)}return A}function b(y){for(var v=1;v<arguments.length;v++){var A=arguments[v]!=null?arguments[v]:{};v%2?g(Object(A),!0).forEach(function(_){a(y,_,A[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(y,Object.getOwnPropertyDescriptors(A)):g(Object(A)).forEach(function(_){Object.defineProperty(y,_,Object.getOwnPropertyDescriptor(A,_))})}return y}var E=new WeakMap,S=function(y){if(E.has(y))return E.get(y);var v=new Map;return E.set(y,v),v},x=function(y){var v=p(y);return function(A){var _=S(A);A.addEventListener("message",function(G){var q=G.data,he=q.id;if(he!==null&&_.has(he)){var ne=_.get(he),te=ne.reject,ce=ne.resolve;_.delete(he),q.error===void 0?ce(q.result):te(new Error(q.error.message))}}),e(A)&&A.start();for(var C=function(G){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,he=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];return new Promise(function(ne,te){var ce=n.generateUniqueNumber(_);_.set(ce,{reject:te,resolve:ne}),q===null?A.postMessage({id:ce,method:G},he):A.postMessage({id:ce,method:G,params:q},he)})},w=function(G,q){var he=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];A.postMessage({id:null,method:G,params:q},he)},I={},k=0,j=Object.entries(v);k<j.length;k++){var U=c(j[k],2),P=U[0],z=U[1];I=b(b({},I),{},a({},P,z({call:C,notify:w})))}return b({},I)}};s.createBroker=x})}),Ju=Se((f,h)=>{ge(),me(),ye(),(function(s,a){typeof f=="object"&&typeof h<"u"?a(f,en(),Yu(),Pa()):typeof define=="function"&&define.amd?define(["exports","@babel/runtime/helpers/typeof","broker-factory","fast-unique-numbers"],a):(s=typeof globalThis<"u"?globalThis:s||self,a(s.workerTimersBroker={},s._typeof,s.brokerFactory,s.fastUniqueNumbers))})(f,function(s,a,c,n){var r=new Map([[0,null]]),t=new Map([[0,null]]),e=c.createBroker({clearInterval:function(l){var d=l.call;return function(p){a(r.get(p))==="symbol"&&(r.set(p,null),d("clear",{timerId:p,timerType:"interval"}).then(function(){r.delete(p)}))}},clearTimeout:function(l){var d=l.call;return function(p){a(t.get(p))==="symbol"&&(t.set(p,null),d("clear",{timerId:p,timerType:"timeout"}).then(function(){t.delete(p)}))}},setInterval:function(l){var d=l.call;return function(p){for(var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,b=arguments.length,E=new Array(b>2?b-2:0),S=2;S<b;S++)E[S-2]=arguments[S];var x=Symbol(),y=n.generateUniqueNumber(r);r.set(y,x);var v=function(){return d("set",{delay:g,now:performance.timeOrigin+performance.now(),timerId:y,timerType:"interval"}).then(function(){var A=r.get(y);if(A===void 0)throw new Error("The timer is in an undefined state.");A===x&&(p.apply(void 0,E),r.get(y)===x&&v())})};return v(),y}},setTimeout:function(l){var d=l.call;return function(p){for(var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,b=arguments.length,E=new Array(b>2?b-2:0),S=2;S<b;S++)E[S-2]=arguments[S];var x=Symbol(),y=n.generateUniqueNumber(t);return t.set(y,x),d("set",{delay:g,now:performance.timeOrigin+performance.now(),timerId:y,timerType:"timeout"}).then(function(){var v=t.get(y);if(v===void 0)throw new Error("The timer is in an undefined state.");v===x&&(t.delete(y),p.apply(void 0,E))}),y}}}),i=function(l){var d=new Worker(l);return e(d)};s.load=i,s.wrap=e})}),Xu=Se((f,h)=>{ge(),me(),ye(),(function(s,a){typeof f=="object"&&typeof h<"u"?a(f,Ju()):typeof define=="function"&&define.amd?define(["exports","worker-timers-broker"],a):(s=typeof globalThis<"u"?globalThis:s||self,a(s.workerTimers={},s.workerTimersBroker))})(f,function(s,a){var c=function(d,p){var g=null;return function(){if(g!==null)return g;var b=new Blob([p],{type:"application/javascript; charset=utf-8"}),E=URL.createObjectURL(b);return g=d(E),setTimeout(function(){return URL.revokeObjectURL(E)}),g}},n=`(()=>{var e={45:(e,t,r)=>{var n=r(738).default;e.exports=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},79:e=>{e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n},e.exports.__esModule=!0,e.exports.default=e.exports},122:(e,t,r)=>{var n=r(79);e.exports=function(e,t){if(e){if("string"==typeof e)return n(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},156:e=>{e.exports=function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,u,a,i=[],s=!0,c=!1;try{if(u=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=u.call(r)).done)&&(i.push(n.value),i.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return i}},e.exports.__esModule=!0,e.exports.default=e.exports},172:e=>{e.exports=function(e,t){this.v=e,this.k=t},e.exports.__esModule=!0,e.exports.default=e.exports},293:e=>{function t(e,t,r,n,o,u,a){try{var i=e[u](a),s=i.value}catch(e){return void r(e)}i.done?t(s):Promise.resolve(s).then(n,o)}e.exports=function(e){return function(){var r=this,n=arguments;return new Promise((function(o,u){var a=e.apply(r,n);function i(e){t(a,o,u,i,s,"next",e)}function s(e){t(a,o,u,i,s,"throw",e)}i(void 0)}))}},e.exports.__esModule=!0,e.exports.default=e.exports},373:e=>{e.exports=function(e){var t=Object(e),r=[];for(var n in t)r.unshift(n);return function e(){for(;r.length;)if((n=r.pop())in t)return e.value=n,e.done=!1,e;return e.done=!0,e}},e.exports.__esModule=!0,e.exports.default=e.exports},389:function(e,t){!function(e){"use strict";var t=function(e){return function(t){var r=e(t);return t.add(r),r}},r=function(e){return function(t,r){return e.set(t,r),r}},n=void 0===Number.MAX_SAFE_INTEGER?9007199254740991:Number.MAX_SAFE_INTEGER,o=536870912,u=2*o,a=function(e,t){return function(r){var a=t.get(r),i=void 0===a?r.size:a<u?a+1:0;if(!r.has(i))return e(r,i);if(r.size<o){for(;r.has(i);)i=Math.floor(Math.random()*u);return e(r,i)}if(r.size>n)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;r.has(i);)i=Math.floor(Math.random()*n);return e(r,i)}},i=new WeakMap,s=r(i),c=a(s,i),f=t(c);e.addUniqueNumber=f,e.generateUniqueNumber=c}(t)},472:function(e,t,r){!function(e,t,r,n){"use strict";var o=function(e,t){return function(r){var o=t.get(r);if(void 0===o)return Promise.resolve(!1);var u=n(o,2),a=u[0],i=u[1];return e(a),t.delete(r),i(!1),Promise.resolve(!0)}},u=function(e,t){var r=function(n,o,u,a){var i=n-e.now();i>0?o.set(a,[t(r,i,n,o,u,a),u]):(o.delete(a),u(!0))};return r},a=function(e,t,r,n){return function(o,u,a){var i=o+u-t.timeOrigin,s=i-t.now();return new Promise((function(t){e.set(a,[r(n,s,i,e,t,a),t])}))}},i=new Map,s=o(globalThis.clearTimeout,i),c=new Map,f=o(globalThis.clearTimeout,c),l=u(performance,globalThis.setTimeout),p=a(i,performance,globalThis.setTimeout,l),d=a(c,performance,globalThis.setTimeout,l);r.createWorker(self,{clear:function(){var r=e(t.mark((function e(r){var n,o,u;return t.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.timerId,o=r.timerType,e.next=1,"interval"===o?s(n):f(n);case 1:return u=e.sent,e.abrupt("return",{result:u});case 2:case"end":return e.stop()}}),e)})));function n(e){return r.apply(this,arguments)}return n}(),set:function(){var r=e(t.mark((function e(r){var n,o,u,a,i;return t.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.delay,o=r.now,u=r.timerId,a=r.timerType,e.next=1,("interval"===a?p:d)(n,o,u);case 1:return i=e.sent,e.abrupt("return",{result:i});case 2:case"end":return e.stop()}}),e)})));function n(e){return r.apply(this,arguments)}return n}()})}(r(293),r(756),r(623),r(715))},546:e=>{function t(r,n,o,u){var a=Object.defineProperty;try{a({},"",{})}catch(r){a=0}e.exports=t=function(e,r,n,o){if(r)a?a(e,r,{value:n,enumerable:!o,configurable:!o,writable:!o}):e[r]=n;else{var u=function(r,n){t(e,r,(function(e){return this._invoke(r,n,e)}))};u("next",0),u("throw",1),u("return",2)}},e.exports.__esModule=!0,e.exports.default=e.exports,t(r,n,o,u)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},579:(e,t,r)=>{var n=r(738).default;e.exports=function(e){if(null!=e){var t=e["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],r=0;if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}}throw new TypeError(n(e)+" is not iterable")},e.exports.__esModule=!0,e.exports.default=e.exports},623:function(e,t,r){!function(e,t,r,n,o){"use strict";var u={INTERNAL_ERROR:-32603,INVALID_PARAMS:-32602,METHOD_NOT_FOUND:-32601},a=function(e,t){return Object.assign(new Error(e),{status:t})},i=function(e){return a('The requested method called "'.concat(e,'" is not supported.'),u.METHOD_NOT_FOUND)},s=function(e){return a('The handler of the method called "'.concat(e,'" returned no required result.'),u.INTERNAL_ERROR)},c=function(e){return a('The handler of the method called "'.concat(e,'" returned an unexpected result.'),u.INTERNAL_ERROR)},f=function(e){return a('The specified parameter called "portId" with the given value "'.concat(e,'" does not identify a port connected to this worker.'),u.INVALID_PARAMS)},l=function(e,n){return function(){var o=t(r.mark((function t(o){var u,a,f,l,p,d,v,x,y,b,h,m,_,g,w;return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(u=o.data,a=u.id,f=u.method,l=u.params,p=n[f],t.prev=1,void 0!==p){t.next=2;break}throw i(f);case 2:if(void 0!==(d=void 0===l?p():p(l))){t.next=3;break}throw s(f);case 3:if(!(d instanceof Promise)){t.next=5;break}return t.next=4,d;case 4:g=t.sent,t.next=6;break;case 5:g=d;case 6:if(v=g,null!==a){t.next=8;break}if(void 0===v.result){t.next=7;break}throw c(f);case 7:t.next=10;break;case 8:if(void 0!==v.result){t.next=9;break}throw c(f);case 9:x=v.result,y=v.transferables,b=void 0===y?[]:y,e.postMessage({id:a,result:x},b);case 10:t.next=12;break;case 11:t.prev=11,w=t.catch(1),h=w.message,m=w.status,_=void 0===m?-32603:m,e.postMessage({error:{code:_,message:h},id:a});case 12:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return o.apply(this,arguments)}}()},p=function(){return new Promise((function(e){var t=new ArrayBuffer(0),r=new MessageChannel,n=r.port1,o=r.port2;n.onmessage=function(t){var r=t.data;return e(null!==r)},o.postMessage(t,[t])}))};function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var x=new Map,y=function(e,n,u){return v(v({},n),{},{connect:function(t){var r=t.port;r.start();var u=e(r,n),a=o.generateUniqueNumber(x);return x.set(a,(function(){u(),r.close(),x.delete(a)})),{result:a}},disconnect:function(e){var t=e.portId,r=x.get(t);if(void 0===r)throw f(t);return r(),{result:null}},isSupported:function(){var e=t(r.mark((function e(){var t,n,o;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=1,p();case 1:if(!e.sent){e.next=5;break}if(!((t=u())instanceof Promise)){e.next=3;break}return e.next=2,t;case 2:o=e.sent,e.next=4;break;case 3:o=t;case 4:return n=o,e.abrupt("return",{result:n});case 5:return e.abrupt("return",{result:!1});case 6:case"end":return e.stop()}}),e)})));function n(){return e.apply(this,arguments)}return n}()})},b=function(e,t){var r=y(b,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return!0}),n=l(e,r);return e.addEventListener("message",n),function(){return e.removeEventListener("message",n)}};e.createWorker=b,e.isSupported=p}(t,r(293),r(756),r(693),r(389))},633:(e,t,r)=>{var n=r(172),o=r(993),u=r(869),a=r(887),i=r(791),s=r(373),c=r(579);function f(){"use strict";var t=o(),r=t.m(f),l=(Object.getPrototypeOf?Object.getPrototypeOf(r):r.__proto__).constructor;function p(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===l||"GeneratorFunction"===(t.displayName||t.name))}var d={throw:1,return:2,break:3,continue:3};function v(e){var t,r;return function(n){t||(t={stop:function(){return r(n.a,2)},catch:function(){return n.v},abrupt:function(e,t){return r(n.a,d[e],t)},delegateYield:function(e,o,u){return t.resultName=o,r(n.d,c(e),u)},finish:function(e){return r(n.f,e)}},r=function(e,r,o){n.p=t.prev,n.n=t.next;try{return e(r,o)}finally{t.next=n.n}}),t.resultName&&(t[t.resultName]=n.v,t.resultName=void 0),t.sent=n.v,t.next=n.n;try{return e.call(this,t)}finally{n.p=t.prev,n.n=t.next}}}return(e.exports=f=function(){return{wrap:function(e,r,n,o){return t.w(v(e),r,n,o&&o.reverse())},isGeneratorFunction:p,mark:t.m,awrap:function(e,t){return new n(e,t)},AsyncIterator:i,async:function(e,t,r,n,o){return(p(t)?a:u)(v(e),t,r,n,o)},keys:s,values:c}},e.exports.__esModule=!0,e.exports.default=e.exports)()}e.exports=f,e.exports.__esModule=!0,e.exports.default=e.exports},693:(e,t,r)=>{var n=r(736);e.exports=function(e,t,r){return(t=n(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},e.exports.__esModule=!0,e.exports.default=e.exports},715:(e,t,r)=>{var n=r(987),o=r(156),u=r(122),a=r(752);e.exports=function(e,t){return n(e)||o(e,t)||u(e,t)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},736:(e,t,r)=>{var n=r(738).default,o=r(45);e.exports=function(e){var t=o(e,"string");return"symbol"==n(t)?t:t+""},e.exports.__esModule=!0,e.exports.default=e.exports},738:e=>{function t(r){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},752:e=>{e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},756:(e,t,r)=>{var n=r(633)();e.exports=n;try{regeneratorRuntime=n}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=n:Function("r","regeneratorRuntime = r")(n)}},791:(e,t,r)=>{var n=r(172),o=r(546);e.exports=function e(t,r){function u(e,o,a,i){try{var s=t[e](o),c=s.value;return c instanceof n?r.resolve(c.v).then((function(e){u("next",e,a,i)}),(function(e){u("throw",e,a,i)})):r.resolve(c).then((function(e){s.value=e,a(s)}),(function(e){return u("throw",e,a,i)}))}catch(e){i(e)}}var a;this.next||(o(e.prototype),o(e.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",(function(){return this}))),o(this,"_invoke",(function(e,t,n){function o(){return new r((function(t,r){u(e,n,t,r)}))}return a=a?a.then(o,o):o()}),!0)},e.exports.__esModule=!0,e.exports.default=e.exports},869:(e,t,r)=>{var n=r(887);e.exports=function(e,t,r,o,u){var a=n(e,t,r,o,u);return a.next().then((function(e){return e.done?e.value:a.next()}))},e.exports.__esModule=!0,e.exports.default=e.exports},887:(e,t,r)=>{var n=r(993),o=r(791);e.exports=function(e,t,r,u,a){return new o(n().w(e,t,r,u),a||Promise)},e.exports.__esModule=!0,e.exports.default=e.exports},987:e=>{e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},993:(e,t,r)=>{var n=r(546);function o(){var t,r,u="function"==typeof Symbol?Symbol:{},a=u.iterator||"@@iterator",i=u.toStringTag||"@@toStringTag";function s(e,o,u,a){var i=o&&o.prototype instanceof f?o:f,s=Object.create(i.prototype);return n(s,"_invoke",function(e,n,o){var u,a,i,s=0,f=o||[],l=!1,p={p:0,n:0,v:t,a:d,f:d.bind(t,4),d:function(e,r){return u=e,a=0,i=t,p.n=r,c}};function d(e,n){for(a=e,i=n,r=0;!l&&s&&!o&&r<f.length;r++){var o,u=f[r],d=p.p,v=u[2];e>3?(o=v===n)&&(i=u[(a=u[4])?5:(a=3,3)],u[4]=u[5]=t):u[0]<=d&&((o=e<2&&d<u[1])?(a=0,p.v=n,p.n=u[1]):d<v&&(o=e<3||u[0]>n||n>v)&&(u[4]=e,u[5]=n,p.n=v,a=0))}if(o||e>1)return c;throw l=!0,n}return function(o,f,v){if(s>1)throw TypeError("Generator is already running");for(l&&1===f&&d(f,v),a=f,i=v;(r=a<2?t:i)||!l;){u||(a?a<3?(a>1&&(p.n=-1),d(a,i)):p.n=i:p.v=i);try{if(s=2,u){if(a||(o="next"),r=u[o]){if(!(r=r.call(u,i)))throw TypeError("iterator result is not an object");if(!r.done)return r;i=r.value,a<2&&(a=0)}else 1===a&&(r=u.return)&&r.call(u),a<2&&(i=TypeError("The iterator does not provide a '"+o+"' method"),a=1);u=t}else if((r=(l=p.n<0)?i:e.call(n,p))!==c)break}catch(e){u=t,a=1,i=e}finally{s=1}}return{value:r,done:l}}}(e,u,a),!0),s}var c={};function f(){}function l(){}function p(){}r=Object.getPrototypeOf;var d=[][a]?r(r([][a]())):(n(r={},a,(function(){return this})),r),v=p.prototype=f.prototype=Object.create(d);function x(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,n(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e}return l.prototype=p,n(v,"constructor",p),n(p,"constructor",l),l.displayName="GeneratorFunction",n(p,i,"GeneratorFunction"),n(v),n(v,i,"Generator"),n(v,a,(function(){return this})),n(v,"toString",(function(){return"[object Generator]"})),(e.exports=o=function(){return{w:s,m:x}},e.exports.__esModule=!0,e.exports.default=e.exports)()}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var u=t[n]={exports:{}};return e[n].call(u.exports,u,u.exports,r),u.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";r(472)})()})();`,r=c(a.load,n),t=function(d){return r().clearInterval(d)},e=function(d){return r().clearTimeout(d)},i=function(){var d;return(d=r()).setInterval.apply(d,arguments)},l=function(){var d;return(d=r()).setTimeout.apply(d,arguments)};s.clearInterval=t,s.clearTimeout=e,s.setInterval=i,s.setTimeout=l})}),tn=Se(f=>{ge(),me(),ye(),Object.defineProperty(f,"__esModule",{value:!0}),f.isReactNativeBrowser=f.isWebWorker=void 0;var h=()=>typeof window<"u"?typeof navigator<"u"&&navigator.userAgent?.toLowerCase().indexOf(" electron/")>-1&&Ge?.versions?!Object.prototype.hasOwnProperty.call(Ge.versions,"electron"):typeof window.document<"u":!1,s=()=>!!(typeof self=="object"&&self?.constructor?.name?.includes("WorkerGlobalScope")),a=()=>typeof navigator<"u"&&navigator.product==="ReactNative",c=h()||s()||a();f.isWebWorker=s(),f.isReactNativeBrowser=a(),f.default=c}),Zu=Se(f=>{ge(),me(),ye();var h=f&&f.__createBinding||(Object.create?function(i,l,d,p){p===void 0&&(p=d);var g=Object.getOwnPropertyDescriptor(l,d);(!g||("get"in g?!l.__esModule:g.writable||g.configurable))&&(g={enumerable:!0,get:function(){return l[d]}}),Object.defineProperty(i,p,g)}:function(i,l,d,p){p===void 0&&(p=d),i[p]=l[d]}),s=f&&f.__setModuleDefault||(Object.create?function(i,l){Object.defineProperty(i,"default",{enumerable:!0,value:l})}:function(i,l){i.default=l}),a=f&&f.__importStar||(function(){var i=function(l){return i=Object.getOwnPropertyNames||function(d){var p=[];for(var g in d)Object.prototype.hasOwnProperty.call(d,g)&&(p[p.length]=g);return p},i(l)};return function(l){if(l&&l.__esModule)return l;var d={};if(l!=null)for(var p=i(l),g=0;g<p.length;g++)p[g]!=="default"&&h(d,l,p[g]);return s(d,l),d}})();Object.defineProperty(f,"__esModule",{value:!0});var c=Xu(),n=a(tn()),r={set:c.setInterval,clear:c.clearInterval},t={set:(i,l)=>setInterval(i,l),clear:i=>clearInterval(i)},e=i=>{switch(i){case"native":return t;case"worker":return r;case"auto":default:return n.default&&!n.isWebWorker&&!n.isReactNativeBrowser?r:t}};f.default=e}),Ma=Se(f=>{ge(),me(),ye();var h=f&&f.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(f,"__esModule",{value:!0});var s=h(Zu()),a=class{_keepalive;timerId;timer;destroyed=!1;counter;client;_keepaliveTimeoutTimestamp;_intervalEvery;get keepaliveTimeoutTimestamp(){return this._keepaliveTimeoutTimestamp}get intervalEvery(){return this._intervalEvery}get keepalive(){return this._keepalive}constructor(c,n){this.client=c,this.timer=typeof n=="object"&&"set"in n&&"clear"in n?n:(0,s.default)(n),this.setKeepalive(c.options.keepalive)}clear(){this.timerId&&(this.timer.clear(this.timerId),this.timerId=null)}setKeepalive(c){if(c*=1e3,isNaN(c)||c<=0||c>2147483647)throw new Error(`Keepalive value must be an integer between 0 and 2147483647. Provided value is ${c}`);this._keepalive=c,this.reschedule(),this.client.log(`KeepaliveManager: set keepalive to ${c}ms`)}destroy(){this.clear(),this.destroyed=!0}reschedule(){if(this.destroyed)return;this.clear(),this.counter=0;let c=Math.ceil(this._keepalive*1.5);this._keepaliveTimeoutTimestamp=Date.now()+c,this._intervalEvery=Math.ceil(this._keepalive/2),this.timerId=this.timer.set(()=>{this.destroyed||(this.counter+=1,this.counter===2?this.client.sendPing():this.counter>2&&this.client.onKeepaliveTimeout())},this._intervalEvery)}};f.default=a}),wi=Se(f=>{var _;ge(),me(),ye();var h=f&&f.__createBinding||(Object.create?function(C,w,I,k){k===void 0&&(k=I);var j=Object.getOwnPropertyDescriptor(w,I);(!j||("get"in j?!w.__esModule:j.writable||j.configurable))&&(j={enumerable:!0,get:function(){return w[I]}}),Object.defineProperty(C,k,j)}:function(C,w,I,k){k===void 0&&(k=I),C[k]=w[I]}),s=f&&f.__setModuleDefault||(Object.create?function(C,w){Object.defineProperty(C,"default",{enumerable:!0,value:w})}:function(C,w){C.default=w}),a=f&&f.__importStar||(function(){var C=function(w){return C=Object.getOwnPropertyNames||function(I){var k=[];for(var j in I)Object.prototype.hasOwnProperty.call(I,j)&&(k[k.length]=j);return k},C(w)};return function(w){if(w&&w.__esModule)return w;var I={};if(w!=null)for(var k=C(w),j=0;j<k.length;j++)k[j]!=="default"&&h(I,w,k[j]);return s(I,w),I}})(),c=f&&f.__importDefault||function(C){return C&&C.__esModule?C:{default:C}};Object.defineProperty(f,"__esModule",{value:!0});var n=c(lu()),r=tr(),t=c(cu()),e=c(Tt()),i=a(hu()),l=c(ca()),d=c(Ru()),p=c(Oa()),g=c(ju()),b=ar(),E=Mu(),S=c(Ma()),x=a(tn()),y=globalThis.setImmediate||((...C)=>{let w=C.shift();(0,b.nextTick)(()=>{w(...C)})}),v={keepalive:60,reschedulePings:!0,protocolId:"MQTT",protocolVersion:4,reconnectPeriod:1e3,connectTimeout:30*1e3,clean:!0,resubscribe:!0,subscribeBatchSize:null,writeCache:!0,timerVariant:"auto"},A=(_=class extends E.TypedEventEmitter{connected;disconnecting;disconnected;reconnecting;incomingStore;outgoingStore;options;queueQoSZero;_reconnectCount;log;messageIdProvider;outgoing;messageIdToTopic;noop;keepaliveManager;stream;queue;streamBuilder;_resubscribeTopics;connackTimer;reconnectTimer;_storeProcessing;_packetIdsDuringStoreProcessing;_storeProcessingQueue;_firstConnection;topicAliasRecv;topicAliasSend;_deferredReconnect;connackPacket;static defaultId(){return`mqttjs_${Math.random().toString(16).substr(2,8)}`}constructor(w,I){super(),this.options=I||{};for(let k in v)typeof this.options[k]>"u"?this.options[k]=v[k]:this.options[k]=I[k];this.log=this.options.log||(0,e.default)("mqttjs:client"),this.noop=this._noop.bind(this),this.log("MqttClient :: version:",_.VERSION),x.isWebWorker?this.log("MqttClient :: environment","webworker"):this.log("MqttClient :: environment",x.default?"browser":"node"),this.log("MqttClient :: options.protocol",I.protocol),this.log("MqttClient :: options.protocolVersion",I.protocolVersion),this.log("MqttClient :: options.username",I.username),this.log("MqttClient :: options.keepalive",I.keepalive),this.log("MqttClient :: options.reconnectPeriod",I.reconnectPeriod),this.log("MqttClient :: options.rejectUnauthorized",I.rejectUnauthorized),this.log("MqttClient :: options.properties.topicAliasMaximum",I.properties?I.properties.topicAliasMaximum:void 0),this.options.clientId=typeof I.clientId=="string"?I.clientId:_.defaultId(),this.log("MqttClient :: clientId",this.options.clientId),this.options.customHandleAcks=I.protocolVersion===5&&I.customHandleAcks?I.customHandleAcks:(...k)=>{k[3](null,0)},this.options.writeCache||(n.default.writeToStream.cacheNumbers=!1),this.streamBuilder=w,this.messageIdProvider=typeof this.options.messageIdProvider>"u"?new p.default:this.options.messageIdProvider,this.outgoingStore=I.outgoingStore||new l.default,this.incomingStore=I.incomingStore||new l.default,this.queueQoSZero=I.queueQoSZero===void 0?!0:I.queueQoSZero,this._resubscribeTopics={},this.messageIdToTopic={},this.keepaliveManager=null,this.connected=!1,this.disconnecting=!1,this.reconnecting=!1,this.queue=[],this.connackTimer=null,this.reconnectTimer=null,this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={},this._storeProcessingQueue=[],this.outgoing={},this._firstConnection=!0,I.properties&&I.properties.topicAliasMaximum>0&&(I.properties.topicAliasMaximum>65535?this.log("MqttClient :: options.properties.topicAliasMaximum is out of range"):this.topicAliasRecv=new g.default(I.properties.topicAliasMaximum)),this.on("connect",()=>{let{queue:k}=this,j=()=>{let U=k.shift();this.log("deliver :: entry %o",U);let P=null;if(!U){this._resubscribe();return}P=U.packet,this.log("deliver :: call _sendPacket for %o",P);let z=!0;P.messageId&&P.messageId!==0&&(this.messageIdProvider.register(P.messageId)||(z=!1)),z?this._sendPacket(P,G=>{U.cb&&U.cb(G),j()}):(this.log("messageId: %d has already used. The message is skipped and removed.",P.messageId),j())};this.log("connect :: sending queued packets"),j()}),this.on("close",()=>{this.log("close :: connected set to `false`"),this.connected=!1,this.log("close :: clearing connackTimer"),clearTimeout(this.connackTimer),this._destroyKeepaliveManager(),this.topicAliasRecv&&this.topicAliasRecv.clear(),this.log("close :: calling _setupReconnect"),this._setupReconnect()}),this.options.manualConnect||(this.log("MqttClient :: setting up stream"),this.connect())}handleAuth(w,I){I()}handleMessage(w,I){I()}_nextId(){return this.messageIdProvider.allocate()}getLastMessageId(){return this.messageIdProvider.getLastAllocated()}connect(){let w=new r.Writable,I=n.default.parser(this.options),k=null,j=[];this.log("connect :: calling method to clear reconnect"),this._clearReconnect(),this.disconnected&&!this.reconnecting&&(this.incomingStore=this.options.incomingStore||new l.default,this.outgoingStore=this.options.outgoingStore||new l.default,this.disconnecting=!1,this.disconnected=!1),this.log("connect :: using streamBuilder provided to client to create stream"),this.stream=this.streamBuilder(this),I.on("packet",q=>{this.log("parser :: on packet push to packets array."),j.push(q)});let U=()=>{this.log("work :: getting next packet in queue");let q=j.shift();if(q)this.log("work :: packet pulled from queue"),(0,d.default)(this,q,P);else{this.log("work :: no packets in queue");let he=k;k=null,this.log("work :: done flag is %s",!!he),he&&he()}},P=()=>{if(j.length)(0,b.nextTick)(U);else{let q=k;k=null,q()}};w._write=(q,he,ne)=>{k=ne,this.log("writable stream :: parsing buffer"),I.parse(q),U()};let z=q=>{this.log("streamErrorHandler :: error",q.message),q.code?(this.log("streamErrorHandler :: emitting error"),this.emit("error",q)):this.noop(q)};this.log("connect :: pipe stream to writable stream"),this.stream.pipe(w),this.stream.on("error",z),this.stream.on("close",()=>{this.log("(%s)stream :: on close",this.options.clientId),this._flushVolatile(),this.log("stream: emit close to MqttClient"),this.emit("close")}),this.log("connect: sending packet `connect`");let G={cmd:"connect",protocolId:this.options.protocolId,protocolVersion:this.options.protocolVersion,clean:this.options.clean,clientId:this.options.clientId,keepalive:this.options.keepalive,username:this.options.username,password:this.options.password,properties:this.options.properties};if(this.options.will&&(G.will={...this.options.will,payload:this.options.will?.payload}),this.topicAliasRecv&&(G.properties||(G.properties={}),this.topicAliasRecv&&(G.properties.topicAliasMaximum=this.topicAliasRecv.max)),this._writePacket(G),I.on("error",this.emit.bind(this,"error")),this.options.properties){if(!this.options.properties.authenticationMethod&&this.options.properties.authenticationData)return this.end(()=>this.emit("error",new Error("Packet has no Authentication Method"))),this;if(this.options.properties.authenticationMethod&&this.options.authPacket&&typeof this.options.authPacket=="object"){let q={cmd:"auth",reasonCode:0,...this.options.authPacket};this._writePacket(q)}}return this.stream.setMaxListeners(1e3),clearTimeout(this.connackTimer),this.connackTimer=setTimeout(()=>{this.log("!!connectTimeout hit!! Calling _cleanUp with force `true`"),this.emit("error",new Error("connack timeout")),this._cleanUp(!0)},this.options.connectTimeout),this}publish(w,I,k,j){this.log("publish :: message `%s` to topic `%s`",I,w);let{options:U}=this;typeof k=="function"&&(j=k,k=null),k=k||{},k={qos:0,retain:!1,dup:!1,...k};let{qos:P,retain:z,dup:G,properties:q,cbStorePut:he}=k;if(this._checkDisconnecting(j))return this;let ne=()=>{let te=0;if((P===1||P===2)&&(te=this._nextId(),te===null))return this.log("No messageId left"),!1;let ce={cmd:"publish",topic:w,payload:I,qos:P,retain:z,messageId:te,dup:G};switch(U.protocolVersion===5&&(ce.properties=q),this.log("publish :: qos",P),P){case 1:case 2:this.outgoing[ce.messageId]={volatile:!1,cb:j||this.noop},this.log("MqttClient:publish: packet cmd: %s",ce.cmd),this._sendPacket(ce,void 0,he);break;default:this.log("MqttClient:publish: packet cmd: %s",ce.cmd),this._sendPacket(ce,j,he);break}return!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!ne())&&this._storeProcessingQueue.push({invoke:ne,cbStorePut:k.cbStorePut,callback:j}),this}publishAsync(w,I,k){return new Promise((j,U)=>{this.publish(w,I,k,(P,z)=>{P?U(P):j(z)})})}subscribe(w,I,k){let j=this.options.protocolVersion;typeof I=="function"&&(k=I),k=k||this.noop;let U=!1,P=[];typeof w=="string"?(w=[w],P=w):Array.isArray(w)?P=w:typeof w=="object"&&(U=w.resubscribe,delete w.resubscribe,P=Object.keys(w));let z=i.validateTopics(P);if(z!==null)return y(k,new Error(`Invalid topic ${z}`)),this;if(this._checkDisconnecting(k))return this.log("subscribe: discconecting true"),this;let G={qos:0};j===5&&(G.nl=!1,G.rap=!1,G.rh=0),I={...G,...I};let{properties:q}=I,he=[],ne=(V,le)=>{if(le=le||I,!Object.prototype.hasOwnProperty.call(this._resubscribeTopics,V)||this._resubscribeTopics[V].qos<le.qos||U){let M={topic:V,qos:le.qos};j===5&&(M.nl=le.nl,M.rap=le.rap,M.rh=le.rh,M.properties=q),this.log("subscribe: pushing topic `%s` and qos `%s` to subs list",M.topic,M.qos),he.push(M)}};if(Array.isArray(w)?w.forEach(V=>{this.log("subscribe: array topic %s",V),ne(V)}):Object.keys(w).forEach(V=>{this.log("subscribe: object topic %s, %o",V,w[V]),ne(V,w[V])}),!he.length)return k(null,[]),this;let te=(V,le)=>{let M={cmd:"subscribe",subscriptions:V,messageId:le};if(q&&(M.properties=q),this.options.resubscribe){this.log("subscribe :: resubscribe true");let Z=[];V.forEach(ue=>{if(this.options.reconnectPeriod>0){let Ae={qos:ue.qos};j===5&&(Ae.nl=ue.nl||!1,Ae.rap=ue.rap||!1,Ae.rh=ue.rh||0,Ae.properties=ue.properties),this._resubscribeTopics[ue.topic]=Ae,Z.push(ue.topic)}}),this.messageIdToTopic[M.messageId]=Z}let ee=new Promise((Z,ue)=>{this.outgoing[M.messageId]={volatile:!0,cb(Ae,Y){if(!Ae){let{granted:W}=Y;for(let oe=0;oe<W.length;oe+=1)V[oe].qos=W[oe]}Ae?ue(new b.ErrorWithSubackPacket(Ae.message,Y)):Z(Y)}}});return this.log("subscribe :: call _sendPacket"),this._sendPacket(M),ee},ce=()=>{let V=this.options.subscribeBatchSize??he.length,le=[];for(let M=0;M<he.length;M+=V){let ee=he.slice(M,M+V),Z=this._nextId();if(Z===null)return this.log("No messageId left"),!1;le.push(te(ee,Z))}return Promise.all(le).then(M=>{k(null,he,M.at(-1))}).catch(M=>{k(M,he,M.packet)}),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!ce())&&this._storeProcessingQueue.push({invoke:ce,callback:k}),this}subscribeAsync(w,I){return new Promise((k,j)=>{this.subscribe(w,I,(U,P)=>{U?j(U):k(P)})})}unsubscribe(w,I,k){typeof w=="string"&&(w=[w]),typeof I=="function"&&(k=I),k=k||this.noop;let j=i.validateTopics(w);if(j!==null)return y(k,new Error(`Invalid topic ${j}`)),this;if(this._checkDisconnecting(k))return this;let U=()=>{let P=this._nextId();if(P===null)return this.log("No messageId left"),!1;let z={cmd:"unsubscribe",messageId:P,unsubscriptions:[]};return typeof w=="string"?z.unsubscriptions=[w]:Array.isArray(w)&&(z.unsubscriptions=w),this.options.resubscribe&&z.unsubscriptions.forEach(G=>{delete this._resubscribeTopics[G]}),typeof I=="object"&&I.properties&&(z.properties=I.properties),this.outgoing[z.messageId]={volatile:!0,cb:k},this.log("unsubscribe: call _sendPacket"),this._sendPacket(z),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!U())&&this._storeProcessingQueue.push({invoke:U,callback:k}),this}unsubscribeAsync(w,I){return new Promise((k,j)=>{this.unsubscribe(w,I,(U,P)=>{U?j(U):k(P)})})}end(w,I,k){this.log("end :: (%s)",this.options.clientId),(w==null||typeof w!="boolean")&&(k=k||I,I=w,w=!1),typeof I!="object"&&(k=k||I,I=null),this.log("end :: cb? %s",!!k),(!k||typeof k!="function")&&(k=this.noop);let j=()=>{this.log("end :: closeStores: closing incoming and outgoing stores"),this.disconnected=!0,this.incomingStore.close(P=>{this.outgoingStore.close(z=>{if(this.log("end :: closeStores: emitting end"),this.emit("end"),k){let G=P||z;this.log("end :: closeStores: invoking callback with args"),k(G)}})}),this._deferredReconnect?this._deferredReconnect():(this.options.reconnectPeriod===0||this.options.manualConnect)&&(this.disconnecting=!1)},U=()=>{this.log("end :: (%s) :: finish :: calling _cleanUp with force %s",this.options.clientId,w),this._cleanUp(w,()=>{this.log("end :: finish :: calling process.nextTick on closeStores"),(0,b.nextTick)(j)},I)};return this.disconnecting?(k(),this):(this._clearReconnect(),this.disconnecting=!0,!w&&Object.keys(this.outgoing).length>0?(this.log("end :: (%s) :: calling finish in 10ms once outgoing is empty",this.options.clientId),this.once("outgoingEmpty",setTimeout.bind(null,U,10))):(this.log("end :: (%s) :: immediately calling finish",this.options.clientId),U()),this)}endAsync(w,I){return new Promise((k,j)=>{this.end(w,I,U=>{U?j(U):k()})})}removeOutgoingMessage(w){if(this.outgoing[w]){let{cb:I}=this.outgoing[w];this._removeOutgoingAndStoreMessage(w,()=>{I(new Error("Message removed"))})}return this}reconnect(w){this.log("client reconnect");let I=()=>{w?(this.options.incomingStore=w.incomingStore,this.options.outgoingStore=w.outgoingStore):(this.options.incomingStore=null,this.options.outgoingStore=null),this.incomingStore=this.options.incomingStore||new l.default,this.outgoingStore=this.options.outgoingStore||new l.default,this.disconnecting=!1,this.disconnected=!1,this._deferredReconnect=null,this._reconnect()};return this.disconnecting&&!this.disconnected?this._deferredReconnect=I:I(),this}_flushVolatile(){this.outgoing&&(this.log("_flushVolatile :: deleting volatile messages from the queue and setting their callbacks as error function"),Object.keys(this.outgoing).forEach(w=>{this.outgoing[w].volatile&&typeof this.outgoing[w].cb=="function"&&(this.outgoing[w].cb(new Error("Connection closed")),delete this.outgoing[w])}))}_flush(){this.outgoing&&(this.log("_flush: queue exists? %b",!!this.outgoing),Object.keys(this.outgoing).forEach(w=>{typeof this.outgoing[w].cb=="function"&&(this.outgoing[w].cb(new Error("Connection closed")),delete this.outgoing[w])}))}_removeTopicAliasAndRecoverTopicName(w){let I;w.properties&&(I=w.properties.topicAlias);let k=w.topic.toString();if(this.log("_removeTopicAliasAndRecoverTopicName :: alias %d, topic %o",I,k),k.length===0){if(typeof I>"u")return new Error("Unregistered Topic Alias");if(k=this.topicAliasSend.getTopicByAlias(I),typeof k>"u")return new Error("Unregistered Topic Alias");w.topic=k}I&&delete w.properties.topicAlias}_checkDisconnecting(w){return this.disconnecting&&(w&&w!==this.noop?w(new Error("client disconnecting")):this.emit("error",new Error("client disconnecting"))),this.disconnecting}_reconnect(){this.log("_reconnect: emitting reconnect to client"),this.emit("reconnect"),this.connected?(this.end(()=>{this.connect()}),this.log("client already connected. disconnecting first.")):(this.log("_reconnect: calling connect"),this.connect())}_setupReconnect(){!this.disconnecting&&!this.reconnectTimer&&this.options.reconnectPeriod>0?(this.reconnecting||(this.log("_setupReconnect :: emit `offline` state"),this.emit("offline"),this.log("_setupReconnect :: set `reconnecting` to `true`"),this.reconnecting=!0),this.log("_setupReconnect :: setting reconnectTimer for %d ms",this.options.reconnectPeriod),this.reconnectTimer=setInterval(()=>{this.log("reconnectTimer :: reconnect triggered!"),this._reconnect()},this.options.reconnectPeriod)):this.log("_setupReconnect :: doing nothing...")}_clearReconnect(){this.log("_clearReconnect : clearing reconnect timer"),this.reconnectTimer&&(clearInterval(this.reconnectTimer),this.reconnectTimer=null)}_cleanUp(w,I,k={}){if(I&&(this.log("_cleanUp :: done callback provided for on stream close"),this.stream.on("close",I)),this.log("_cleanUp :: forced? %s",w),w)this.options.reconnectPeriod===0&&this.options.clean&&this._flush(),this.log("_cleanUp :: (%s) :: destroying stream",this.options.clientId),this.stream.destroy();else{let j={cmd:"disconnect",...k};this.log("_cleanUp :: (%s) :: call _sendPacket with disconnect packet",this.options.clientId),this._sendPacket(j,()=>{this.log("_cleanUp :: (%s) :: destroying stream",this.options.clientId),y(()=>{this.stream.end(()=>{this.log("_cleanUp :: (%s) :: stream destroyed",this.options.clientId)})})})}!this.disconnecting&&!this.reconnecting&&(this.log("_cleanUp :: client not disconnecting/reconnecting. Clearing and resetting reconnect."),this._clearReconnect(),this._setupReconnect()),this._destroyKeepaliveManager(),I&&!this.connected&&(this.log("_cleanUp :: (%s) :: removing stream `done` callback `close` listener",this.options.clientId),this.stream.removeListener("close",I),I())}_storeAndSend(w,I,k){this.log("storeAndSend :: store packet with cmd %s to outgoingStore",w.cmd);let j=w,U;if(j.cmd==="publish"&&(j=(0,t.default)(w),U=this._removeTopicAliasAndRecoverTopicName(j),U))return I&&I(U);this.outgoingStore.put(j,P=>{if(P)return I&&I(P);k(),this._writePacket(w,I)})}_applyTopicAlias(w){if(this.options.protocolVersion===5&&w.cmd==="publish"){let I;w.properties&&(I=w.properties.topicAlias);let k=w.topic.toString();if(this.topicAliasSend)if(I){if(k.length!==0&&(this.log("applyTopicAlias :: register topic: %s - alias: %d",k,I),!this.topicAliasSend.put(k,I)))return this.log("applyTopicAlias :: error out of range. topic: %s - alias: %d",k,I),new Error("Sending Topic Alias out of range")}else k.length!==0&&(this.options.autoAssignTopicAlias?(I=this.topicAliasSend.getAliasByTopic(k),I?(w.topic="",w.properties={...w.properties,topicAlias:I},this.log("applyTopicAlias :: auto assign(use) topic: %s - alias: %d",k,I)):(I=this.topicAliasSend.getLruAlias(),this.topicAliasSend.put(k,I),w.properties={...w.properties,topicAlias:I},this.log("applyTopicAlias :: auto assign topic: %s - alias: %d",k,I))):this.options.autoUseTopicAlias&&(I=this.topicAliasSend.getAliasByTopic(k),I&&(w.topic="",w.properties={...w.properties,topicAlias:I},this.log("applyTopicAlias :: auto use topic: %s - alias: %d",k,I))));else if(I)return this.log("applyTopicAlias :: error out of range. topic: %s - alias: %d",k,I),new Error("Sending Topic Alias out of range")}}_noop(w){this.log("noop ::",w)}_writePacket(w,I){this.log("_writePacket :: packet: %O",w),this.log("_writePacket :: emitting `packetsend`"),this.emit("packetsend",w),this.log("_writePacket :: writing to stream");let k=n.default.writeToStream(w,this.stream,this.options);this.log("_writePacket :: writeToStream result %s",k),!k&&I&&I!==this.noop?(this.log("_writePacket :: handle events on `drain` once through callback."),this.stream.once("drain",I)):I&&(this.log("_writePacket :: invoking cb"),I())}_sendPacket(w,I,k,j){this.log("_sendPacket :: (%s) ::  start",this.options.clientId),k=k||this.noop,I=I||this.noop;let U=this._applyTopicAlias(w);if(U){I(U);return}if(!this.connected){if(w.cmd==="auth"){this._writePacket(w,I);return}this.log("_sendPacket :: client not connected. Storing packet offline."),this._storePacket(w,I,k);return}if(j){this._writePacket(w,I);return}switch(w.cmd){case"publish":break;case"pubrel":this._storeAndSend(w,I,k);return;default:this._writePacket(w,I);return}switch(w.qos){case 2:case 1:this._storeAndSend(w,I,k);break;case 0:default:this._writePacket(w,I);break}this.log("_sendPacket :: (%s) ::  end",this.options.clientId)}_storePacket(w,I,k){this.log("_storePacket :: packet: %o",w),this.log("_storePacket :: cb? %s",!!I),k=k||this.noop;let j=w;if(j.cmd==="publish"){j=(0,t.default)(w);let P=this._removeTopicAliasAndRecoverTopicName(j);if(P)return I&&I(P)}let U=j.qos||0;U===0&&this.queueQoSZero||j.cmd!=="publish"?this.queue.push({packet:j,cb:I}):U>0?(I=this.outgoing[j.messageId]?this.outgoing[j.messageId].cb:null,this.outgoingStore.put(j,P=>{if(P)return I&&I(P);k()})):I&&I(new Error("No connection to broker"))}_setupKeepaliveManager(){this.log("_setupKeepaliveManager :: keepalive %d (seconds)",this.options.keepalive),!this.keepaliveManager&&this.options.keepalive&&(this.keepaliveManager=new S.default(this,this.options.timerVariant))}_destroyKeepaliveManager(){this.keepaliveManager&&(this.log("_destroyKeepaliveManager :: destroying keepalive manager"),this.keepaliveManager.destroy(),this.keepaliveManager=null)}reschedulePing(w=!1){this.keepaliveManager&&this.options.keepalive&&(w||this.options.reschedulePings)&&this._reschedulePing()}_reschedulePing(){this.log("_reschedulePing :: rescheduling ping"),this.keepaliveManager.reschedule()}sendPing(){this.log("_sendPing :: sending pingreq"),this._sendPacket({cmd:"pingreq"})}onKeepaliveTimeout(){this.emit("error",new Error("Keepalive timeout")),this.log("onKeepaliveTimeout :: calling _cleanUp with force true"),this._cleanUp(!0)}_resubscribe(){this.log("_resubscribe");let w=Object.keys(this._resubscribeTopics);if(!this._firstConnection&&(this.options.clean||this.options.protocolVersion>=4&&!this.connackPacket.sessionPresent)&&w.length>0)if(this.options.resubscribe)if(this.options.protocolVersion===5){this.log("_resubscribe: protocolVersion 5");for(let I=0;I<w.length;I++){let k={};k[w[I]]=this._resubscribeTopics[w[I]],k.resubscribe=!0,this.subscribe(k,{properties:k[w[I]].properties})}}else this._resubscribeTopics.resubscribe=!0,this.subscribe(this._resubscribeTopics);else this._resubscribeTopics={};this._firstConnection=!1}_onConnect(w){if(this.disconnected){this.emit("connect",w);return}this.connackPacket=w,this.messageIdProvider.clear(),this._setupKeepaliveManager(),this.connected=!0;let I=()=>{let k=this.outgoingStore.createStream(),j=()=>{k.destroy(),k=null,this._flushStoreProcessingQueue(),U()},U=()=>{this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={}};this.once("close",j),k.on("error",z=>{U(),this._flushStoreProcessingQueue(),this.removeListener("close",j),this.emit("error",z)});let P=()=>{if(!k)return;let z=k.read(1),G;if(!z){k.once("readable",P);return}if(this._storeProcessing=!0,this._packetIdsDuringStoreProcessing[z.messageId]){P();return}!this.disconnecting&&!this.reconnectTimer?(G=this.outgoing[z.messageId]?this.outgoing[z.messageId].cb:null,this.outgoing[z.messageId]={volatile:!1,cb(q,he){G&&G(q,he),P()}},this._packetIdsDuringStoreProcessing[z.messageId]=!0,this.messageIdProvider.register(z.messageId)?this._sendPacket(z,void 0,void 0,!0):this.log("messageId: %d has already used.",z.messageId)):k.destroy&&k.destroy()};k.on("end",()=>{let z=!0;for(let G in this._packetIdsDuringStoreProcessing)if(!this._packetIdsDuringStoreProcessing[G]){z=!1;break}this.removeListener("close",j),z?(U(),this._invokeAllStoreProcessingQueue(),this.emit("connect",w)):I()}),P()};I()}_invokeStoreProcessingQueue(){if(!this._storeProcessing&&this._storeProcessingQueue.length>0){let w=this._storeProcessingQueue[0];if(w&&w.invoke())return this._storeProcessingQueue.shift(),!0}return!1}_invokeAllStoreProcessingQueue(){for(;this._invokeStoreProcessingQueue(););}_flushStoreProcessingQueue(){for(let w of this._storeProcessingQueue)w.cbStorePut&&w.cbStorePut(new Error("Connection closed")),w.callback&&w.callback(new Error("Connection closed"));this._storeProcessingQueue.splice(0)}_removeOutgoingAndStoreMessage(w,I){delete this.outgoing[w],this.outgoingStore.del({messageId:w},(k,j)=>{I(k,j),this.messageIdProvider.deallocate(w),this._invokeStoreProcessingQueue()})}},it(_,"VERSION",b.MQTTJS_VERSION),_);f.default=A}),ec=Se(f=>{ge(),me(),ye(),Object.defineProperty(f,"__esModule",{value:!0});var h=Ia(),s=class{numberAllocator;lastId;constructor(){this.numberAllocator=new h.NumberAllocator(1,65535)}allocate(){return this.lastId=this.numberAllocator.alloc(),this.lastId}getLastAllocated(){return this.lastId}register(a){return this.numberAllocator.use(a)}deallocate(a){this.numberAllocator.free(a)}clear(){this.numberAllocator.clear()}};f.default=s});function tc(){if(_i)return xr;_i=!0;let f=2147483647,h=36,s=1,a=26,c=38,n=700,r=72,t=128,e="-",i=/^xn--/,l=/[^\0-\x7F]/,d=/[\x2E\u3002\uFF0E\uFF61]/g,p={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},g=h-s,b=Math.floor,E=String.fromCharCode;function S(j){throw new RangeError(p[j])}function x(j,U){let P=[],z=j.length;for(;z--;)P[z]=U(j[z]);return P}function y(j,U){let P=j.split("@"),z="";P.length>1&&(z=P[0]+"@",j=P[1]),j=j.replace(d,".");let G=j.split("."),q=x(G,U).join(".");return z+q}function v(j){let U=[],P=0,z=j.length;for(;P<z;){let G=j.charCodeAt(P++);if(G>=55296&&G<=56319&&P<z){let q=j.charCodeAt(P++);(q&64512)==56320?U.push(((G&1023)<<10)+(q&1023)+65536):(U.push(G),P--)}else U.push(G)}return U}let A=j=>String.fromCodePoint(...j),_=function(j){return j>=48&&j<58?26+(j-48):j>=65&&j<91?j-65:j>=97&&j<123?j-97:h},C=function(j,U){return j+22+75*(j<26)-((U!=0)<<5)},w=function(j,U,P){let z=0;for(j=P?b(j/n):j>>1,j+=b(j/U);j>g*a>>1;z+=h)j=b(j/g);return b(z+(g+1)*j/(j+c))},I=function(j){let U=[],P=j.length,z=0,G=t,q=r,he=j.lastIndexOf(e);he<0&&(he=0);for(let ne=0;ne<he;++ne)j.charCodeAt(ne)>=128&&S("not-basic"),U.push(j.charCodeAt(ne));for(let ne=he>0?he+1:0;ne<P;){let te=z;for(let V=1,le=h;;le+=h){ne>=P&&S("invalid-input");let M=_(j.charCodeAt(ne++));M>=h&&S("invalid-input"),M>b((f-z)/V)&&S("overflow"),z+=M*V;let ee=le<=q?s:le>=q+a?a:le-q;if(M<ee)break;let Z=h-ee;V>b(f/Z)&&S("overflow"),V*=Z}let ce=U.length+1;q=w(z-te,ce,te==0),b(z/ce)>f-G&&S("overflow"),G+=b(z/ce),z%=ce,U.splice(z++,0,G)}return String.fromCodePoint(...U)},k=function(j){let U=[];j=v(j);let P=j.length,z=t,G=0,q=r;for(let te of j)te<128&&U.push(E(te));let he=U.length,ne=he;for(he&&U.push(e);ne<P;){let te=f;for(let V of j)V>=z&&V<te&&(te=V);let ce=ne+1;te-z>b((f-G)/ce)&&S("overflow"),G+=(te-z)*ce,z=te;for(let V of j)if(V<z&&++G>f&&S("overflow"),V===z){let le=G;for(let M=h;;M+=h){let ee=M<=q?s:M>=q+a?a:M-q;if(le<ee)break;let Z=le-ee,ue=h-ee;U.push(E(C(ee+Z%ue,0))),le=b(Z/ue)}U.push(E(C(le,0))),q=w(G,ce,ne===he),G=0,++ne}++G,++z}return U.join("")};return xr={version:"2.3.1",ucs2:{decode:v,encode:A},decode:I,encode:k,toASCII:function(j){return y(j,function(U){return l.test(U)?"xn--"+k(U):U})},toUnicode:function(j){return y(j,function(U){return i.test(U)?I(U.slice(4).toLowerCase()):U})}},xr}var xr,_i,Wt,rc=yt(()=>{ge(),me(),ye(),xr={},_i=!1,Wt=tc(),Wt.decode,Wt.encode,Wt.toASCII,Wt.toUnicode,Wt.ucs2,Wt.version});function nc(){return Ei||(Ei=!0,Si=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var f={},h=Symbol("test"),s=Object(h);if(typeof h=="string"||Object.prototype.toString.call(h)!=="[object Symbol]"||Object.prototype.toString.call(s)!=="[object Symbol]")return!1;var a=42;f[h]=a;for(h in f)return!1;if(typeof Object.keys=="function"&&Object.keys(f).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(f).length!==0)return!1;var c=Object.getOwnPropertySymbols(f);if(c.length!==1||c[0]!==h||!Object.prototype.propertyIsEnumerable.call(f,h))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var n=Object.getOwnPropertyDescriptor(f,h);if(n.value!==a||n.enumerable!==!0)return!1}return!0}),Si}function ic(){return xi||(xi=!0,Ai=Error),Ai}function oc(){return Oi||(Oi=!0,Ii=EvalError),Ii}function sc(){return ki||(ki=!0,Pi=RangeError),Pi}function ac(){return Ci||(Ci=!0,Ti=ReferenceError),Ti}function Ba(){return ji||(ji=!0,Ri=SyntaxError),Ri}function mr(){return Bi||(Bi=!0,Mi=TypeError),Mi}function lc(){return Ui||(Ui=!0,Ni=URIError),Ni}function uc(){if(Li)return Ir;Li=!0;var f=typeof Symbol<"u"&&Symbol,h=nc();return Ir=function(){return typeof f!="function"||typeof Symbol!="function"||typeof f("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:h()},Ir}function cc(){if(Di)return Or;Di=!0;var f={__proto__:null,foo:{}},h=Object;return Or=function(){return{__proto__:f}.foo===f.foo&&!(f instanceof h)},Or}function hc(){if(Fi)return Pr;Fi=!0;var f="Function.prototype.bind called on incompatible ",h=Object.prototype.toString,s=Math.max,a="[object Function]",c=function(t,e){for(var i=[],l=0;l<t.length;l+=1)i[l]=t[l];for(var d=0;d<e.length;d+=1)i[d+t.length]=e[d];return i},n=function(t,e){for(var i=[],l=e,d=0;l<t.length;l+=1,d+=1)i[d]=t[l];return i},r=function(t,e){for(var i="",l=0;l<t.length;l+=1)i+=t[l],l+1<t.length&&(i+=e);return i};return Pr=function(t){var e=this;if(typeof e!="function"||h.apply(e)!==a)throw new TypeError(f+e);for(var i=n(arguments,1),l,d=function(){if(this instanceof l){var S=e.apply(this,c(i,arguments));return Object(S)===S?S:this}return e.apply(t,c(i,arguments))},p=s(0,e.length-i.length),g=[],b=0;b<p;b++)g[b]="$"+b;if(l=Function("binder","return function ("+r(g,",")+"){ return binder.apply(this,arguments); }")(d),e.prototype){var E=function(){};E.prototype=e.prototype,l.prototype=new E,E.prototype=null}return l},Pr}function go(){if(Wi)return kr;Wi=!0;var f=hc();return kr=Function.prototype.bind||f,kr}function fc(){if($i)return Tr;$i=!0;var f=Function.prototype.call,h=Object.prototype.hasOwnProperty,s=go();return Tr=s.call(f,h),Tr}function lr(){if(qi)return Cr;qi=!0;var f,h=ic(),s=oc(),a=sc(),c=ac(),n=Ba(),r=mr(),t=lc(),e=Function,i=function(ne){try{return e('"use strict"; return ('+ne+").constructor;")()}catch{}},l=Object.getOwnPropertyDescriptor;if(l)try{l({},"")}catch{l=null}var d=function(){throw new r},p=l?(function(){try{return arguments.callee,d}catch{try{return l(arguments,"callee").get}catch{return d}}})():d,g=uc()(),b=cc()(),E=Object.getPrototypeOf||(b?function(ne){return ne.__proto__}:null),S={},x=typeof Uint8Array>"u"||!E?f:E(Uint8Array),y={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?f:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?f:ArrayBuffer,"%ArrayIteratorPrototype%":g&&E?E([][Symbol.iterator]()):f,"%AsyncFromSyncIteratorPrototype%":f,"%AsyncFunction%":S,"%AsyncGenerator%":S,"%AsyncGeneratorFunction%":S,"%AsyncIteratorPrototype%":S,"%Atomics%":typeof Atomics>"u"?f:Atomics,"%BigInt%":typeof BigInt>"u"?f:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?f:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?f:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?f:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":h,"%eval%":eval,"%EvalError%":s,"%Float32Array%":typeof Float32Array>"u"?f:Float32Array,"%Float64Array%":typeof Float64Array>"u"?f:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?f:FinalizationRegistry,"%Function%":e,"%GeneratorFunction%":S,"%Int8Array%":typeof Int8Array>"u"?f:Int8Array,"%Int16Array%":typeof Int16Array>"u"?f:Int16Array,"%Int32Array%":typeof Int32Array>"u"?f:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":g&&E?E(E([][Symbol.iterator]())):f,"%JSON%":typeof JSON=="object"?JSON:f,"%Map%":typeof Map>"u"?f:Map,"%MapIteratorPrototype%":typeof Map>"u"||!g||!E?f:E(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?f:Promise,"%Proxy%":typeof Proxy>"u"?f:Proxy,"%RangeError%":a,"%ReferenceError%":c,"%Reflect%":typeof Reflect>"u"?f:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?f:Set,"%SetIteratorPrototype%":typeof Set>"u"||!g||!E?f:E(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?f:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":g&&E?E(""[Symbol.iterator]()):f,"%Symbol%":g?Symbol:f,"%SyntaxError%":n,"%ThrowTypeError%":p,"%TypedArray%":x,"%TypeError%":r,"%Uint8Array%":typeof Uint8Array>"u"?f:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?f:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?f:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?f:Uint32Array,"%URIError%":t,"%WeakMap%":typeof WeakMap>"u"?f:WeakMap,"%WeakRef%":typeof WeakRef>"u"?f:WeakRef,"%WeakSet%":typeof WeakSet>"u"?f:WeakSet};if(E)try{null.error}catch(ne){var v=E(E(ne));y["%Error.prototype%"]=v}var A=function ne(te){var ce;if(te==="%AsyncFunction%")ce=i("async function () {}");else if(te==="%GeneratorFunction%")ce=i("function* () {}");else if(te==="%AsyncGeneratorFunction%")ce=i("async function* () {}");else if(te==="%AsyncGenerator%"){var V=ne("%AsyncGeneratorFunction%");V&&(ce=V.prototype)}else if(te==="%AsyncIteratorPrototype%"){var le=ne("%AsyncGenerator%");le&&E&&(ce=E(le.prototype))}return y[te]=ce,ce},_={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},C=go(),w=fc(),I=C.call(Function.call,Array.prototype.concat),k=C.call(Function.apply,Array.prototype.splice),j=C.call(Function.call,String.prototype.replace),U=C.call(Function.call,String.prototype.slice),P=C.call(Function.call,RegExp.prototype.exec),z=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,G=/\\(\\)?/g,q=function(ne){var te=U(ne,0,1),ce=U(ne,-1);if(te==="%"&&ce!=="%")throw new n("invalid intrinsic syntax, expected closing `%`");if(ce==="%"&&te!=="%")throw new n("invalid intrinsic syntax, expected opening `%`");var V=[];return j(ne,z,function(le,M,ee,Z){V[V.length]=ee?j(Z,G,"$1"):M||le}),V},he=function(ne,te){var ce=ne,V;if(w(_,ce)&&(V=_[ce],ce="%"+V[0]+"%"),w(y,ce)){var le=y[ce];if(le===S&&(le=A(ce)),typeof le>"u"&&!te)throw new r("intrinsic "+ne+" exists, but is not available. Please file an issue!");return{alias:V,name:ce,value:le}}throw new n("intrinsic "+ne+" does not exist!")};return Cr=function(ne,te){if(typeof ne!="string"||ne.length===0)throw new r("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof te!="boolean")throw new r('"allowMissing" argument must be a boolean');if(P(/^%?[^%]*%?$/,ne)===null)throw new n("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var ce=q(ne),V=ce.length>0?ce[0]:"",le=he("%"+V+"%",te),M=le.name,ee=le.value,Z=!1,ue=le.alias;ue&&(V=ue[0],k(ce,I([0,1],ue)));for(var Ae=1,Y=!0;Ae<ce.length;Ae+=1){var W=ce[Ae],oe=U(W,0,1),X=U(W,-1);if((oe==='"'||oe==="'"||oe==="`"||X==='"'||X==="'"||X==="`")&&oe!==X)throw new n("property names with quotes must have matching quotes");if((W==="constructor"||!Y)&&(Z=!0),V+="."+W,M="%"+V+"%",w(y,M))ee=y[M];else if(ee!=null){if(!(W in ee)){if(!te)throw new r("base intrinsic for "+ne+" exists, but the property is not available.");return}if(l&&Ae+1>=ce.length){var J=l(ee,W);Y=!!J,Y&&"get"in J&&!("originalValue"in J.get)?ee=J.get:ee=ee[W]}else Y=w(ee,W),ee=ee[W];Y&&!Z&&(y[M]=ee)}}return ee},Cr}function yo(){if(Vi)return Rr;Vi=!0;var f=lr(),h=f("%Object.defineProperty%",!0)||!1;if(h)try{h({},"a",{value:1})}catch{h=!1}return Rr=h,Rr}function Na(){if(zi)return jr;zi=!0;var f=lr(),h=f("%Object.getOwnPropertyDescriptor%",!0);if(h)try{h([],"length")}catch{h=null}return jr=h,jr}function pc(){if(Ki)return Mr;Ki=!0;var f=yo(),h=Ba(),s=mr(),a=Na();return Mr=function(c,n,r){if(!c||typeof c!="object"&&typeof c!="function")throw new s("`obj` must be an object or a function`");if(typeof n!="string"&&typeof n!="symbol")throw new s("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new s("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new s("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new s("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new s("`loose`, if provided, must be a boolean");var t=arguments.length>3?arguments[3]:null,e=arguments.length>4?arguments[4]:null,i=arguments.length>5?arguments[5]:null,l=arguments.length>6?arguments[6]:!1,d=!!a&&a(c,n);if(f)f(c,n,{configurable:i===null&&d?d.configurable:!i,enumerable:t===null&&d?d.enumerable:!t,value:r,writable:e===null&&d?d.writable:!e});else if(l||!t&&!e&&!i)c[n]=r;else throw new h("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},Mr}function dc(){if(Hi)return Br;Hi=!0;var f=yo(),h=function(){return!!f};return h.hasArrayLengthDefineBug=function(){if(!f)return null;try{return f([],"length",{value:1}).length!==1}catch{return!0}},Br=h,Br}function gc(){if(Gi)return Nr;Gi=!0;var f=lr(),h=pc(),s=dc()(),a=Na(),c=mr(),n=f("%Math.floor%");return Nr=function(r,t){if(typeof r!="function")throw new c("`fn` is not a function");if(typeof t!="number"||t<0||t>4294967295||n(t)!==t)throw new c("`length` must be a positive 32-bit integer");var e=arguments.length>2&&!!arguments[2],i=!0,l=!0;if("length"in r&&a){var d=a(r,"length");d&&!d.configurable&&(i=!1),d&&!d.writable&&(l=!1)}return(i||l||!e)&&(s?h(r,"length",t,!0,!0):h(r,"length",t)),r},Nr}function yc(){if(Qi)return ir;Qi=!0;var f=go(),h=lr(),s=gc(),a=mr(),c=h("%Function.prototype.apply%"),n=h("%Function.prototype.call%"),r=h("%Reflect.apply%",!0)||f.call(n,c),t=yo(),e=h("%Math.max%");ir=function(l){if(typeof l!="function")throw new a("a function is required");var d=r(f,n,arguments);return s(d,1+e(0,l.length-(arguments.length-1)),!0)};var i=function(){return r(f,c,arguments)};return t?t(ir,"apply",{value:i}):ir.apply=i,ir}function mc(){if(Yi)return Ur;Yi=!0;var f=lr(),h=yc(),s=h(f("String.prototype.indexOf"));return Ur=function(a,c){var n=f(a,!!c);return typeof n=="function"&&s(a,".prototype.")>-1?h(n):n},Ur}var Si,Ei,Ai,xi,Ii,Oi,Pi,ki,Ti,Ci,Ri,ji,Mi,Bi,Ni,Ui,Ir,Li,Or,Di,Pr,Fi,kr,Wi,Tr,$i,Cr,qi,Rr,Vi,jr,zi,Mr,Ki,Br,Hi,Nr,Gi,ir,Qi,Ur,Yi,bc=yt(()=>{ge(),me(),ye(),Si={},Ei=!1,Ai={},xi=!1,Ii={},Oi=!1,Pi={},ki=!1,Ti={},Ci=!1,Ri={},ji=!1,Mi={},Bi=!1,Ni={},Ui=!1,Ir={},Li=!1,Or={},Di=!1,Pr={},Fi=!1,kr={},Wi=!1,Tr={},$i=!1,Cr={},qi=!1,Rr={},Vi=!1,jr={},zi=!1,Mr={},Ki=!1,Br={},Hi=!1,Nr={},Gi=!1,ir={},Qi=!1,Ur={},Yi=!1});function mo(f){throw new Error("Node.js process "+f+" is not supported by JSPM core outside of Node.js")}function vc(){!Xt||!Yt||(Xt=!1,Yt.length?St=Yt.concat(St):dr=-1,St.length&&Ua())}function Ua(){if(!Xt){var f=setTimeout(vc,0);Xt=!0;for(var h=St.length;h;){for(Yt=St,St=[];++dr<h;)Yt&&Yt[dr].run();dr=-1,h=St.length}Yt=null,Xt=!1,clearTimeout(f)}}function wc(f){var h=new Array(arguments.length-1);if(arguments.length>1)for(var s=1;s<arguments.length;s++)h[s-1]=arguments[s];St.push(new La(f,h)),St.length===1&&!Xt&&setTimeout(Ua,0)}function La(f,h){this.fun=f,this.array=h}function ht(){}function _c(f){mo("_linkedBinding")}function Sc(f){mo("dlopen")}function Ec(){return[]}function Ac(){return[]}function xc(f,h){if(!f)throw new Error(h||"assertion error")}function Ic(){return!1}function Oc(){return Pt.now()/1e3}function on(f){var h=Math.floor((Date.now()-Pt.now())*.001),s=Pt.now()*.001,a=Math.floor(s)+h,c=Math.floor(s%1*1e9);return f&&(a=a-f[0],c=c-f[1],c<0&&(a--,c+=Lr)),[a,c]}function Nt(){return bo}function Pc(f){return[]}var St,Xt,Yt,dr,Oo,Po,ko,To,Co,Ro,jo,Mo,Bo,No,Uo,Lo,Do,Fo,Wo,$o,qo,Vo,zo,Ko,Ho,vr,Go,Qo,Yo,Jo,Xo,Zo,es,ts,rs,ns,is,os,ss,as,ls,us,cs,hs,fs,ps,ds,gs,ys,ms,bs,Pt,sn,Lr,vs,ws,_s,Ss,Es,As,xs,Is,Os,Ps,ks,bo,Da=yt(()=>{ge(),me(),ye(),St=[],Xt=!1,dr=-1,La.prototype.run=function(){this.fun.apply(null,this.array)},Oo="browser",Po="x64",ko="browser",To={PATH:"/usr/bin",LANG:navigator.language+".UTF-8",PWD:"/",HOME:"/home",TMP:"/tmp"},Co=["/usr/bin/node"],Ro=[],jo="v16.8.0",Mo={},Bo=function(f,h){console.warn((h?h+": ":"")+f)},No=function(f){mo("binding")},Uo=function(f){return 0},Lo=function(){return"/"},Do=function(f){},Fo={name:"node",sourceUrl:"",headersUrl:"",libUrl:""},Wo=ht,$o=[],qo={},Vo=!1,zo={},Ko=ht,Ho=ht,vr=function(){return{}},Go=vr,Qo=vr,Yo=ht,Jo=ht,Xo=ht,Zo={},es={inspector:!1,debug:!1,uv:!1,ipv6:!1,tls_alpn:!1,tls_sni:!1,tls_ocsp:!1,tls:!1,cached_builtins:!0},ts=ht,rs=ht,ns=ht,is=ht,os=ht,ss=ht,as=ht,ls=void 0,us=void 0,cs=void 0,hs=ht,fs=2,ps=1,ds="/bin/usr/node",gs=9229,ys="node",ms=[],bs=ht,Pt={now:typeof performance<"u"?performance.now.bind(performance):void 0,timing:typeof performance<"u"?performance.timing:void 0},Pt.now===void 0&&(sn=Date.now(),Pt.timing&&Pt.timing.navigationStart&&(sn=Pt.timing.navigationStart),Pt.now=()=>Date.now()-sn),Lr=1e9,on.bigint=function(f){var h=on(f);return typeof BigInt>"u"?h[0]*Lr+h[1]:BigInt(h[0]*Lr)+BigInt(h[1])},vs=10,ws={},_s=0,Ss=Nt,Es=Nt,As=Nt,xs=Nt,Is=Nt,Os=ht,Ps=Nt,ks=Nt,bo={version:jo,versions:Mo,arch:Po,platform:ko,release:Fo,_rawDebug:Wo,moduleLoadList:$o,binding:No,_linkedBinding:_c,_events:ws,_eventsCount:_s,_maxListeners:vs,on:Nt,addListener:Ss,once:Es,off:As,removeListener:xs,removeAllListeners:Is,emit:Os,prependListener:Ps,prependOnceListener:ks,listeners:Pc,domain:qo,_exiting:Vo,config:zo,dlopen:Sc,uptime:Oc,_getActiveRequests:Ec,_getActiveHandles:Ac,reallyExit:Ko,_kill:Ho,cpuUsage:vr,resourceUsage:Go,memoryUsage:Qo,kill:Yo,exit:Jo,openStdin:Xo,allowedNodeEnvironmentFlags:Zo,assert:xc,features:es,_fatalExceptions:ts,setUncaughtExceptionCaptureCallback:rs,hasUncaughtExceptionCaptureCallback:Ic,emitWarning:Bo,nextTick:wc,_tickCallback:ns,_debugProcess:is,_debugEnd:os,_startProfilerIdleNotifier:ss,_stopProfilerIdleNotifier:as,stdout:ls,stdin:cs,stderr:us,abort:hs,umask:Uo,chdir:Do,cwd:Lo,env:To,title:Oo,argv:Co,execArgv:Ro,pid:fs,ppid:ps,execPath:ds,debugPort:gs,hrtime:on,argv0:ys,_preload_modules:ms,setSourceMapsEnabled:bs}});function kc(){if(Ji)return Dr;Ji=!0;var f=bo;function h(n){if(typeof n!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(n))}function s(n,r){for(var t="",e=0,i=-1,l=0,d,p=0;p<=n.length;++p){if(p<n.length)d=n.charCodeAt(p);else{if(d===47)break;d=47}if(d===47){if(!(i===p-1||l===1))if(i!==p-1&&l===2){if(t.length<2||e!==2||t.charCodeAt(t.length-1)!==46||t.charCodeAt(t.length-2)!==46){if(t.length>2){var g=t.lastIndexOf("/");if(g!==t.length-1){g===-1?(t="",e=0):(t=t.slice(0,g),e=t.length-1-t.lastIndexOf("/")),i=p,l=0;continue}}else if(t.length===2||t.length===1){t="",e=0,i=p,l=0;continue}}r&&(t.length>0?t+="/..":t="..",e=2)}else t.length>0?t+="/"+n.slice(i+1,p):t=n.slice(i+1,p),e=p-i-1;i=p,l=0}else d===46&&l!==-1?++l:l=-1}return t}function a(n,r){var t=r.dir||r.root,e=r.base||(r.name||"")+(r.ext||"");return t?t===r.root?t+e:t+n+e:e}var c={resolve:function(){for(var n="",r=!1,t,e=arguments.length-1;e>=-1&&!r;e--){var i;e>=0?i=arguments[e]:(t===void 0&&(t=f.cwd()),i=t),h(i),i.length!==0&&(n=i+"/"+n,r=i.charCodeAt(0)===47)}return n=s(n,!r),r?n.length>0?"/"+n:"/":n.length>0?n:"."},normalize:function(n){if(h(n),n.length===0)return".";var r=n.charCodeAt(0)===47,t=n.charCodeAt(n.length-1)===47;return n=s(n,!r),n.length===0&&!r&&(n="."),n.length>0&&t&&(n+="/"),r?"/"+n:n},isAbsolute:function(n){return h(n),n.length>0&&n.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var n,r=0;r<arguments.length;++r){var t=arguments[r];h(t),t.length>0&&(n===void 0?n=t:n+="/"+t)}return n===void 0?".":c.normalize(n)},relative:function(n,r){if(h(n),h(r),n===r||(n=c.resolve(n),r=c.resolve(r),n===r))return"";for(var t=1;t<n.length&&n.charCodeAt(t)===47;++t);for(var e=n.length,i=e-t,l=1;l<r.length&&r.charCodeAt(l)===47;++l);for(var d=r.length,p=d-l,g=i<p?i:p,b=-1,E=0;E<=g;++E){if(E===g){if(p>g){if(r.charCodeAt(l+E)===47)return r.slice(l+E+1);if(E===0)return r.slice(l+E)}else i>g&&(n.charCodeAt(t+E)===47?b=E:E===0&&(b=0));break}var S=n.charCodeAt(t+E),x=r.charCodeAt(l+E);if(S!==x)break;S===47&&(b=E)}var y="";for(E=t+b+1;E<=e;++E)(E===e||n.charCodeAt(E)===47)&&(y.length===0?y+="..":y+="/..");return y.length>0?y+r.slice(l+b):(l+=b,r.charCodeAt(l)===47&&++l,r.slice(l))},_makeLong:function(n){return n},dirname:function(n){if(h(n),n.length===0)return".";for(var r=n.charCodeAt(0),t=r===47,e=-1,i=!0,l=n.length-1;l>=1;--l)if(r=n.charCodeAt(l),r===47){if(!i){e=l;break}}else i=!1;return e===-1?t?"/":".":t&&e===1?"//":n.slice(0,e)},basename:function(n,r){if(r!==void 0&&typeof r!="string")throw new TypeError('"ext" argument must be a string');h(n);var t=0,e=-1,i=!0,l;if(r!==void 0&&r.length>0&&r.length<=n.length){if(r.length===n.length&&r===n)return"";var d=r.length-1,p=-1;for(l=n.length-1;l>=0;--l){var g=n.charCodeAt(l);if(g===47){if(!i){t=l+1;break}}else p===-1&&(i=!1,p=l+1),d>=0&&(g===r.charCodeAt(d)?--d===-1&&(e=l):(d=-1,e=p))}return t===e?e=p:e===-1&&(e=n.length),n.slice(t,e)}else{for(l=n.length-1;l>=0;--l)if(n.charCodeAt(l)===47){if(!i){t=l+1;break}}else e===-1&&(i=!1,e=l+1);return e===-1?"":n.slice(t,e)}},extname:function(n){h(n);for(var r=-1,t=0,e=-1,i=!0,l=0,d=n.length-1;d>=0;--d){var p=n.charCodeAt(d);if(p===47){if(!i){t=d+1;break}continue}e===-1&&(i=!1,e=d+1),p===46?r===-1?r=d:l!==1&&(l=1):r!==-1&&(l=-1)}return r===-1||e===-1||l===0||l===1&&r===e-1&&r===t+1?"":n.slice(r,e)},format:function(n){if(n===null||typeof n!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof n);return a("/",n)},parse:function(n){h(n);var r={root:"",dir:"",base:"",ext:"",name:""};if(n.length===0)return r;var t=n.charCodeAt(0),e=t===47,i;e?(r.root="/",i=1):i=0;for(var l=-1,d=0,p=-1,g=!0,b=n.length-1,E=0;b>=i;--b){if(t=n.charCodeAt(b),t===47){if(!g){d=b+1;break}continue}p===-1&&(g=!1,p=b+1),t===46?l===-1?l=b:E!==1&&(E=1):l!==-1&&(E=-1)}return l===-1||p===-1||E===0||E===1&&l===p-1&&l===d+1?p!==-1&&(d===0&&e?r.base=r.name=n.slice(1,p):r.base=r.name=n.slice(d,p)):(d===0&&e?(r.name=n.slice(1,l),r.base=n.slice(1,p)):(r.name=n.slice(d,l),r.base=n.slice(d,p)),r.ext=n.slice(l,p)),d>0?r.dir=n.slice(0,d-1):e&&(r.dir="/"),r},sep:"/",delimiter:":",win32:null,posix:null};return c.posix=c,Dr=c,Dr}var Dr,Ji,Xi,Tc=yt(()=>{ge(),me(),ye(),Da(),Dr={},Ji=!1,Xi=kc()}),Fa={};or(Fa,{URL:()=>Ya,Url:()=>za,default:()=>ft,fileURLToPath:()=>$a,format:()=>Ka,parse:()=>Qa,pathToFileURL:()=>qa,resolve:()=>Ha,resolveObject:()=>Ga});function Cc(){if(Zi)return Fr;Zi=!0;var f=typeof Map=="function"&&Map.prototype,h=Object.getOwnPropertyDescriptor&&f?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,s=f&&h&&typeof h.get=="function"?h.get:null,a=f&&Map.prototype.forEach,c=typeof Set=="function"&&Set.prototype,n=Object.getOwnPropertyDescriptor&&c?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,r=c&&n&&typeof n.get=="function"?n.get:null,t=c&&Set.prototype.forEach,e=typeof WeakMap=="function"&&WeakMap.prototype,i=e?WeakMap.prototype.has:null,l=typeof WeakSet=="function"&&WeakSet.prototype,d=l?WeakSet.prototype.has:null,p=typeof WeakRef=="function"&&WeakRef.prototype,g=p?WeakRef.prototype.deref:null,b=Boolean.prototype.valueOf,E=Object.prototype.toString,S=Function.prototype.toString,x=String.prototype.match,y=String.prototype.slice,v=String.prototype.replace,A=String.prototype.toUpperCase,_=String.prototype.toLowerCase,C=RegExp.prototype.test,w=Array.prototype.concat,I=Array.prototype.join,k=Array.prototype.slice,j=Math.floor,U=typeof BigInt=="function"?BigInt.prototype.valueOf:null,P=Object.getOwnPropertySymbols,z=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,G=typeof Symbol=="function"&&typeof Symbol.iterator=="object",q=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===G||!0)?Symbol.toStringTag:null,he=Object.prototype.propertyIsEnumerable,ne=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function($){return $.__proto__}:null);function te($,ie){if($===1/0||$===-1/0||$!==$||$&&$>-1e3&&$<1e3||C.call(/e/,ie))return ie;var Re=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof $=="number"){var ke=$<0?-j(-$):j($);if(ke!==$){var Le=String(ke),Ue=y.call(ie,Le.length+1);return v.call(Le,Re,"$&_")+"."+v.call(v.call(Ue,/([0-9]{3})/g,"$&_"),/_$/,"")}}return v.call(ie,Re,"$&_")}var ce=Va,V=ce.custom,le=J(V)?V:null;Fr=function $(ie,Re,ke,Le){var Ue=Re||{};if(pe(Ue,"quoteStyle")&&Ue.quoteStyle!=="single"&&Ue.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(pe(Ue,"maxStringLength")&&(typeof Ue.maxStringLength=="number"?Ue.maxStringLength<0&&Ue.maxStringLength!==1/0:Ue.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var Xe=pe(Ue,"customInspect")?Ue.customInspect:!0;if(typeof Xe!="boolean"&&Xe!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(pe(Ue,"indent")&&Ue.indent!==null&&Ue.indent!=="	"&&!(parseInt(Ue.indent,10)===Ue.indent&&Ue.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(pe(Ue,"numericSeparator")&&typeof Ue.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var Fe=Ue.numericSeparator;if(typeof ie>"u")return"undefined";if(ie===null)return"null";if(typeof ie=="boolean")return ie?"true":"false";if(typeof ie=="string")return fe(ie,Ue);if(typeof ie=="number"){if(ie===0)return 1/0/ie>0?"0":"-0";var We=String(ie);return Fe?te(ie,We):We}if(typeof ie=="bigint"){var je=String(ie)+"n";return Fe?te(ie,je):je}var tt=typeof Ue.depth>"u"?5:Ue.depth;if(typeof ke>"u"&&(ke=0),ke>=tt&&tt>0&&typeof ie=="object")return Z(ie)?"[Array]":"[Object]";var He=N(Ue,ke);if(typeof Le>"u")Le=[];else if(se(Le,ie)>=0)return"[Circular]";function $e(ze,bt,At){if(bt&&(Le=k.call(Le),Le.push(bt)),At){var Qe={depth:Ue.depth};return pe(Ue,"quoteStyle")&&(Qe.quoteStyle=Ue.quoteStyle),$(ze,Qe,ke+1,Le)}return $(ze,Ue,ke+1,Le)}if(typeof ie=="function"&&!Ae(ie)){var nt=H(ie),dt=de(ie,$e);return"[Function"+(nt?": "+nt:" (anonymous)")+"]"+(dt.length>0?" { "+I.call(dt,", ")+" }":"")}if(J(ie)){var lt=G?v.call(String(ie),/^(Symbol\(.*\))_[^)]*$/,"$1"):z.call(ie);return typeof ie=="object"&&!G?o(lt):lt}if(Oe(ie)){for(var R="<"+_.call(String(ie.nodeName)),F=ie.attributes||[],Pe=0;Pe<F.length;Pe++)R+=" "+F[Pe].name+"="+M(ee(F[Pe].value),"double",Ue);return R+=">",ie.childNodes&&ie.childNodes.length&&(R+="..."),R+="</"+_.call(String(ie.nodeName))+">",R}if(Z(ie)){if(ie.length===0)return"[]";var Te=de(ie,$e);return He&&!T(Te)?"["+K(Te,He)+"]":"[ "+I.call(Te,", ")+" ]"}if(Y(ie)){var Me=de(ie,$e);return!("cause"in Error.prototype)&&"cause"in ie&&!he.call(ie,"cause")?"{ ["+String(ie)+"] "+I.call(w.call("[cause]: "+$e(ie.cause),Me),", ")+" }":Me.length===0?"["+String(ie)+"]":"{ ["+String(ie)+"] "+I.call(Me,", ")+" }"}if(typeof ie=="object"&&Xe){if(le&&typeof ie[le]=="function"&&ce)return ce(ie,{depth:tt-ke});if(Xe!=="symbol"&&typeof ie.inspect=="function")return ie.inspect()}if(be(ie)){var rt=[];return a&&a.call(ie,function(ze,bt){rt.push($e(bt,ie,!0)+" => "+$e(ze,ie))}),m("Map",s.call(ie),rt,He)}if(Q(ie)){var at=[];return t&&t.call(ie,function(ze){at.push($e(ze,ie))}),m("Set",r.call(ie),at,He)}if(ve(ie))return u("WeakMap");if(_e(ie))return u("WeakSet");if(Ee(ie))return u("WeakRef");if(oe(ie))return o($e(Number(ie)));if(re(ie))return o($e(U.call(ie)));if(X(ie))return o(b.call(ie));if(W(ie))return o($e(String(ie)));if(typeof window<"u"&&ie===window)return"{ [object Window] }";if(typeof globalThis<"u"&&ie===globalThis||typeof Wr<"u"&&ie===Wr)return"{ [object globalThis] }";if(!ue(ie)&&!Ae(ie)){var mt=de(ie,$e),Mt=ne?ne(ie)===Object.prototype:ie instanceof Object||ie.constructor===Object,zt=ie instanceof Object?"":"null prototype",Kt=!Mt&&q&&Object(ie)===ie&&q in ie?y.call(L(ie),8,-1):zt?"Object":"",Ht=Mt||typeof ie.constructor!="function"?"":ie.constructor.name?ie.constructor.name+" ":"",Et=Ht+(Kt||zt?"["+I.call(w.call([],Kt||[],zt||[]),": ")+"] ":"");return mt.length===0?Et+"{}":He?Et+"{"+K(mt,He)+"}":Et+"{ "+I.call(mt,", ")+" }"}return String(ie)};function M($,ie,Re){var ke=(Re.quoteStyle||ie)==="double"?'"':"'";return ke+$+ke}function ee($){return v.call(String($),/"/g,"&quot;")}function Z($){return L($)==="[object Array]"&&(!q||!(typeof $=="object"&&q in $))}function ue($){return L($)==="[object Date]"&&(!q||!(typeof $=="object"&&q in $))}function Ae($){return L($)==="[object RegExp]"&&(!q||!(typeof $=="object"&&q in $))}function Y($){return L($)==="[object Error]"&&(!q||!(typeof $=="object"&&q in $))}function W($){return L($)==="[object String]"&&(!q||!(typeof $=="object"&&q in $))}function oe($){return L($)==="[object Number]"&&(!q||!(typeof $=="object"&&q in $))}function X($){return L($)==="[object Boolean]"&&(!q||!(typeof $=="object"&&q in $))}function J($){if(G)return $&&typeof $=="object"&&$ instanceof Symbol;if(typeof $=="symbol")return!0;if(!$||typeof $!="object"||!z)return!1;try{return z.call($),!0}catch{}return!1}function re($){if(!$||typeof $!="object"||!U)return!1;try{return U.call($),!0}catch{}return!1}var we=Object.prototype.hasOwnProperty||function($){return $ in(this||Wr)};function pe($,ie){return we.call($,ie)}function L($){return E.call($)}function H($){if($.name)return $.name;var ie=x.call(S.call($),/^function\s*([\w$]+)/);return ie?ie[1]:null}function se($,ie){if($.indexOf)return $.indexOf(ie);for(var Re=0,ke=$.length;Re<ke;Re++)if($[Re]===ie)return Re;return-1}function be($){if(!s||!$||typeof $!="object")return!1;try{s.call($);try{r.call($)}catch{return!0}return $ instanceof Map}catch{}return!1}function ve($){if(!i||!$||typeof $!="object")return!1;try{i.call($,i);try{d.call($,d)}catch{return!0}return $ instanceof WeakMap}catch{}return!1}function Ee($){if(!g||!$||typeof $!="object")return!1;try{return g.call($),!0}catch{}return!1}function Q($){if(!r||!$||typeof $!="object")return!1;try{r.call($);try{s.call($)}catch{return!0}return $ instanceof Set}catch{}return!1}function _e($){if(!d||!$||typeof $!="object")return!1;try{d.call($,d);try{i.call($,i)}catch{return!0}return $ instanceof WeakSet}catch{}return!1}function Oe($){return!$||typeof $!="object"?!1:typeof HTMLElement<"u"&&$ instanceof HTMLElement?!0:typeof $.nodeName=="string"&&typeof $.getAttribute=="function"}function fe($,ie){if($.length>ie.maxStringLength){var Re=$.length-ie.maxStringLength,ke="... "+Re+" more character"+(Re>1?"s":"");return fe(y.call($,0,ie.maxStringLength),ie)+ke}var Le=v.call(v.call($,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,Be);return M(Le,"single",ie)}function Be($){var ie=$.charCodeAt(0),Re={8:"b",9:"t",10:"n",12:"f",13:"r"}[ie];return Re?"\\"+Re:"\\x"+(ie<16?"0":"")+A.call(ie.toString(16))}function o($){return"Object("+$+")"}function u($){return $+" { ? }"}function m($,ie,Re,ke){var Le=ke?K(Re,ke):I.call(Re,", ");return $+" ("+ie+") {"+Le+"}"}function T($){for(var ie=0;ie<$.length;ie++)if(se($[ie],`
`)>=0)return!1;return!0}function N($,ie){var Re;if($.indent==="	")Re="	";else if(typeof $.indent=="number"&&$.indent>0)Re=I.call(Array($.indent+1)," ");else return null;return{base:Re,prev:I.call(Array(ie+1),Re)}}function K($,ie){if($.length===0)return"";var Re=`
`+ie.prev+ie.base;return Re+I.call($,","+Re)+`
`+ie.prev}function de($,ie){var Re=Z($),ke=[];if(Re){ke.length=$.length;for(var Le=0;Le<$.length;Le++)ke[Le]=pe($,Le)?ie($[Le],$):""}var Ue=typeof P=="function"?P($):[],Xe;if(G){Xe={};for(var Fe=0;Fe<Ue.length;Fe++)Xe["$"+Ue[Fe]]=Ue[Fe]}for(var We in $)pe($,We)&&(Re&&String(Number(We))===We&&We<$.length||G&&Xe["$"+We]instanceof Symbol||(C.call(/[^\w$]/,We)?ke.push(ie(We,$)+": "+ie($[We],$)):ke.push(We+": "+ie($[We],$))));if(typeof P=="function")for(var je=0;je<Ue.length;je++)he.call($,Ue[je])&&ke.push("["+ie(Ue[je])+"]: "+ie($[Ue[je]],$));return ke}return Fr}function Rc(){if(eo)return $r;eo=!0;var f=lr(),h=mc(),s=Cc(),a=mr(),c=f("%WeakMap%",!0),n=f("%Map%",!0),r=h("WeakMap.prototype.get",!0),t=h("WeakMap.prototype.set",!0),e=h("WeakMap.prototype.has",!0),i=h("Map.prototype.get",!0),l=h("Map.prototype.set",!0),d=h("Map.prototype.has",!0),p=function(S,x){for(var y=S,v;(v=y.next)!==null;y=v)if(v.key===x)return y.next=v.next,v.next=S.next,S.next=v,v},g=function(S,x){var y=p(S,x);return y&&y.value},b=function(S,x,y){var v=p(S,x);v?v.value=y:S.next={key:x,next:S.next,value:y}},E=function(S,x){return!!p(S,x)};return $r=function(){var S,x,y,v={assert:function(A){if(!v.has(A))throw new a("Side channel does not contain "+s(A))},get:function(A){if(c&&A&&(typeof A=="object"||typeof A=="function")){if(S)return r(S,A)}else if(n){if(x)return i(x,A)}else if(y)return g(y,A)},has:function(A){if(c&&A&&(typeof A=="object"||typeof A=="function")){if(S)return e(S,A)}else if(n){if(x)return d(x,A)}else if(y)return E(y,A);return!1},set:function(A,_){c&&A&&(typeof A=="object"||typeof A=="function")?(S||(S=new c),t(S,A,_)):n?(x||(x=new n),l(x,A,_)):(y||(y={key:{},next:null}),b(y,A,_))}};return v},$r}function vo(){if(to)return qr;to=!0;var f=String.prototype.replace,h=/%20/g,s={RFC1738:"RFC1738",RFC3986:"RFC3986"};return qr={default:s.RFC3986,formatters:{RFC1738:function(a){return f.call(a,h,"+")},RFC3986:function(a){return String(a)}},RFC1738:s.RFC1738,RFC3986:s.RFC3986},qr}function Wa(){if(ro)return Vr;ro=!0;var f=vo(),h=Object.prototype.hasOwnProperty,s=Array.isArray,a=(function(){for(var S=[],x=0;x<256;++x)S.push("%"+((x<16?"0":"")+x.toString(16)).toUpperCase());return S})(),c=function(S){for(;S.length>1;){var x=S.pop(),y=x.obj[x.prop];if(s(y)){for(var v=[],A=0;A<y.length;++A)typeof y[A]<"u"&&v.push(y[A]);x.obj[x.prop]=v}}},n=function(S,x){for(var y=x&&x.plainObjects?Object.create(null):{},v=0;v<S.length;++v)typeof S[v]<"u"&&(y[v]=S[v]);return y},r=function S(x,y,v){if(!y)return x;if(typeof y!="object"){if(s(x))x.push(y);else if(x&&typeof x=="object")(v&&(v.plainObjects||v.allowPrototypes)||!h.call(Object.prototype,y))&&(x[y]=!0);else return[x,y];return x}if(!x||typeof x!="object")return[x].concat(y);var A=x;return s(x)&&!s(y)&&(A=n(x,v)),s(x)&&s(y)?(y.forEach(function(_,C){if(h.call(x,C)){var w=x[C];w&&typeof w=="object"&&_&&typeof _=="object"?x[C]=S(w,_,v):x.push(_)}else x[C]=_}),x):Object.keys(y).reduce(function(_,C){var w=y[C];return h.call(_,C)?_[C]=S(_[C],w,v):_[C]=w,_},A)},t=function(S,x){return Object.keys(x).reduce(function(y,v){return y[v]=x[v],y},S)},e=function(S,x,y){var v=S.replace(/\+/g," ");if(y==="iso-8859-1")return v.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(v)}catch{return v}},i=1024,l=function(S,x,y,v,A){if(S.length===0)return S;var _=S;if(typeof S=="symbol"?_=Symbol.prototype.toString.call(S):typeof S!="string"&&(_=String(S)),y==="iso-8859-1")return escape(_).replace(/%u[0-9a-f]{4}/gi,function(P){return"%26%23"+parseInt(P.slice(2),16)+"%3B"});for(var C="",w=0;w<_.length;w+=i){for(var I=_.length>=i?_.slice(w,w+i):_,k=[],j=0;j<I.length;++j){var U=I.charCodeAt(j);if(U===45||U===46||U===95||U===126||U>=48&&U<=57||U>=65&&U<=90||U>=97&&U<=122||A===f.RFC1738&&(U===40||U===41)){k[k.length]=I.charAt(j);continue}if(U<128){k[k.length]=a[U];continue}if(U<2048){k[k.length]=a[192|U>>6]+a[128|U&63];continue}if(U<55296||U>=57344){k[k.length]=a[224|U>>12]+a[128|U>>6&63]+a[128|U&63];continue}j+=1,U=65536+((U&1023)<<10|I.charCodeAt(j)&1023),k[k.length]=a[240|U>>18]+a[128|U>>12&63]+a[128|U>>6&63]+a[128|U&63]}C+=k.join("")}return C},d=function(S){for(var x=[{obj:{o:S},prop:"o"}],y=[],v=0;v<x.length;++v)for(var A=x[v],_=A.obj[A.prop],C=Object.keys(_),w=0;w<C.length;++w){var I=C[w],k=_[I];typeof k=="object"&&k!==null&&y.indexOf(k)===-1&&(x.push({obj:_,prop:I}),y.push(k))}return c(x),S},p=function(S){return Object.prototype.toString.call(S)==="[object RegExp]"},g=function(S){return!S||typeof S!="object"?!1:!!(S.constructor&&S.constructor.isBuffer&&S.constructor.isBuffer(S))},b=function(S,x){return[].concat(S,x)},E=function(S,x){if(s(S)){for(var y=[],v=0;v<S.length;v+=1)y.push(x(S[v]));return y}return x(S)};return Vr={arrayToObject:n,assign:t,combine:b,compact:d,decode:e,encode:l,isBuffer:g,isRegExp:p,maybeMap:E,merge:r},Vr}function jc(){if(no)return zr;no=!0;var f=Rc(),h=Wa(),s=vo(),a=Object.prototype.hasOwnProperty,c={brackets:function(E){return E+"[]"},comma:"comma",indices:function(E,S){return E+"["+S+"]"},repeat:function(E){return E}},n=Array.isArray,r=Array.prototype.push,t=function(E,S){r.apply(E,n(S)?S:[S])},e=Date.prototype.toISOString,i=s.default,l={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:h.encode,encodeValuesOnly:!1,format:i,formatter:s.formatters[i],indices:!1,serializeDate:function(E){return e.call(E)},skipNulls:!1,strictNullHandling:!1},d=function(E){return typeof E=="string"||typeof E=="number"||typeof E=="boolean"||typeof E=="symbol"||typeof E=="bigint"},p={},g=function E(S,x,y,v,A,_,C,w,I,k,j,U,P,z,G,q,he,ne){for(var te=S,ce=ne,V=0,le=!1;(ce=ce.get(p))!==void 0&&!le;){var M=ce.get(S);if(V+=1,typeof M<"u"){if(M===V)throw new RangeError("Cyclic object value");le=!0}typeof ce.get(p)>"u"&&(V=0)}if(typeof k=="function"?te=k(x,te):te instanceof Date?te=P(te):y==="comma"&&n(te)&&(te=h.maybeMap(te,function(L){return L instanceof Date?P(L):L})),te===null){if(_)return I&&!q?I(x,l.encoder,he,"key",z):x;te=""}if(d(te)||h.isBuffer(te)){if(I){var ee=q?x:I(x,l.encoder,he,"key",z);return[G(ee)+"="+G(I(te,l.encoder,he,"value",z))]}return[G(x)+"="+G(String(te))]}var Z=[];if(typeof te>"u")return Z;var ue;if(y==="comma"&&n(te))q&&I&&(te=h.maybeMap(te,I)),ue=[{value:te.length>0?te.join(",")||null:void 0}];else if(n(k))ue=k;else{var Ae=Object.keys(te);ue=j?Ae.sort(j):Ae}var Y=w?x.replace(/\./g,"%2E"):x,W=v&&n(te)&&te.length===1?Y+"[]":Y;if(A&&n(te)&&te.length===0)return W+"[]";for(var oe=0;oe<ue.length;++oe){var X=ue[oe],J=typeof X=="object"&&typeof X.value<"u"?X.value:te[X];if(!(C&&J===null)){var re=U&&w?X.replace(/\./g,"%2E"):X,we=n(te)?typeof y=="function"?y(W,re):W:W+(U?"."+re:"["+re+"]");ne.set(S,V);var pe=f();pe.set(p,ne),t(Z,E(J,we,y,v,A,_,C,w,y==="comma"&&q&&n(te)?null:I,k,j,U,P,z,G,q,he,pe))}}return Z},b=function(E){if(!E)return l;if(typeof E.allowEmptyArrays<"u"&&typeof E.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof E.encodeDotInKeys<"u"&&typeof E.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(E.encoder!==null&&typeof E.encoder<"u"&&typeof E.encoder!="function")throw new TypeError("Encoder has to be a function.");var S=E.charset||l.charset;if(typeof E.charset<"u"&&E.charset!=="utf-8"&&E.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var x=s.default;if(typeof E.format<"u"){if(!a.call(s.formatters,E.format))throw new TypeError("Unknown format option provided.");x=E.format}var y=s.formatters[x],v=l.filter;(typeof E.filter=="function"||n(E.filter))&&(v=E.filter);var A;if(E.arrayFormat in c?A=E.arrayFormat:"indices"in E?A=E.indices?"indices":"repeat":A=l.arrayFormat,"commaRoundTrip"in E&&typeof E.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var _=typeof E.allowDots>"u"?E.encodeDotInKeys===!0?!0:l.allowDots:!!E.allowDots;return{addQueryPrefix:typeof E.addQueryPrefix=="boolean"?E.addQueryPrefix:l.addQueryPrefix,allowDots:_,allowEmptyArrays:typeof E.allowEmptyArrays=="boolean"?!!E.allowEmptyArrays:l.allowEmptyArrays,arrayFormat:A,charset:S,charsetSentinel:typeof E.charsetSentinel=="boolean"?E.charsetSentinel:l.charsetSentinel,commaRoundTrip:E.commaRoundTrip,delimiter:typeof E.delimiter>"u"?l.delimiter:E.delimiter,encode:typeof E.encode=="boolean"?E.encode:l.encode,encodeDotInKeys:typeof E.encodeDotInKeys=="boolean"?E.encodeDotInKeys:l.encodeDotInKeys,encoder:typeof E.encoder=="function"?E.encoder:l.encoder,encodeValuesOnly:typeof E.encodeValuesOnly=="boolean"?E.encodeValuesOnly:l.encodeValuesOnly,filter:v,format:x,formatter:y,serializeDate:typeof E.serializeDate=="function"?E.serializeDate:l.serializeDate,skipNulls:typeof E.skipNulls=="boolean"?E.skipNulls:l.skipNulls,sort:typeof E.sort=="function"?E.sort:null,strictNullHandling:typeof E.strictNullHandling=="boolean"?E.strictNullHandling:l.strictNullHandling}};return zr=function(E,S){var x=E,y=b(S),v,A;typeof y.filter=="function"?(A=y.filter,x=A("",x)):n(y.filter)&&(A=y.filter,v=A);var _=[];if(typeof x!="object"||x===null)return"";var C=c[y.arrayFormat],w=C==="comma"&&y.commaRoundTrip;v||(v=Object.keys(x)),y.sort&&v.sort(y.sort);for(var I=f(),k=0;k<v.length;++k){var j=v[k];y.skipNulls&&x[j]===null||t(_,g(x[j],j,C,w,y.allowEmptyArrays,y.strictNullHandling,y.skipNulls,y.encodeDotInKeys,y.encode?y.encoder:null,y.filter,y.sort,y.allowDots,y.serializeDate,y.format,y.formatter,y.encodeValuesOnly,y.charset,I))}var U=_.join(y.delimiter),P=y.addQueryPrefix===!0?"?":"";return y.charsetSentinel&&(y.charset==="iso-8859-1"?P+="utf8=%26%2310003%3B&":P+="utf8=%E2%9C%93&"),U.length>0?P+U:""},zr}function Mc(){if(io)return Kr;io=!0;var f=Wa(),h=Object.prototype.hasOwnProperty,s=Array.isArray,a={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:f.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1},c=function(p){return p.replace(/&#(\d+);/g,function(g,b){return String.fromCharCode(parseInt(b,10))})},n=function(p,g){return p&&typeof p=="string"&&g.comma&&p.indexOf(",")>-1?p.split(","):p},r="utf8=%26%2310003%3B",t="utf8=%E2%9C%93",e=function(p,g){var b={__proto__:null},E=g.ignoreQueryPrefix?p.replace(/^\?/,""):p;E=E.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var S=g.parameterLimit===1/0?void 0:g.parameterLimit,x=E.split(g.delimiter,S),y=-1,v,A=g.charset;if(g.charsetSentinel)for(v=0;v<x.length;++v)x[v].indexOf("utf8=")===0&&(x[v]===t?A="utf-8":x[v]===r&&(A="iso-8859-1"),y=v,v=x.length);for(v=0;v<x.length;++v)if(v!==y){var _=x[v],C=_.indexOf("]="),w=C===-1?_.indexOf("="):C+1,I,k;w===-1?(I=g.decoder(_,a.decoder,A,"key"),k=g.strictNullHandling?null:""):(I=g.decoder(_.slice(0,w),a.decoder,A,"key"),k=f.maybeMap(n(_.slice(w+1),g),function(U){return g.decoder(U,a.decoder,A,"value")})),k&&g.interpretNumericEntities&&A==="iso-8859-1"&&(k=c(k)),_.indexOf("[]=")>-1&&(k=s(k)?[k]:k);var j=h.call(b,I);j&&g.duplicates==="combine"?b[I]=f.combine(b[I],k):(!j||g.duplicates==="last")&&(b[I]=k)}return b},i=function(p,g,b,E){for(var S=E?g:n(g,b),x=p.length-1;x>=0;--x){var y,v=p[x];if(v==="[]"&&b.parseArrays)y=b.allowEmptyArrays&&(S===""||b.strictNullHandling&&S===null)?[]:[].concat(S);else{y=b.plainObjects?Object.create(null):{};var A=v.charAt(0)==="["&&v.charAt(v.length-1)==="]"?v.slice(1,-1):v,_=b.decodeDotInKeys?A.replace(/%2E/g,"."):A,C=parseInt(_,10);!b.parseArrays&&_===""?y={0:S}:!isNaN(C)&&v!==_&&String(C)===_&&C>=0&&b.parseArrays&&C<=b.arrayLimit?(y=[],y[C]=S):_!=="__proto__"&&(y[_]=S)}S=y}return S},l=function(p,g,b,E){if(p){var S=b.allowDots?p.replace(/\.([^.[]+)/g,"[$1]"):p,x=/(\[[^[\]]*])/,y=/(\[[^[\]]*])/g,v=b.depth>0&&x.exec(S),A=v?S.slice(0,v.index):S,_=[];if(A){if(!b.plainObjects&&h.call(Object.prototype,A)&&!b.allowPrototypes)return;_.push(A)}for(var C=0;b.depth>0&&(v=y.exec(S))!==null&&C<b.depth;){if(C+=1,!b.plainObjects&&h.call(Object.prototype,v[1].slice(1,-1))&&!b.allowPrototypes)return;_.push(v[1])}if(v){if(b.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+b.depth+" and strictDepth is true");_.push("["+S.slice(v.index)+"]")}return i(_,g,b,E)}},d=function(p){if(!p)return a;if(typeof p.allowEmptyArrays<"u"&&typeof p.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof p.decodeDotInKeys<"u"&&typeof p.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(p.decoder!==null&&typeof p.decoder<"u"&&typeof p.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof p.charset<"u"&&p.charset!=="utf-8"&&p.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var g=typeof p.charset>"u"?a.charset:p.charset,b=typeof p.duplicates>"u"?a.duplicates:p.duplicates;if(b!=="combine"&&b!=="first"&&b!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var E=typeof p.allowDots>"u"?p.decodeDotInKeys===!0?!0:a.allowDots:!!p.allowDots;return{allowDots:E,allowEmptyArrays:typeof p.allowEmptyArrays=="boolean"?!!p.allowEmptyArrays:a.allowEmptyArrays,allowPrototypes:typeof p.allowPrototypes=="boolean"?p.allowPrototypes:a.allowPrototypes,allowSparse:typeof p.allowSparse=="boolean"?p.allowSparse:a.allowSparse,arrayLimit:typeof p.arrayLimit=="number"?p.arrayLimit:a.arrayLimit,charset:g,charsetSentinel:typeof p.charsetSentinel=="boolean"?p.charsetSentinel:a.charsetSentinel,comma:typeof p.comma=="boolean"?p.comma:a.comma,decodeDotInKeys:typeof p.decodeDotInKeys=="boolean"?p.decodeDotInKeys:a.decodeDotInKeys,decoder:typeof p.decoder=="function"?p.decoder:a.decoder,delimiter:typeof p.delimiter=="string"||f.isRegExp(p.delimiter)?p.delimiter:a.delimiter,depth:typeof p.depth=="number"||p.depth===!1?+p.depth:a.depth,duplicates:b,ignoreQueryPrefix:p.ignoreQueryPrefix===!0,interpretNumericEntities:typeof p.interpretNumericEntities=="boolean"?p.interpretNumericEntities:a.interpretNumericEntities,parameterLimit:typeof p.parameterLimit=="number"?p.parameterLimit:a.parameterLimit,parseArrays:p.parseArrays!==!1,plainObjects:typeof p.plainObjects=="boolean"?p.plainObjects:a.plainObjects,strictDepth:typeof p.strictDepth=="boolean"?!!p.strictDepth:a.strictDepth,strictNullHandling:typeof p.strictNullHandling=="boolean"?p.strictNullHandling:a.strictNullHandling}};return Kr=function(p,g){var b=d(g);if(p===""||p===null||typeof p>"u")return b.plainObjects?Object.create(null):{};for(var E=typeof p=="string"?e(p,b):p,S=b.plainObjects?Object.create(null):{},x=Object.keys(E),y=0;y<x.length;++y){var v=x[y],A=l(v,E[v],b,typeof p=="string");S=f.merge(S,A,b)}return b.allowSparse===!0?S:f.compact(S)},Kr}function Bc(){if(oo)return Hr;oo=!0;var f=jc(),h=Mc(),s=vo();return Hr={formats:s,parse:h,stringify:f},Hr}function Nc(){if(so)return $t;so=!0;var f=Wt;function h(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var s=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,c=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,n=["<",">",'"',"`"," ","\r",`
`,"	"],r=["{","}","|","\\","^","`"].concat(n),t=["'"].concat(r),e=["%","/","?",";","#"].concat(t),i=["/","?","#"],l=255,d=/^[+a-z0-9A-Z_-]{0,63}$/,p=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,g={javascript:!0,"javascript:":!0},b={javascript:!0,"javascript:":!0},E={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},S=Bc();function x(_,C,w){if(_&&typeof _=="object"&&_ instanceof h)return _;var I=new h;return I.parse(_,C,w),I}h.prototype.parse=function(_,C,w){if(typeof _!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof _);var I=_.indexOf("?"),k=I!==-1&&I<_.indexOf("#")?"?":"#",j=_.split(k),U=/\\/g;j[0]=j[0].replace(U,"/"),_=j.join(k);var P=_;if(P=P.trim(),!w&&_.split("#").length===1){var z=c.exec(P);if(z)return this.path=P,this.href=P,this.pathname=z[1],z[2]?(this.search=z[2],C?this.query=S.parse(this.search.substr(1)):this.query=this.search.substr(1)):C&&(this.search="",this.query={}),this}var G=s.exec(P);if(G){G=G[0];var q=G.toLowerCase();this.protocol=q,P=P.substr(G.length)}if(w||G||P.match(/^\/\/[^@/]+@[^@/]+/)){var he=P.substr(0,2)==="//";he&&!(G&&b[G])&&(P=P.substr(2),this.slashes=!0)}if(!b[G]&&(he||G&&!E[G])){for(var ne=-1,te=0;te<i.length;te++){var ce=P.indexOf(i[te]);ce!==-1&&(ne===-1||ce<ne)&&(ne=ce)}var V,le;ne===-1?le=P.lastIndexOf("@"):le=P.lastIndexOf("@",ne),le!==-1&&(V=P.slice(0,le),P=P.slice(le+1),this.auth=decodeURIComponent(V)),ne=-1;for(var te=0;te<e.length;te++){var ce=P.indexOf(e[te]);ce!==-1&&(ne===-1||ce<ne)&&(ne=ce)}ne===-1&&(ne=P.length),this.host=P.slice(0,ne),P=P.slice(ne),this.parseHost(),this.hostname=this.hostname||"";var M=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!M)for(var ee=this.hostname.split(/\./),te=0,Z=ee.length;te<Z;te++){var ue=ee[te];if(ue&&!ue.match(d)){for(var Ae="",Y=0,W=ue.length;Y<W;Y++)ue.charCodeAt(Y)>127?Ae+="x":Ae+=ue[Y];if(!Ae.match(d)){var oe=ee.slice(0,te),X=ee.slice(te+1),J=ue.match(p);J&&(oe.push(J[1]),X.unshift(J[2])),X.length&&(P="/"+X.join(".")+P),this.hostname=oe.join(".");break}}}this.hostname.length>l?this.hostname="":this.hostname=this.hostname.toLowerCase(),M||(this.hostname=f.toASCII(this.hostname));var re=this.port?":"+this.port:"",we=this.hostname||"";this.host=we+re,this.href+=this.host,M&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),P[0]!=="/"&&(P="/"+P))}if(!g[q])for(var te=0,Z=t.length;te<Z;te++){var pe=t[te];if(P.indexOf(pe)!==-1){var L=encodeURIComponent(pe);L===pe&&(L=escape(pe)),P=P.split(pe).join(L)}}var H=P.indexOf("#");H!==-1&&(this.hash=P.substr(H),P=P.slice(0,H));var se=P.indexOf("?");if(se!==-1?(this.search=P.substr(se),this.query=P.substr(se+1),C&&(this.query=S.parse(this.query)),P=P.slice(0,se)):C&&(this.search="",this.query={}),P&&(this.pathname=P),E[q]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var re=this.pathname||"",be=this.search||"";this.path=re+be}return this.href=this.format(),this};function y(_){return typeof _=="string"&&(_=x(_)),_ instanceof h?_.format():h.prototype.format.call(_)}h.prototype.format=function(){var _=this.auth||"";_&&(_=encodeURIComponent(_),_=_.replace(/%3A/i,":"),_+="@");var C=this.protocol||"",w=this.pathname||"",I=this.hash||"",k=!1,j="";this.host?k=_+this.host:this.hostname&&(k=_+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(k+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(j=S.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var U=this.search||j&&"?"+j||"";return C&&C.substr(-1)!==":"&&(C+=":"),this.slashes||(!C||E[C])&&k!==!1?(k="//"+(k||""),w&&w.charAt(0)!=="/"&&(w="/"+w)):k||(k=""),I&&I.charAt(0)!=="#"&&(I="#"+I),U&&U.charAt(0)!=="?"&&(U="?"+U),w=w.replace(/[?#]/g,function(P){return encodeURIComponent(P)}),U=U.replace("#","%23"),C+k+w+U+I};function v(_,C){return x(_,!1,!0).resolve(C)}h.prototype.resolve=function(_){return this.resolveObject(x(_,!1,!0)).format()};function A(_,C){return _?x(_,!1,!0).resolveObject(C):C}return h.prototype.resolveObject=function(_){if(typeof _=="string"){var C=new h;C.parse(_,!1,!0),_=C}for(var w=new h,I=Object.keys(this),k=0;k<I.length;k++){var j=I[k];w[j]=this[j]}if(w.hash=_.hash,_.href==="")return w.href=w.format(),w;if(_.slashes&&!_.protocol){for(var U=Object.keys(_),P=0;P<U.length;P++){var z=U[P];z!=="protocol"&&(w[z]=_[z])}return E[w.protocol]&&w.hostname&&!w.pathname&&(w.pathname="/",w.path=w.pathname),w.href=w.format(),w}if(_.protocol&&_.protocol!==w.protocol){if(!E[_.protocol]){for(var G=Object.keys(_),q=0;q<G.length;q++){var he=G[q];w[he]=_[he]}return w.href=w.format(),w}if(w.protocol=_.protocol,!_.host&&!b[_.protocol]){for(var Z=(_.pathname||"").split("/");Z.length&&!(_.host=Z.shift()););_.host||(_.host=""),_.hostname||(_.hostname=""),Z[0]!==""&&Z.unshift(""),Z.length<2&&Z.unshift(""),w.pathname=Z.join("/")}else w.pathname=_.pathname;if(w.search=_.search,w.query=_.query,w.host=_.host||"",w.auth=_.auth,w.hostname=_.hostname||_.host,w.port=_.port,w.pathname||w.search){var ne=w.pathname||"",te=w.search||"";w.path=ne+te}return w.slashes=w.slashes||_.slashes,w.href=w.format(),w}var ce=w.pathname&&w.pathname.charAt(0)==="/",V=_.host||_.pathname&&_.pathname.charAt(0)==="/",le=V||ce||w.host&&_.pathname,M=le,ee=w.pathname&&w.pathname.split("/")||[],Z=_.pathname&&_.pathname.split("/")||[],ue=w.protocol&&!E[w.protocol];if(ue&&(w.hostname="",w.port=null,w.host&&(ee[0]===""?ee[0]=w.host:ee.unshift(w.host)),w.host="",_.protocol&&(_.hostname=null,_.port=null,_.host&&(Z[0]===""?Z[0]=_.host:Z.unshift(_.host)),_.host=null),le=le&&(Z[0]===""||ee[0]==="")),V)w.host=_.host||_.host===""?_.host:w.host,w.hostname=_.hostname||_.hostname===""?_.hostname:w.hostname,w.search=_.search,w.query=_.query,ee=Z;else if(Z.length)ee||(ee=[]),ee.pop(),ee=ee.concat(Z),w.search=_.search,w.query=_.query;else if(_.search!=null){if(ue){w.host=ee.shift(),w.hostname=w.host;var Ae=w.host&&w.host.indexOf("@")>0?w.host.split("@"):!1;Ae&&(w.auth=Ae.shift(),w.hostname=Ae.shift(),w.host=w.hostname)}return w.search=_.search,w.query=_.query,(w.pathname!==null||w.search!==null)&&(w.path=(w.pathname?w.pathname:"")+(w.search?w.search:"")),w.href=w.format(),w}if(!ee.length)return w.pathname=null,w.search?w.path="/"+w.search:w.path=null,w.href=w.format(),w;for(var Y=ee.slice(-1)[0],W=(w.host||_.host||ee.length>1)&&(Y==="."||Y==="..")||Y==="",oe=0,X=ee.length;X>=0;X--)Y=ee[X],Y==="."?ee.splice(X,1):Y===".."?(ee.splice(X,1),oe++):oe&&(ee.splice(X,1),oe--);if(!le&&!M)for(;oe--;oe)ee.unshift("..");le&&ee[0]!==""&&(!ee[0]||ee[0].charAt(0)!=="/")&&ee.unshift(""),W&&ee.join("/").substr(-1)!=="/"&&ee.push("");var J=ee[0]===""||ee[0]&&ee[0].charAt(0)==="/";if(ue){w.hostname=J?"":ee.length?ee.shift():"",w.host=w.hostname;var Ae=w.host&&w.host.indexOf("@")>0?w.host.split("@"):!1;Ae&&(w.auth=Ae.shift(),w.hostname=Ae.shift(),w.host=w.hostname)}return le=le||w.host&&ee.length,le&&!J&&ee.unshift(""),ee.length>0?w.pathname=ee.join("/"):(w.pathname=null,w.path=null),(w.pathname!==null||w.search!==null)&&(w.path=(w.pathname?w.pathname:"")+(w.search?w.search:"")),w.auth=_.auth||w.auth,w.slashes=w.slashes||_.slashes,w.href=w.format(),w},h.prototype.parseHost=function(){var _=this.host,C=a.exec(_);C&&(C=C[0],C!==":"&&(this.port=C.substr(1)),_=_.substr(0,_.length-C.length)),_&&(this.hostname=_)},$t.parse=x,$t.resolve=v,$t.resolveObject=A,$t.format=y,$t.Url=h,$t}function $a(f){if(typeof f=="string")f=new URL(f);else if(!(f instanceof URL))throw new Deno.errors.InvalidData("invalid argument path , must be a string or URL");if(f.protocol!=="file:")throw new Deno.errors.InvalidData("invalid url scheme");return Qr?Uc(f):Lc(f)}function Uc(f){let h=f.hostname,s=f.pathname;for(let a=0;a<s.length;a++)if(s[a]==="%"){let c=s.codePointAt(a+2)||32;if(s[a+1]==="2"&&c===102||s[a+1]==="5"&&c===99)throw new Deno.errors.InvalidData("must not include encoded \\ or / characters")}if(s=s.replace(tl,"\\"),s=decodeURIComponent(s),h!=="")return`\\\\${h}${s}`;{let a=s.codePointAt(1)|32,c=s[2];if(a<Za||a>el||c!==":")throw new Deno.errors.InvalidData("file url path must be absolute");return s.slice(1)}}function Lc(f){if(f.hostname!=="")throw new Deno.errors.InvalidData("invalid file url hostname");let h=f.pathname;for(let s=0;s<h.length;s++)if(h[s]==="%"){let a=h.codePointAt(s+2)||32;if(h[s+1]==="2"&&a===102)throw new Deno.errors.InvalidData("must not include encoded / characters")}return decodeURIComponent(h)}function qa(f){let h=Xi.resolve(f),s=f.charCodeAt(f.length-1);(s===Xa||Qr&&s===Ja)&&h[h.length-1]!==Xi.sep&&(h+="/");let a=new URL("file://");return h.includes("%")&&(h=h.replace(rl,"%25")),!Qr&&h.includes("\\")&&(h=h.replace(nl,"%5C")),h.includes(`
`)&&(h=h.replace(il,"%0A")),h.includes("\r")&&(h=h.replace(ol,"%0D")),h.includes("	")&&(h=h.replace(sl,"%09")),a.pathname=h,a}var Va,Fr,Zi,Wr,$r,eo,qr,to,Vr,ro,zr,no,Kr,io,Hr,oo,$t,so,ft,Ts,za,Ka,Ha,Ga,Qa,Ya,Ja,Xa,Za,el,Qr,tl,rl,nl,il,ol,sl,Dc=yt(()=>{ge(),me(),ye(),rc(),bc(),Tc(),Da(),Va=Object.freeze(Object.create(null)),Fr={},Zi=!1,Wr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,$r={},eo=!1,qr={},to=!1,Vr={},ro=!1,zr={},no=!1,Kr={},io=!1,Hr={},oo=!1,$t={},so=!1,ft=Nc(),ft.parse,ft.resolve,ft.resolveObject,ft.format,ft.Url,Ts=typeof Deno<"u"?Deno.build.os==="windows"?"win32":Deno.build.os:void 0,ft.URL=typeof URL<"u"?URL:null,ft.pathToFileURL=qa,ft.fileURLToPath=$a,za=ft.Url,Ka=ft.format,Ha=ft.resolve,Ga=ft.resolveObject,Qa=ft.parse,Ya=ft.URL,Ja=92,Xa=47,Za=97,el=122,Qr=Ts==="win32",tl=/\//g,rl=/%/g,nl=/\\/g,il=/\n/g,ol=/\r/g,sl=/\t/g}),Fc=Se((f,h)=>{ge(),me(),ye(),h.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}}),wo=Se(f=>{ge(),me(),ye(),Object.defineProperty(f,"__esModule",{value:!0}),f.BufferedDuplex=void 0,f.writev=a;var h=tr(),s=(st(),Ke(ot));function a(n,r){let t=new Array(n.length);for(let e=0;e<n.length;e++)typeof n[e].chunk=="string"?t[e]=s.Buffer.from(n[e].chunk,"utf8"):t[e]=n[e].chunk;this._write(s.Buffer.concat(t),"binary",r)}var c=class extends h.Duplex{socket;proxy;isSocketOpen;writeQueue;constructor(n,r,t){super({objectMode:!0}),this.proxy=r,this.socket=t,this.writeQueue=[],n.objectMode||(this._writev=a.bind(this)),this.isSocketOpen=!1,this.proxy.on("data",e=>{!this.destroyed&&this.readable&&this.push(e)})}_read(n){this.proxy.read(n)}_write(n,r,t){this.isSocketOpen?this.writeToProxy(n,r,t):this.writeQueue.push({chunk:n,encoding:r,cb:t})}_final(n){this.writeQueue=[],this.proxy.end(n)}_destroy(n,r){this.writeQueue=[],this.proxy.destroy(),r(n)}socketReady(){this.emit("connect"),this.isSocketOpen=!0,this.processWriteQueue()}writeToProxy(n,r,t){this.proxy.write(n,r)===!1?this.proxy.once("drain",t):t()}processWriteQueue(){for(;this.writeQueue.length>0;){let{chunk:n,encoding:r,cb:t}=this.writeQueue.shift();this.writeToProxy(n,r,t)}}};f.BufferedDuplex=c}),wr=Se(f=>{ge(),me(),ye();var h=f&&f.__importDefault||function(x){return x&&x.__esModule?x:{default:x}};Object.defineProperty(f,"__esModule",{value:!0}),f.streamBuilder=f.browserStreamBuilder=void 0;var s=(st(),Ke(ot)),a=h(Fc()),c=h(Tt()),n=tr(),r=h(tn()),t=wo(),e=(0,c.default)("mqttjs:ws"),i=["rejectUnauthorized","ca","cert","key","pfx","passphrase"];function l(x,y){let v=`${x.protocol}://${x.hostname}:${x.port}${x.path}`;return typeof x.transformWsUrl=="function"&&(v=x.transformWsUrl(v,x,y)),v}function d(x){let y=x;return x.port||(x.protocol==="wss"?y.port=443:y.port=80),x.path||(y.path="/"),x.wsOptions||(y.wsOptions={}),!r.default&&!x.forceNativeWebSocket&&x.protocol==="wss"&&i.forEach(v=>{Object.prototype.hasOwnProperty.call(x,v)&&!Object.prototype.hasOwnProperty.call(x.wsOptions,v)&&(y.wsOptions[v]=x[v])}),y}function p(x){let y=d(x);if(y.hostname||(y.hostname=y.host),!y.hostname){if(typeof document>"u")throw new Error("Could not determine host. Specify host manually.");let v=new URL(document.URL);y.hostname=v.hostname,y.port||(y.port=Number(v.port))}return y.objectMode===void 0&&(y.objectMode=!(y.binary===!0||y.binary===void 0)),y}function g(x,y,v){e("createWebSocket"),e(`protocol: ${v.protocolId} ${v.protocolVersion}`);let A=v.protocolId==="MQIsdp"&&v.protocolVersion===3?"mqttv3.1":"mqtt";e(`creating new Websocket for url: ${y} and protocol: ${A}`);let _;return v.createWebsocket?_=v.createWebsocket(y,[A],v):_=new a.default(y,[A],v.wsOptions),_}function b(x,y){let v=y.protocolId==="MQIsdp"&&y.protocolVersion===3?"mqttv3.1":"mqtt",A=l(y,x),_;return y.createWebsocket?_=y.createWebsocket(A,[v],y):_=new WebSocket(A,[v]),_.binaryType="arraybuffer",_}var E=(x,y)=>{e("streamBuilder");let v=d(y);v.hostname=v.hostname||v.host||"localhost";let A=l(v,x),_=g(x,A,v),C=a.default.createWebSocketStream(_,v.wsOptions);return C.url=A,_.on("close",()=>{C.destroy()}),C};f.streamBuilder=E;var S=(x,y)=>{e("browserStreamBuilder");let v,A=p(y).browserBufferSize||1024*512,_=y.browserBufferTimeout||1e3,C=!y.objectMode,w=b(x,y),I=j(y,q,he);y.objectMode||(I._writev=t.writev.bind(I)),I.on("close",()=>{w.close()});let k=typeof w.addEventListener<"u";w.readyState===w.OPEN?(v=I,v.socket=w):(v=new t.BufferedDuplex(y,I,w),k?w.addEventListener("open",U):w.onopen=U),k?(w.addEventListener("close",P),w.addEventListener("error",z),w.addEventListener("message",G)):(w.onclose=P,w.onerror=z,w.onmessage=G);function j(ne,te,ce){let V=new n.Transform({objectMode:ne.objectMode});return V._write=te,V._flush=ce,V}function U(){e("WebSocket onOpen"),v instanceof t.BufferedDuplex&&v.socketReady()}function P(ne){e("WebSocket onClose",ne),v.end(),v.destroy()}function z(ne){e("WebSocket onError",ne);let te=new Error("WebSocket error");te.event=ne,v.destroy(te)}async function G(ne){if(!I||I.destroyed||!I.readable)return;let{data:te}=ne;te instanceof ArrayBuffer?te=s.Buffer.from(te):te instanceof Blob?te=s.Buffer.from(await new Response(te).arrayBuffer()):te=s.Buffer.from(te,"utf8"),I.push(te)}function q(ne,te,ce){if(w.bufferedAmount>A){setTimeout(q,_,ne,te,ce);return}C&&typeof ne=="string"&&(ne=s.Buffer.from(ne,"utf8"));try{w.send(ne)}catch(V){return ce(V)}ce()}function he(ne){w.close(),ne()}return v};f.browserStreamBuilder=S}),_o={};or(_o,{Server:()=>Je,Socket:()=>Je,Stream:()=>Je,_createServerHandle:()=>Je,_normalizeArgs:()=>Je,_setSimultaneousAccepts:()=>Je,connect:()=>Je,createConnection:()=>Je,createServer:()=>Je,default:()=>al,isIP:()=>Je,isIPv4:()=>Je,isIPv6:()=>Je});function Je(){throw new Error("Node.js net module is not supported by JSPM core outside of Node.js")}var al,ll=yt(()=>{ge(),me(),ye(),al={_createServerHandle:Je,_normalizeArgs:Je,_setSimultaneousAccepts:Je,connect:Je,createConnection:Je,createServer:Je,isIP:Je,isIPv4:Je,isIPv6:Je,Server:Je,Socket:Je,Stream:Je}}),ul=Se((f,h)=>{ge(),me(),ye(),h.exports={}}),Cs=Se(f=>{ge(),me(),ye();var h=f&&f.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(f,"__esModule",{value:!0});var s=h((ll(),Ke(_o))),a=h(Tt()),c=h(ul()),n=(0,a.default)("mqttjs:tcp"),r=(t,e)=>{if(e.port=e.port||1883,e.hostname=e.hostname||e.host||"localhost",e.socksProxy)return(0,c.default)(e.hostname,e.port,e.socksProxy,{timeout:e.socksTimeout});let{port:i,path:l}=e,d=e.hostname;return n("port %d and host %s",i,d),s.default.createConnection({port:i,host:d,path:l})};f.default=r}),cl={};or(cl,{default:()=>hl});var hl,Wc=yt(()=>{ge(),me(),ye(),hl={}}),Rs=Se(f=>{ge(),me(),ye();var h=f&&f.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(f,"__esModule",{value:!0});var s=(Wc(),Ke(cl)),a=h((ll(),Ke(_o))),c=h(Tt()),n=h(ul()),r=(0,c.default)("mqttjs:tls");function t(i){let{host:l,port:d,socksProxy:p,...g}=i;if(p!==void 0){let b=(0,n.default)(l,d,p,{timeout:i.socksTimeout});return(0,s.connect)({...g,socket:b})}return(0,s.connect)(i)}var e=(i,l)=>{l.port=l.port||8883,l.host=l.hostname||l.host||"localhost",a.default.isIP(l.host)===0&&(l.servername=l.host),l.rejectUnauthorized=l.rejectUnauthorized!==!1,delete l.path,r("port %d host %s rejectUnauthorized %b",l.port,l.host,l.rejectUnauthorized);let d=t(l);d.on("secureConnect",()=>{l.rejectUnauthorized&&!d.authorized?d.emit("error",new Error("TLS not authorized")):d.removeListener("error",p)});function p(g){l.rejectUnauthorized&&i.emit("error",g),d.end()}return d.on("error",p),d};f.default=e}),js=Se(f=>{ge(),me(),ye(),Object.defineProperty(f,"__esModule",{value:!0});var h=(st(),Ke(ot)),s=tr(),a=wo(),c,n,r;function t(){let p=new s.Transform;return p._write=(g,b,E)=>{c.send({data:g.buffer,success(){E()},fail(S){E(new Error(S))}})},p._flush=g=>{c.close({success(){g()}})},p}function e(p){p.hostname||(p.hostname="localhost"),p.path||(p.path="/"),p.wsOptions||(p.wsOptions={})}function i(p,g){let b=p.protocol==="wxs"?"wss":"ws",E=`${b}://${p.hostname}${p.path}`;return p.port&&p.port!==80&&p.port!==443&&(E=`${b}://${p.hostname}:${p.port}${p.path}`),typeof p.transformWsUrl=="function"&&(E=p.transformWsUrl(E,p,g)),E}function l(){c.onOpen(()=>{r.socketReady()}),c.onMessage(p=>{let{data:g}=p;g instanceof ArrayBuffer?g=h.Buffer.from(g):g=h.Buffer.from(g,"utf8"),n.push(g)}),c.onClose(()=>{r.emit("close"),r.end(),r.destroy()}),c.onError(p=>{let g=new Error(p.errMsg);r.destroy(g)})}var d=(p,g)=>{if(g.hostname=g.hostname||g.host,!g.hostname)throw new Error("Could not determine host. Specify host manually.");let b=g.protocolId==="MQIsdp"&&g.protocolVersion===3?"mqttv3.1":"mqtt";e(g);let E=i(g,p);c=wx.connectSocket({url:E,protocols:[b]}),n=t(),r=new a.BufferedDuplex(g,n,c),r._destroy=(x,y)=>{c.close({success(){y&&y(x)}})};let S=r.destroy;return r.destroy=(x,y)=>(r.destroy=S,setTimeout(()=>{c.close({fail(){r._destroy(x,y)}})},0),r),l(),r};f.default=d}),Ms=Se(f=>{ge(),me(),ye(),Object.defineProperty(f,"__esModule",{value:!0});var h=(st(),Ke(ot)),s=tr(),a=wo(),c,n,r,t=!1;function e(){let g=new s.Transform;return g._write=(b,E,S)=>{c.sendSocketMessage({data:b.buffer,success(){S()},fail(){S(new Error)}})},g._flush=b=>{c.closeSocket({success(){b()}})},g}function i(g){g.hostname||(g.hostname="localhost"),g.path||(g.path="/"),g.wsOptions||(g.wsOptions={})}function l(g,b){let E=g.protocol==="alis"?"wss":"ws",S=`${E}://${g.hostname}${g.path}`;return g.port&&g.port!==80&&g.port!==443&&(S=`${E}://${g.hostname}:${g.port}${g.path}`),typeof g.transformWsUrl=="function"&&(S=g.transformWsUrl(S,g,b)),S}function d(){t||(t=!0,c.onSocketOpen(()=>{r.socketReady()}),c.onSocketMessage(g=>{if(typeof g.data=="string"){let b=h.Buffer.from(g.data,"base64");n.push(b)}else{let b=new FileReader;b.addEventListener("load",()=>{if(b.result instanceof ArrayBuffer){n.push(h.Buffer.from(b.result));return}n.push(h.Buffer.from(b.result,"utf-8"))}),b.readAsArrayBuffer(g.data)}}),c.onSocketClose(()=>{r.end(),r.destroy()}),c.onSocketError(g=>{r.destroy(g)}))}var p=(g,b)=>{if(b.hostname=b.hostname||b.host,!b.hostname)throw new Error("Could not determine host. Specify host manually.");let E=b.protocolId==="MQIsdp"&&b.protocolVersion===3?"mqttv3.1":"mqtt";i(b);let S=l(b,g);return c=b.my,c.connectSocket({url:S,protocols:E}),n=e(),r=new a.BufferedDuplex(b,n,c),d(),r};f.default=p}),$c=Se(f=>{ge(),me(),ye();var h=f&&f.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(f,"__esModule",{value:!0}),f.connectAsync=l;var s=h(Tt()),a=h((Dc(),Ke(Fa))),c=h(wi()),n=h(tn());typeof Ge?.nextTick!="function"&&(Ge.nextTick=setImmediate);var r=(0,s.default)("mqttjs"),t=null;function e(d){let p;if(d.auth)if(p=d.auth.match(/^(.+):(.+)$/),p){let[,g,b]=p;d.username=g,d.password=b}else d.username=d.auth}function i(d,p){if(r("connecting to an MQTT broker..."),typeof d=="object"&&!p&&(p=d,d=""),p=p||{},d&&typeof d=="string"){let E=a.default.parse(d,!0),S={};if(E.port!=null&&(S.port=Number(E.port)),S.host=E.hostname,S.query=E.query,S.auth=E.auth,S.protocol=E.protocol,S.path=E.path,p={...S,...p},!p.protocol)throw new Error("Missing protocol");p.protocol=p.protocol.replace(/:$/,"")}if(p.unixSocket=p.unixSocket||p.protocol?.includes("+unix"),p.unixSocket?p.protocol=p.protocol.replace("+unix",""):!p.protocol?.startsWith("ws")&&!p.protocol?.startsWith("wx")&&delete p.path,e(p),p.query&&typeof p.query.clientId=="string"&&(p.clientId=p.query.clientId),n.default||p.unixSocket?p.socksProxy=void 0:p.socksProxy===void 0&&typeof Ge<"u"&&(p.socksProxy=Ge.env.MQTTJS_SOCKS_PROXY),p.cert&&p.key)if(p.protocol){if(["mqtts","wss","wxs","alis"].indexOf(p.protocol)===-1)switch(p.protocol){case"mqtt":p.protocol="mqtts";break;case"ws":p.protocol="wss";break;case"wx":p.protocol="wxs";break;case"ali":p.protocol="alis";break;default:throw new Error(`Unknown protocol for secure connection: "${p.protocol}"!`)}}else throw new Error("Missing secure protocol key");if(t||(t={},!n.default&&!p.forceNativeWebSocket?(t.ws=wr().streamBuilder,t.wss=wr().streamBuilder,t.mqtt=Cs().default,t.tcp=Cs().default,t.ssl=Rs().default,t.tls=t.ssl,t.mqtts=Rs().default):(t.ws=wr().browserStreamBuilder,t.wss=wr().browserStreamBuilder,t.wx=js().default,t.wxs=js().default,t.ali=Ms().default,t.alis=Ms().default)),!t[p.protocol]){let E=["mqtts","wss"].indexOf(p.protocol)!==-1;p.protocol=["mqtt","mqtts","ws","wss","wx","wxs","ali","alis"].filter((S,x)=>E&&x%2===0?!1:typeof t[S]=="function")[0]}if(p.clean===!1&&!p.clientId)throw new Error("Missing clientId for unclean clients");p.protocol&&(p.defaultProtocol=p.protocol);function g(E){return p.servers&&((!E._reconnectCount||E._reconnectCount===p.servers.length)&&(E._reconnectCount=0),p.host=p.servers[E._reconnectCount].host,p.port=p.servers[E._reconnectCount].port,p.protocol=p.servers[E._reconnectCount].protocol?p.servers[E._reconnectCount].protocol:p.defaultProtocol,p.hostname=p.host,E._reconnectCount++),r("calling streambuilder for",p.protocol),t[p.protocol](E,p)}let b=new c.default(g,p);return b.on("error",()=>{}),b}function l(d,p,g=!0){return new Promise((b,E)=>{let S=i(d,p),x={connect:v=>{y(),b(S)},end:()=>{y(),b(S)},error:v=>{y(),S.end(),E(v)}};g===!1&&(x.close=()=>{x.error(new Error("Couldn't connect to server"))});function y(){Object.keys(x).forEach(v=>{S.off(v,x[v])})}Object.keys(x).forEach(v=>{S.on(v,x[v])})})}f.default=i}),Bs=Se(f=>{ge(),me(),ye();var h=f&&f.__createBinding||(Object.create?function(g,b,E,S){S===void 0&&(S=E);var x=Object.getOwnPropertyDescriptor(b,E);(!x||("get"in x?!b.__esModule:x.writable||x.configurable))&&(x={enumerable:!0,get:function(){return b[E]}}),Object.defineProperty(g,S,x)}:function(g,b,E,S){S===void 0&&(S=E),g[S]=b[E]}),s=f&&f.__setModuleDefault||(Object.create?function(g,b){Object.defineProperty(g,"default",{enumerable:!0,value:b})}:function(g,b){g.default=b}),a=f&&f.__importStar||(function(){var g=function(b){return g=Object.getOwnPropertyNames||function(E){var S=[];for(var x in E)Object.prototype.hasOwnProperty.call(E,x)&&(S[S.length]=x);return S},g(b)};return function(b){if(b&&b.__esModule)return b;var E={};if(b!=null)for(var S=g(b),x=0;x<S.length;x++)S[x]!=="default"&&h(E,b,S[x]);return s(E,b),E}})(),c=f&&f.__exportStar||function(g,b){for(var E in g)E!=="default"&&!Object.prototype.hasOwnProperty.call(b,E)&&h(b,g,E)},n=f&&f.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(f,"__esModule",{value:!0}),f.ReasonCodes=f.KeepaliveManager=f.UniqueMessageIdProvider=f.DefaultMessageIdProvider=f.Store=f.MqttClient=f.connectAsync=f.connect=f.Client=void 0;var r=n(wi());f.MqttClient=r.default;var t=n(Oa());f.DefaultMessageIdProvider=t.default;var e=n(ec());f.UniqueMessageIdProvider=e.default;var i=n(ca());f.Store=i.default;var l=a($c());f.connect=l.default,Object.defineProperty(f,"connectAsync",{enumerable:!0,get:function(){return l.connectAsync}});var d=n(Ma());f.KeepaliveManager=d.default,f.Client=r.default,c(wi(),f),c(ar(),f);var p=Zr();Object.defineProperty(f,"ReasonCodes",{enumerable:!0,get:function(){return p.ReasonCodes}})}),qc=Se(f=>{ge(),me(),ye();var h=f&&f.__createBinding||(Object.create?function(r,t,e,i){i===void 0&&(i=e);var l=Object.getOwnPropertyDescriptor(t,e);(!l||("get"in l?!t.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return t[e]}}),Object.defineProperty(r,i,l)}:function(r,t,e,i){i===void 0&&(i=e),r[i]=t[e]}),s=f&&f.__setModuleDefault||(Object.create?function(r,t){Object.defineProperty(r,"default",{enumerable:!0,value:t})}:function(r,t){r.default=t}),a=f&&f.__importStar||(function(){var r=function(t){return r=Object.getOwnPropertyNames||function(e){var i=[];for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&(i[i.length]=l);return i},r(t)};return function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var i=r(t),l=0;l<i.length;l++)i[l]!=="default"&&h(e,t,i[l]);return s(e,t),e}})(),c=f&&f.__exportStar||function(r,t){for(var e in r)e!=="default"&&!Object.prototype.hasOwnProperty.call(t,e)&&h(t,r,e)};Object.defineProperty(f,"__esModule",{value:!0});var n=a(Bs());f.default=n,c(Bs(),f)});const Vc=qc();/*! Bundled license information:

@jspm/core/nodelibs/browser/chunk-DtuTasat.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

@babel/runtime/helpers/regenerator.js:
  (*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE *)
*/const Hc=Bl("mqtt",()=>{let f;const h={protocol:location.protocol=="https:"?"wss":"ws",host:location.hostname,port:parseInt(location.port)||(location.protocol=="https:"?443:80),endpoint:"/ws",connectTimeout:4e3,reconnectPeriod:4e3},s=Io({}),a=Io({});function c(){const{protocol:O,host:B,port:ae,endpoint:xe,...Ce}=h,Ve=`${O}://${B}:${ae}${xe}`;try{f=Vc.connect(Ve,Ce),f.on("connect",()=>{}),f.on("error",et=>{console.error("Client error",et)}),f.on("message",(et,vt)=>{if(`${vt}${et}`,vt.toString().length>0){let ut;try{ut=JSON.parse(vt.toString())}catch(Bt){ut=vt.toString()}r(et,ut)}else e(et)})}catch(et){console.error("error connecting to broker:",et)}}function n(O,B=void 0){O.includes("#")||O.includes("+")||r(O,B)}function r(O,B){a.value[O]=B}function t(O,B,ae=void 0,xe=!1){const Ce=(Ve,et,vt)=>{const ut=et.split(".");ut.reduce((Bt,Gt,Ao)=>Ao===ut.length-1?(Bt[Gt]=vt,vt):Bt[Gt],Ve)};O in a.value?(ae!=null?Ce(a.value[O],ae,B):a.value[O]=B,xe&&(a.value[O],b(O,a.value[O]))):console.warn("topic not found",O)}function e(O){O.includes("#")||O.includes("+")?Object.keys(x.value(O)).forEach(B=>{delete a.value[B]}):delete a.value[O]}function i(O,B=void 0){Array.isArray(O)||(O=[O]),O.forEach(ae=>{d(ae)==1&&(n(ae,B),f?f.subscribe(O,{},xe=>{xe&&console.error("Subscribe to topics error",xe)}):console.error("mqttClient is not initialized"))})}function l(O){Array.isArray(O)||(O=[O]),O.forEach(B=>{p(B)<=0&&(e(B),f?f.unsubscribe(B,ae=>{ae&&console.error("Unsubscribe error",ae)}):console.error("mqttClient is not initialized"))})}function d(O){return O in s.value?s.value[O]+=1:s.value[O]=1,s.value[O],s.value[O]}function p(O){let B=0;return O in s.value&&(B=s.value[O]-=1,s.value[O]<=0&&delete s.value[O]),s.value[O],B}function g(O,B,ae=!0,xe=2){if(!f){console.error("mqttClient is not initialized");return}const Ce={qos:xe,retain:ae};f.publish(O,JSON.stringify(B),Ce,Ve=>{Ve&&console.error("Publish error",Ve)})}function b(O,B=void 0){const ae=O.replace("openWB/","openWB/set/");B===void 0&&(B=a.value[O]),g(ae,B)}function E(O){g("openWB/set/command/"+f?.options.clientId+"/todo",O,!1)}function S(O,B={}){E({command:O,data:B})}const x=Ie(()=>(O,B=!1)=>{let ae=O;return B?console.warn("auto subscription of regex topic not possible",O):(ae="^"+O.replaceAll("/","\\/").replaceAll("+","[^+/]+").replaceAll("#","[^#/]+")+"$",Object.keys(s.value).includes(O)||i(O)),Object.keys(a.value).filter(xe=>xe.match(ae)).reduce((xe,Ce)=>({...xe,[Ce]:a.value[Ce]}),{})}),y=Ie(()=>O=>{function B(ae){let xe=[];return ae!==void 0&&ae.forEach(Ce=>{Ce.type==O&&xe.push(Ce.id),xe=[...xe,...B(Ce.children)]}),xe}return B(v.value("openWB/counter/get/hierarchy"))}),v=Ie(()=>(O,B=void 0,ae=void 0)=>{O in s.value||i(O,ae);let xe=a.value[O];if(B==null||xe==null)return xe;const Ce=B.split(".");for(let Ve=0;Ve<Ce.length;Ve++){if(!Object.hasOwn(xe,Ce[Ve]))return console.error("path not found",xe,Ce[Ve]),ae;xe=xe[Ce[Ve]]}return xe}),A=Ie(()=>(O,B="W",ae="",xe=!0,Ce=!1,Ve="---",et=0)=>{let vt=!1,ut=O,Bt=Ve;if(O!==void 0){for(Ce&&(ut=O*=-1),Bt=O.toLocaleString(void 0,{minimumFractionDigits:0,maximumFractionDigits:0});xe&&(ut>999||ut<-999);)switch(ut=ut/1e3,vt=!0,ae){case"":ae="k";break;case"k":ae="M";break;case"M":ae="G";break}let Gt=0;vt?Gt=et>0?et:2:Gt=ut!==Math.floor(ut)?et:0,Bt=ut.toLocaleString(void 0,{minimumFractionDigits:Gt,maximumFractionDigits:Gt})}return{textValue:`${Bt} ${ae}${B}`,value:O,unit:B,scaledValue:ut,scaledUnit:`${ae}${B}`}}),_=Ie(()=>v.value("openWB/general/web_theme","configuration")),C=Ie(()=>v.value("openWB/system/version")),w=Ie(()=>v.value("openWB/system/ip_address")),I=Ie(()=>v.value("openWB/system/current_branch")),k=Ie(()=>v.value("openWB/system/current_commit")),j=Ie(()=>(O="Date")=>{const B=v.value("openWB/system/time");if(B==null)return;const ae=new Date(B*1e3);switch(O){case"locale-string":return ae.toLocaleString();case"number":return ae.getTime();case"date":default:return ae}}),U=Ie(()=>y.value("cp")),P=Ie(()=>O=>v.value(`openWB/chargepoint/${O}/config`,"name")),z=O=>Ie({get(){return v.value(`openWB/chargepoint/${O}/set/manual_lock`)},set(B){return t(`openWB/chargepoint/${O}/set/manual_lock`,B,void 0,!0)}}),G=Ie(()=>O=>v.value(`openWB/chargepoint/${O}/get/plug_state`)||!1),q=Ie(()=>O=>v.value(`openWB/chargepoint/${O}/get/charge_state`)||!1),he=Ie(()=>(O="textValue")=>{const B=v.value("openWB/chargepoint/get/power",void 0,0)||0,ae=A.value(B);if(Object.hasOwn(ae,O))return ae[O];if(O=="object")return ae;console.error("returnType not found!",O,B)}),ne=Ie(()=>(O,B="textValue")=>{const ae=v.value(`openWB/chargepoint/${O}/get/power`,void 0,0)||0,xe=A.value(ae);if(Object.hasOwn(xe,B))return xe[B];if(B=="object")return xe;console.error("returnType not found!",B,ae)}),te=Ie(()=>(O,B="textValue")=>{const ae=v.value(`openWB/chargepoint/${O}/get/energy_charged`,void 0,0)||0,xe=A.value(ae,"Wh");if(Object.hasOwn(xe,B))return xe[B];if(B=="object")return xe;console.error("returnType not found!",B,ae)}),ce=Ie(()=>(O,B="textValue")=>{const ae=v.value(`openWB/chargepoint/${O}/set/log`,"imported_since_plugged")||0,xe=A.value(ae,"Wh");if(Object.hasOwn(xe,B))return xe[B];if(B=="object")return xe;console.error("returnType not found!",B,ae)}),V=Ie(()=>O=>v.value(`openWB/chargepoint/${O}/get/phases_in_use`)||0),le=Ie(()=>(O,B="textValue")=>{const ae=v.value(`openWB/chargepoint/${O}/set/current`)||0,xe=A.value(ae,"A","",!0,!1,"---",2);if(Object.hasOwn(xe,B))return xe[B];console.error("returnType not found!",B,ae)}),M=Ie(()=>O=>v.value(`openWB/chargepoint/${O}/get/state_str`)),ee=Ie(()=>O=>v.value(`openWB/chargepoint/${O}/get/fault_str`)),Z=Ie(()=>O=>v.value(`openWB/chargepoint/${O}/get/fault_state`)||0),ue=O=>{const B=Ae(O).value?.id;B!==void 0&&Ht(B)},Ae=O=>Ie({get(){return v.value(`openWB/chargepoint/${O}/get/connected_vehicle/info`)},set(B){t(`openWB/chargepoint/${O}/get/connected_vehicle/info`,B,void 0,!1),b(`openWB/chargepoint/${O}/config/ev`,B.id)}}),Y=O=>Ie({get(){return je(O).value?.chargemode?.selected},set(B){return t(`openWB/chargepoint/${O}/set/charge_template`,B,"chargemode.selected",!0)}}),W=O=>Ie({get(){return je(O).value?.chargemode?.instant_charging?.current},set(B){return t(`openWB/chargepoint/${O}/set/charge_template`,B,"chargemode.instant_charging.current",!0)}}),oe=Ie(()=>v.value("openWB/optional/dc_charging")||0),X=O=>Math.round(O*3*230/1e3),J=O=>Math.round(O*1e3/690),re=O=>Ie({get(){const B=je(O).value?.chargemode?.instant_charging?.dc_current;return B!==void 0?X(B):0},set(B){const ae=J(B);return t(`openWB/chargepoint/${O}/set/charge_template`,ae,"chargemode.instant_charging.dc_current",!0)}}),we=O=>Ie({get(){return je(O).value?.chargemode?.instant_charging?.phases_to_use},set(B){return t(`openWB/chargepoint/${O}/set/charge_template`,B,"chargemode.instant_charging.phases_to_use",!0)}}),pe=O=>Ie({get(){return je(O).value?.chargemode?.instant_charging?.limit?.selected},set(B){return t(`openWB/chargepoint/${O}/set/charge_template`,B,"chargemode.instant_charging.limit.selected",!0)}}),L=O=>Ie({get(){return je(O).value?.chargemode?.instant_charging?.limit?.soc},set(B){return t(`openWB/chargepoint/${O}/set/charge_template`,B,"chargemode.instant_charging.limit.soc",!0)}}),H=O=>Ie({get(){const B=je(O).value?.chargemode?.instant_charging?.limit?.amount;return B===void 0?void 0:A.value(B,"Wh","",!0).scaledValue},set(B){return t(`openWB/chargepoint/${O}/set/charge_template`,B*1e3,"chargemode.instant_charging.limit.amount",!0)}}),se=O=>Ie({get(){return je(O).value?.chargemode?.pv_charging?.min_current},set(B){return t(`openWB/chargepoint/${O}/set/charge_template`,B,"chargemode.pv_charging.min_current",!0)}}),be=O=>Ie({get(){const B=je(O).value?.chargemode?.pv_charging?.dc_min_current;return B!==void 0?X(B):0},set(B){const ae=J(B);return t(`openWB/chargepoint/${O}/set/charge_template`,ae,"chargemode.pv_charging.dc_min_current",!0)}}),ve=O=>Ie({get(){const B=je(O).value?.chargemode?.pv_charging?.dc_min_soc_current;return B!==void 0?Math.round(B*3*230/1e3):0},set(B){const ae=B*1e3/230/3;return t(`openWB/chargepoint/${O}/set/charge_template`,ae,"chargemode.pv_charging.dc_min_soc_current",!0)}}),Ee=O=>Ie({get(){return je(O).value?.chargemode?.pv_charging?.min_soc},set(B){return t(`openWB/chargepoint/${O}/set/charge_template`,B,"chargemode.pv_charging.min_soc",!0)}}),Q=O=>Ie({get(){return je(O).value?.chargemode?.pv_charging?.min_soc_current},set(B){return t(`openWB/chargepoint/${O}/set/charge_template`,B,"chargemode.pv_charging.min_soc_current",!0)}}),_e=O=>Ie({get(){return je(O).value?.chargemode?.pv_charging?.phases_to_use},set(B){return t(`openWB/chargepoint/${O}/set/charge_template`,B,"chargemode.pv_charging.phases_to_use",!0)}}),Oe=O=>Ie({get(){return je(O).value?.chargemode?.pv_charging?.phases_to_use_min_soc},set(B){return t(`openWB/chargepoint/${O}/set/charge_template`,B,"chargemode.pv_charging.phases_to_use_min_soc",!0)}}),fe=O=>Ie({get(){return je(O).value?.chargemode?.pv_charging?.limit?.selected},set(B){return t(`openWB/chargepoint/${O}/set/charge_template`,B,"chargemode.pv_charging.limit.selected",!0)}}),Be=O=>Ie({get(){return je(O).value?.chargemode?.pv_charging?.limit?.soc},set(B){return t(`openWB/chargepoint/${O}/set/charge_template`,B,"chargemode.pv_charging.limit.soc",!0)}}),o=O=>Ie({get(){const B=je(O).value?.chargemode?.pv_charging?.limit?.amount;return B===void 0?void 0:A.value(B,"Wh","",!0).scaledValue},set(B){return t(`openWB/chargepoint/${O}/set/charge_template`,B*1e3,"chargemode.pv_charging.limit.amount",!0)}}),u=O=>Ie({get(){return je(O).value?.chargemode?.pv_charging?.feed_in_limit},set(B){return t(`openWB/chargepoint/${O}/set/charge_template`,B,"chargemode.pv_charging.feed_in_limit",!0)}}),m=O=>Ie({get(){return je(O).value?.chargemode?.eco_charging?.current},set(B){return t(`openWB/chargepoint/${O}/set/charge_template`,B,"chargemode.eco_charging.current",!0)}}),T=O=>Ie({get(){const B=je(O).value?.chargemode?.eco_charging?.dc_current;return B!==void 0?X(B):0},set(B){const ae=J(B);return t(`openWB/chargepoint/${O}/set/charge_template`,ae,"chargemode.eco_charging.dc_current",!0)}}),N=O=>Ie({get(){return je(O).value?.chargemode?.eco_charging?.phases_to_use},set(B){return t(`openWB/chargepoint/${O}/set/charge_template`,B,"chargemode.eco_charging.phases_to_use",!0)}}),K=O=>Ie({get(){return je(O).value?.chargemode?.eco_charging?.limit?.selected},set(B){return t(`openWB/chargepoint/${O}/set/charge_template`,B,"chargemode.eco_charging.limit.selected",!0)}}),de=O=>Ie({get(){return je(O).value?.chargemode?.eco_charging?.limit?.soc},set(B){return t(`openWB/chargepoint/${O}/set/charge_template`,B,"chargemode.eco_charging.limit.soc",!0)}}),$=O=>Ie({get(){const B=je(O).value?.chargemode?.eco_charging?.limit?.amount;return B===void 0?void 0:A.value(B,"Wh","",!0).scaledValue},set(B){return t(`openWB/chargepoint/${O}/set/charge_template`,B*1e3,"chargemode.eco_charging.limit.amount",!0)}}),ie=O=>Ie({get(){const B=je(O).value?.chargemode?.eco_charging?.max_price;if(B!==void 0)return B*1e5},set(B){return t(`openWB/chargepoint/${O}/set/charge_template`,parseFloat((B/1e5).toFixed(7)),"chargemode.eco_charging.max_price",!0)}}),Re=O=>Ie({get(){return je(O).value?.prio},set(B){return t(`openWB/chargepoint/${O}/set/charge_template`,B,"prio",!0)}}),ke=O=>Ie({get(){return je(O).value?.time_charging.active},set(B){return t(`openWB/chargepoint/${O}/set/charge_template`,B,"time_charging.active",!0)}}),Le=(O,B)=>Ie({get(){return bt.value(O).find(Ce=>Ce.id===B)?.active},set(ae){const Ce=bt.value(O).findIndex(et=>et.id===B);if(Ce===-1)return;const Ve=`time_charging.plans.${Ce}.active`;t(`openWB/chargepoint/${O}/set/charge_template`,ae,Ve,!0)}}),Ue=O=>Ie(()=>v.value(`openWB/chargepoint/${O}/get/connected_vehicle/config`)),Xe=O=>Ie(()=>v.value(`openWB/chargepoint/${O}/get/connected_vehicle/soc`)),Fe=O=>Ie({get(){const xe=`openWB/vehicle/${Ae(O).value?.id}/soc_module/calculated_soc_state`,Ce=v.value(xe);return Ce?.manual_soc??Ce?.soc_start??0},set(B){const ae=Ae(O).value;if(!ae){console.warn("No vehicle connected to charge point",O);return}const xe=ae.id;g(`openWB/set/vehicle/${xe}/soc_module/calculated_soc_state/manual_soc`,B);const Ce=`openWB/chargepoint/${O}/get/connected_vehicle/soc`,Ve=v.value(Ce);Ve&&Ve.soc!==void 0&&t(Ce,B,"soc",!0)}}),We=O=>Ie(()=>{const B=Ae(O).value?.id;if(B!==void 0)return Mt.value(B)}),je=O=>Ie({get(){return v.value(`openWB/chargepoint/${O}/set/charge_template`)},set(B){return t(`openWB/chargepoint/${O}/set/charge_template`,B,void 0,!0)}}),tt=Ie(()=>O=>{const B=x.value(`openWB/system/device/+/component/${O}/config`);return Object.keys(B).length===0?`Speicher ${O}`:Object.values(B)[0].name}),He=Ie(()=>O=>v.value(`openWB/bat/${O}/get/soc`)||0),$e=Ie(()=>(O,B="textValue")=>{const ae=v.value(`openWB/bat/${O}/get/power`,void 0,0)||0,xe=A.value(ae);if(Object.hasOwn(xe,B))return xe[B];if(B=="object")return xe;if(B==="absoluteTextValue"){const Ce=Math.abs(ae);return A.value(Ce,"W","",!0).textValue}console.error("returnType not found!",B,ae)}),nt=Ie(()=>(O,B="textValue")=>{const ae=v.value(`openWB/bat/${O}/get/daily_imported`,void 0,0)||0,xe=A.value(ae,"Wh","",!0);if(Object.hasOwn(xe,B))return xe[B];if(B=="object")return xe;console.error("returnType not found!",B,ae)}),dt=Ie(()=>(O,B="textValue")=>{const ae=v.value(`openWB/bat/${O}/get/daily_exported`,void 0,0)||0,xe=A.value(ae,"Wh","",!0);if(Object.hasOwn(xe,B))return xe[B];if(B=="object")return xe;console.error("returnType not found!",B,ae)}),lt=Ie(()=>v.value("openWB/bat/config/configured",void 0)||!1),R=Ie(()=>y.value("bat")||[]),F=Ie(()=>(O="textValue")=>{const B=v.value("openWB/bat/get/power",void 0,0)||0,ae=A.value(B);if(Object.hasOwn(ae,O))return ae[O];if(O=="object")return ae;console.error("returnType not found!",O,B)}),Pe=Ie(()=>v.value("openWB/bat/get/soc")||0),Te=Ie(()=>(O="textValue")=>{const B=v.value("openWB/bat/get/daily_imported")||0,ae=A.value(B,"Wh","",!0);if(Object.hasOwn(ae,O))return ae[O];if(O=="object")return ae;console.error("returnType not found!",O,B)}),Me=Ie(()=>(O="textValue")=>{const B=v.value("openWB/bat/get/daily_exported")||0,ae=A.value(B,"Wh","",!0);if(Object.hasOwn(ae,O))return ae[O];if(O=="object")return ae;console.error("returnType not found!",O,B)}),rt=()=>Ie({get(){return v.value("openWB/general/chargemode_config/pv_charging/bat_mode")||void 0},set(O){return t("openWB/general/chargemode_config/pv_charging/bat_mode",O,void 0,!0)}}),at=Ie(()=>{const O=x.value("openWB/vehicle/+/name"),ae=_.value?.hide_standard_vehicle?Object.fromEntries(Object.entries(O).filter(([,xe])=>typeof xe=="string"&&xe!=="Standard-Fahrzeug")):O;return Object.keys(ae).map(xe=>({id:parseInt(xe.split("/")[2]),name:ae[xe]}))}),mt=Ie(()=>O=>v.value(`openWB/vehicle/${O}/info`)),Mt=Ie(()=>O=>v.value(`openWB/vehicle/${O}/soc_module/config`)?.type),zt=Ie(()=>O=>v.value(`openWB/vehicle/${O}/get/soc`)),Kt=(O,B)=>Ie({get(){const ae=`openWB/vehicle/${O}/soc_module/calculated_soc_state`,xe=v.value(ae);return xe?.manual_soc??xe?.soc_start??0},set(ae){if(g(`openWB/set/vehicle/${O}/soc_module/calculated_soc_state/manual_soc`,ae),B!==void 0){const xe=`openWB/chargepoint/${B}/get/connected_vehicle/soc`,Ce=v.value(xe);Ce&&Ce.soc!==void 0&&t(xe,ae,"soc",!0)}}}),Ht=O=>{if(O!==void 0){const B=`openWB/vehicle/${O}/get/force_soc_update`;b(B,1)}},Et=Ie(()=>O=>{const B=x.value("openWB/chargepoint/+/get/connected_vehicle/info");return Object.entries(B).filter(([,xe])=>xe.id===O).map(([xe])=>{const Ce=parseInt(xe.split("/")[2]);return{id:Ce,name:P.value(Ce),plugged:G.value(Ce),charging:q.value(Ce)}})}),ze=Ie(()=>O=>{const B=v.value(`openWB/chargepoint/${O}/set/charge_template`,"chargemode.scheduled_charging.plans");return Array.isArray(B)?B:[]}),bt=Ie(()=>O=>{const B=v.value(`openWB/chargepoint/${O}/set/charge_template`,"time_charging.plans");return Array.isArray(B)?B:[]}),At=(O,B)=>Ie({get(){return ze.value(O).find(Ce=>Ce.id===B)?.active},set(ae){Qe(O,B,"active",ae)}}),Qe=(O,B,ae,xe)=>{const Ve=ze.value(O).findIndex(vt=>vt.id===B);if(Ve===-1)return;const et=`chargemode.scheduled_charging.plans.${Ve}.${ae}`;t(`openWB/chargepoint/${O}/set/charge_template`,xe,et,!0)},wt=(O,B)=>Ie({get(){return ze.value(O).find(Ce=>Ce.id===B)?.et_active},set(ae){Qe(O,B,"et_active",ae)}}),So=O=>Ie(()=>{const B=Ue(O).value?.current_plan;if(B!==void 0)return{id:B,type:Ue(O).value?.time_charging_in_use?"timeCharging":"scheduledCharging",plan:Ue(O).value?.time_charging_in_use?bt.value(O).find(ae=>ae.id===B):ze.value(O).find(ae=>ae.id===B)}}),fl=O=>Ie(()=>{const B=So(O).value;if(B===void 0)return{time:void 0,limit_mode:void 0,limit:void 0};if(B.type==="scheduledCharging"){const xe=B.plan;return{time:xe?.time,limit_mode:xe?.limit.selected,limit:xe?.limit.selected=="soc"?xe.limit.soc_scheduled:xe?.limit.amount}}const ae=B.plan;return{time:ae?.time[1],limit_mode:ae?.limit.selected,limit:ae?.limit.selected=="soc"?ae?.limit.soc:ae?.limit.amount}}),pl=(O,B)=>Ie({get(){return ze.value(O).find(Ce=>Ce.id===B)?.current},set(ae){Qe(O,B,"current",ae)}}),dl=(O,B)=>Ie({get(){return ze.value(O).find(Ce=>Ce.id===B)?.limit.selected},set(ae){Qe(O,B,"limit.selected",ae)}}),gl=(O,B)=>Ie({get(){const Ce=ze.value(O).find(et=>et.id===B)?.limit.amount;return Ce===void 0?void 0:A.value(Ce,"Wh","",!0).scaledValue},set(ae){Qe(O,B,"limit.amount",ae)}}),yl=(O,B)=>Ie({get(){return ze.value(O).find(Ce=>Ce.id===B)?.name},set(ae){Qe(O,B,"name",ae)}}),ml=(O,B)=>Ie({get(){return ze.value(O).find(Ce=>Ce.id===B)?.time},set(ae){Qe(O,B,"time",ae)}}),bl=(O,B)=>Ie({get(){return ze.value(O).find(Ce=>Ce.id===B)?.frequency.selected},set(ae){Qe(O,B,"frequency.selected",ae)}}),vl=(O,B)=>Ie({get(){return ze.value(O).find(Ce=>Ce.id===B)?.frequency.once},set(ae){Qe(O,B,"frequency.once",ae)}}),wl=(O,B)=>Ie({get(){return ze.value(O).find(Ce=>Ce.id===B)?.frequency.weekly},set(ae){Qe(O,B,"frequency.weekly",ae)}}),_l=(O,B)=>Ie({get(){return ze.value(O).find(Ce=>Ce.id===B)?.limit.soc_limit},set(ae){Qe(O,B,"limit.soc_limit",ae)}}),Sl=(O,B)=>Ie({get(){return ze.value(O).find(Ce=>Ce.id===B)?.limit.soc_scheduled},set(ae){Qe(O,B,"limit.soc_scheduled",ae)}}),El=(O,B)=>Ie({get(){return ze.value(O).find(Ce=>Ce.id===B)?.phases_to_use},set(ae){Qe(O,B,"phases_to_use",ae)}}),Al=(O,B)=>Ie({get(){return ze.value(O).find(Ce=>Ce.id===B)?.phases_to_use_pv},set(ae){Qe(O,B,"phases_to_use_pv",ae)}}),Eo=Ie(()=>{const O=v.value("openWB/counter/get/hierarchy");if(O&&O.length>0){const B=O[0];if(B.type==="counter")return B.id}}),xl=Ie(()=>O=>{const B=x.value(`openWB/system/device/+/component/${O}/config`);return Object.keys(B).length===0?`Zhler ${O}`:Object.values(B)[0].name}),Il=Ie(()=>(O="textValue")=>{const B=Eo.value;if(B===void 0)return"---";const ae=v.value(`openWB/counter/${B}/get/power`,void 0,0)||0,xe=A.value(ae);if(O in xe)return xe[O];if(O=="object")return xe;console.error("returnType not found!",O,ae)}),Ol=Ie(()=>(O="textValue")=>{const B=v.value("openWB/counter/set/home_consumption",void 0,0)||0,ae=A.value(B);if(O in ae)return ae[O];if(O=="object")return ae;console.error("returnType not found!",O,B)}),Pl=Ie(()=>v.value("openWB/pv/config/configured",void 0)||!1),kl=Ie(()=>(O="textValue")=>{const B=v.value("openWB/pv/get/power",void 0,0)||0,ae=A.value(B);if(O in ae)return ae[O];if(O=="object")return ae;console.error("returnType not found!",O,B)}),Tl=Ie(()=>{const O=x.value("openWB/graph/+"),B=[];return Object.entries(O).forEach(([ae,xe])=>{ae.includes("alllivevaluesJson")&&typeof xe=="string"&&xe.split(`
`).forEach(Ve=>{if(Ve&&Ve.startsWith("{")&&Ve.endsWith("}")){const et=JSON.parse(Ve);B.push(et)}})}),B.sort((ae,xe)=>ae.timestamp-xe.timestamp)}),Cl=Ie(()=>(v.value("openWB/optional/et/provider","type",null)||void 0)!==void 0),Rl=Ie(()=>v.value("openWB/optional/et/get/prices",void 0,{}));return{topics:a,subscriptions:s,initialize:c,updateTopic:t,updateState:t,subscribe:i,unsubscribe:l,sendTopicToBroker:b,sendSystemCommand:S,getValue:v,systemVersion:C,systemIp:w,systemBranch:I,systemCommit:k,themeConfiguration:_,systemDateTime:j,chargePointIds:U,chargePointName:P,chargePointManualLock:z,chargePointPlugState:G,chargePointChargeState:q,chargePointSumPower:he,chargePointPower:ne,chargePointEnergyCharged:te,chargePointEnergyChargedPlugged:ce,chargePointPhaseNumber:V,chargePointChargingCurrent:le,chargePointStateMessage:M,chargePointFaultState:Z,chargePointFaultMessage:ee,dcChargingEnabled:oe,chargePointConnectedVehicleInfo:Ae,chargePointConnectedVehicleForceSocUpdate:ue,chargePointConnectedVehicleChargeMode:Y,chargePointConnectedVehicleInstantChargeCurrent:W,chargePointConnectedVehicleInstantDcChargePower:re,chargePointConnectedVehicleInstantChargePhases:we,chargePointConnectedVehicleInstantChargeLimit:pe,chargePointConnectedVehicleInstantChargeLimitSoC:L,chargePointConnectedVehicleInstantChargeLimitEnergy:H,chargePointConnectedVehiclePvChargeMinCurrent:se,chargePointConnectedVehiclePvChargePhases:_e,chargePointConnectedVehiclePvChargeLimit:fe,chargePointConnectedVehiclePvChargeLimitSoC:Be,chargePointConnectedVehiclePvChargeLimitEnergy:o,chargePointConnectedVehiclePvChargeMinSoc:Ee,chargePointConnectedVehiclePvChargeMinSocCurrent:Q,chargePointConnectedVehiclePvDcChargePower:be,chargePointConnectedVehiclePvDcMinSocPower:ve,chargePointConnectedVehiclePvChargePhasesMinSoc:Oe,chargePointConnectedVehiclePvChargeFeedInLimit:u,chargePointConnectedVehicleEcoChargeCurrent:m,chargePointConnectedVehicleEcoChargeDcPower:T,chargePointConnectedVehicleEcoChargePhases:N,chargePointConnectedVehicleEcoChargeLimit:K,chargePointConnectedVehicleEcoChargeLimitSoC:de,chargePointConnectedVehicleEcoChargeLimitEnergy:$,chargePointConnectedVehicleEcoChargeMaxPrice:ie,chargePointConnectedVehiclePriority:Re,chargePointConnectedVehicleTimeCharging:ke,chargePointConnectedVehicleChargeTemplate:je,vehicleList:at,chargePointConnectedVehicleConfig:Ue,vehicleInfo:mt,vehicleConnectionState:Et,vehicleSocType:Mt,vehicleSocValue:zt,vehicleSocManualValue:Kt,vehicleForceSocUpdate:Ht,chargePointConnectedVehicleSoc:Xe,vehicleActivePlan:So,vehicleChargeTarget:fl,vehicleScheduledChargingPlans:ze,vehicleScheduledChargingPlanActive:At,vehicleScheduledChargingPlanEtActive:wt,vehicleScheduledChargingPlanCurrent:pl,vehicleScheduledChargingPlanLimitSelected:dl,vehicleScheduledChargingPlanEnergyAmount:gl,vehicleScheduledChargingPlanName:yl,vehicleScheduledChargingPlanTime:ml,vehicleScheduledChargingPlanFrequencySelected:bl,vehicleScheduledChargingPlanOnceDate:vl,vehicleScheduledChargingPlanWeeklyDays:wl,vehicleScheduledChargingPlanSocLimit:_l,vehicleScheduledChargingPlanSocScheduled:Sl,vehicleScheduledChargingPlanPhases:El,vehicleScheduledChargingPlanPhasesPv:Al,vehicleTimeChargingPlans:bt,vehicleTimeChargingPlanActive:Le,chargePointConnectedVehicleSocType:We,chargePointConnectedVehicleSocManual:Fe,batteryConfigured:lt,batteryIds:R,batteryName:tt,batterySoc:He,batteryPower:$e,batteryDailyImported:nt,batteryDailyExported:dt,batterySocTotal:Pe,batteryDailyImportedTotal:Te,batteryDailyExportedTotal:Me,batteryTotalPower:F,batteryMode:rt,getGridId:Eo,getComponentName:xl,getGridPower:Il,getHomePower:Ol,getPvConfigured:Pl,getPvPower:kl,chartData:Tl,etProviderConfigured:Cl,etPrices:Rl}});export{Hc as u};
