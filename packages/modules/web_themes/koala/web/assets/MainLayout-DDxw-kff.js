import{c as F,a as i,h as _,d as le,i as we,e as P,r as q,w as g,o as Le,f as Ne,l as oe,g as ne,j as Te,n as qe,k as X,m as Ce,p as ze,q as je,s as Ee,t as Z,u as Ue,v as Ke,x as Ge,_ as Xe,y as Je,z as E,A as U,B as s,C as r,Q as ee,D as M,E as K,F as Ye,R as te}from"./index-EKspHiQe.js";import{Q as ye,u as Ze,a as et,b as tt,c as at,d as lt,e as ot,f as nt,T as ve,g as ae,h as rt,i as me,j as it,k as ut,l as st,m as dt,n as G,o as $,p as he,q as ge,r as ct,s as be}from"./use-quasar-uR0IoSjA.js";const ft=F({name:"QToolbarTitle",props:{shrink:Boolean},setup(e,{slots:l}){const c=i(()=>"q-toolbar__title ellipsis"+(e.shrink===!0?" col-shrink":""));return()=>_("div",{class:c.value},le(l.default))}}),vt=F({name:"QToolbar",props:{inset:Boolean},setup(e,{slots:l}){const c=i(()=>"q-toolbar row no-wrap items-center"+(e.inset===!0?" q-toolbar--inset":""));return()=>_("div",{class:c.value,role:"toolbar"},le(l.default))}}),mt=F({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:l,emit:c}){const{proxy:{$q:o}}=ne(),u=we(oe,P);if(u===P)return console.error("QHeader needs to be child of QLayout"),P;const f=q(parseInt(e.heightHint,10)),w=q(!0),b=i(()=>e.reveal===!0||u.view.value.indexOf("H")!==-1||o.platform.is.ios&&u.isContainer.value===!0),y=i(()=>{if(e.modelValue!==!0)return 0;if(b.value===!0)return w.value===!0?f.value:0;const n=f.value-u.scroll.value.position;return n>0?n:0}),C=i(()=>e.modelValue!==!0||b.value===!0&&w.value!==!0),a=i(()=>e.modelValue===!0&&C.value===!0&&e.reveal===!0),V=i(()=>"q-header q-layout__section--marginal "+(b.value===!0?"fixed":"absolute")+"-top"+(e.bordered===!0?" q-header--bordered":"")+(C.value===!0?" q-header--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus":"")),Q=i(()=>{const n=u.rows.value.top,p={};return n[0]==="l"&&u.left.space===!0&&(p[o.lang.rtl===!0?"right":"left"]=`${u.left.size}px`),n[2]==="r"&&u.right.space===!0&&(p[o.lang.rtl===!0?"left":"right"]=`${u.right.size}px`),p});function k(n,p){u.update("header",n,p)}function h(n,p){n.value!==p&&(n.value=p)}function W({height:n}){h(f,n),k("size",n)}function x(n){a.value===!0&&h(w,!0),c("focusin",n)}g(()=>e.modelValue,n=>{k("space",n),h(w,!0),u.animate()}),g(y,n=>{k("offset",n)}),g(()=>e.reveal,n=>{n===!1&&h(w,e.modelValue)}),g(w,n=>{u.animate(),c("reveal",n)}),g(u.scroll,n=>{e.reveal===!0&&h(w,n.direction==="up"||n.position<=e.revealOffset||n.position-n.inflectionPoint<100)});const m={};return u.instances.header=m,e.modelValue===!0&&k("size",f.value),k("space",e.modelValue),k("offset",y.value),Le(()=>{u.instances.header===m&&(u.instances.header=void 0,k("size",0),k("offset",0),k("space",!1))}),()=>{const n=Ne(l.default,[]);return e.elevated===!0&&n.push(_("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),n.push(_(ye,{debounce:0,onResize:W})),_("header",{class:V.value,style:Q.value,onFocusin:x},n)}}}),pe=150,ht=F({name:"QDrawer",inheritAttrs:!1,props:{...Ze,...et,side:{type:String,default:"left",validator:e=>["left","right"].includes(e)},width:{type:Number,default:300},mini:Boolean,miniToOverlay:Boolean,miniWidth:{type:Number,default:57},noMiniAnimation:Boolean,breakpoint:{type:Number,default:1023},showIfAbove:Boolean,behavior:{type:String,validator:e=>["default","desktop","mobile"].includes(e),default:"default"},bordered:Boolean,elevated:Boolean,overlay:Boolean,persistent:Boolean,noSwipeOpen:Boolean,noSwipeClose:Boolean,noSwipeBackdrop:Boolean},emits:[...tt,"onLayout","miniState"],setup(e,{slots:l,emit:c,attrs:o}){const u=ne(),{proxy:{$q:f}}=u,w=at(e,f),{preventBodyScroll:b}=rt(),{registerTimeout:y,removeTimeout:C}=lt(),a=we(oe,P);if(a===P)return console.error("QDrawer needs to be child of QLayout"),P;let V,Q=null,k;const h=q(e.behavior==="mobile"||e.behavior!=="desktop"&&a.totalWidth.value<=e.breakpoint),W=i(()=>e.mini===!0&&h.value!==!0),x=i(()=>W.value===!0?e.miniWidth:e.width),m=q(e.showIfAbove===!0&&h.value===!1?!0:e.modelValue===!0),n=i(()=>e.persistent!==!0&&(h.value===!0||Be.value===!0));function p(t,d){if(z(),t!==!1&&a.animate(),B(0),h.value===!0){const T=a.instances[J.value];T!==void 0&&T.belowBreakpoint===!0&&T.hide(!1),H(1),a.isContainer.value!==!0&&b(!0)}else H(0),t!==!1&&de(!1);y(()=>{t!==!1&&de(!0),d!==!0&&c("show",t)},pe)}function v(t,d){N(),t!==!1&&a.animate(),H(0),B(I.value*x.value),ce(),d!==!0?y(()=>{c("hide",t)},pe):C()}const{show:S,hide:L}=ot({showing:m,hideOnRouteChange:n,handleShow:p,handleHide:v}),{addToHistory:z,removeFromHistory:N}=nt(m,L,n),R={belowBreakpoint:h,hide:L},O=i(()=>e.side==="right"),I=i(()=>(f.lang.rtl===!0?-1:1)*(O.value===!0?1:-1)),ke=q(0),A=q(!1),re=q(!1),Se=q(x.value*I.value),J=i(()=>O.value===!0?"left":"right"),ie=i(()=>m.value===!0&&h.value===!1&&e.overlay===!1?e.miniToOverlay===!0?e.miniWidth:x.value:0),ue=i(()=>e.overlay===!0||e.miniToOverlay===!0||a.view.value.indexOf(O.value?"R":"L")!==-1||f.platform.is.ios===!0&&a.isContainer.value===!0),j=i(()=>e.overlay===!1&&m.value===!0&&h.value===!1),Be=i(()=>e.overlay===!0&&m.value===!0&&h.value===!1),Qe=i(()=>"fullscreen q-drawer__backdrop"+(m.value===!1&&A.value===!1?" hidden":"")),Me=i(()=>({backgroundColor:`rgba(0,0,0,${ke.value*.4})`})),_e=i(()=>O.value===!0?a.rows.value.top[2]==="r":a.rows.value.top[0]==="l"),$e=i(()=>O.value===!0?a.rows.value.bottom[2]==="r":a.rows.value.bottom[0]==="l"),We=i(()=>{const t={};return a.header.space===!0&&_e.value===!1&&(ue.value===!0?t.top=`${a.header.offset}px`:a.header.space===!0&&(t.top=`${a.header.size}px`)),a.footer.space===!0&&$e.value===!1&&(ue.value===!0?t.bottom=`${a.footer.offset}px`:a.footer.space===!0&&(t.bottom=`${a.footer.size}px`)),t}),Oe=i(()=>{const t={width:`${x.value}px`,transform:`translateX(${Se.value}px)`};return h.value===!0?t:Object.assign(t,We.value)}),Pe=i(()=>"q-drawer__content fit "+(a.isContainer.value!==!0?"scroll":"overflow-auto")),He=i(()=>`q-drawer q-drawer--${e.side}`+(re.value===!0?" q-drawer--mini-animate":"")+(e.bordered===!0?" q-drawer--bordered":"")+(w.value===!0?" q-drawer--dark q-dark":"")+(A.value===!0?" no-transition":m.value===!0?"":" q-layout--prevent-focus")+(h.value===!0?" fixed q-drawer--on-top q-drawer--mobile q-drawer--top-padding":` q-drawer--${W.value===!0?"mini":"standard"}`+(ue.value===!0||j.value!==!0?" fixed":"")+(e.overlay===!0||e.miniToOverlay===!0?" q-drawer--on-top":"")+(_e.value===!0?" q-drawer--top-padding":""))),De=i(()=>{const t=f.lang.rtl===!0?e.side:J.value;return[[ve,Ae,void 0,{[t]:!0,mouse:!0}]]}),Ve=i(()=>{const t=f.lang.rtl===!0?J.value:e.side;return[[ve,xe,void 0,{[t]:!0,mouse:!0}]]}),Re=i(()=>{const t=f.lang.rtl===!0?J.value:e.side;return[[ve,xe,void 0,{[t]:!0,mouse:!0,mouseAllDir:!0}]]});function se(){Fe(h,e.behavior==="mobile"||e.behavior!=="desktop"&&a.totalWidth.value<=e.breakpoint)}g(h,t=>{t===!0?(V=m.value,m.value===!0&&L(!1)):e.overlay===!1&&e.behavior!=="mobile"&&V!==!1&&(m.value===!0?(B(0),H(0),ce()):S(!1))}),g(()=>e.side,(t,d)=>{a.instances[d]===R&&(a.instances[d]=void 0,a[d].space=!1,a[d].offset=0),a.instances[t]=R,a[t].size=x.value,a[t].space=j.value,a[t].offset=ie.value}),g(a.totalWidth,()=>{(a.isContainer.value===!0||document.qScrollPrevented!==!0)&&se()}),g(()=>e.behavior+e.breakpoint,se),g(a.isContainer,t=>{m.value===!0&&b(t!==!0),t===!0&&se()}),g(a.scrollbarWidth,()=>{B(m.value===!0?0:void 0)}),g(ie,t=>{D("offset",t)}),g(j,t=>{c("onLayout",t),D("space",t)}),g(O,()=>{B()}),g(x,t=>{B(),fe(e.miniToOverlay,t)}),g(()=>e.miniToOverlay,t=>{fe(t,x.value)}),g(()=>f.lang.rtl,()=>{B()}),g(()=>e.mini,()=>{e.noMiniAnimation||e.modelValue===!0&&(Ie(),a.animate())}),g(W,t=>{c("miniState",t)});function B(t){t===void 0?qe(()=>{t=m.value===!0?0:x.value,B(I.value*t)}):(a.isContainer.value===!0&&O.value===!0&&(h.value===!0||Math.abs(t)===x.value)&&(t+=I.value*a.scrollbarWidth.value),Se.value=t)}function H(t){ke.value=t}function de(t){const d=t===!0?"remove":a.isContainer.value!==!0?"add":"";d!==""&&document.body.classList[d]("q-body--drawer-toggle")}function Ie(){Q!==null&&clearTimeout(Q),u.proxy&&u.proxy.$el&&u.proxy.$el.classList.add("q-drawer--mini-animate"),re.value=!0,Q=setTimeout(()=>{Q=null,re.value=!1,u&&u.proxy&&u.proxy.$el&&u.proxy.$el.classList.remove("q-drawer--mini-animate")},150)}function Ae(t){if(m.value!==!1)return;const d=x.value,T=ae(t.distance.x,0,d);if(t.isFinal===!0){T>=Math.min(75,d)===!0?S():(a.animate(),H(0),B(I.value*d)),A.value=!1;return}B((f.lang.rtl===!0?O.value!==!0:O.value)?Math.max(d-T,0):Math.min(0,T-d)),H(ae(T/d,0,1)),t.isFirst===!0&&(A.value=!0)}function xe(t){if(m.value!==!0)return;const d=x.value,T=t.direction===e.side,Y=(f.lang.rtl===!0?T!==!0:T)?ae(t.distance.x,0,d):0;if(t.isFinal===!0){Math.abs(Y)<Math.min(75,d)===!0?(a.animate(),H(1),B(0)):L(),A.value=!1;return}B(I.value*Y),H(ae(1-Y/d,0,1)),t.isFirst===!0&&(A.value=!0)}function ce(){b(!1),de(!0)}function D(t,d){a.update(e.side,t,d)}function Fe(t,d){t.value!==d&&(t.value=d)}function fe(t,d){D("size",t===!0?e.miniWidth:d)}return a.instances[e.side]=R,fe(e.miniToOverlay,x.value),D("space",j.value),D("offset",ie.value),e.showIfAbove===!0&&e.modelValue!==!0&&m.value===!0&&e["onUpdate:modelValue"]!==void 0&&c("update:modelValue",!0),Te(()=>{c("onLayout",j.value),c("miniState",W.value),V=e.showIfAbove===!0;const t=()=>{(m.value===!0?p:v)(!1,!0)};if(a.totalWidth.value!==0){qe(t);return}k=g(a.totalWidth,()=>{k(),k=void 0,m.value===!1&&e.showIfAbove===!0&&h.value===!1?S(!1):t()})}),Le(()=>{k!==void 0&&k(),Q!==null&&(clearTimeout(Q),Q=null),m.value===!0&&ce(),a.instances[e.side]===R&&(a.instances[e.side]=void 0,D("size",0),D("offset",0),D("space",!1))}),()=>{const t=[];h.value===!0&&(e.noSwipeOpen===!1&&t.push(X(_("div",{key:"open",class:`q-drawer__opener fixed-${e.side}`,"aria-hidden":"true"}),De.value)),t.push(Ce("div",{ref:"backdrop",class:Qe.value,style:Me.value,"aria-hidden":"true",onClick:L},void 0,"backdrop",e.noSwipeBackdrop!==!0&&m.value===!0,()=>Re.value)));const d=W.value===!0&&l.mini!==void 0,T=[_("div",{...o,key:""+d,class:[Pe.value,o.class]},d===!0?l.mini():le(l.default))];return e.elevated===!0&&m.value===!0&&T.push(_("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),t.push(Ce("aside",{ref:"content",class:He.value,style:Oe.value},T,"contentclose",e.noSwipeClose!==!0&&h.value===!0,()=>Ve.value)),_("div",{class:"q-drawer-container"},t)}}}),gt=F({name:"QPageContainer",setup(e,{slots:l}){const{proxy:{$q:c}}=ne(),o=we(oe,P);if(o===P)return console.error("QPageContainer needs to be child of QLayout"),P;ze(je,!0);const u=i(()=>{const f={};return o.header.space===!0&&(f.paddingTop=`${o.header.size}px`),o.right.space===!0&&(f[`padding${c.lang.rtl===!0?"Left":"Right"}`]=`${o.right.size}px`),o.footer.space===!0&&(f.paddingBottom=`${o.footer.size}px`),o.left.space===!0&&(f[`padding${c.lang.rtl===!0?"Right":"Left"}`]=`${o.left.size}px`),f});return()=>_("div",{class:"q-page-container",style:u.value},le(l.default))}}),bt=F({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:e=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(e.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(e,{slots:l,emit:c}){const{proxy:{$q:o}}=ne(),u=q(null),f=q(o.screen.height),w=q(e.container===!0?0:o.screen.width),b=q({position:0,direction:"down",inflectionPoint:0}),y=q(0),C=q(Ee.value===!0?0:me()),a=i(()=>"q-layout q-layout--"+(e.container===!0?"containerized":"standard")),V=i(()=>e.container===!1?{minHeight:o.screen.height+"px"}:null),Q=i(()=>C.value!==0?{[o.lang.rtl===!0?"left":"right"]:`${C.value}px`}:null),k=i(()=>C.value!==0?{[o.lang.rtl===!0?"right":"left"]:0,[o.lang.rtl===!0?"left":"right"]:`-${C.value}px`,width:`calc(100% + ${C.value}px)`}:null);function h(v){if(e.container===!0||document.qScrollPrevented!==!0){const S={position:v.position.top,direction:v.direction,directionChanged:v.directionChanged,inflectionPoint:v.inflectionPoint.top,delta:v.delta.top};b.value=S,e.onScroll!==void 0&&c("scroll",S)}}function W(v){const{height:S,width:L}=v;let z=!1;f.value!==S&&(z=!0,f.value=S,e.onScrollHeight!==void 0&&c("scrollHeight",S),m()),w.value!==L&&(z=!0,w.value=L),z===!0&&e.onResize!==void 0&&c("resize",v)}function x({height:v}){y.value!==v&&(y.value=v,m())}function m(){if(e.container===!0){const v=f.value>y.value?me():0;C.value!==v&&(C.value=v)}}let n=null;const p={instances:{},view:i(()=>e.view),isContainer:i(()=>e.container),rootRef:u,height:f,containerHeight:y,scrollbarWidth:C,totalWidth:i(()=>w.value+C.value),rows:i(()=>{const v=e.view.toLowerCase().split(" ");return{top:v[0].split(""),middle:v[1].split(""),bottom:v[2].split("")}}),header:Z({size:0,offset:0,space:!1}),right:Z({size:300,offset:0,space:!1}),footer:Z({size:0,offset:0,space:!1}),left:Z({size:300,offset:0,space:!1}),scroll:b,animate(){n!==null?clearTimeout(n):document.body.classList.add("q-body--layout-animate"),n=setTimeout(()=>{n=null,document.body.classList.remove("q-body--layout-animate")},155)},update(v,S,L){p[v][S]=L}};if(ze(oe,p),me()>0){let v=function(){z=null,N.classList.remove("hide-scrollbar")},S=function(){if(z===null){if(N.scrollHeight>o.screen.height)return;N.classList.add("hide-scrollbar")}else clearTimeout(z);z=setTimeout(v,300)},L=function(R){z!==null&&R==="remove"&&(clearTimeout(z),v()),window[`${R}EventListener`]("resize",S)},z=null;const N=document.body;g(()=>e.container!==!0?"add":"remove",L),e.container!==!0&&L("add"),Ue(()=>{L("remove")})}return()=>{const v=Ke(l.default,[_(it,{onScroll:h}),_(ye,{onResize:W})]),S=_("div",{class:a.value,style:V.value,ref:e.container===!0?void 0:u,tabindex:-1},v);return e.container===!0?_("div",{class:"q-layout-container overflow-hidden",ref:u},[_(ye,{onResize:x}),_("div",{class:"absolute-full",style:Q.value},[_("div",{class:"scroll",style:k.value},[S])])]):S}}}),yt=Ge({name:"MainLayout",__name:"MainLayout",setup(e,{expose:l}){l();const c=ut(),o=q(!1),u=q("auto"),f=i(()=>c.screen.width>1400),w=y=>{u.value=y,y==="auto"?(localStorage.removeItem("theme"),c.dark.set("auto")):(c.dark.set(y==="dark"),localStorage.setItem("theme",y))};Te(()=>{const y=localStorage.getItem("theme");y?(u.value=y,c.dark.set(y==="dark")):(u.value="auto",c.dark.set("auto"))});const b={$q:c,drawer:o,themeMode:u,isLargeScreen:f,setTheme:w};return Object.defineProperty(b,"__isScriptSetup",{enumerable:!1,value:!0}),b}});function wt(e,l,c,o,u,f){const w=Je("router-view");return E(),U(bt,{view:"hHh lpr lFf"},{default:s(()=>[r(mt,{elevated:""},{default:s(()=>[r(vt,null,{default:s(()=>[r(ee,{dense:"",flat:"",round:"",icon:"menu",onClick:l[0]||(l[0]=b=>o.drawer=!o.drawer)}),r(ft,null,{default:s(()=>l[5]||(l[5]=[M("openWB")])),_:1})]),_:1})]),_:1}),r(ht,{modelValue:o.drawer,"onUpdate:modelValue":l[4]||(l[4]=b=>o.drawer=b),side:"left",overlay:"",elevated:"",breakpoint:500},{default:s(()=>[r(st,{class:"fit","horizontal-thumb-style":{opacity:"0"}},{default:s(()=>[r(dt,{padding:""},{default:s(()=>[X((E(),U(G,{clickable:"",href:"/openWB/web/settings/#/Status"},{default:s(()=>[r($,{avatar:""},{default:s(()=>[r(K,{name:"dashboard"})]),_:1}),r($,null,{default:s(()=>l[6]||(l[6]=[M(" Status ")])),_:1})]),_:1})),[[te]]),r(he),r(ge,{header:""},{default:s(()=>l[7]||(l[7]=[M("Auswertungen")])),_:1}),X((E(),U(G,{clickable:"",href:"/openWB/web/settings/#/Logging/ChargeLog"},{default:s(()=>[r($,{avatar:""},{default:s(()=>[r(K,{name:"table_chart"})]),_:1}),r($,null,{default:s(()=>l[8]||(l[8]=[M(" Ladeprotokoll ")])),_:1})]),_:1})),[[te]]),X((E(),U(G,{clickable:"",href:"/openWB/web/settings/#/Logging/Chart"},{default:s(()=>[r($,{avatar:""},{default:s(()=>[r(K,{name:"area_chart"})]),_:1}),r($,null,{default:s(()=>l[9]||(l[9]=[M(" Diagramme ")])),_:1})]),_:1})),[[te]]),r(he),X((E(),U(G,{clickable:"",href:"/openWB/web/settings/"},{default:s(()=>[r($,{avatar:""},{default:s(()=>[r(K,{name:"settings"})]),_:1}),r($,null,{default:s(()=>l[10]||(l[10]=[M(" Einstellungen ")])),_:1})]),_:1})),[[te]]),r(he),r(ge,{header:""},{default:s(()=>l[11]||(l[11]=[M("Anzeigeeinstellungen")])),_:1}),r(G,null,{default:s(()=>[r($,{avatar:""},{default:s(()=>[r(K,{name:"light_mode"})]),_:1}),r($,null,{default:s(()=>[r(ge,null,{default:s(()=>l[12]||(l[12]=[M("Darstellungsmodus")])),_:1})]),_:1}),r($,{side:""},{default:s(()=>[r(ct,{flat:""},{default:s(()=>[r(ee,{flat:"",round:"",color:o.themeMode==="light"?"primary":"",icon:"light_mode",onClick:l[1]||(l[1]=b=>o.setTheme("light")),size:"sm",disable:o.themeMode==="light","aria-label":"Light Mode"},{default:s(()=>[r(be,null,{default:s(()=>l[13]||(l[13]=[M("Hell")])),_:1})]),_:1},8,["color","disable"]),r(ee,{flat:"",round:"",color:o.themeMode==="dark"?"primary":"",icon:"dark_mode",onClick:l[2]||(l[2]=b=>o.setTheme("dark")),size:"sm",disable:o.themeMode==="dark","aria-label":"Dark Mode"},{default:s(()=>[r(be,null,{default:s(()=>l[14]||(l[14]=[M("Dunkel")])),_:1})]),_:1},8,["color","disable"]),r(ee,{flat:"",round:"",color:o.themeMode==="auto"?"primary":"",icon:"devices",onClick:l[3]||(l[3]=b=>o.setTheme("auto")),size:"sm",disable:o.themeMode==="auto","aria-label":"System Mode"},{default:s(()=>[r(be,null,{default:s(()=>l[15]||(l[15]=[M("Systemeinstellung")])),_:1})]),_:1},8,["color","disable"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),r(gt,{class:Ye(["column","flex",{"centered-container":!o.isLargeScreen,"centered-container-large":o.isLargeScreen}])},{default:s(()=>[r(w)]),_:1},8,["class"])]),_:1})}const xt=Xe(yt,[["render",wt],["__scopeId","data-v-e2d2191f"],["__file","MainLayout.vue"]]);export{xt as default};
