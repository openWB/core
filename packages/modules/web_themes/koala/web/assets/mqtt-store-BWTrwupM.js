var tu=Object.defineProperty;var ko=f=>{throw TypeError(f)};var ru=(f,h,s)=>h in f?tu(f,h,{enumerable:!0,configurable:!0,writable:!0,value:s}):f[h]=s;var st=(f,h,s)=>ru(f,typeof h!="symbol"?h+"":h,s),sn=(f,h,s)=>h.has(f)||ko("Cannot "+s);var D=(f,h,s)=>(sn(f,h,"read from private field"),s?s.call(f):h.get(f)),ze=(f,h,s)=>h.has(f)?ko("Cannot add the same private member more than once"):h instanceof WeakSet?h.add(f):h.set(f,s),De=(f,h,s,a)=>(sn(f,h,"write to private field"),a?a.call(f,s):h.set(f,s),s),Be=(f,h,s)=>(sn(f,h,"access private method"),s);var _r=(f,h,s,a)=>({set _(c){De(f,h,c,s)},get _(){return D(f,h,a)}});import{ae as nu,r as Co,a as Ae}from"./index-C7TVQFOT.js";var co=Object.defineProperty,iu=Object.getOwnPropertyDescriptor,ou=Object.getOwnPropertyNames,su=Object.prototype.hasOwnProperty,vt=(f,h)=>()=>(f&&(h=f(f=0)),h),Ee=(f,h)=>()=>(h||f((h={exports:{}}).exports,h),h.exports),lr=(f,h)=>{for(var s in h)co(f,s,{get:h[s],enumerable:!0})},au=(f,h,s,a)=>{if(h&&typeof h=="object"||typeof h=="function")for(let c of ou(h))!su.call(f,c)&&c!==s&&co(f,c,{get:()=>h[c],enumerable:!(a=iu(h,c))||a.enumerable});return f},He=f=>au(co({},"__esModule",{value:!0}),f),ye=vt(()=>{}),Qe={};lr(Qe,{_debugEnd:()=>qn,_debugProcess:()=>$n,_events:()=>ii,_eventsCount:()=>oi,_exiting:()=>Pn,_fatalExceptions:()=>Dn,_getActiveHandles:()=>Hs,_getActiveRequests:()=>Ks,_kill:()=>Cn,_linkedBinding:()=>Vs,_maxListeners:()=>ni,_preload_modules:()=>ti,_rawDebug:()=>xn,_startProfilerIdleNotifier:()=>Vn,_stopProfilerIdleNotifier:()=>zn,_tickCallback:()=>Wn,abort:()=>Qn,addListener:()=>si,allowedNodeEnvironmentFlags:()=>Un,arch:()=>hn,argv:()=>dn,argv0:()=>ei,assert:()=>Gs,binding:()=>vn,browser:()=>An,chdir:()=>Sn,config:()=>Tn,cpuUsage:()=>fr,cwd:()=>_n,debugPort:()=>Zn,default:()=>fo,dlopen:()=>zs,domain:()=>In,emit:()=>hi,emitWarning:()=>bn,env:()=>pn,execArgv:()=>gn,execPath:()=>Xn,exit:()=>Bn,features:()=>Ln,hasUncaughtExceptionCaptureCallback:()=>Qs,hrtime:()=>Ar,kill:()=>Mn,listeners:()=>Js,memoryUsage:()=>jn,moduleLoadList:()=>On,nextTick:()=>$s,off:()=>li,on:()=>Tt,once:()=>ai,openStdin:()=>Nn,pid:()=>Yn,platform:()=>fn,ppid:()=>Jn,prependListener:()=>fi,prependOnceListener:()=>pi,reallyExit:()=>kn,release:()=>En,removeAllListeners:()=>ci,removeListener:()=>ui,resourceUsage:()=>Rn,setSourceMapsEnabled:()=>ri,setUncaughtExceptionCaptureCallback:()=>Fn,stderr:()=>Hn,stdin:()=>Gn,stdout:()=>Kn,title:()=>cn,umask:()=>wn,uptime:()=>Ys,version:()=>yn,versions:()=>mn});function ho(f){throw new Error("Node.js process "+f+" is not supported by JSPM core outside of Node.js")}function lu(){!Zt||!Jt||(Zt=!1,Jt.length?xt=Jt.concat(xt):yr=-1,xt.length&&Ws())}function Ws(){if(!Zt){var f=setTimeout(lu,0);Zt=!0;for(var h=xt.length;h;){for(Jt=xt,xt=[];++yr<h;)Jt&&Jt[yr].run();yr=-1,h=xt.length}Jt=null,Zt=!1,clearTimeout(f)}}function $s(f){var h=new Array(arguments.length-1);if(arguments.length>1)for(var s=1;s<arguments.length;s++)h[s-1]=arguments[s];xt.push(new qs(f,h)),xt.length===1&&!Zt&&setTimeout(Ws,0)}function qs(f,h){this.fun=f,this.array=h}function pt(){}function Vs(f){ho("_linkedBinding")}function zs(f){ho("dlopen")}function Ks(){return[]}function Hs(){return[]}function Gs(f,h){if(!f)throw new Error(h||"assertion error")}function Qs(){return!1}function Ys(){return Ct.now()/1e3}function Ar(f){var h=Math.floor((Date.now()-Ct.now())*.001),s=Ct.now()*.001,a=Math.floor(s)+h,c=Math.floor(s%1*1e9);return f&&(a=a-f[0],c=c-f[1],c<0&&(a--,c+=xr)),[a,c]}function Tt(){return fo}function Js(f){return[]}var xt,Zt,Jt,yr,cn,hn,fn,pn,dn,gn,yn,mn,bn,vn,wn,_n,Sn,En,An,xn,On,In,Pn,Tn,kn,Cn,fr,Rn,jn,Mn,Bn,Nn,Un,Ln,Dn,Fn,Wn,$n,qn,Vn,zn,Kn,Hn,Gn,Qn,Yn,Jn,Xn,Zn,ei,ti,ri,Ct,an,xr,ni,ii,oi,si,ai,li,ui,ci,hi,fi,pi,fo,uu=vt(()=>{ye(),be(),me(),xt=[],Zt=!1,yr=-1,qs.prototype.run=function(){this.fun.apply(null,this.array)},cn="browser",hn="x64",fn="browser",pn={PATH:"/usr/bin",LANG:typeof navigator<"u"?navigator.language+".UTF-8":void 0,PWD:"/",HOME:"/home",TMP:"/tmp"},dn=["/usr/bin/node"],gn=[],yn="v16.8.0",mn={},bn=function(f,h){console.warn((h?h+": ":"")+f)},vn=function(f){ho("binding")},wn=function(f){return 0},_n=function(){return"/"},Sn=function(f){},En={name:"node",sourceUrl:"",headersUrl:"",libUrl:""},An=!0,xn=pt,On=[],In={},Pn=!1,Tn={},kn=pt,Cn=pt,fr=function(){return{}},Rn=fr,jn=fr,Mn=pt,Bn=pt,Nn=pt,Un={},Ln={inspector:!1,debug:!1,uv:!1,ipv6:!1,tls_alpn:!1,tls_sni:!1,tls_ocsp:!1,tls:!1,cached_builtins:!0},Dn=pt,Fn=pt,Wn=pt,$n=pt,qn=pt,Vn=pt,zn=pt,Kn=void 0,Hn=void 0,Gn=void 0,Qn=pt,Yn=2,Jn=1,Xn="/bin/usr/node",Zn=9229,ei="node",ti=[],ri=pt,Ct={now:typeof performance<"u"?performance.now.bind(performance):void 0,timing:typeof performance<"u"?performance.timing:void 0},Ct.now===void 0&&(an=Date.now(),Ct.timing&&Ct.timing.navigationStart&&(an=Ct.timing.navigationStart),Ct.now=()=>Date.now()-an),xr=1e9,Ar.bigint=function(f){var h=Ar(f);return typeof BigInt>"u"?h[0]*xr+h[1]:BigInt(h[0]*xr)+BigInt(h[1])},ni=10,ii={},oi=0,si=Tt,ai=Tt,li=Tt,ui=Tt,ci=Tt,hi=pt,fi=Tt,pi=Tt,fo={version:yn,versions:mn,arch:hn,platform:fn,browser:An,release:En,_rawDebug:xn,moduleLoadList:On,binding:vn,_linkedBinding:Vs,_events:ii,_eventsCount:oi,_maxListeners:ni,on:Tt,addListener:si,once:ai,off:li,removeListener:ui,removeAllListeners:ci,emit:hi,prependListener:fi,prependOnceListener:pi,listeners:Js,domain:In,_exiting:Pn,config:Tn,dlopen:zs,uptime:Ys,_getActiveRequests:Ks,_getActiveHandles:Hs,reallyExit:kn,_kill:Cn,cpuUsage:fr,resourceUsage:Rn,memoryUsage:jn,kill:Mn,exit:Bn,openStdin:Nn,allowedNodeEnvironmentFlags:Un,assert:Gs,features:Ln,_fatalExceptions:Dn,setUncaughtExceptionCaptureCallback:Fn,hasUncaughtExceptionCaptureCallback:Qs,emitWarning:bn,nextTick:$s,_tickCallback:Wn,_debugProcess:$n,_debugEnd:qn,_startProfilerIdleNotifier:Vn,_stopProfilerIdleNotifier:zn,stdout:Kn,stdin:Gn,stderr:Hn,abort:Qn,umask:wn,chdir:Sn,cwd:_n,env:pn,title:cn,argv:dn,execArgv:gn,pid:Yn,ppid:Jn,execPath:Xn,debugPort:Zn,hrtime:Ar,argv0:ei,_preload_modules:ti,setSourceMapsEnabled:ri}}),me=vt(()=>{uu()});function cu(){if(di)return or;di=!0,or.byteLength=t,or.toByteArray=i,or.fromByteArray=p;for(var f=[],h=[],s=typeof Uint8Array<"u"?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=0,n=a.length;c<n;++c)f[c]=a[c],h[a.charCodeAt(c)]=c;h[45]=62,h[95]=63;function r(g){var b=g.length;if(b%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var E=g.indexOf("=");E===-1&&(E=b);var S=E===b?0:4-E%4;return[E,S]}function t(g){var b=r(g),E=b[0],S=b[1];return(E+S)*3/4-S}function e(g,b,E){return(b+E)*3/4-E}function i(g){var b,E=r(g),S=E[0],O=E[1],y=new s(e(g,S,O)),v=0,A=O>0?S-4:S,_;for(_=0;_<A;_+=4)b=h[g.charCodeAt(_)]<<18|h[g.charCodeAt(_+1)]<<12|h[g.charCodeAt(_+2)]<<6|h[g.charCodeAt(_+3)],y[v++]=b>>16&255,y[v++]=b>>8&255,y[v++]=b&255;return O===2&&(b=h[g.charCodeAt(_)]<<2|h[g.charCodeAt(_+1)]>>4,y[v++]=b&255),O===1&&(b=h[g.charCodeAt(_)]<<10|h[g.charCodeAt(_+1)]<<4|h[g.charCodeAt(_+2)]>>2,y[v++]=b>>8&255,y[v++]=b&255),y}function l(g){return f[g>>18&63]+f[g>>12&63]+f[g>>6&63]+f[g&63]}function d(g,b,E){for(var S,O=[],y=b;y<E;y+=3)S=(g[y]<<16&16711680)+(g[y+1]<<8&65280)+(g[y+2]&255),O.push(l(S));return O.join("")}function p(g){for(var b,E=g.length,S=E%3,O=[],y=16383,v=0,A=E-S;v<A;v+=y)O.push(d(g,v,v+y>A?A:v+y));return S===1?(b=g[E-1],O.push(f[b>>2]+f[b<<4&63]+"==")):S===2&&(b=(g[E-2]<<8)+g[E-1],O.push(f[b>>10]+f[b>>4&63]+f[b<<2&63]+"=")),O.join("")}return or}function hu(){return gi?pr:(gi=!0,pr.read=function(f,h,s,a,c){var n,r,t=c*8-a-1,e=(1<<t)-1,i=e>>1,l=-7,d=s?c-1:0,p=s?-1:1,g=f[h+d];for(d+=p,n=g&(1<<-l)-1,g>>=-l,l+=t;l>0;n=n*256+f[h+d],d+=p,l-=8);for(r=n&(1<<-l)-1,n>>=-l,l+=a;l>0;r=r*256+f[h+d],d+=p,l-=8);if(n===0)n=1-i;else{if(n===e)return r?NaN:(g?-1:1)*(1/0);r=r+Math.pow(2,a),n=n-i}return(g?-1:1)*r*Math.pow(2,n-a)},pr.write=function(f,h,s,a,c,n){var r,t,e,i=n*8-c-1,l=(1<<i)-1,d=l>>1,p=c===23?Math.pow(2,-24)-Math.pow(2,-77):0,g=a?0:n-1,b=a?1:-1,E=h<0||h===0&&1/h<0?1:0;for(h=Math.abs(h),isNaN(h)||h===1/0?(t=isNaN(h)?1:0,r=l):(r=Math.floor(Math.log(h)/Math.LN2),h*(e=Math.pow(2,-r))<1&&(r--,e*=2),r+d>=1?h+=p/e:h+=p*Math.pow(2,1-d),h*e>=2&&(r++,e/=2),r+d>=l?(t=0,r=l):r+d>=1?(t=(h*e-1)*Math.pow(2,c),r=r+d):(t=h*Math.pow(2,d-1)*Math.pow(2,c),r=0));c>=8;f[s+g]=t&255,g+=b,t/=256,c-=8);for(r=r<<c|t,i+=c;i>0;f[s+g]=r&255,g+=b,r/=256,i-=8);f[s+g-b]|=E*128},pr)}function fu(){if(yi)return Ft;yi=!0;let f=cu(),h=hu(),s=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;Ft.Buffer=r,Ft.SlowBuffer=O,Ft.INSPECT_MAX_BYTES=50;let a=2147483647;Ft.kMaxLength=a,r.TYPED_ARRAY_SUPPORT=c(),!r.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function c(){try{let o=new Uint8Array(1),u={foo:function(){return 42}};return Object.setPrototypeOf(u,Uint8Array.prototype),Object.setPrototypeOf(o,u),o.foo()===42}catch{return!1}}Object.defineProperty(r.prototype,"parent",{enumerable:!0,get:function(){if(r.isBuffer(this))return this.buffer}}),Object.defineProperty(r.prototype,"offset",{enumerable:!0,get:function(){if(r.isBuffer(this))return this.byteOffset}});function n(o){if(o>a)throw new RangeError('The value "'+o+'" is invalid for option "size"');let u=new Uint8Array(o);return Object.setPrototypeOf(u,r.prototype),u}function r(o,u,m){if(typeof o=="number"){if(typeof u=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return l(o)}return t(o,u,m)}r.poolSize=8192;function t(o,u,m){if(typeof o=="string")return d(o,u);if(ArrayBuffer.isView(o))return g(o);if(o==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof o);if(Y(o,ArrayBuffer)||o&&Y(o.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Y(o,SharedArrayBuffer)||o&&Y(o.buffer,SharedArrayBuffer)))return b(o,u,m);if(typeof o=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let C=o.valueOf&&o.valueOf();if(C!=null&&C!==o)return r.from(C,u,m);let N=E(o);if(N)return N;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof o[Symbol.toPrimitive]=="function")return r.from(o[Symbol.toPrimitive]("string"),u,m);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof o)}r.from=function(o,u,m){return t(o,u,m)},Object.setPrototypeOf(r.prototype,Uint8Array.prototype),Object.setPrototypeOf(r,Uint8Array);function e(o){if(typeof o!="number")throw new TypeError('"size" argument must be of type number');if(o<0)throw new RangeError('The value "'+o+'" is invalid for option "size"')}function i(o,u,m){return e(o),o<=0?n(o):u!==void 0?typeof m=="string"?n(o).fill(u,m):n(o).fill(u):n(o)}r.alloc=function(o,u,m){return i(o,u,m)};function l(o){return e(o),n(o<0?0:S(o)|0)}r.allocUnsafe=function(o){return l(o)},r.allocUnsafeSlow=function(o){return l(o)};function d(o,u){if((typeof u!="string"||u==="")&&(u="utf8"),!r.isEncoding(u))throw new TypeError("Unknown encoding: "+u);let m=y(o,u)|0,C=n(m),N=C.write(o,u);return N!==m&&(C=C.slice(0,N)),C}function p(o){let u=o.length<0?0:S(o.length)|0,m=n(u);for(let C=0;C<u;C+=1)m[C]=o[C]&255;return m}function g(o){if(Y(o,Uint8Array)){let u=new Uint8Array(o);return b(u.buffer,u.byteOffset,u.byteLength)}return p(o)}function b(o,u,m){if(u<0||o.byteLength<u)throw new RangeError('"offset" is outside of buffer bounds');if(o.byteLength<u+(m||0))throw new RangeError('"length" is outside of buffer bounds');let C;return u===void 0&&m===void 0?C=new Uint8Array(o):m===void 0?C=new Uint8Array(o,u):C=new Uint8Array(o,u,m),Object.setPrototypeOf(C,r.prototype),C}function E(o){if(r.isBuffer(o)){let u=S(o.length)|0,m=n(u);return m.length===0||o.copy(m,0,0,u),m}if(o.length!==void 0)return typeof o.length!="number"||Se(o.length)?n(0):p(o);if(o.type==="Buffer"&&Array.isArray(o.data))return p(o.data)}function S(o){if(o>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return o|0}function O(o){return+o!=o&&(o=0),r.alloc(+o)}r.isBuffer=function(o){return o!=null&&o._isBuffer===!0&&o!==r.prototype},r.compare=function(o,u){if(Y(o,Uint8Array)&&(o=r.from(o,o.offset,o.byteLength)),Y(u,Uint8Array)&&(u=r.from(u,u.offset,u.byteLength)),!r.isBuffer(o)||!r.isBuffer(u))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(o===u)return 0;let m=o.length,C=u.length;for(let N=0,H=Math.min(m,C);N<H;++N)if(o[N]!==u[N]){m=o[N],C=u[N];break}return m<C?-1:C<m?1:0},r.isEncoding=function(o){switch(String(o).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},r.concat=function(o,u){if(!Array.isArray(o))throw new TypeError('"list" argument must be an Array of Buffers');if(o.length===0)return r.alloc(0);let m;if(u===void 0)for(u=0,m=0;m<o.length;++m)u+=o[m].length;let C=r.allocUnsafe(u),N=0;for(m=0;m<o.length;++m){let H=o[m];if(Y(H,Uint8Array))N+H.length>C.length?(r.isBuffer(H)||(H=r.from(H)),H.copy(C,N)):Uint8Array.prototype.set.call(C,H,N);else if(r.isBuffer(H))H.copy(C,N);else throw new TypeError('"list" argument must be an Array of Buffers');N+=H.length}return C};function y(o,u){if(r.isBuffer(o))return o.length;if(ArrayBuffer.isView(o)||Y(o,ArrayBuffer))return o.byteLength;if(typeof o!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof o);let m=o.length,C=arguments.length>2&&arguments[2]===!0;if(!C&&m===0)return 0;let N=!1;for(;;)switch(u){case"ascii":case"latin1":case"binary":return m;case"utf8":case"utf-8":return G(o).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return m*2;case"hex":return m>>>1;case"base64":return we(o).length;default:if(N)return C?-1:G(o).length;u=(""+u).toLowerCase(),N=!0}}r.byteLength=y;function v(o,u,m){let C=!1;if((u===void 0||u<0)&&(u=0),u>this.length||((m===void 0||m>this.length)&&(m=this.length),m<=0)||(m>>>=0,u>>>=0,m<=u))return"";for(o||(o="utf8");;)switch(o){case"hex":return re(this,u,m);case"utf8":case"utf-8":return z(this,u,m);case"ascii":return he(this,u,m);case"latin1":case"binary":return ie(this,u,m);case"base64":return T(this,u,m);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ce(this,u,m);default:if(C)throw new TypeError("Unknown encoding: "+o);o=(o+"").toLowerCase(),C=!0}}r.prototype._isBuffer=!0;function A(o,u,m){let C=o[u];o[u]=o[m],o[m]=C}r.prototype.swap16=function(){let o=this.length;if(o%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let u=0;u<o;u+=2)A(this,u,u+1);return this},r.prototype.swap32=function(){let o=this.length;if(o%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let u=0;u<o;u+=4)A(this,u,u+3),A(this,u+1,u+2);return this},r.prototype.swap64=function(){let o=this.length;if(o%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let u=0;u<o;u+=8)A(this,u,u+7),A(this,u+1,u+6),A(this,u+2,u+5),A(this,u+3,u+4);return this},r.prototype.toString=function(){let o=this.length;return o===0?"":arguments.length===0?z(this,0,o):v.apply(this,arguments)},r.prototype.toLocaleString=r.prototype.toString,r.prototype.equals=function(o){if(!r.isBuffer(o))throw new TypeError("Argument must be a Buffer");return this===o?!0:r.compare(this,o)===0},r.prototype.inspect=function(){let o="",u=Ft.INSPECT_MAX_BYTES;return o=this.toString("hex",0,u).replace(/(.{2})/g,"$1 ").trim(),this.length>u&&(o+=" ... "),"<Buffer "+o+">"},s&&(r.prototype[s]=r.prototype.inspect),r.prototype.compare=function(o,u,m,C,N){if(Y(o,Uint8Array)&&(o=r.from(o,o.offset,o.byteLength)),!r.isBuffer(o))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof o);if(u===void 0&&(u=0),m===void 0&&(m=o?o.length:0),C===void 0&&(C=0),N===void 0&&(N=this.length),u<0||m>o.length||C<0||N>this.length)throw new RangeError("out of range index");if(C>=N&&u>=m)return 0;if(C>=N)return-1;if(u>=m)return 1;if(u>>>=0,m>>>=0,C>>>=0,N>>>=0,this===o)return 0;let H=N-C,de=m-u,$=Math.min(H,de),oe=this.slice(C,N),Re=o.slice(u,m);for(let ke=0;ke<$;++ke)if(oe[ke]!==Re[ke]){H=oe[ke],de=Re[ke];break}return H<de?-1:de<H?1:0};function _(o,u,m,C,N){if(o.length===0)return-1;if(typeof m=="string"?(C=m,m=0):m>2147483647?m=2147483647:m<-2147483648&&(m=-2147483648),m=+m,Se(m)&&(m=N?0:o.length-1),m<0&&(m=o.length+m),m>=o.length){if(N)return-1;m=o.length-1}else if(m<0)if(N)m=0;else return-1;if(typeof u=="string"&&(u=r.from(u,C)),r.isBuffer(u))return u.length===0?-1:R(o,u,m,C,N);if(typeof u=="number")return u=u&255,typeof Uint8Array.prototype.indexOf=="function"?N?Uint8Array.prototype.indexOf.call(o,u,m):Uint8Array.prototype.lastIndexOf.call(o,u,m):R(o,[u],m,C,N);throw new TypeError("val must be string, number or Buffer")}function R(o,u,m,C,N){let H=1,de=o.length,$=u.length;if(C!==void 0&&(C=String(C).toLowerCase(),C==="ucs2"||C==="ucs-2"||C==="utf16le"||C==="utf-16le")){if(o.length<2||u.length<2)return-1;H=2,de/=2,$/=2,m/=2}function oe(ke,Ne){return H===1?ke[Ne]:ke.readUInt16BE(Ne*H)}let Re;if(N){let ke=-1;for(Re=m;Re<de;Re++)if(oe(o,Re)===oe(u,ke===-1?0:Re-ke)){if(ke===-1&&(ke=Re),Re-ke+1===$)return ke*H}else ke!==-1&&(Re-=Re-ke),ke=-1}else for(m+$>de&&(m=de-$),Re=m;Re>=0;Re--){let ke=!0;for(let Ne=0;Ne<$;Ne++)if(oe(o,Re+Ne)!==oe(u,Ne)){ke=!1;break}if(ke)return Re}return-1}r.prototype.includes=function(o,u,m){return this.indexOf(o,u,m)!==-1},r.prototype.indexOf=function(o,u,m){return _(this,o,u,m,!0)},r.prototype.lastIndexOf=function(o,u,m){return _(this,o,u,m,!1)};function w(o,u,m,C){m=Number(m)||0;let N=o.length-m;C?(C=Number(C),C>N&&(C=N)):C=N;let H=u.length;C>H/2&&(C=H/2);let de;for(de=0;de<C;++de){let $=parseInt(u.substr(de*2,2),16);if(Se($))return de;o[m+de]=$}return de}function I(o,u,m,C){return xe(G(u,o.length-m),o,m,C)}function k(o,u,m,C){return xe(ae(u),o,m,C)}function M(o,u,m,C){return xe(we(u),o,m,C)}function U(o,u,m,C){return xe(ve(u,o.length-m),o,m,C)}r.prototype.write=function(o,u,m,C){if(u===void 0)C="utf8",m=this.length,u=0;else if(m===void 0&&typeof u=="string")C=u,m=this.length,u=0;else if(isFinite(u))u=u>>>0,isFinite(m)?(m=m>>>0,C===void 0&&(C="utf8")):(C=m,m=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let N=this.length-u;if((m===void 0||m>N)&&(m=N),o.length>0&&(m<0||u<0)||u>this.length)throw new RangeError("Attempt to write outside buffer bounds");C||(C="utf8");let H=!1;for(;;)switch(C){case"hex":return w(this,o,u,m);case"utf8":case"utf-8":return I(this,o,u,m);case"ascii":case"latin1":case"binary":return k(this,o,u,m);case"base64":return M(this,o,u,m);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return U(this,o,u,m);default:if(H)throw new TypeError("Unknown encoding: "+C);C=(""+C).toLowerCase(),H=!0}},r.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function T(o,u,m){return u===0&&m===o.length?f.fromByteArray(o):f.fromByteArray(o.slice(u,m))}function z(o,u,m){m=Math.min(o.length,m);let C=[],N=u;for(;N<m;){let H=o[N],de=null,$=H>239?4:H>223?3:H>191?2:1;if(N+$<=m){let oe,Re,ke,Ne;switch($){case 1:H<128&&(de=H);break;case 2:oe=o[N+1],(oe&192)===128&&(Ne=(H&31)<<6|oe&63,Ne>127&&(de=Ne));break;case 3:oe=o[N+1],Re=o[N+2],(oe&192)===128&&(Re&192)===128&&(Ne=(H&15)<<12|(oe&63)<<6|Re&63,Ne>2047&&(Ne<55296||Ne>57343)&&(de=Ne));break;case 4:oe=o[N+1],Re=o[N+2],ke=o[N+3],(oe&192)===128&&(Re&192)===128&&(ke&192)===128&&(Ne=(H&15)<<18|(oe&63)<<12|(Re&63)<<6|ke&63,Ne>65535&&Ne<1114112&&(de=Ne))}}de===null?(de=65533,$=1):de>65535&&(de-=65536,C.push(de>>>10&1023|55296),de=56320|de&1023),C.push(de),N+=$}return q(C)}let Q=4096;function q(o){let u=o.length;if(u<=Q)return String.fromCharCode.apply(String,o);let m="",C=0;for(;C<u;)m+=String.fromCharCode.apply(String,o.slice(C,C+=Q));return m}function he(o,u,m){let C="";m=Math.min(o.length,m);for(let N=u;N<m;++N)C+=String.fromCharCode(o[N]&127);return C}function ie(o,u,m){let C="";m=Math.min(o.length,m);for(let N=u;N<m;++N)C+=String.fromCharCode(o[N]);return C}function re(o,u,m){let C=o.length;(!u||u<0)&&(u=0),(!m||m<0||m>C)&&(m=C);let N="";for(let H=u;H<m;++H)N+=Pe[o[H]];return N}function ce(o,u,m){let C=o.slice(u,m),N="";for(let H=0;H<C.length-1;H+=2)N+=String.fromCharCode(C[H]+C[H+1]*256);return N}r.prototype.slice=function(o,u){let m=this.length;o=~~o,u=u===void 0?m:~~u,o<0?(o+=m,o<0&&(o=0)):o>m&&(o=m),u<0?(u+=m,u<0&&(u=0)):u>m&&(u=m),u<o&&(u=o);let C=this.subarray(o,u);return Object.setPrototypeOf(C,r.prototype),C};function V(o,u,m){if(o%1!==0||o<0)throw new RangeError("offset is not uint");if(o+u>m)throw new RangeError("Trying to access beyond buffer length")}r.prototype.readUintLE=r.prototype.readUIntLE=function(o,u,m){o=o>>>0,u=u>>>0,m||V(o,u,this.length);let C=this[o],N=1,H=0;for(;++H<u&&(N*=256);)C+=this[o+H]*N;return C},r.prototype.readUintBE=r.prototype.readUIntBE=function(o,u,m){o=o>>>0,u=u>>>0,m||V(o,u,this.length);let C=this[o+--u],N=1;for(;u>0&&(N*=256);)C+=this[o+--u]*N;return C},r.prototype.readUint8=r.prototype.readUInt8=function(o,u){return o=o>>>0,u||V(o,1,this.length),this[o]},r.prototype.readUint16LE=r.prototype.readUInt16LE=function(o,u){return o=o>>>0,u||V(o,2,this.length),this[o]|this[o+1]<<8},r.prototype.readUint16BE=r.prototype.readUInt16BE=function(o,u){return o=o>>>0,u||V(o,2,this.length),this[o]<<8|this[o+1]},r.prototype.readUint32LE=r.prototype.readUInt32LE=function(o,u){return o=o>>>0,u||V(o,4,this.length),(this[o]|this[o+1]<<8|this[o+2]<<16)+this[o+3]*16777216},r.prototype.readUint32BE=r.prototype.readUInt32BE=function(o,u){return o=o>>>0,u||V(o,4,this.length),this[o]*16777216+(this[o+1]<<16|this[o+2]<<8|this[o+3])},r.prototype.readBigUInt64LE=fe(function(o){o=o>>>0,ne(o,"offset");let u=this[o],m=this[o+7];(u===void 0||m===void 0)&&_e(o,this.length-8);let C=u+this[++o]*2**8+this[++o]*2**16+this[++o]*2**24,N=this[++o]+this[++o]*2**8+this[++o]*2**16+m*2**24;return BigInt(C)+(BigInt(N)<<BigInt(32))}),r.prototype.readBigUInt64BE=fe(function(o){o=o>>>0,ne(o,"offset");let u=this[o],m=this[o+7];(u===void 0||m===void 0)&&_e(o,this.length-8);let C=u*2**24+this[++o]*2**16+this[++o]*2**8+this[++o],N=this[++o]*2**24+this[++o]*2**16+this[++o]*2**8+m;return(BigInt(C)<<BigInt(32))+BigInt(N)}),r.prototype.readIntLE=function(o,u,m){o=o>>>0,u=u>>>0,m||V(o,u,this.length);let C=this[o],N=1,H=0;for(;++H<u&&(N*=256);)C+=this[o+H]*N;return N*=128,C>=N&&(C-=Math.pow(2,8*u)),C},r.prototype.readIntBE=function(o,u,m){o=o>>>0,u=u>>>0,m||V(o,u,this.length);let C=u,N=1,H=this[o+--C];for(;C>0&&(N*=256);)H+=this[o+--C]*N;return N*=128,H>=N&&(H-=Math.pow(2,8*u)),H},r.prototype.readInt8=function(o,u){return o=o>>>0,u||V(o,1,this.length),this[o]&128?(255-this[o]+1)*-1:this[o]},r.prototype.readInt16LE=function(o,u){o=o>>>0,u||V(o,2,this.length);let m=this[o]|this[o+1]<<8;return m&32768?m|4294901760:m},r.prototype.readInt16BE=function(o,u){o=o>>>0,u||V(o,2,this.length);let m=this[o+1]|this[o]<<8;return m&32768?m|4294901760:m},r.prototype.readInt32LE=function(o,u){return o=o>>>0,u||V(o,4,this.length),this[o]|this[o+1]<<8|this[o+2]<<16|this[o+3]<<24},r.prototype.readInt32BE=function(o,u){return o=o>>>0,u||V(o,4,this.length),this[o]<<24|this[o+1]<<16|this[o+2]<<8|this[o+3]},r.prototype.readBigInt64LE=fe(function(o){o=o>>>0,ne(o,"offset");let u=this[o],m=this[o+7];(u===void 0||m===void 0)&&_e(o,this.length-8);let C=this[o+4]+this[o+5]*2**8+this[o+6]*2**16+(m<<24);return(BigInt(C)<<BigInt(32))+BigInt(u+this[++o]*2**8+this[++o]*2**16+this[++o]*2**24)}),r.prototype.readBigInt64BE=fe(function(o){o=o>>>0,ne(o,"offset");let u=this[o],m=this[o+7];(u===void 0||m===void 0)&&_e(o,this.length-8);let C=(u<<24)+this[++o]*2**16+this[++o]*2**8+this[++o];return(BigInt(C)<<BigInt(32))+BigInt(this[++o]*2**24+this[++o]*2**16+this[++o]*2**8+m)}),r.prototype.readFloatLE=function(o,u){return o=o>>>0,u||V(o,4,this.length),h.read(this,o,!0,23,4)},r.prototype.readFloatBE=function(o,u){return o=o>>>0,u||V(o,4,this.length),h.read(this,o,!1,23,4)},r.prototype.readDoubleLE=function(o,u){return o=o>>>0,u||V(o,8,this.length),h.read(this,o,!0,52,8)},r.prototype.readDoubleBE=function(o,u){return o=o>>>0,u||V(o,8,this.length),h.read(this,o,!1,52,8)};function le(o,u,m,C,N,H){if(!r.isBuffer(o))throw new TypeError('"buffer" argument must be a Buffer instance');if(u>N||u<H)throw new RangeError('"value" argument is out of bounds');if(m+C>o.length)throw new RangeError("Index out of range")}r.prototype.writeUintLE=r.prototype.writeUIntLE=function(o,u,m,C){if(o=+o,u=u>>>0,m=m>>>0,!C){let de=Math.pow(2,8*m)-1;le(this,o,u,m,de,0)}let N=1,H=0;for(this[u]=o&255;++H<m&&(N*=256);)this[u+H]=o/N&255;return u+m},r.prototype.writeUintBE=r.prototype.writeUIntBE=function(o,u,m,C){if(o=+o,u=u>>>0,m=m>>>0,!C){let de=Math.pow(2,8*m)-1;le(this,o,u,m,de,0)}let N=m-1,H=1;for(this[u+N]=o&255;--N>=0&&(H*=256);)this[u+N]=o/H&255;return u+m},r.prototype.writeUint8=r.prototype.writeUInt8=function(o,u,m){return o=+o,u=u>>>0,m||le(this,o,u,1,255,0),this[u]=o&255,u+1},r.prototype.writeUint16LE=r.prototype.writeUInt16LE=function(o,u,m){return o=+o,u=u>>>0,m||le(this,o,u,2,65535,0),this[u]=o&255,this[u+1]=o>>>8,u+2},r.prototype.writeUint16BE=r.prototype.writeUInt16BE=function(o,u,m){return o=+o,u=u>>>0,m||le(this,o,u,2,65535,0),this[u]=o>>>8,this[u+1]=o&255,u+2},r.prototype.writeUint32LE=r.prototype.writeUInt32LE=function(o,u,m){return o=+o,u=u>>>0,m||le(this,o,u,4,4294967295,0),this[u+3]=o>>>24,this[u+2]=o>>>16,this[u+1]=o>>>8,this[u]=o&255,u+4},r.prototype.writeUint32BE=r.prototype.writeUInt32BE=function(o,u,m){return o=+o,u=u>>>0,m||le(this,o,u,4,4294967295,0),this[u]=o>>>24,this[u+1]=o>>>16,this[u+2]=o>>>8,this[u+3]=o&255,u+4};function B(o,u,m,C,N){J(u,C,N,o,m,7);let H=Number(u&BigInt(4294967295));o[m++]=H,H=H>>8,o[m++]=H,H=H>>8,o[m++]=H,H=H>>8,o[m++]=H;let de=Number(u>>BigInt(32)&BigInt(4294967295));return o[m++]=de,de=de>>8,o[m++]=de,de=de>>8,o[m++]=de,de=de>>8,o[m++]=de,m}function te(o,u,m,C,N){J(u,C,N,o,m,7);let H=Number(u&BigInt(4294967295));o[m+7]=H,H=H>>8,o[m+6]=H,H=H>>8,o[m+5]=H,H=H>>8,o[m+4]=H;let de=Number(u>>BigInt(32)&BigInt(4294967295));return o[m+3]=de,de=de>>8,o[m+2]=de,de=de>>8,o[m+1]=de,de=de>>8,o[m]=de,m+8}r.prototype.writeBigUInt64LE=fe(function(o,u=0){return B(this,o,u,BigInt(0),BigInt("0xffffffffffffffff"))}),r.prototype.writeBigUInt64BE=fe(function(o,u=0){return te(this,o,u,BigInt(0),BigInt("0xffffffffffffffff"))}),r.prototype.writeIntLE=function(o,u,m,C){if(o=+o,u=u>>>0,!C){let $=Math.pow(2,8*m-1);le(this,o,u,m,$-1,-$)}let N=0,H=1,de=0;for(this[u]=o&255;++N<m&&(H*=256);)o<0&&de===0&&this[u+N-1]!==0&&(de=1),this[u+N]=(o/H>>0)-de&255;return u+m},r.prototype.writeIntBE=function(o,u,m,C){if(o=+o,u=u>>>0,!C){let $=Math.pow(2,8*m-1);le(this,o,u,m,$-1,-$)}let N=m-1,H=1,de=0;for(this[u+N]=o&255;--N>=0&&(H*=256);)o<0&&de===0&&this[u+N+1]!==0&&(de=1),this[u+N]=(o/H>>0)-de&255;return u+m},r.prototype.writeInt8=function(o,u,m){return o=+o,u=u>>>0,m||le(this,o,u,1,127,-128),o<0&&(o=255+o+1),this[u]=o&255,u+1},r.prototype.writeInt16LE=function(o,u,m){return o=+o,u=u>>>0,m||le(this,o,u,2,32767,-32768),this[u]=o&255,this[u+1]=o>>>8,u+2},r.prototype.writeInt16BE=function(o,u,m){return o=+o,u=u>>>0,m||le(this,o,u,2,32767,-32768),this[u]=o>>>8,this[u+1]=o&255,u+2},r.prototype.writeInt32LE=function(o,u,m){return o=+o,u=u>>>0,m||le(this,o,u,4,2147483647,-2147483648),this[u]=o&255,this[u+1]=o>>>8,this[u+2]=o>>>16,this[u+3]=o>>>24,u+4},r.prototype.writeInt32BE=function(o,u,m){return o=+o,u=u>>>0,m||le(this,o,u,4,2147483647,-2147483648),o<0&&(o=4294967295+o+1),this[u]=o>>>24,this[u+1]=o>>>16,this[u+2]=o>>>8,this[u+3]=o&255,u+4},r.prototype.writeBigInt64LE=fe(function(o,u=0){return B(this,o,u,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),r.prototype.writeBigInt64BE=fe(function(o,u=0){return te(this,o,u,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function ee(o,u,m,C,N,H){if(m+C>o.length)throw new RangeError("Index out of range");if(m<0)throw new RangeError("Index out of range")}function ue(o,u,m,C,N){return u=+u,m=m>>>0,N||ee(o,u,m,4),h.write(o,u,m,C,23,4),m+4}r.prototype.writeFloatLE=function(o,u,m){return ue(this,o,u,!0,m)},r.prototype.writeFloatBE=function(o,u,m){return ue(this,o,u,!1,m)};function Oe(o,u,m,C,N){return u=+u,m=m>>>0,N||ee(o,u,m,8),h.write(o,u,m,C,52,8),m+8}r.prototype.writeDoubleLE=function(o,u,m){return Oe(this,o,u,!0,m)},r.prototype.writeDoubleBE=function(o,u,m){return Oe(this,o,u,!1,m)},r.prototype.copy=function(o,u,m,C){if(!r.isBuffer(o))throw new TypeError("argument should be a Buffer");if(m||(m=0),!C&&C!==0&&(C=this.length),u>=o.length&&(u=o.length),u||(u=0),C>0&&C<m&&(C=m),C===m||o.length===0||this.length===0)return 0;if(u<0)throw new RangeError("targetStart out of bounds");if(m<0||m>=this.length)throw new RangeError("Index out of range");if(C<0)throw new RangeError("sourceEnd out of bounds");C>this.length&&(C=this.length),o.length-u<C-m&&(C=o.length-u+m);let N=C-m;return this===o&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(u,m,C):Uint8Array.prototype.set.call(o,this.subarray(m,C),u),N},r.prototype.fill=function(o,u,m,C){if(typeof o=="string"){if(typeof u=="string"?(C=u,u=0,m=this.length):typeof m=="string"&&(C=m,m=this.length),C!==void 0&&typeof C!="string")throw new TypeError("encoding must be a string");if(typeof C=="string"&&!r.isEncoding(C))throw new TypeError("Unknown encoding: "+C);if(o.length===1){let H=o.charCodeAt(0);(C==="utf8"&&H<128||C==="latin1")&&(o=H)}}else typeof o=="number"?o=o&255:typeof o=="boolean"&&(o=Number(o));if(u<0||this.length<u||this.length<m)throw new RangeError("Out of range index");if(m<=u)return this;u=u>>>0,m=m===void 0?this.length:m>>>0,o||(o=0);let N;if(typeof o=="number")for(N=u;N<m;++N)this[N]=o;else{let H=r.isBuffer(o)?o:r.from(o,C),de=H.length;if(de===0)throw new TypeError('The value "'+o+'" is invalid for argument "value"');for(N=0;N<m-u;++N)this[N+u]=H[N%de]}return this};let X={};function W(o,u,m){X[o]=class extends m{constructor(){super(),Object.defineProperty(this,"message",{value:u.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${o}]`,this.stack,delete this.name}get code(){return o}set code(C){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:C,writable:!0})}toString(){return`${this.name} [${o}]: ${this.message}`}}}W("ERR_BUFFER_OUT_OF_BOUNDS",function(o){return o?`${o} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),W("ERR_INVALID_ARG_TYPE",function(o,u){return`The "${o}" argument must be of type number. Received type ${typeof u}`},TypeError),W("ERR_OUT_OF_RANGE",function(o,u,m){let C=`The value of "${o}" is out of range.`,N=m;return Number.isInteger(m)&&Math.abs(m)>2**32?N=se(String(m)):typeof m=="bigint"&&(N=String(m),(m>BigInt(2)**BigInt(32)||m<-(BigInt(2)**BigInt(32)))&&(N=se(N)),N+="n"),C+=` It must be ${u}. Received ${N}`,C},RangeError);function se(o){let u="",m=o.length,C=o[0]==="-"?1:0;for(;m>=C+4;m-=3)u=`_${o.slice(m-3,m)}${u}`;return`${o.slice(0,m)}${u}`}function Z(o,u,m){ne(u,"offset"),(o[u]===void 0||o[u+m]===void 0)&&_e(u,o.length-(m+1))}function J(o,u,m,C,N,H){if(o>m||o<u){let de=typeof u=="bigint"?"n":"",$;throw u===0||u===BigInt(0)?$=`>= 0${de} and < 2${de} ** ${(H+1)*8}${de}`:$=`>= -(2${de} ** ${(H+1)*8-1}${de}) and < 2 ** ${(H+1)*8-1}${de}`,new X.ERR_OUT_OF_RANGE("value",$,o)}Z(C,N,H)}function ne(o,u){if(typeof o!="number")throw new X.ERR_INVALID_ARG_TYPE(u,"number",o)}function _e(o,u,m){throw Math.floor(o)!==o?(ne(o,m),new X.ERR_OUT_OF_RANGE("offset","an integer",o)):u<0?new X.ERR_BUFFER_OUT_OF_BOUNDS:new X.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${u}`,o)}let pe=/[^+/0-9A-Za-z-_]/g;function L(o){if(o=o.split("=")[0],o=o.trim().replace(pe,""),o.length<2)return"";for(;o.length%4!==0;)o=o+"=";return o}function G(o,u){u=u||1/0;let m,C=o.length,N=null,H=[];for(let de=0;de<C;++de){if(m=o.charCodeAt(de),m>55295&&m<57344){if(!N){if(m>56319){(u-=3)>-1&&H.push(239,191,189);continue}else if(de+1===C){(u-=3)>-1&&H.push(239,191,189);continue}N=m;continue}if(m<56320){(u-=3)>-1&&H.push(239,191,189),N=m;continue}m=(N-55296<<10|m-56320)+65536}else N&&(u-=3)>-1&&H.push(239,191,189);if(N=null,m<128){if((u-=1)<0)break;H.push(m)}else if(m<2048){if((u-=2)<0)break;H.push(m>>6|192,m&63|128)}else if(m<65536){if((u-=3)<0)break;H.push(m>>12|224,m>>6&63|128,m&63|128)}else if(m<1114112){if((u-=4)<0)break;H.push(m>>18|240,m>>12&63|128,m>>6&63|128,m&63|128)}else throw new Error("Invalid code point")}return H}function ae(o){let u=[];for(let m=0;m<o.length;++m)u.push(o.charCodeAt(m)&255);return u}function ve(o,u){let m,C,N,H=[];for(let de=0;de<o.length&&!((u-=2)<0);++de)m=o.charCodeAt(de),C=m>>8,N=m%256,H.push(N),H.push(C);return H}function we(o){return f.toByteArray(L(o))}function xe(o,u,m,C){let N;for(N=0;N<C&&!(N+m>=u.length||N>=o.length);++N)u[N+m]=o[N];return N}function Y(o,u){return o instanceof u||o!=null&&o.constructor!=null&&o.constructor.name!=null&&o.constructor.name===u.name}function Se(o){return o!==o}let Pe=(function(){let o="0123456789abcdef",u=new Array(256);for(let m=0;m<16;++m){let C=m*16;for(let N=0;N<16;++N)u[C+N]=o[m]+o[N]}return u})();function fe(o){return typeof BigInt>"u"?Me:o}function Me(){throw new Error("BigInt not supported")}return Ft}var or,di,pr,gi,Ft,yi,pu=vt(()=>{ye(),be(),me(),or={},di=!1,pr={},gi=!1,Ft={},yi=!1}),at={};lr(at,{Buffer:()=>Jr,INSPECT_MAX_BYTES:()=>Xs,default:()=>kt,kMaxLength:()=>Zs});var kt,Jr,Xs,Zs,lt=vt(()=>{ye(),be(),me(),pu(),kt=fu(),kt.Buffer,kt.SlowBuffer,kt.INSPECT_MAX_BYTES,kt.kMaxLength,Jr=kt.Buffer,Xs=kt.INSPECT_MAX_BYTES,Zs=kt.kMaxLength}),be=vt(()=>{lt()}),Ze=Ee((f,h)=>{ye(),be(),me();var s=class extends Error{constructor(a){if(!Array.isArray(a))throw new TypeError(`Expected input to be an Array, got ${typeof a}`);let c="";for(let n=0;n<a.length;n++)c+=`    ${a[n].stack}
`;super(c),this.name="AggregateError",this.errors=a}};h.exports={AggregateError:s,ArrayIsArray(a){return Array.isArray(a)},ArrayPrototypeIncludes(a,c){return a.includes(c)},ArrayPrototypeIndexOf(a,c){return a.indexOf(c)},ArrayPrototypeJoin(a,c){return a.join(c)},ArrayPrototypeMap(a,c){return a.map(c)},ArrayPrototypePop(a,c){return a.pop(c)},ArrayPrototypePush(a,c){return a.push(c)},ArrayPrototypeSlice(a,c,n){return a.slice(c,n)},Error,FunctionPrototypeCall(a,c,...n){return a.call(c,...n)},FunctionPrototypeSymbolHasInstance(a,c){return Function.prototype[Symbol.hasInstance].call(a,c)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(a,c){return Object.defineProperties(a,c)},ObjectDefineProperty(a,c,n){return Object.defineProperty(a,c,n)},ObjectGetOwnPropertyDescriptor(a,c){return Object.getOwnPropertyDescriptor(a,c)},ObjectKeys(a){return Object.keys(a)},ObjectSetPrototypeOf(a,c){return Object.setPrototypeOf(a,c)},Promise,PromisePrototypeCatch(a,c){return a.catch(c)},PromisePrototypeThen(a,c,n){return a.then(c,n)},PromiseReject(a){return Promise.reject(a)},PromiseResolve(a){return Promise.resolve(a)},ReflectApply:Reflect.apply,RegExpPrototypeTest(a,c){return a.test(c)},SafeSet:Set,String,StringPrototypeSlice(a,c,n){return a.slice(c,n)},StringPrototypeToLowerCase(a){return a.toLowerCase()},StringPrototypeToUpperCase(a){return a.toUpperCase()},StringPrototypeTrim(a){return a.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(a,c,n){return a.set(c,n)},Boolean,Uint8Array}}),ea=Ee((f,h)=>{ye(),be(),me(),h.exports={format(s,...a){return s.replace(/%([sdifj])/g,function(...[c,n]){let r=a.shift();return n==="f"?r.toFixed(6):n==="j"?JSON.stringify(r):n==="s"&&typeof r=="object"?`${r.constructor!==Object?r.constructor.name:""} {}`.trim():r.toString()})},inspect(s){switch(typeof s){case"string":if(s.includes("'"))if(s.includes('"')){if(!s.includes("`")&&!s.includes("${"))return`\`${s}\``}else return`"${s}"`;return`'${s}'`;case"number":return isNaN(s)?"NaN":Object.is(s,-0)?String(s):s;case"bigint":return`${String(s)}n`;case"boolean":case"undefined":return String(s);case"object":return"{}"}}}}),yt=Ee((f,h)=>{ye(),be(),me();var{format:s,inspect:a}=ea(),{AggregateError:c}=Ze(),n=globalThis.AggregateError||c,r=Symbol("kIsNodeError"),t=["string","function","number","object","Function","Object","boolean","bigint","symbol"],e=/^([A-Z][a-z0-9]*)+$/,i="__node_internal_",l={};function d(y,v){if(!y)throw new l.ERR_INTERNAL_ASSERTION(v)}function p(y){let v="",A=y.length,_=y[0]==="-"?1:0;for(;A>=_+4;A-=3)v=`_${y.slice(A-3,A)}${v}`;return`${y.slice(0,A)}${v}`}function g(y,v,A){if(typeof v=="function")return d(v.length<=A.length,`Code: ${y}; The provided arguments length (${A.length}) does not match the required ones (${v.length}).`),v(...A);let _=(v.match(/%[dfijoOs]/g)||[]).length;return d(_===A.length,`Code: ${y}; The provided arguments length (${A.length}) does not match the required ones (${_}).`),A.length===0?v:s(v,...A)}function b(y,v,A){A||(A=Error);class _ extends A{constructor(...w){super(g(y,v,w))}toString(){return`${this.name} [${y}]: ${this.message}`}}Object.defineProperties(_.prototype,{name:{value:A.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${y}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),_.prototype.code=y,_.prototype[r]=!0,l[y]=_}function E(y){let v=i+y.name;return Object.defineProperty(y,"name",{value:v}),y}function S(y,v){if(y&&v&&y!==v){if(Array.isArray(v.errors))return v.errors.push(y),v;let A=new n([v,y],v.message);return A.code=v.code,A}return y||v}var O=class extends Error{constructor(y="The operation was aborted",v=void 0){if(v!==void 0&&typeof v!="object")throw new l.ERR_INVALID_ARG_TYPE("options","Object",v);super(y,v),this.code="ABORT_ERR",this.name="AbortError"}};b("ERR_ASSERTION","%s",Error),b("ERR_INVALID_ARG_TYPE",(y,v,A)=>{d(typeof y=="string","'name' must be a string"),Array.isArray(v)||(v=[v]);let _="The ";y.endsWith(" argument")?_+=`${y} `:_+=`"${y}" ${y.includes(".")?"property":"argument"} `,_+="must be ";let R=[],w=[],I=[];for(let M of v)d(typeof M=="string","All expected entries have to be of type string"),t.includes(M)?R.push(M.toLowerCase()):e.test(M)?w.push(M):(d(M!=="object",'The value "object" should be written as "Object"'),I.push(M));if(w.length>0){let M=R.indexOf("object");M!==-1&&(R.splice(R,M,1),w.push("Object"))}if(R.length>0){switch(R.length){case 1:_+=`of type ${R[0]}`;break;case 2:_+=`one of type ${R[0]} or ${R[1]}`;break;default:{let M=R.pop();_+=`one of type ${R.join(", ")}, or ${M}`}}(w.length>0||I.length>0)&&(_+=" or ")}if(w.length>0){switch(w.length){case 1:_+=`an instance of ${w[0]}`;break;case 2:_+=`an instance of ${w[0]} or ${w[1]}`;break;default:{let M=w.pop();_+=`an instance of ${w.join(", ")}, or ${M}`}}I.length>0&&(_+=" or ")}switch(I.length){case 0:break;case 1:I[0].toLowerCase()!==I[0]&&(_+="an "),_+=`${I[0]}`;break;case 2:_+=`one of ${I[0]} or ${I[1]}`;break;default:{let M=I.pop();_+=`one of ${I.join(", ")}, or ${M}`}}if(A==null)_+=`. Received ${A}`;else if(typeof A=="function"&&A.name)_+=`. Received function ${A.name}`;else if(typeof A=="object"){var k;if((k=A.constructor)!==null&&k!==void 0&&k.name)_+=`. Received an instance of ${A.constructor.name}`;else{let M=a(A,{depth:-1});_+=`. Received ${M}`}}else{let M=a(A,{colors:!1});M.length>25&&(M=`${M.slice(0,25)}...`),_+=`. Received type ${typeof A} (${M})`}return _},TypeError),b("ERR_INVALID_ARG_VALUE",(y,v,A="is invalid")=>{let _=a(v);return _.length>128&&(_=_.slice(0,128)+"..."),`The ${y.includes(".")?"property":"argument"} '${y}' ${A}. Received ${_}`},TypeError),b("ERR_INVALID_RETURN_VALUE",(y,v,A)=>{var _;let R=A!=null&&(_=A.constructor)!==null&&_!==void 0&&_.name?`instance of ${A.constructor.name}`:`type ${typeof A}`;return`Expected ${y} to be returned from the "${v}" function but got ${R}.`},TypeError),b("ERR_MISSING_ARGS",(...y)=>{d(y.length>0,"At least one arg needs to be specified");let v,A=y.length;switch(y=(Array.isArray(y)?y:[y]).map(_=>`"${_}"`).join(" or "),A){case 1:v+=`The ${y[0]} argument`;break;case 2:v+=`The ${y[0]} and ${y[1]} arguments`;break;default:{let _=y.pop();v+=`The ${y.join(", ")}, and ${_} arguments`}break}return`${v} must be specified`},TypeError),b("ERR_OUT_OF_RANGE",(y,v,A)=>{d(v,'Missing "range" argument');let _;if(Number.isInteger(A)&&Math.abs(A)>2**32)_=p(String(A));else if(typeof A=="bigint"){_=String(A);let R=BigInt(2)**BigInt(32);(A>R||A<-R)&&(_=p(_)),_+="n"}else _=a(A);return`The value of "${y}" is out of range. It must be ${v}. Received ${_}`},RangeError),b("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),b("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),b("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),b("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),b("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),b("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),b("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),b("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),b("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),b("ERR_STREAM_WRITE_AFTER_END","write after end",Error),b("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),h.exports={AbortError:O,aggregateTwoErrors:E(S),hideStackFrames:E,codes:l}}),br=Ee((f,h)=>{ye(),be(),me();var{AbortController:s,AbortSignal:a}=typeof self<"u"?self:typeof window<"u"?window:void 0;h.exports=s,h.exports.AbortSignal=a,h.exports.default=s}),Kt={};lr(Kt,{EventEmitter:()=>ta,default:()=>sr,defaultMaxListeners:()=>ra,init:()=>na,listenerCount:()=>ia,on:()=>oa,once:()=>sa});function du(){if(mi)return dr;mi=!0;var f=typeof Reflect=="object"?Reflect:null,h=f&&typeof f.apply=="function"?f.apply:function(A,_,R){return Function.prototype.apply.call(A,_,R)},s;f&&typeof f.ownKeys=="function"?s=f.ownKeys:Object.getOwnPropertySymbols?s=function(A){return Object.getOwnPropertyNames(A).concat(Object.getOwnPropertySymbols(A))}:s=function(A){return Object.getOwnPropertyNames(A)};function a(A){console&&console.warn&&console.warn(A)}var c=Number.isNaN||function(A){return A!==A};function n(){n.init.call(this)}dr=n,dr.once=O,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._eventsCount=0,n.prototype._maxListeners=void 0;var r=10;function t(A){if(typeof A!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof A)}Object.defineProperty(n,"defaultMaxListeners",{enumerable:!0,get:function(){return r},set:function(A){if(typeof A!="number"||A<0||c(A))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+A+".");r=A}}),n.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},n.prototype.setMaxListeners=function(A){if(typeof A!="number"||A<0||c(A))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+A+".");return this._maxListeners=A,this};function e(A){return A._maxListeners===void 0?n.defaultMaxListeners:A._maxListeners}n.prototype.getMaxListeners=function(){return e(this)},n.prototype.emit=function(A){for(var _=[],R=1;R<arguments.length;R++)_.push(arguments[R]);var w=A==="error",I=this._events;if(I!==void 0)w=w&&I.error===void 0;else if(!w)return!1;if(w){var k;if(_.length>0&&(k=_[0]),k instanceof Error)throw k;var M=new Error("Unhandled error."+(k?" ("+k.message+")":""));throw M.context=k,M}var U=I[A];if(U===void 0)return!1;if(typeof U=="function")h(U,this,_);else for(var T=U.length,z=b(U,T),R=0;R<T;++R)h(z[R],this,_);return!0};function i(A,_,R,w){var I,k,M;if(t(R),k=A._events,k===void 0?(k=A._events=Object.create(null),A._eventsCount=0):(k.newListener!==void 0&&(A.emit("newListener",_,R.listener?R.listener:R),k=A._events),M=k[_]),M===void 0)M=k[_]=R,++A._eventsCount;else if(typeof M=="function"?M=k[_]=w?[R,M]:[M,R]:w?M.unshift(R):M.push(R),I=e(A),I>0&&M.length>I&&!M.warned){M.warned=!0;var U=new Error("Possible EventEmitter memory leak detected. "+M.length+" "+String(_)+" listeners added. Use emitter.setMaxListeners() to increase limit");U.name="MaxListenersExceededWarning",U.emitter=A,U.type=_,U.count=M.length,a(U)}return A}n.prototype.addListener=function(A,_){return i(this,A,_,!1)},n.prototype.on=n.prototype.addListener,n.prototype.prependListener=function(A,_){return i(this,A,_,!0)};function l(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(A,_,R){var w={fired:!1,wrapFn:void 0,target:A,type:_,listener:R},I=l.bind(w);return I.listener=R,w.wrapFn=I,I}n.prototype.once=function(A,_){return t(_),this.on(A,d(this,A,_)),this},n.prototype.prependOnceListener=function(A,_){return t(_),this.prependListener(A,d(this,A,_)),this},n.prototype.removeListener=function(A,_){var R,w,I,k,M;if(t(_),w=this._events,w===void 0)return this;if(R=w[A],R===void 0)return this;if(R===_||R.listener===_)--this._eventsCount===0?this._events=Object.create(null):(delete w[A],w.removeListener&&this.emit("removeListener",A,R.listener||_));else if(typeof R!="function"){for(I=-1,k=R.length-1;k>=0;k--)if(R[k]===_||R[k].listener===_){M=R[k].listener,I=k;break}if(I<0)return this;I===0?R.shift():E(R,I),R.length===1&&(w[A]=R[0]),w.removeListener!==void 0&&this.emit("removeListener",A,M||_)}return this},n.prototype.off=n.prototype.removeListener,n.prototype.removeAllListeners=function(A){var _,R,w;if(R=this._events,R===void 0)return this;if(R.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):R[A]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete R[A]),this;if(arguments.length===0){var I=Object.keys(R),k;for(w=0;w<I.length;++w)k=I[w],k!=="removeListener"&&this.removeAllListeners(k);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(_=R[A],typeof _=="function")this.removeListener(A,_);else if(_!==void 0)for(w=_.length-1;w>=0;w--)this.removeListener(A,_[w]);return this};function p(A,_,R){var w=A._events;if(w===void 0)return[];var I=w[_];return I===void 0?[]:typeof I=="function"?R?[I.listener||I]:[I]:R?S(I):b(I,I.length)}n.prototype.listeners=function(A){return p(this,A,!0)},n.prototype.rawListeners=function(A){return p(this,A,!1)},n.listenerCount=function(A,_){return typeof A.listenerCount=="function"?A.listenerCount(_):g.call(A,_)},n.prototype.listenerCount=g;function g(A){var _=this._events;if(_!==void 0){var R=_[A];if(typeof R=="function")return 1;if(R!==void 0)return R.length}return 0}n.prototype.eventNames=function(){return this._eventsCount>0?s(this._events):[]};function b(A,_){for(var R=new Array(_),w=0;w<_;++w)R[w]=A[w];return R}function E(A,_){for(;_+1<A.length;_++)A[_]=A[_+1];A.pop()}function S(A){for(var _=new Array(A.length),R=0;R<_.length;++R)_[R]=A[R].listener||A[R];return _}function O(A,_){return new Promise(function(R,w){function I(M){A.removeListener(_,k),w(M)}function k(){typeof A.removeListener=="function"&&A.removeListener("error",I),R([].slice.call(arguments))}v(A,_,k,{once:!0}),_!=="error"&&y(A,I,{once:!0})})}function y(A,_,R){typeof A.on=="function"&&v(A,"error",_,R)}function v(A,_,R,w){if(typeof A.on=="function")w.once?A.once(_,R):A.on(_,R);else if(typeof A.addEventListener=="function")A.addEventListener(_,function I(k){w.once&&A.removeEventListener(_,I),R(k)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof A)}return dr}var dr,mi,sr,ta,ra,na,ia,oa,sa,tr=vt(()=>{ye(),be(),me(),dr={},mi=!1,sr=du(),sr.once,sr.once=function(f,h){return new Promise((s,a)=>{function c(...r){n!==void 0&&f.removeListener("error",n),s(r)}let n;h!=="error"&&(n=r=>{f.removeListener(name,c),a(r)},f.once("error",n)),f.once(h,c)})},sr.on=function(f,h){let s=[],a=[],c=null,n=!1,r={async next(){let i=s.shift();if(i)return createIterResult(i,!1);if(c){let l=Promise.reject(c);return c=null,l}return n?createIterResult(void 0,!0):new Promise((l,d)=>a.push({resolve:l,reject:d}))},async return(){f.removeListener(h,t),f.removeListener("error",e),n=!0;for(let i of a)i.resolve(createIterResult(void 0,!0));return createIterResult(void 0,!0)},throw(i){c=i,f.removeListener(h,t),f.removeListener("error",e)},[Symbol.asyncIterator](){return this}};return f.on(h,t),f.on("error",e),r;function t(...i){let l=a.shift();l?l.resolve(createIterResult(i,!1)):s.push(i)}function e(i){n=!0;let l=a.shift();l?l.reject(i):c=i,r.return()}},{EventEmitter:ta,defaultMaxListeners:ra,init:na,listenerCount:ia,on:oa,once:sa}=sr}),bt=Ee((f,h)=>{ye(),be(),me();var s=(lt(),He(at)),{format:a,inspect:c}=ea(),{codes:{ERR_INVALID_ARG_TYPE:n}}=yt(),{kResistStopPropagation:r,AggregateError:t,SymbolDispose:e}=Ze(),i=globalThis.AbortSignal||br().AbortSignal,l=globalThis.AbortController||br().AbortController,d=Object.getPrototypeOf(async function(){}).constructor,p=globalThis.Blob||s.Blob,g=typeof p<"u"?function(S){return S instanceof p}:function(S){return!1},b=(S,O)=>{if(S!==void 0&&(S===null||typeof S!="object"||!("aborted"in S)))throw new n(O,"AbortSignal",S)},E=(S,O)=>{if(typeof S!="function")throw new n(O,"Function",S)};h.exports={AggregateError:t,kEmptyObject:Object.freeze({}),once(S){let O=!1;return function(...y){O||(O=!0,S.apply(this,y))}},createDeferredPromise:function(){let S,O;return{promise:new Promise((y,v)=>{S=y,O=v}),resolve:S,reject:O}},promisify(S){return new Promise((O,y)=>{S((v,...A)=>v?y(v):O(...A))})},debuglog(){return function(){}},format:a,inspect:c,types:{isAsyncFunction(S){return S instanceof d},isArrayBufferView(S){return ArrayBuffer.isView(S)}},isBlob:g,deprecate(S,O){return S},addAbortListener:(tr(),He(Kt)).addAbortListener||function(S,O){if(S===void 0)throw new n("signal","AbortSignal",S);b(S,"signal"),E(O,"listener");let y;return S.aborted?queueMicrotask(()=>O()):(S.addEventListener("abort",O,{__proto__:null,once:!0,[r]:!0}),y=()=>{S.removeEventListener("abort",O)}),{__proto__:null,[e](){var v;(v=y)===null||v===void 0||v()}}},AbortSignalAny:i.any||function(S){if(S.length===1)return S[0];let O=new l,y=()=>O.abort();return S.forEach(v=>{b(v,"signals"),v.addEventListener("abort",y,{once:!0})}),O.signal.addEventListener("abort",()=>{S.forEach(v=>v.removeEventListener("abort",y))},{once:!0}),O.signal}},h.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")}),vr=Ee((f,h)=>{ye(),be(),me();var{ArrayIsArray:s,ArrayPrototypeIncludes:a,ArrayPrototypeJoin:c,ArrayPrototypeMap:n,NumberIsInteger:r,NumberIsNaN:t,NumberMAX_SAFE_INTEGER:e,NumberMIN_SAFE_INTEGER:i,NumberParseInt:l,ObjectPrototypeHasOwnProperty:d,RegExpPrototypeExec:p,String:g,StringPrototypeToUpperCase:b,StringPrototypeTrim:E}=Ze(),{hideStackFrames:S,codes:{ERR_SOCKET_BAD_PORT:O,ERR_INVALID_ARG_TYPE:y,ERR_INVALID_ARG_VALUE:v,ERR_OUT_OF_RANGE:A,ERR_UNKNOWN_SIGNAL:_}}=yt(),{normalizeEncoding:R}=bt(),{isAsyncFunction:w,isArrayBufferView:I}=bt().types,k={};function M(Y){return Y===(Y|0)}function U(Y){return Y===Y>>>0}var T=/^[0-7]+$/,z="must be a 32-bit unsigned integer or an octal string";function Q(Y,Se,Pe){if(typeof Y>"u"&&(Y=Pe),typeof Y=="string"){if(p(T,Y)===null)throw new v(Se,Y,z);Y=l(Y,8)}return ie(Y,Se),Y}var q=S((Y,Se,Pe=i,fe=e)=>{if(typeof Y!="number")throw new y(Se,"number",Y);if(!r(Y))throw new A(Se,"an integer",Y);if(Y<Pe||Y>fe)throw new A(Se,`>= ${Pe} && <= ${fe}`,Y)}),he=S((Y,Se,Pe=-2147483648,fe=2147483647)=>{if(typeof Y!="number")throw new y(Se,"number",Y);if(!r(Y))throw new A(Se,"an integer",Y);if(Y<Pe||Y>fe)throw new A(Se,`>= ${Pe} && <= ${fe}`,Y)}),ie=S((Y,Se,Pe=!1)=>{if(typeof Y!="number")throw new y(Se,"number",Y);if(!r(Y))throw new A(Se,"an integer",Y);let fe=Pe?1:0,Me=4294967295;if(Y<fe||Y>Me)throw new A(Se,`>= ${fe} && <= ${Me}`,Y)});function re(Y,Se){if(typeof Y!="string")throw new y(Se,"string",Y)}function ce(Y,Se,Pe=void 0,fe){if(typeof Y!="number")throw new y(Se,"number",Y);if(Pe!=null&&Y<Pe||fe!=null&&Y>fe||(Pe!=null||fe!=null)&&t(Y))throw new A(Se,`${Pe!=null?`>= ${Pe}`:""}${Pe!=null&&fe!=null?" && ":""}${fe!=null?`<= ${fe}`:""}`,Y)}var V=S((Y,Se,Pe)=>{if(!a(Pe,Y)){let fe="must be one of: "+c(n(Pe,Me=>typeof Me=="string"?`'${Me}'`:g(Me)),", ");throw new v(Se,Y,fe)}});function le(Y,Se){if(typeof Y!="boolean")throw new y(Se,"boolean",Y)}function B(Y,Se,Pe){return Y==null||!d(Y,Se)?Pe:Y[Se]}var te=S((Y,Se,Pe=null)=>{let fe=B(Pe,"allowArray",!1),Me=B(Pe,"allowFunction",!1);if(!B(Pe,"nullable",!1)&&Y===null||!fe&&s(Y)||typeof Y!="object"&&(!Me||typeof Y!="function"))throw new y(Se,"Object",Y)}),ee=S((Y,Se)=>{if(Y!=null&&typeof Y!="object"&&typeof Y!="function")throw new y(Se,"a dictionary",Y)}),ue=S((Y,Se,Pe=0)=>{if(!s(Y))throw new y(Se,"Array",Y);if(Y.length<Pe){let fe=`must be longer than ${Pe}`;throw new v(Se,Y,fe)}});function Oe(Y,Se){ue(Y,Se);for(let Pe=0;Pe<Y.length;Pe++)re(Y[Pe],`${Se}[${Pe}]`)}function X(Y,Se){ue(Y,Se);for(let Pe=0;Pe<Y.length;Pe++)le(Y[Pe],`${Se}[${Pe}]`)}function W(Y,Se){ue(Y,Se);for(let Pe=0;Pe<Y.length;Pe++){let fe=Y[Pe],Me=`${Se}[${Pe}]`;if(fe==null)throw new y(Me,"AbortSignal",fe);_e(fe,Me)}}function se(Y,Se="signal"){if(re(Y,Se),k[Y]===void 0)throw k[b(Y)]!==void 0?new _(Y+" (signals must use all capital letters)"):new _(Y)}var Z=S((Y,Se="buffer")=>{if(!I(Y))throw new y(Se,["Buffer","TypedArray","DataView"],Y)});function J(Y,Se){let Pe=R(Se),fe=Y.length;if(Pe==="hex"&&fe%2!==0)throw new v("encoding",Se,`is invalid for data of length ${fe}`)}function ne(Y,Se="Port",Pe=!0){if(typeof Y!="number"&&typeof Y!="string"||typeof Y=="string"&&E(Y).length===0||+Y!==+Y>>>0||Y>65535||Y===0&&!Pe)throw new O(Se,Y,Pe);return Y|0}var _e=S((Y,Se)=>{if(Y!==void 0&&(Y===null||typeof Y!="object"||!("aborted"in Y)))throw new y(Se,"AbortSignal",Y)}),pe=S((Y,Se)=>{if(typeof Y!="function")throw new y(Se,"Function",Y)}),L=S((Y,Se)=>{if(typeof Y!="function"||w(Y))throw new y(Se,"Function",Y)}),G=S((Y,Se)=>{if(Y!==void 0)throw new y(Se,"undefined",Y)});function ae(Y,Se,Pe){if(!a(Pe,Y))throw new y(Se,`('${c(Pe,"|")}')`,Y)}var ve=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function we(Y,Se){if(typeof Y>"u"||!p(ve,Y))throw new v(Se,Y,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function xe(Y){if(typeof Y=="string")return we(Y,"hints"),Y;if(s(Y)){let Se=Y.length,Pe="";if(Se===0)return Pe;for(let fe=0;fe<Se;fe++){let Me=Y[fe];we(Me,"hints"),Pe+=Me,fe!==Se-1&&(Pe+=", ")}return Pe}throw new v("hints",Y,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}h.exports={isInt32:M,isUint32:U,parseFileMode:Q,validateArray:ue,validateStringArray:Oe,validateBooleanArray:X,validateAbortSignalArray:W,validateBoolean:le,validateBuffer:Z,validateDictionary:ee,validateEncoding:J,validateFunction:pe,validateInt32:he,validateInteger:q,validateNumber:ce,validateObject:te,validateOneOf:V,validatePlainFunction:L,validatePort:ne,validateSignalName:se,validateString:re,validateUint32:ie,validateUndefined:G,validateUnion:ae,validateAbortSignal:_e,validateLinkHeaderValue:xe}}),rr=Ee((f,h)=>{ye(),be(),me();var s=h.exports={},a,c;function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?a=setTimeout:a=n}catch{a=n}try{typeof clearTimeout=="function"?c=clearTimeout:c=r}catch{c=r}})();function t(O){if(a===setTimeout)return setTimeout(O,0);if((a===n||!a)&&setTimeout)return a=setTimeout,setTimeout(O,0);try{return a(O,0)}catch{try{return a.call(null,O,0)}catch{return a.call(this,O,0)}}}function e(O){if(c===clearTimeout)return clearTimeout(O);if((c===r||!c)&&clearTimeout)return c=clearTimeout,clearTimeout(O);try{return c(O)}catch{try{return c.call(null,O)}catch{return c.call(this,O)}}}var i=[],l=!1,d,p=-1;function g(){!l||!d||(l=!1,d.length?i=d.concat(i):p=-1,i.length&&b())}function b(){if(!l){var O=t(g);l=!0;for(var y=i.length;y;){for(d=i,i=[];++p<y;)d&&d[p].run();p=-1,y=i.length}d=null,l=!1,e(O)}}s.nextTick=function(O){var y=new Array(arguments.length-1);if(arguments.length>1)for(var v=1;v<arguments.length;v++)y[v-1]=arguments[v];i.push(new E(O,y)),i.length===1&&!l&&t(b)};function E(O,y){this.fun=O,this.array=y}E.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={};function S(){}s.on=S,s.addListener=S,s.once=S,s.off=S,s.removeListener=S,s.removeAllListeners=S,s.emit=S,s.prependListener=S,s.prependOnceListener=S,s.listeners=function(O){return[]},s.binding=function(O){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(O){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}}),Bt=Ee((f,h)=>{ye(),be(),me();var{SymbolAsyncIterator:s,SymbolIterator:a,SymbolFor:c}=Ze(),n=c("nodejs.stream.destroyed"),r=c("nodejs.stream.errored"),t=c("nodejs.stream.readable"),e=c("nodejs.stream.writable"),i=c("nodejs.stream.disturbed"),l=c("nodejs.webstream.isClosedPromise"),d=c("nodejs.webstream.controllerErrorFunction");function p(B,te=!1){var ee;return!!(B&&typeof B.pipe=="function"&&typeof B.on=="function"&&(!te||typeof B.pause=="function"&&typeof B.resume=="function")&&(!B._writableState||((ee=B._readableState)===null||ee===void 0?void 0:ee.readable)!==!1)&&(!B._writableState||B._readableState))}function g(B){var te;return!!(B&&typeof B.write=="function"&&typeof B.on=="function"&&(!B._readableState||((te=B._writableState)===null||te===void 0?void 0:te.writable)!==!1))}function b(B){return!!(B&&typeof B.pipe=="function"&&B._readableState&&typeof B.on=="function"&&typeof B.write=="function")}function E(B){return B&&(B._readableState||B._writableState||typeof B.write=="function"&&typeof B.on=="function"||typeof B.pipe=="function"&&typeof B.on=="function")}function S(B){return!!(B&&!E(B)&&typeof B.pipeThrough=="function"&&typeof B.getReader=="function"&&typeof B.cancel=="function")}function O(B){return!!(B&&!E(B)&&typeof B.getWriter=="function"&&typeof B.abort=="function")}function y(B){return!!(B&&!E(B)&&typeof B.readable=="object"&&typeof B.writable=="object")}function v(B){return S(B)||O(B)||y(B)}function A(B,te){return B==null?!1:te===!0?typeof B[s]=="function":te===!1?typeof B[a]=="function":typeof B[s]=="function"||typeof B[a]=="function"}function _(B){if(!E(B))return null;let te=B._writableState,ee=B._readableState,ue=te||ee;return!!(B.destroyed||B[n]||ue!=null&&ue.destroyed)}function R(B){if(!g(B))return null;if(B.writableEnded===!0)return!0;let te=B._writableState;return te!=null&&te.errored?!1:typeof te?.ended!="boolean"?null:te.ended}function w(B,te){if(!g(B))return null;if(B.writableFinished===!0)return!0;let ee=B._writableState;return ee!=null&&ee.errored?!1:typeof ee?.finished!="boolean"?null:!!(ee.finished||te===!1&&ee.ended===!0&&ee.length===0)}function I(B){if(!p(B))return null;if(B.readableEnded===!0)return!0;let te=B._readableState;return!te||te.errored?!1:typeof te?.ended!="boolean"?null:te.ended}function k(B,te){if(!p(B))return null;let ee=B._readableState;return ee!=null&&ee.errored?!1:typeof ee?.endEmitted!="boolean"?null:!!(ee.endEmitted||te===!1&&ee.ended===!0&&ee.length===0)}function M(B){return B&&B[t]!=null?B[t]:typeof B?.readable!="boolean"?null:_(B)?!1:p(B)&&B.readable&&!k(B)}function U(B){return B&&B[e]!=null?B[e]:typeof B?.writable!="boolean"?null:_(B)?!1:g(B)&&B.writable&&!R(B)}function T(B,te){return E(B)?_(B)?!0:!(te?.readable!==!1&&M(B)||te?.writable!==!1&&U(B)):null}function z(B){var te,ee;return E(B)?B.writableErrored?B.writableErrored:(te=(ee=B._writableState)===null||ee===void 0?void 0:ee.errored)!==null&&te!==void 0?te:null:null}function Q(B){var te,ee;return E(B)?B.readableErrored?B.readableErrored:(te=(ee=B._readableState)===null||ee===void 0?void 0:ee.errored)!==null&&te!==void 0?te:null:null}function q(B){if(!E(B))return null;if(typeof B.closed=="boolean")return B.closed;let te=B._writableState,ee=B._readableState;return typeof te?.closed=="boolean"||typeof ee?.closed=="boolean"?te?.closed||ee?.closed:typeof B._closed=="boolean"&&he(B)?B._closed:null}function he(B){return typeof B._closed=="boolean"&&typeof B._defaultKeepAlive=="boolean"&&typeof B._removedConnection=="boolean"&&typeof B._removedContLen=="boolean"}function ie(B){return typeof B._sent100=="boolean"&&he(B)}function re(B){var te;return typeof B._consuming=="boolean"&&typeof B._dumped=="boolean"&&((te=B.req)===null||te===void 0?void 0:te.upgradeOrConnect)===void 0}function ce(B){if(!E(B))return null;let te=B._writableState,ee=B._readableState,ue=te||ee;return!ue&&ie(B)||!!(ue&&ue.autoDestroy&&ue.emitClose&&ue.closed===!1)}function V(B){var te;return!!(B&&((te=B[i])!==null&&te!==void 0?te:B.readableDidRead||B.readableAborted))}function le(B){var te,ee,ue,Oe,X,W,se,Z,J,ne;return!!(B&&((te=(ee=(ue=(Oe=(X=(W=B[r])!==null&&W!==void 0?W:B.readableErrored)!==null&&X!==void 0?X:B.writableErrored)!==null&&Oe!==void 0?Oe:(se=B._readableState)===null||se===void 0?void 0:se.errorEmitted)!==null&&ue!==void 0?ue:(Z=B._writableState)===null||Z===void 0?void 0:Z.errorEmitted)!==null&&ee!==void 0?ee:(J=B._readableState)===null||J===void 0?void 0:J.errored)!==null&&te!==void 0?te:!((ne=B._writableState)===null||ne===void 0)&&ne.errored))}h.exports={isDestroyed:_,kIsDestroyed:n,isDisturbed:V,kIsDisturbed:i,isErrored:le,kIsErrored:r,isReadable:M,kIsReadable:t,kIsClosedPromise:l,kControllerErrorFunction:d,kIsWritable:e,isClosed:q,isDuplexNodeStream:b,isFinished:T,isIterable:A,isReadableNodeStream:p,isReadableStream:S,isReadableEnded:I,isReadableFinished:k,isReadableErrored:Q,isNodeStream:E,isWebStream:v,isWritable:U,isWritableNodeStream:g,isWritableStream:O,isWritableEnded:R,isWritableFinished:w,isWritableErrored:z,isServerRequest:re,isServerResponse:ie,willEmitClose:ce,isTransformStream:y}}),Ht=Ee((f,h)=>{ye(),be(),me();var s=rr(),{AbortError:a,codes:c}=yt(),{ERR_INVALID_ARG_TYPE:n,ERR_STREAM_PREMATURE_CLOSE:r}=c,{kEmptyObject:t,once:e}=bt(),{validateAbortSignal:i,validateFunction:l,validateObject:d,validateBoolean:p}=vr(),{Promise:g,PromisePrototypeThen:b,SymbolDispose:E}=Ze(),{isClosed:S,isReadable:O,isReadableNodeStream:y,isReadableStream:v,isReadableFinished:A,isReadableErrored:_,isWritable:R,isWritableNodeStream:w,isWritableStream:I,isWritableFinished:k,isWritableErrored:M,isNodeStream:U,willEmitClose:T,kIsClosedPromise:z}=Bt(),Q;function q(V){return V.setHeader&&typeof V.abort=="function"}var he=()=>{};function ie(V,le,B){var te,ee;if(arguments.length===2?(B=le,le=t):le==null?le=t:d(le,"options"),l(B,"callback"),i(le.signal,"options.signal"),B=e(B),v(V)||I(V))return re(V,le,B);if(!U(V))throw new n("stream",["ReadableStream","WritableStream","Stream"],V);let ue=(te=le.readable)!==null&&te!==void 0?te:y(V),Oe=(ee=le.writable)!==null&&ee!==void 0?ee:w(V),X=V._writableState,W=V._readableState,se=()=>{V.writable||ne()},Z=T(V)&&y(V)===ue&&w(V)===Oe,J=k(V,!1),ne=()=>{J=!0,V.destroyed&&(Z=!1),!(Z&&(!V.readable||ue))&&(!ue||_e)&&B.call(V)},_e=A(V,!1),pe=()=>{_e=!0,V.destroyed&&(Z=!1),!(Z&&(!V.writable||Oe))&&(!Oe||J)&&B.call(V)},L=Y=>{B.call(V,Y)},G=S(V),ae=()=>{G=!0;let Y=M(V)||_(V);if(Y&&typeof Y!="boolean")return B.call(V,Y);if(ue&&!_e&&y(V,!0)&&!A(V,!1))return B.call(V,new r);if(Oe&&!J&&!k(V,!1))return B.call(V,new r);B.call(V)},ve=()=>{G=!0;let Y=M(V)||_(V);if(Y&&typeof Y!="boolean")return B.call(V,Y);B.call(V)},we=()=>{V.req.on("finish",ne)};q(V)?(V.on("complete",ne),Z||V.on("abort",ae),V.req?we():V.on("request",we)):Oe&&!X&&(V.on("end",se),V.on("close",se)),!Z&&typeof V.aborted=="boolean"&&V.on("aborted",ae),V.on("end",pe),V.on("finish",ne),le.error!==!1&&V.on("error",L),V.on("close",ae),G?s.nextTick(ae):X!=null&&X.errorEmitted||W!=null&&W.errorEmitted?Z||s.nextTick(ve):(!ue&&(!Z||O(V))&&(J||R(V)===!1)||!Oe&&(!Z||R(V))&&(_e||O(V)===!1)||W&&V.req&&V.aborted)&&s.nextTick(ve);let xe=()=>{B=he,V.removeListener("aborted",ae),V.removeListener("complete",ne),V.removeListener("abort",ae),V.removeListener("request",we),V.req&&V.req.removeListener("finish",ne),V.removeListener("end",se),V.removeListener("close",se),V.removeListener("finish",ne),V.removeListener("end",pe),V.removeListener("error",L),V.removeListener("close",ae)};if(le.signal&&!G){let Y=()=>{let Se=B;xe(),Se.call(V,new a(void 0,{cause:le.signal.reason}))};if(le.signal.aborted)s.nextTick(Y);else{Q=Q||bt().addAbortListener;let Se=Q(le.signal,Y),Pe=B;B=e((...fe)=>{Se[E](),Pe.apply(V,fe)})}}return xe}function re(V,le,B){let te=!1,ee=he;if(le.signal)if(ee=()=>{te=!0,B.call(V,new a(void 0,{cause:le.signal.reason}))},le.signal.aborted)s.nextTick(ee);else{Q=Q||bt().addAbortListener;let Oe=Q(le.signal,ee),X=B;B=e((...W)=>{Oe[E](),X.apply(V,W)})}let ue=(...Oe)=>{te||s.nextTick(()=>B.apply(V,Oe))};return b(V[z].promise,ue,ue),he}function ce(V,le){var B;let te=!1;return le===null&&(le=t),(B=le)!==null&&B!==void 0&&B.cleanup&&(p(le.cleanup,"cleanup"),te=le.cleanup),new g((ee,ue)=>{let Oe=ie(V,le,X=>{te&&Oe(),X?ue(X):ee()})})}h.exports=ie,h.exports.finished=ce}),ur=Ee((f,h)=>{ye(),be(),me();var s=rr(),{aggregateTwoErrors:a,codes:{ERR_MULTIPLE_CALLBACK:c},AbortError:n}=yt(),{Symbol:r}=Ze(),{kIsDestroyed:t,isDestroyed:e,isFinished:i,isServerRequest:l}=Bt(),d=r("kDestroy"),p=r("kConstruct");function g(T,z,Q){T&&(T.stack,z&&!z.errored&&(z.errored=T),Q&&!Q.errored&&(Q.errored=T))}function b(T,z){let Q=this._readableState,q=this._writableState,he=q||Q;return q!=null&&q.destroyed||Q!=null&&Q.destroyed?(typeof z=="function"&&z(),this):(g(T,q,Q),q&&(q.destroyed=!0),Q&&(Q.destroyed=!0),he.constructed?E(this,T,z):this.once(d,function(ie){E(this,a(ie,T),z)}),this)}function E(T,z,Q){let q=!1;function he(ie){if(q)return;q=!0;let re=T._readableState,ce=T._writableState;g(ie,ce,re),ce&&(ce.closed=!0),re&&(re.closed=!0),typeof Q=="function"&&Q(ie),ie?s.nextTick(S,T,ie):s.nextTick(O,T)}try{T._destroy(z||null,he)}catch(ie){he(ie)}}function S(T,z){y(T,z),O(T)}function O(T){let z=T._readableState,Q=T._writableState;Q&&(Q.closeEmitted=!0),z&&(z.closeEmitted=!0),(Q!=null&&Q.emitClose||z!=null&&z.emitClose)&&T.emit("close")}function y(T,z){let Q=T._readableState,q=T._writableState;q!=null&&q.errorEmitted||Q!=null&&Q.errorEmitted||(q&&(q.errorEmitted=!0),Q&&(Q.errorEmitted=!0),T.emit("error",z))}function v(){let T=this._readableState,z=this._writableState;T&&(T.constructed=!0,T.closed=!1,T.closeEmitted=!1,T.destroyed=!1,T.errored=null,T.errorEmitted=!1,T.reading=!1,T.ended=T.readable===!1,T.endEmitted=T.readable===!1),z&&(z.constructed=!0,z.destroyed=!1,z.closed=!1,z.closeEmitted=!1,z.errored=null,z.errorEmitted=!1,z.finalCalled=!1,z.prefinished=!1,z.ended=z.writable===!1,z.ending=z.writable===!1,z.finished=z.writable===!1)}function A(T,z,Q){let q=T._readableState,he=T._writableState;if(he!=null&&he.destroyed||q!=null&&q.destroyed)return this;q!=null&&q.autoDestroy||he!=null&&he.autoDestroy?T.destroy(z):z&&(z.stack,he&&!he.errored&&(he.errored=z),q&&!q.errored&&(q.errored=z),Q?s.nextTick(y,T,z):y(T,z))}function _(T,z){if(typeof T._construct!="function")return;let Q=T._readableState,q=T._writableState;Q&&(Q.constructed=!1),q&&(q.constructed=!1),T.once(p,z),!(T.listenerCount(p)>1)&&s.nextTick(R,T)}function R(T){let z=!1;function Q(q){if(z){A(T,q??new c);return}z=!0;let he=T._readableState,ie=T._writableState,re=ie||he;he&&(he.constructed=!0),ie&&(ie.constructed=!0),re.destroyed?T.emit(d,q):q?A(T,q,!0):s.nextTick(w,T)}try{T._construct(q=>{s.nextTick(Q,q)})}catch(q){s.nextTick(Q,q)}}function w(T){T.emit(p)}function I(T){return T?.setHeader&&typeof T.abort=="function"}function k(T){T.emit("close")}function M(T,z){T.emit("error",z),s.nextTick(k,T)}function U(T,z){!T||e(T)||(!z&&!i(T)&&(z=new n),l(T)?(T.socket=null,T.destroy(z)):I(T)?T.abort():I(T.req)?T.req.abort():typeof T.destroy=="function"?T.destroy(z):typeof T.close=="function"?T.close():z?s.nextTick(M,T,z):s.nextTick(k,T),T.destroyed||(T[t]=!0))}h.exports={construct:_,destroyer:U,destroy:b,undestroy:v,errorOrDestroy:A}}),po=Ee((f,h)=>{ye(),be(),me();var{ArrayIsArray:s,ObjectSetPrototypeOf:a}=Ze(),{EventEmitter:c}=(tr(),He(Kt));function n(t){c.call(this,t)}a(n.prototype,c.prototype),a(n,c),n.prototype.pipe=function(t,e){let i=this;function l(O){t.writable&&t.write(O)===!1&&i.pause&&i.pause()}i.on("data",l);function d(){i.readable&&i.resume&&i.resume()}t.on("drain",d),!t._isStdio&&(!e||e.end!==!1)&&(i.on("end",g),i.on("close",b));let p=!1;function g(){p||(p=!0,t.end())}function b(){p||(p=!0,typeof t.destroy=="function"&&t.destroy())}function E(O){S(),c.listenerCount(this,"error")===0&&this.emit("error",O)}r(i,"error",E),r(t,"error",E);function S(){i.removeListener("data",l),t.removeListener("drain",d),i.removeListener("end",g),i.removeListener("close",b),i.removeListener("error",E),t.removeListener("error",E),i.removeListener("end",S),i.removeListener("close",S),t.removeListener("close",S)}return i.on("end",S),i.on("close",S),t.on("close",S),t.emit("pipe",i),t};function r(t,e,i){if(typeof t.prependListener=="function")return t.prependListener(e,i);!t._events||!t._events[e]?t.on(e,i):s(t._events[e])?t._events[e].unshift(i):t._events[e]=[i,t._events[e]]}h.exports={Stream:n,prependListener:r}}),Zr=Ee((f,h)=>{ye(),be(),me();var{SymbolDispose:s}=Ze(),{AbortError:a,codes:c}=yt(),{isNodeStream:n,isWebStream:r,kControllerErrorFunction:t}=Bt(),e=Ht(),{ERR_INVALID_ARG_TYPE:i}=c,l,d=(p,g)=>{if(typeof p!="object"||!("aborted"in p))throw new i(g,"AbortSignal",p)};h.exports.addAbortSignal=function(p,g){if(d(p,"signal"),!n(g)&&!r(g))throw new i("stream",["ReadableStream","WritableStream","Stream"],g);return h.exports.addAbortSignalNoValidate(p,g)},h.exports.addAbortSignalNoValidate=function(p,g){if(typeof p!="object"||!("aborted"in p))return g;let b=n(g)?()=>{g.destroy(new a(void 0,{cause:p.reason}))}:()=>{g[t](new a(void 0,{cause:p.reason}))};if(p.aborted)b();else{l=l||bt().addAbortListener;let E=l(p,b);e(g,E[s])}return g}}),gu=Ee((f,h)=>{ye(),be(),me();var{StringPrototypeSlice:s,SymbolIterator:a,TypedArrayPrototypeSet:c,Uint8Array:n}=Ze(),{Buffer:r}=(lt(),He(at)),{inspect:t}=bt();h.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(e){let i={data:e,next:null};this.length>0?this.tail.next=i:this.head=i,this.tail=i,++this.length}unshift(e){let i={data:e,next:this.head};this.length===0&&(this.tail=i),this.head=i,++this.length}shift(){if(this.length===0)return;let e=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,e}clear(){this.head=this.tail=null,this.length=0}join(e){if(this.length===0)return"";let i=this.head,l=""+i.data;for(;(i=i.next)!==null;)l+=e+i.data;return l}concat(e){if(this.length===0)return r.alloc(0);let i=r.allocUnsafe(e>>>0),l=this.head,d=0;for(;l;)c(i,l.data,d),d+=l.data.length,l=l.next;return i}consume(e,i){let l=this.head.data;if(e<l.length){let d=l.slice(0,e);return this.head.data=l.slice(e),d}return e===l.length?this.shift():i?this._getString(e):this._getBuffer(e)}first(){return this.head.data}*[a](){for(let e=this.head;e;e=e.next)yield e.data}_getString(e){let i="",l=this.head,d=0;do{let p=l.data;if(e>p.length)i+=p,e-=p.length;else{e===p.length?(i+=p,++d,l.next?this.head=l.next:this.head=this.tail=null):(i+=s(p,0,e),this.head=l,l.data=s(p,e));break}++d}while((l=l.next)!==null);return this.length-=d,i}_getBuffer(e){let i=r.allocUnsafe(e),l=e,d=this.head,p=0;do{let g=d.data;if(e>g.length)c(i,g,l-e),e-=g.length;else{e===g.length?(c(i,g,l-e),++p,d.next?this.head=d.next:this.head=this.tail=null):(c(i,new n(g.buffer,g.byteOffset,e),l-e),this.head=d,d.data=g.slice(e));break}++p}while((d=d.next)!==null);return this.length-=p,i}[Symbol.for("nodejs.util.inspect.custom")](e,i){return t(this,{...i,depth:0,customInspect:!1})}}}),en=Ee((f,h)=>{ye(),be(),me();var{MathFloor:s,NumberIsInteger:a}=Ze(),{validateInteger:c}=vr(),{ERR_INVALID_ARG_VALUE:n}=yt().codes,r=16*1024,t=16;function e(p,g,b){return p.highWaterMark!=null?p.highWaterMark:g?p[b]:null}function i(p){return p?t:r}function l(p,g){c(g,"value",0),p?t=g:r=g}function d(p,g,b,E){let S=e(g,E,b);if(S!=null){if(!a(S)||S<0){let O=E?`options.${b}`:"options.highWaterMark";throw new n(O,S)}return s(S)}return i(p.objectMode)}h.exports={getHighWaterMark:d,getDefaultHighWaterMark:i,setDefaultHighWaterMark:l}}),yu=Ee((f,h)=>{ye(),be(),me();var s=(lt(),He(at)),a=s.Buffer;function c(r,t){for(var e in r)t[e]=r[e]}a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?h.exports=s:(c(s,f),f.Buffer=n);function n(r,t,e){return a(r,t,e)}n.prototype=Object.create(a.prototype),c(a,n),n.from=function(r,t,e){if(typeof r=="number")throw new TypeError("Argument must not be a number");return a(r,t,e)},n.alloc=function(r,t,e){if(typeof r!="number")throw new TypeError("Argument must be a number");var i=a(r);return t!==void 0?typeof e=="string"?i.fill(t,e):i.fill(t):i.fill(0),i},n.allocUnsafe=function(r){if(typeof r!="number")throw new TypeError("Argument must be a number");return a(r)},n.allocUnsafeSlow=function(r){if(typeof r!="number")throw new TypeError("Argument must be a number");return s.SlowBuffer(r)}}),mu=Ee(f=>{ye(),be(),me();var h=yu().Buffer,s=h.isEncoding||function(y){switch(y=""+y,y&&y.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function a(y){if(!y)return"utf8";for(var v;;)switch(y){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return y;default:if(v)return;y=(""+y).toLowerCase(),v=!0}}function c(y){var v=a(y);if(typeof v!="string"&&(h.isEncoding===s||!s(y)))throw new Error("Unknown encoding: "+y);return v||y}f.StringDecoder=n;function n(y){this.encoding=c(y);var v;switch(this.encoding){case"utf16le":this.text=p,this.end=g,v=4;break;case"utf8":this.fillLast=i,v=4;break;case"base64":this.text=b,this.end=E,v=3;break;default:this.write=S,this.end=O;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=h.allocUnsafe(v)}n.prototype.write=function(y){if(y.length===0)return"";var v,A;if(this.lastNeed){if(v=this.fillLast(y),v===void 0)return"";A=this.lastNeed,this.lastNeed=0}else A=0;return A<y.length?v?v+this.text(y,A):this.text(y,A):v||""},n.prototype.end=d,n.prototype.text=l,n.prototype.fillLast=function(y){if(this.lastNeed<=y.length)return y.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);y.copy(this.lastChar,this.lastTotal-this.lastNeed,0,y.length),this.lastNeed-=y.length};function r(y){return y<=127?0:y>>5===6?2:y>>4===14?3:y>>3===30?4:y>>6===2?-1:-2}function t(y,v,A){var _=v.length-1;if(_<A)return 0;var R=r(v[_]);return R>=0?(R>0&&(y.lastNeed=R-1),R):--_<A||R===-2?0:(R=r(v[_]),R>=0?(R>0&&(y.lastNeed=R-2),R):--_<A||R===-2?0:(R=r(v[_]),R>=0?(R>0&&(R===2?R=0:y.lastNeed=R-3),R):0))}function e(y,v,A){if((v[0]&192)!==128)return y.lastNeed=0,"";if(y.lastNeed>1&&v.length>1){if((v[1]&192)!==128)return y.lastNeed=1,"";if(y.lastNeed>2&&v.length>2&&(v[2]&192)!==128)return y.lastNeed=2,""}}function i(y){var v=this.lastTotal-this.lastNeed,A=e(this,y);if(A!==void 0)return A;if(this.lastNeed<=y.length)return y.copy(this.lastChar,v,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);y.copy(this.lastChar,v,0,y.length),this.lastNeed-=y.length}function l(y,v){var A=t(this,y,v);if(!this.lastNeed)return y.toString("utf8",v);this.lastTotal=A;var _=y.length-(A-this.lastNeed);return y.copy(this.lastChar,0,_),y.toString("utf8",v,_)}function d(y){var v=y&&y.length?this.write(y):"";return this.lastNeed?v+"":v}function p(y,v){if((y.length-v)%2===0){var A=y.toString("utf16le",v);if(A){var _=A.charCodeAt(A.length-1);if(_>=55296&&_<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=y[y.length-2],this.lastChar[1]=y[y.length-1],A.slice(0,-1)}return A}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=y[y.length-1],y.toString("utf16le",v,y.length-1)}function g(y){var v=y&&y.length?this.write(y):"";if(this.lastNeed){var A=this.lastTotal-this.lastNeed;return v+this.lastChar.toString("utf16le",0,A)}return v}function b(y,v){var A=(y.length-v)%3;return A===0?y.toString("base64",v):(this.lastNeed=3-A,this.lastTotal=3,A===1?this.lastChar[0]=y[y.length-1]:(this.lastChar[0]=y[y.length-2],this.lastChar[1]=y[y.length-1]),y.toString("base64",v,y.length-A))}function E(y){var v=y&&y.length?this.write(y):"";return this.lastNeed?v+this.lastChar.toString("base64",0,3-this.lastNeed):v}function S(y){return y.toString(this.encoding)}function O(y){return y&&y.length?this.write(y):""}}),aa=Ee((f,h)=>{ye(),be(),me();var s=rr(),{PromisePrototypeThen:a,SymbolAsyncIterator:c,SymbolIterator:n}=Ze(),{Buffer:r}=(lt(),He(at)),{ERR_INVALID_ARG_TYPE:t,ERR_STREAM_NULL_VALUES:e}=yt().codes;function i(l,d,p){let g;if(typeof d=="string"||d instanceof r)return new l({objectMode:!0,...p,read(){this.push(d),this.push(null)}});let b;if(d&&d[c])b=!0,g=d[c]();else if(d&&d[n])b=!1,g=d[n]();else throw new t("iterable",["Iterable"],d);let E=new l({objectMode:!0,highWaterMark:1,...p}),S=!1;E._read=function(){S||(S=!0,y())},E._destroy=function(v,A){a(O(v),()=>s.nextTick(A,v),_=>s.nextTick(A,_||v))};async function O(v){let A=v!=null,_=typeof g.throw=="function";if(A&&_){let{value:R,done:w}=await g.throw(v);if(await R,w)return}if(typeof g.return=="function"){let{value:R}=await g.return();await R}}async function y(){for(;;){try{let{value:v,done:A}=b?await g.next():g.next();if(A)E.push(null);else{let _=v&&typeof v.then=="function"?await v:v;if(_===null)throw S=!1,new e;if(E.push(_))continue;S=!1}}catch(v){E.destroy(v)}break}}return E}h.exports=i}),tn=Ee((f,h)=>{ye(),be(),me();var s=rr(),{ArrayPrototypeIndexOf:a,NumberIsInteger:c,NumberIsNaN:n,NumberParseInt:r,ObjectDefineProperties:t,ObjectKeys:e,ObjectSetPrototypeOf:i,Promise:l,SafeSet:d,SymbolAsyncDispose:p,SymbolAsyncIterator:g,Symbol:b}=Ze();h.exports=fe,fe.ReadableState=Pe;var{EventEmitter:E}=(tr(),He(Kt)),{Stream:S,prependListener:O}=po(),{Buffer:y}=(lt(),He(at)),{addAbortSignal:v}=Zr(),A=Ht(),_=bt().debuglog("stream",j=>{_=j}),R=gu(),w=ur(),{getHighWaterMark:I,getDefaultHighWaterMark:k}=en(),{aggregateTwoErrors:M,codes:{ERR_INVALID_ARG_TYPE:U,ERR_METHOD_NOT_IMPLEMENTED:T,ERR_OUT_OF_RANGE:z,ERR_STREAM_PUSH_AFTER_EOF:Q,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:q},AbortError:he}=yt(),{validateObject:ie}=vr(),re=b("kPaused"),{StringDecoder:ce}=mu(),V=aa();i(fe.prototype,S.prototype),i(fe,S);var le=()=>{},{errorOrDestroy:B}=w,te=1,ee=2,ue=4,Oe=8,X=16,W=32,se=64,Z=128,J=256,ne=512,_e=1024,pe=2048,L=4096,G=8192,ae=16384,ve=32768,we=65536,xe=1<<17,Y=1<<18;function Se(j){return{enumerable:!1,get(){return(this.state&j)!==0},set(F){F?this.state|=j:this.state&=~j}}}t(Pe.prototype,{objectMode:Se(te),ended:Se(ee),endEmitted:Se(ue),reading:Se(Oe),constructed:Se(X),sync:Se(W),needReadable:Se(se),emittedReadable:Se(Z),readableListening:Se(J),resumeScheduled:Se(ne),errorEmitted:Se(_e),emitClose:Se(pe),autoDestroy:Se(L),destroyed:Se(G),closed:Se(ae),closeEmitted:Se(ve),multiAwaitDrain:Se(we),readingMore:Se(xe),dataEmitted:Se(Y)});function Pe(j,F,Te){typeof Te!="boolean"&&(Te=F instanceof jt()),this.state=pe|L|X|W,j&&j.objectMode&&(this.state|=te),Te&&j&&j.readableObjectMode&&(this.state|=te),this.highWaterMark=j?I(this,j,"readableHighWaterMark",Te):k(!1),this.buffer=new R,this.length=0,this.pipes=[],this.flowing=null,this[re]=null,j&&j.emitClose===!1&&(this.state&=~pe),j&&j.autoDestroy===!1&&(this.state&=~L),this.errored=null,this.defaultEncoding=j&&j.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,j&&j.encoding&&(this.decoder=new ce(j.encoding),this.encoding=j.encoding)}function fe(j){if(!(this instanceof fe))return new fe(j);let F=this instanceof jt();this._readableState=new Pe(j,this,F),j&&(typeof j.read=="function"&&(this._read=j.read),typeof j.destroy=="function"&&(this._destroy=j.destroy),typeof j.construct=="function"&&(this._construct=j.construct),j.signal&&!F&&v(j.signal,this)),S.call(this,j),w.construct(this,()=>{this._readableState.needReadable&&$(this,this._readableState)})}fe.prototype.destroy=w.destroy,fe.prototype._undestroy=w.undestroy,fe.prototype._destroy=function(j,F){F(j)},fe.prototype[E.captureRejectionSymbol]=function(j){this.destroy(j)},fe.prototype[p]=function(){let j;return this.destroyed||(j=this.readableEnded?null:new he,this.destroy(j)),new l((F,Te)=>A(this,Ce=>Ce&&Ce!==j?Te(Ce):F(null)))},fe.prototype.push=function(j,F){return Me(this,j,F,!1)},fe.prototype.unshift=function(j,F){return Me(this,j,F,!0)};function Me(j,F,Te,Ce){_("readableAddChunk",F);let je=j._readableState,tt;if((je.state&te)===0&&(typeof F=="string"?(Te=Te||je.defaultEncoding,je.encoding!==Te&&(Ce&&je.encoding?F=y.from(F,Te).toString(je.encoding):(F=y.from(F,Te),Te=""))):F instanceof y?Te="":S._isUint8Array(F)?(F=S._uint8ArrayToBuffer(F),Te=""):F!=null&&(tt=new U("chunk",["string","Buffer","Uint8Array"],F))),tt)B(j,tt);else if(F===null)je.state&=~Oe,N(j,je);else if((je.state&te)!==0||F&&F.length>0)if(Ce)if((je.state&ue)!==0)B(j,new q);else{if(je.destroyed||je.errored)return!1;o(j,je,F,!0)}else if(je.ended)B(j,new Q);else{if(je.destroyed||je.errored)return!1;je.state&=~Oe,je.decoder&&!Te?(F=je.decoder.write(F),je.objectMode||F.length!==0?o(j,je,F,!1):$(j,je)):o(j,je,F,!1)}else Ce||(je.state&=~Oe,$(j,je));return!je.ended&&(je.length<je.highWaterMark||je.length===0)}function o(j,F,Te,Ce){F.flowing&&F.length===0&&!F.sync&&j.listenerCount("data")>0?((F.state&we)!==0?F.awaitDrainWriters.clear():F.awaitDrainWriters=null,F.dataEmitted=!0,j.emit("data",Te)):(F.length+=F.objectMode?1:Te.length,Ce?F.buffer.unshift(Te):F.buffer.push(Te),(F.state&se)!==0&&H(j)),$(j,F)}fe.prototype.isPaused=function(){let j=this._readableState;return j[re]===!0||j.flowing===!1},fe.prototype.setEncoding=function(j){let F=new ce(j);this._readableState.decoder=F,this._readableState.encoding=this._readableState.decoder.encoding;let Te=this._readableState.buffer,Ce="";for(let je of Te)Ce+=F.write(je);return Te.clear(),Ce!==""&&Te.push(Ce),this._readableState.length=Ce.length,this};var u=1073741824;function m(j){if(j>u)throw new z("size","<= 1GiB",j);return j--,j|=j>>>1,j|=j>>>2,j|=j>>>4,j|=j>>>8,j|=j>>>16,j++,j}function C(j,F){return j<=0||F.length===0&&F.ended?0:(F.state&te)!==0?1:n(j)?F.flowing&&F.length?F.buffer.first().length:F.length:j<=F.length?j:F.ended?F.length:0}fe.prototype.read=function(j){_("read",j),j===void 0?j=NaN:c(j)||(j=r(j,10));let F=this._readableState,Te=j;if(j>F.highWaterMark&&(F.highWaterMark=m(j)),j!==0&&(F.state&=~Z),j===0&&F.needReadable&&((F.highWaterMark!==0?F.length>=F.highWaterMark:F.length>0)||F.ended))return _("read: emitReadable",F.length,F.ended),F.length===0&&F.ended?Ge(this):H(this),null;if(j=C(j,F),j===0&&F.ended)return F.length===0&&Ge(this),null;let Ce=(F.state&se)!==0;if(_("need readable",Ce),(F.length===0||F.length-j<F.highWaterMark)&&(Ce=!0,_("length less than watermark",Ce)),F.ended||F.reading||F.destroyed||F.errored||!F.constructed)Ce=!1,_("reading, ended or constructing",Ce);else if(Ce){_("do read"),F.state|=Oe|W,F.length===0&&(F.state|=se);try{this._read(F.highWaterMark)}catch(tt){B(this,tt)}F.state&=~W,F.reading||(j=C(Te,F))}let je;return j>0?je=et(j,F):je=null,je===null?(F.needReadable=F.length<=F.highWaterMark,j=0):(F.length-=j,F.multiAwaitDrain?F.awaitDrainWriters.clear():F.awaitDrainWriters=null),F.length===0&&(F.ended||(F.needReadable=!0),Te!==j&&F.ended&&Ge(this)),je!==null&&!F.errorEmitted&&!F.closeEmitted&&(F.dataEmitted=!0,this.emit("data",je)),je};function N(j,F){if(_("onEofChunk"),!F.ended){if(F.decoder){let Te=F.decoder.end();Te&&Te.length&&(F.buffer.push(Te),F.length+=F.objectMode?1:Te.length)}F.ended=!0,F.sync?H(j):(F.needReadable=!1,F.emittedReadable=!0,de(j))}}function H(j){let F=j._readableState;_("emitReadable",F.needReadable,F.emittedReadable),F.needReadable=!1,F.emittedReadable||(_("emitReadable",F.flowing),F.emittedReadable=!0,s.nextTick(de,j))}function de(j){let F=j._readableState;_("emitReadable_",F.destroyed,F.length,F.ended),!F.destroyed&&!F.errored&&(F.length||F.ended)&&(j.emit("readable"),F.emittedReadable=!1),F.needReadable=!F.flowing&&!F.ended&&F.length<=F.highWaterMark,Fe(j)}function $(j,F){!F.readingMore&&F.constructed&&(F.readingMore=!0,s.nextTick(oe,j,F))}function oe(j,F){for(;!F.reading&&!F.ended&&(F.length<F.highWaterMark||F.flowing&&F.length===0);){let Te=F.length;if(_("maybeReadMore read 0"),j.read(0),Te===F.length)break}F.readingMore=!1}fe.prototype._read=function(j){throw new T("_read()")},fe.prototype.pipe=function(j,F){let Te=this,Ce=this._readableState;Ce.pipes.length===1&&(Ce.multiAwaitDrain||(Ce.multiAwaitDrain=!0,Ce.awaitDrainWriters=new d(Ce.awaitDrainWriters?[Ce.awaitDrainWriters]:[]))),Ce.pipes.push(j),_("pipe count=%d opts=%j",Ce.pipes.length,F);let je=(!F||F.end!==!1)&&j!==s.stdout&&j!==s.stderr?rt:Pt;Ce.endEmitted?s.nextTick(je):Te.once("end",je),j.on("unpipe",tt);function tt(St,Et){_("onunpipe"),St===Te&&Et&&Et.hasUnpiped===!1&&(Et.hasUnpiped=!0,Qt())}function rt(){_("onend"),j.end()}let wt,Gt=!1;function Qt(){_("cleanup"),j.removeListener("close",_t),j.removeListener("finish",At),wt&&j.removeListener("drain",wt),j.removeListener("error",It),j.removeListener("unpipe",tt),Te.removeListener("end",rt),Te.removeListener("end",Pt),Te.removeListener("data",ir),Gt=!0,wt&&Ce.awaitDrainWriters&&(!j._writableState||j._writableState.needDrain)&&wt()}function $e(){Gt||(Ce.pipes.length===1&&Ce.pipes[0]===j?(_("false write response, pause",0),Ce.awaitDrainWriters=j,Ce.multiAwaitDrain=!1):Ce.pipes.length>1&&Ce.pipes.includes(j)&&(_("false write response, pause",Ce.awaitDrainWriters.size),Ce.awaitDrainWriters.add(j)),Te.pause()),wt||(wt=Re(Te,j),j.on("drain",wt))}Te.on("data",ir);function ir(St){_("ondata");let Et=j.write(St);_("dest.write",Et),Et===!1&&$e()}function It(St){if(_("onerror",St),Pt(),j.removeListener("error",It),j.listenerCount("error")===0){let Et=j._writableState||j._readableState;Et&&!Et.errorEmitted?B(j,St):j.emit("error",St)}}O(j,"error",It);function _t(){j.removeListener("finish",At),Pt()}j.once("close",_t);function At(){_("onfinish"),j.removeListener("close",_t),Pt()}j.once("finish",At);function Pt(){_("unpipe"),Te.unpipe(j)}return j.emit("pipe",Te),j.writableNeedDrain===!0?$e():Ce.flowing||(_("pipe resume"),Te.resume()),j};function Re(j,F){return function(){let Te=j._readableState;Te.awaitDrainWriters===F?(_("pipeOnDrain",1),Te.awaitDrainWriters=null):Te.multiAwaitDrain&&(_("pipeOnDrain",Te.awaitDrainWriters.size),Te.awaitDrainWriters.delete(F)),(!Te.awaitDrainWriters||Te.awaitDrainWriters.size===0)&&j.listenerCount("data")&&j.resume()}}fe.prototype.unpipe=function(j){let F=this._readableState,Te={hasUnpiped:!1};if(F.pipes.length===0)return this;if(!j){let je=F.pipes;F.pipes=[],this.pause();for(let tt=0;tt<je.length;tt++)je[tt].emit("unpipe",this,{hasUnpiped:!1});return this}let Ce=a(F.pipes,j);return Ce===-1?this:(F.pipes.splice(Ce,1),F.pipes.length===0&&this.pause(),j.emit("unpipe",this,Te),this)},fe.prototype.on=function(j,F){let Te=S.prototype.on.call(this,j,F),Ce=this._readableState;return j==="data"?(Ce.readableListening=this.listenerCount("readable")>0,Ce.flowing!==!1&&this.resume()):j==="readable"&&!Ce.endEmitted&&!Ce.readableListening&&(Ce.readableListening=Ce.needReadable=!0,Ce.flowing=!1,Ce.emittedReadable=!1,_("on readable",Ce.length,Ce.reading),Ce.length?H(this):Ce.reading||s.nextTick(Ne,this)),Te},fe.prototype.addListener=fe.prototype.on,fe.prototype.removeListener=function(j,F){let Te=S.prototype.removeListener.call(this,j,F);return j==="readable"&&s.nextTick(ke,this),Te},fe.prototype.off=fe.prototype.removeListener,fe.prototype.removeAllListeners=function(j){let F=S.prototype.removeAllListeners.apply(this,arguments);return(j==="readable"||j===void 0)&&s.nextTick(ke,this),F};function ke(j){let F=j._readableState;F.readableListening=j.listenerCount("readable")>0,F.resumeScheduled&&F[re]===!1?F.flowing=!0:j.listenerCount("data")>0?j.resume():F.readableListening||(F.flowing=null)}function Ne(j){_("readable nexttick read 0"),j.read(0)}fe.prototype.resume=function(){let j=this._readableState;return j.flowing||(_("resume"),j.flowing=!j.readableListening,Ue(this,j)),j[re]=!1,this};function Ue(j,F){F.resumeScheduled||(F.resumeScheduled=!0,s.nextTick(Xe,j,F))}function Xe(j,F){_("resume",F.reading),F.reading||j.read(0),F.resumeScheduled=!1,j.emit("resume"),Fe(j),F.flowing&&!F.reading&&j.read(0)}fe.prototype.pause=function(){return _("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(_("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[re]=!0,this};function Fe(j){let F=j._readableState;for(_("flow",F.flowing);F.flowing&&j.read()!==null;);}fe.prototype.wrap=function(j){let F=!1;j.on("data",Ce=>{!this.push(Ce)&&j.pause&&(F=!0,j.pause())}),j.on("end",()=>{this.push(null)}),j.on("error",Ce=>{B(this,Ce)}),j.on("close",()=>{this.destroy()}),j.on("destroy",()=>{this.destroy()}),this._read=()=>{F&&j.resume&&(F=!1,j.resume())};let Te=e(j);for(let Ce=1;Ce<Te.length;Ce++){let je=Te[Ce];this[je]===void 0&&typeof j[je]=="function"&&(this[je]=j[je].bind(j))}return this},fe.prototype[g]=function(){return Le(this)},fe.prototype.iterator=function(j){return j!==void 0&&ie(j,"options"),Le(this,j)};function Le(j,F){typeof j.read!="function"&&(j=fe.wrap(j,{objectMode:!0}));let Te=We(j,F);return Te.stream=j,Te}async function*We(j,F){let Te=le;function Ce(rt){this===j?(Te(),Te=le):Te=rt}j.on("readable",Ce);let je,tt=A(j,{writable:!1},rt=>{je=rt?M(je,rt):null,Te(),Te=le});try{for(;;){let rt=j.destroyed?null:j.read();if(rt!==null)yield rt;else{if(je)throw je;if(je===null)return;await new l(Ce)}}}catch(rt){throw je=M(je,rt),je}finally{(je||F?.destroyOnReturn!==!1)&&(je===void 0||j._readableState.autoDestroy)?w.destroyer(j,null):(j.off("readable",Ce),tt())}}t(fe.prototype,{readable:{__proto__:null,get(){let j=this._readableState;return!!j&&j.readable!==!1&&!j.destroyed&&!j.errorEmitted&&!j.endEmitted},set(j){this._readableState&&(this._readableState.readable=!!j)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(j){this._readableState&&(this._readableState.flowing=j)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(j){this._readableState&&(this._readableState.destroyed=j)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),t(Pe.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[re]!==!1},set(j){this[re]=!!j}}}),fe._fromList=et;function et(j,F){if(F.length===0)return null;let Te;return F.objectMode?Te=F.buffer.shift():!j||j>=F.length?(F.decoder?Te=F.buffer.join(""):F.buffer.length===1?Te=F.buffer.first():Te=F.buffer.concat(F.length),F.buffer.clear()):Te=F.buffer.consume(j,F.decoder),Te}function Ge(j){let F=j._readableState;_("endReadable",F.endEmitted),F.endEmitted||(F.ended=!0,s.nextTick(Ve,F,j))}function Ve(j,F){if(_("endReadableNT",j.endEmitted,j.length),!j.errored&&!j.closeEmitted&&!j.endEmitted&&j.length===0){if(j.endEmitted=!0,F.emit("end"),F.writable&&F.allowHalfOpen===!1)s.nextTick(it,F);else if(j.autoDestroy){let Te=F._writableState;(!Te||Te.autoDestroy&&(Te.finished||Te.writable===!1))&&F.destroy()}}}function it(j){j.writable&&!j.writableEnded&&!j.destroyed&&j.end()}fe.from=function(j,F){return V(fe,j,F)};var mt;function ht(){return mt===void 0&&(mt={}),mt}fe.fromWeb=function(j,F){return ht().newStreamReadableFromReadableStream(j,F)},fe.toWeb=function(j,F){return ht().newReadableStreamFromStreamReadable(j,F)},fe.wrap=function(j,F){var Te,Ce;return new fe({objectMode:(Te=(Ce=j.readableObjectMode)!==null&&Ce!==void 0?Ce:j.objectMode)!==null&&Te!==void 0?Te:!0,...F,destroy(je,tt){w.destroyer(j,je),tt(je)}}).wrap(j)}}),go=Ee((f,h)=>{ye(),be(),me();var s=rr(),{ArrayPrototypeSlice:a,Error:c,FunctionPrototypeSymbolHasInstance:n,ObjectDefineProperty:r,ObjectDefineProperties:t,ObjectSetPrototypeOf:e,StringPrototypeToLowerCase:i,Symbol:l,SymbolHasInstance:d}=Ze();h.exports=ie,ie.WritableState=q;var{EventEmitter:p}=(tr(),He(Kt)),g=po().Stream,{Buffer:b}=(lt(),He(at)),E=ur(),{addAbortSignal:S}=Zr(),{getHighWaterMark:O,getDefaultHighWaterMark:y}=en(),{ERR_INVALID_ARG_TYPE:v,ERR_METHOD_NOT_IMPLEMENTED:A,ERR_MULTIPLE_CALLBACK:_,ERR_STREAM_CANNOT_PIPE:R,ERR_STREAM_DESTROYED:w,ERR_STREAM_ALREADY_FINISHED:I,ERR_STREAM_NULL_VALUES:k,ERR_STREAM_WRITE_AFTER_END:M,ERR_UNKNOWN_ENCODING:U}=yt().codes,{errorOrDestroy:T}=E;e(ie.prototype,g.prototype),e(ie,g);function z(){}var Q=l("kOnFinished");function q(L,G,ae){typeof ae!="boolean"&&(ae=G instanceof jt()),this.objectMode=!!(L&&L.objectMode),ae&&(this.objectMode=this.objectMode||!!(L&&L.writableObjectMode)),this.highWaterMark=L?O(this,L,"writableHighWaterMark",ae):y(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let ve=!!(L&&L.decodeStrings===!1);this.decodeStrings=!ve,this.defaultEncoding=L&&L.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=B.bind(void 0,G),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,he(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!L||L.emitClose!==!1,this.autoDestroy=!L||L.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[Q]=[]}function he(L){L.buffered=[],L.bufferedIndex=0,L.allBuffers=!0,L.allNoop=!0}q.prototype.getBuffer=function(){return a(this.buffered,this.bufferedIndex)},r(q.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function ie(L){let G=this instanceof jt();if(!G&&!n(ie,this))return new ie(L);this._writableState=new q(L,this,G),L&&(typeof L.write=="function"&&(this._write=L.write),typeof L.writev=="function"&&(this._writev=L.writev),typeof L.destroy=="function"&&(this._destroy=L.destroy),typeof L.final=="function"&&(this._final=L.final),typeof L.construct=="function"&&(this._construct=L.construct),L.signal&&S(L.signal,this)),g.call(this,L),E.construct(this,()=>{let ae=this._writableState;ae.writing||Oe(this,ae),Z(this,ae)})}r(ie,d,{__proto__:null,value:function(L){return n(this,L)?!0:this!==ie?!1:L&&L._writableState instanceof q}}),ie.prototype.pipe=function(){T(this,new R)};function re(L,G,ae,ve){let we=L._writableState;if(typeof ae=="function")ve=ae,ae=we.defaultEncoding;else{if(!ae)ae=we.defaultEncoding;else if(ae!=="buffer"&&!b.isEncoding(ae))throw new U(ae);typeof ve!="function"&&(ve=z)}if(G===null)throw new k;if(!we.objectMode)if(typeof G=="string")we.decodeStrings!==!1&&(G=b.from(G,ae),ae="buffer");else if(G instanceof b)ae="buffer";else if(g._isUint8Array(G))G=g._uint8ArrayToBuffer(G),ae="buffer";else throw new v("chunk",["string","Buffer","Uint8Array"],G);let xe;return we.ending?xe=new M:we.destroyed&&(xe=new w("write")),xe?(s.nextTick(ve,xe),T(L,xe,!0),xe):(we.pendingcb++,ce(L,we,G,ae,ve))}ie.prototype.write=function(L,G,ae){return re(this,L,G,ae)===!0},ie.prototype.cork=function(){this._writableState.corked++},ie.prototype.uncork=function(){let L=this._writableState;L.corked&&(L.corked--,L.writing||Oe(this,L))},ie.prototype.setDefaultEncoding=function(L){if(typeof L=="string"&&(L=i(L)),!b.isEncoding(L))throw new U(L);return this._writableState.defaultEncoding=L,this};function ce(L,G,ae,ve,we){let xe=G.objectMode?1:ae.length;G.length+=xe;let Y=G.length<G.highWaterMark;return Y||(G.needDrain=!0),G.writing||G.corked||G.errored||!G.constructed?(G.buffered.push({chunk:ae,encoding:ve,callback:we}),G.allBuffers&&ve!=="buffer"&&(G.allBuffers=!1),G.allNoop&&we!==z&&(G.allNoop=!1)):(G.writelen=xe,G.writecb=we,G.writing=!0,G.sync=!0,L._write(ae,ve,G.onwrite),G.sync=!1),Y&&!G.errored&&!G.destroyed}function V(L,G,ae,ve,we,xe,Y){G.writelen=ve,G.writecb=Y,G.writing=!0,G.sync=!0,G.destroyed?G.onwrite(new w("write")):ae?L._writev(we,G.onwrite):L._write(we,xe,G.onwrite),G.sync=!1}function le(L,G,ae,ve){--G.pendingcb,ve(ae),ue(G),T(L,ae)}function B(L,G){let ae=L._writableState,ve=ae.sync,we=ae.writecb;if(typeof we!="function"){T(L,new _);return}ae.writing=!1,ae.writecb=null,ae.length-=ae.writelen,ae.writelen=0,G?(G.stack,ae.errored||(ae.errored=G),L._readableState&&!L._readableState.errored&&(L._readableState.errored=G),ve?s.nextTick(le,L,ae,G,we):le(L,ae,G,we)):(ae.buffered.length>ae.bufferedIndex&&Oe(L,ae),ve?ae.afterWriteTickInfo!==null&&ae.afterWriteTickInfo.cb===we?ae.afterWriteTickInfo.count++:(ae.afterWriteTickInfo={count:1,cb:we,stream:L,state:ae},s.nextTick(te,ae.afterWriteTickInfo)):ee(L,ae,1,we))}function te({stream:L,state:G,count:ae,cb:ve}){return G.afterWriteTickInfo=null,ee(L,G,ae,ve)}function ee(L,G,ae,ve){for(!G.ending&&!L.destroyed&&G.length===0&&G.needDrain&&(G.needDrain=!1,L.emit("drain"));ae-- >0;)G.pendingcb--,ve();G.destroyed&&ue(G),Z(L,G)}function ue(L){if(L.writing)return;for(let we=L.bufferedIndex;we<L.buffered.length;++we){var G;let{chunk:xe,callback:Y}=L.buffered[we],Se=L.objectMode?1:xe.length;L.length-=Se,Y((G=L.errored)!==null&&G!==void 0?G:new w("write"))}let ae=L[Q].splice(0);for(let we=0;we<ae.length;we++){var ve;ae[we]((ve=L.errored)!==null&&ve!==void 0?ve:new w("end"))}he(L)}function Oe(L,G){if(G.corked||G.bufferProcessing||G.destroyed||!G.constructed)return;let{buffered:ae,bufferedIndex:ve,objectMode:we}=G,xe=ae.length-ve;if(!xe)return;let Y=ve;if(G.bufferProcessing=!0,xe>1&&L._writev){G.pendingcb-=xe-1;let Se=G.allNoop?z:fe=>{for(let Me=Y;Me<ae.length;++Me)ae[Me].callback(fe)},Pe=G.allNoop&&Y===0?ae:a(ae,Y);Pe.allBuffers=G.allBuffers,V(L,G,!0,G.length,Pe,"",Se),he(G)}else{do{let{chunk:Se,encoding:Pe,callback:fe}=ae[Y];ae[Y++]=null;let Me=we?1:Se.length;V(L,G,!1,Me,Se,Pe,fe)}while(Y<ae.length&&!G.writing);Y===ae.length?he(G):Y>256?(ae.splice(0,Y),G.bufferedIndex=0):G.bufferedIndex=Y}G.bufferProcessing=!1}ie.prototype._write=function(L,G,ae){if(this._writev)this._writev([{chunk:L,encoding:G}],ae);else throw new A("_write()")},ie.prototype._writev=null,ie.prototype.end=function(L,G,ae){let ve=this._writableState;typeof L=="function"?(ae=L,L=null,G=null):typeof G=="function"&&(ae=G,G=null);let we;if(L!=null){let xe=re(this,L,G);xe instanceof c&&(we=xe)}return ve.corked&&(ve.corked=1,this.uncork()),we||(!ve.errored&&!ve.ending?(ve.ending=!0,Z(this,ve,!0),ve.ended=!0):ve.finished?we=new I("end"):ve.destroyed&&(we=new w("end"))),typeof ae=="function"&&(we||ve.finished?s.nextTick(ae,we):ve[Q].push(ae)),this};function X(L){return L.ending&&!L.destroyed&&L.constructed&&L.length===0&&!L.errored&&L.buffered.length===0&&!L.finished&&!L.writing&&!L.errorEmitted&&!L.closeEmitted}function W(L,G){let ae=!1;function ve(we){if(ae){T(L,we??_());return}if(ae=!0,G.pendingcb--,we){let xe=G[Q].splice(0);for(let Y=0;Y<xe.length;Y++)xe[Y](we);T(L,we,G.sync)}else X(G)&&(G.prefinished=!0,L.emit("prefinish"),G.pendingcb++,s.nextTick(J,L,G))}G.sync=!0,G.pendingcb++;try{L._final(ve)}catch(we){ve(we)}G.sync=!1}function se(L,G){!G.prefinished&&!G.finalCalled&&(typeof L._final=="function"&&!G.destroyed?(G.finalCalled=!0,W(L,G)):(G.prefinished=!0,L.emit("prefinish")))}function Z(L,G,ae){X(G)&&(se(L,G),G.pendingcb===0&&(ae?(G.pendingcb++,s.nextTick((ve,we)=>{X(we)?J(ve,we):we.pendingcb--},L,G)):X(G)&&(G.pendingcb++,J(L,G))))}function J(L,G){G.pendingcb--,G.finished=!0;let ae=G[Q].splice(0);for(let ve=0;ve<ae.length;ve++)ae[ve]();if(L.emit("finish"),G.autoDestroy){let ve=L._readableState;(!ve||ve.autoDestroy&&(ve.endEmitted||ve.readable===!1))&&L.destroy()}}t(ie.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(L){this._writableState&&(this._writableState.destroyed=L)}},writable:{__proto__:null,get(){let L=this._writableState;return!!L&&L.writable!==!1&&!L.destroyed&&!L.errored&&!L.ending&&!L.ended},set(L){this._writableState&&(this._writableState.writable=!!L)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let L=this._writableState;return L?!L.destroyed&&!L.ending&&L.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var ne=E.destroy;ie.prototype.destroy=function(L,G){let ae=this._writableState;return!ae.destroyed&&(ae.bufferedIndex<ae.buffered.length||ae[Q].length)&&s.nextTick(ue,ae),ne.call(this,L,G),this},ie.prototype._undestroy=E.undestroy,ie.prototype._destroy=function(L,G){G(L)},ie.prototype[p.captureRejectionSymbol]=function(L){this.destroy(L)};var _e;function pe(){return _e===void 0&&(_e={}),_e}ie.fromWeb=function(L,G){return pe().newStreamWritableFromWritableStream(L,G)},ie.toWeb=function(L){return pe().newWritableStreamFromStreamWritable(L)}}),bu=Ee((f,h)=>{ye(),be(),me();var s=rr(),a=(lt(),He(at)),{isReadable:c,isWritable:n,isIterable:r,isNodeStream:t,isReadableNodeStream:e,isWritableNodeStream:i,isDuplexNodeStream:l,isReadableStream:d,isWritableStream:p}=Bt(),g=Ht(),{AbortError:b,codes:{ERR_INVALID_ARG_TYPE:E,ERR_INVALID_RETURN_VALUE:S}}=yt(),{destroyer:O}=ur(),y=jt(),v=tn(),A=go(),{createDeferredPromise:_}=bt(),R=aa(),w=globalThis.Blob||a.Blob,I=typeof w<"u"?function(Q){return Q instanceof w}:function(Q){return!1},k=globalThis.AbortController||br().AbortController,{FunctionPrototypeCall:M}=Ze(),U=class extends y{constructor(Q){super(Q),Q?.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),Q?.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}};h.exports=function Q(q,he){if(l(q))return q;if(e(q))return z({readable:q});if(i(q))return z({writable:q});if(t(q))return z({writable:!1,readable:!1});if(d(q))return z({readable:v.fromWeb(q)});if(p(q))return z({writable:A.fromWeb(q)});if(typeof q=="function"){let{value:re,write:ce,final:V,destroy:le}=T(q);if(r(re))return R(U,re,{objectMode:!0,write:ce,final:V,destroy:le});let B=re?.then;if(typeof B=="function"){let te,ee=M(B,re,ue=>{if(ue!=null)throw new S("nully","body",ue)},ue=>{O(te,ue)});return te=new U({objectMode:!0,readable:!1,write:ce,final(ue){V(async()=>{try{await ee,s.nextTick(ue,null)}catch(Oe){s.nextTick(ue,Oe)}})},destroy:le})}throw new S("Iterable, AsyncIterable or AsyncFunction",he,re)}if(I(q))return Q(q.arrayBuffer());if(r(q))return R(U,q,{objectMode:!0,writable:!1});if(d(q?.readable)&&p(q?.writable))return U.fromWeb(q);if(typeof q?.writable=="object"||typeof q?.readable=="object"){let re=q!=null&&q.readable?e(q?.readable)?q?.readable:Q(q.readable):void 0,ce=q!=null&&q.writable?i(q?.writable)?q?.writable:Q(q.writable):void 0;return z({readable:re,writable:ce})}let ie=q?.then;if(typeof ie=="function"){let re;return M(ie,q,ce=>{ce!=null&&re.push(ce),re.push(null)},ce=>{O(re,ce)}),re=new U({objectMode:!0,writable:!1,read(){}})}throw new E(he,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],q)};function T(Q){let{promise:q,resolve:he}=_(),ie=new k,re=ie.signal;return{value:Q((async function*(){for(;;){let ce=q;q=null;let{chunk:V,done:le,cb:B}=await ce;if(s.nextTick(B),le)return;if(re.aborted)throw new b(void 0,{cause:re.reason});({promise:q,resolve:he}=_()),yield V}})(),{signal:re}),write(ce,V,le){let B=he;he=null,B({chunk:ce,done:!1,cb:le})},final(ce){let V=he;he=null,V({done:!0,cb:ce})},destroy(ce,V){ie.abort(),V(ce)}}}function z(Q){let q=Q.readable&&typeof Q.readable.read!="function"?v.wrap(Q.readable):Q.readable,he=Q.writable,ie=!!c(q),re=!!n(he),ce,V,le,B,te;function ee(ue){let Oe=B;B=null,Oe?Oe(ue):ue&&te.destroy(ue)}return te=new U({readableObjectMode:!!(q!=null&&q.readableObjectMode),writableObjectMode:!!(he!=null&&he.writableObjectMode),readable:ie,writable:re}),re&&(g(he,ue=>{re=!1,ue&&O(q,ue),ee(ue)}),te._write=function(ue,Oe,X){he.write(ue,Oe)?X():ce=X},te._final=function(ue){he.end(),V=ue},he.on("drain",function(){if(ce){let ue=ce;ce=null,ue()}}),he.on("finish",function(){if(V){let ue=V;V=null,ue()}})),ie&&(g(q,ue=>{ie=!1,ue&&O(q,ue),ee(ue)}),q.on("readable",function(){if(le){let ue=le;le=null,ue()}}),q.on("end",function(){te.push(null)}),te._read=function(){for(;;){let ue=q.read();if(ue===null){le=te._read;return}if(!te.push(ue))return}}),te._destroy=function(ue,Oe){!ue&&B!==null&&(ue=new b),le=null,ce=null,V=null,B===null?Oe(ue):(B=Oe,O(he,ue),O(q,ue))},te}}),jt=Ee((f,h)=>{ye(),be(),me();var{ObjectDefineProperties:s,ObjectGetOwnPropertyDescriptor:a,ObjectKeys:c,ObjectSetPrototypeOf:n}=Ze();h.exports=e;var r=tn(),t=go();n(e.prototype,r.prototype),n(e,r);{let p=c(t.prototype);for(let g=0;g<p.length;g++){let b=p[g];e.prototype[b]||(e.prototype[b]=t.prototype[b])}}function e(p){if(!(this instanceof e))return new e(p);r.call(this,p),t.call(this,p),p?(this.allowHalfOpen=p.allowHalfOpen!==!1,p.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),p.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}s(e.prototype,{writable:{__proto__:null,...a(t.prototype,"writable")},writableHighWaterMark:{__proto__:null,...a(t.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...a(t.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...a(t.prototype,"writableBuffer")},writableLength:{__proto__:null,...a(t.prototype,"writableLength")},writableFinished:{__proto__:null,...a(t.prototype,"writableFinished")},writableCorked:{__proto__:null,...a(t.prototype,"writableCorked")},writableEnded:{__proto__:null,...a(t.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...a(t.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(p){this._readableState&&this._writableState&&(this._readableState.destroyed=p,this._writableState.destroyed=p)}}});var i;function l(){return i===void 0&&(i={}),i}e.fromWeb=function(p,g){return l().newStreamDuplexFromReadableWritablePair(p,g)},e.toWeb=function(p){return l().newReadableWritablePairFromDuplex(p)};var d;e.from=function(p){return d||(d=bu()),d(p,"body")}}),la=Ee((f,h)=>{ye(),be(),me();var{ObjectSetPrototypeOf:s,Symbol:a}=Ze();h.exports=e;var{ERR_METHOD_NOT_IMPLEMENTED:c}=yt().codes,n=jt(),{getHighWaterMark:r}=en();s(e.prototype,n.prototype),s(e,n);var t=a("kCallback");function e(d){if(!(this instanceof e))return new e(d);let p=d?r(this,d,"readableHighWaterMark",!0):null;p===0&&(d={...d,highWaterMark:null,readableHighWaterMark:p,writableHighWaterMark:d.writableHighWaterMark||0}),n.call(this,d),this._readableState.sync=!1,this[t]=null,d&&(typeof d.transform=="function"&&(this._transform=d.transform),typeof d.flush=="function"&&(this._flush=d.flush)),this.on("prefinish",l)}function i(d){typeof this._flush=="function"&&!this.destroyed?this._flush((p,g)=>{if(p){d?d(p):this.destroy(p);return}g!=null&&this.push(g),this.push(null),d&&d()}):(this.push(null),d&&d())}function l(){this._final!==i&&i.call(this)}e.prototype._final=i,e.prototype._transform=function(d,p,g){throw new c("_transform()")},e.prototype._write=function(d,p,g){let b=this._readableState,E=this._writableState,S=b.length;this._transform(d,p,(O,y)=>{if(O){g(O);return}y!=null&&this.push(y),E.ended||S===b.length||b.length<b.highWaterMark?g():this[t]=g})},e.prototype._read=function(){if(this[t]){let d=this[t];this[t]=null,d()}}}),ua=Ee((f,h)=>{ye(),be(),me();var{ObjectSetPrototypeOf:s}=Ze();h.exports=c;var a=la();s(c.prototype,a.prototype),s(c,a);function c(n){if(!(this instanceof c))return new c(n);a.call(this,n)}c.prototype._transform=function(n,r,t){t(null,n)}}),yo=Ee((f,h)=>{ye(),be(),me();var s=rr(),{ArrayIsArray:a,Promise:c,SymbolAsyncIterator:n,SymbolDispose:r}=Ze(),t=Ht(),{once:e}=bt(),i=ur(),l=jt(),{aggregateTwoErrors:d,codes:{ERR_INVALID_ARG_TYPE:p,ERR_INVALID_RETURN_VALUE:g,ERR_MISSING_ARGS:b,ERR_STREAM_DESTROYED:E,ERR_STREAM_PREMATURE_CLOSE:S},AbortError:O}=yt(),{validateFunction:y,validateAbortSignal:v}=vr(),{isIterable:A,isReadable:_,isReadableNodeStream:R,isNodeStream:w,isTransformStream:I,isWebStream:k,isReadableStream:M,isReadableFinished:U}=Bt(),T=globalThis.AbortController||br().AbortController,z,Q,q;function he(ue,Oe,X){let W=!1;ue.on("close",()=>{W=!0});let se=t(ue,{readable:Oe,writable:X},Z=>{W=!Z});return{destroy:Z=>{W||(W=!0,i.destroyer(ue,Z||new E("pipe")))},cleanup:se}}function ie(ue){return y(ue[ue.length-1],"streams[stream.length - 1]"),ue.pop()}function re(ue){if(A(ue))return ue;if(R(ue))return ce(ue);throw new p("val",["Readable","Iterable","AsyncIterable"],ue)}async function*ce(ue){Q||(Q=tn()),yield*Q.prototype[n].call(ue)}async function V(ue,Oe,X,{end:W}){let se,Z=null,J=pe=>{if(pe&&(se=pe),Z){let L=Z;Z=null,L()}},ne=()=>new c((pe,L)=>{se?L(se):Z=()=>{se?L(se):pe()}});Oe.on("drain",J);let _e=t(Oe,{readable:!1},J);try{Oe.writableNeedDrain&&await ne();for await(let pe of ue)Oe.write(pe)||await ne();W&&(Oe.end(),await ne()),X()}catch(pe){X(se!==pe?d(se,pe):pe)}finally{_e(),Oe.off("drain",J)}}async function le(ue,Oe,X,{end:W}){I(Oe)&&(Oe=Oe.writable);let se=Oe.getWriter();try{for await(let Z of ue)await se.ready,se.write(Z).catch(()=>{});await se.ready,W&&await se.close(),X()}catch(Z){try{await se.abort(Z),X(Z)}catch(J){X(J)}}}function B(...ue){return te(ue,e(ie(ue)))}function te(ue,Oe,X){if(ue.length===1&&a(ue[0])&&(ue=ue[0]),ue.length<2)throw new b("streams");let W=new T,se=W.signal,Z=X?.signal,J=[];v(Z,"options.signal");function ne(){we(new O)}q=q||bt().addAbortListener;let _e;Z&&(_e=q(Z,ne));let pe,L,G=[],ae=0;function ve(Pe){we(Pe,--ae===0)}function we(Pe,fe){var Me;if(Pe&&(!pe||pe.code==="ERR_STREAM_PREMATURE_CLOSE")&&(pe=Pe),!(!pe&&!fe)){for(;G.length;)G.shift()(pe);(Me=_e)===null||Me===void 0||Me[r](),W.abort(),fe&&(pe||J.forEach(o=>o()),s.nextTick(Oe,pe,L))}}let xe;for(let Pe=0;Pe<ue.length;Pe++){let fe=ue[Pe],Me=Pe<ue.length-1,o=Pe>0,u=Me||X?.end!==!1,m=Pe===ue.length-1;if(w(fe)){let C=function(N){N&&N.name!=="AbortError"&&N.code!=="ERR_STREAM_PREMATURE_CLOSE"&&ve(N)};if(u){let{destroy:N,cleanup:H}=he(fe,Me,o);G.push(N),_(fe)&&m&&J.push(H)}fe.on("error",C),_(fe)&&m&&J.push(()=>{fe.removeListener("error",C)})}if(Pe===0)if(typeof fe=="function"){if(xe=fe({signal:se}),!A(xe))throw new g("Iterable, AsyncIterable or Stream","source",xe)}else A(fe)||R(fe)||I(fe)?xe=fe:xe=l.from(fe);else if(typeof fe=="function"){if(I(xe)){var Y;xe=re((Y=xe)===null||Y===void 0?void 0:Y.readable)}else xe=re(xe);if(xe=fe(xe,{signal:se}),Me){if(!A(xe,!0))throw new g("AsyncIterable",`transform[${Pe-1}]`,xe)}else{var Se;z||(z=ua());let C=new z({objectMode:!0}),N=(Se=xe)===null||Se===void 0?void 0:Se.then;if(typeof N=="function")ae++,N.call(xe,$=>{L=$,$!=null&&C.write($),u&&C.end(),s.nextTick(ve)},$=>{C.destroy($),s.nextTick(ve,$)});else if(A(xe,!0))ae++,V(xe,C,ve,{end:u});else if(M(xe)||I(xe)){let $=xe.readable||xe;ae++,V($,C,ve,{end:u})}else throw new g("AsyncIterable or Promise","destination",xe);xe=C;let{destroy:H,cleanup:de}=he(xe,!1,!0);G.push(H),m&&J.push(de)}}else if(w(fe)){if(R(xe)){ae+=2;let C=ee(xe,fe,ve,{end:u});_(fe)&&m&&J.push(C)}else if(I(xe)||M(xe)){let C=xe.readable||xe;ae++,V(C,fe,ve,{end:u})}else if(A(xe))ae++,V(xe,fe,ve,{end:u});else throw new p("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],xe);xe=fe}else if(k(fe)){if(R(xe))ae++,le(re(xe),fe,ve,{end:u});else if(M(xe)||A(xe))ae++,le(xe,fe,ve,{end:u});else if(I(xe))ae++,le(xe.readable,fe,ve,{end:u});else throw new p("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],xe);xe=fe}else xe=l.from(fe)}return(se!=null&&se.aborted||Z!=null&&Z.aborted)&&s.nextTick(ne),xe}function ee(ue,Oe,X,{end:W}){let se=!1;if(Oe.on("close",()=>{se||X(new S)}),ue.pipe(Oe,{end:!1}),W){let Z=function(){se=!0,Oe.end()};U(ue)?s.nextTick(Z):ue.once("end",Z)}else X();return t(ue,{readable:!0,writable:!1},Z=>{let J=ue._readableState;Z&&Z.code==="ERR_STREAM_PREMATURE_CLOSE"&&J&&J.ended&&!J.errored&&!J.errorEmitted?ue.once("end",X).once("error",X):X(Z)}),t(Oe,{readable:!1,writable:!0},X)}h.exports={pipelineImpl:te,pipeline:B}}),ca=Ee((f,h)=>{ye(),be(),me();var{pipeline:s}=yo(),a=jt(),{destroyer:c}=ur(),{isNodeStream:n,isReadable:r,isWritable:t,isWebStream:e,isTransformStream:i,isWritableStream:l,isReadableStream:d}=Bt(),{AbortError:p,codes:{ERR_INVALID_ARG_VALUE:g,ERR_MISSING_ARGS:b}}=yt(),E=Ht();h.exports=function(...S){if(S.length===0)throw new b("streams");if(S.length===1)return a.from(S[0]);let O=[...S];if(typeof S[0]=="function"&&(S[0]=a.from(S[0])),typeof S[S.length-1]=="function"){let T=S.length-1;S[T]=a.from(S[T])}for(let T=0;T<S.length;++T)if(!(!n(S[T])&&!e(S[T]))){if(T<S.length-1&&!(r(S[T])||d(S[T])||i(S[T])))throw new g(`streams[${T}]`,O[T],"must be readable");if(T>0&&!(t(S[T])||l(S[T])||i(S[T])))throw new g(`streams[${T}]`,O[T],"must be writable")}let y,v,A,_,R;function w(T){let z=_;_=null,z?z(T):T?R.destroy(T):!U&&!M&&R.destroy()}let I=S[0],k=s(S,w),M=!!(t(I)||l(I)||i(I)),U=!!(r(k)||d(k)||i(k));if(R=new a({writableObjectMode:!!(I!=null&&I.writableObjectMode),readableObjectMode:!!(k!=null&&k.readableObjectMode),writable:M,readable:U}),M){if(n(I))R._write=function(z,Q,q){I.write(z,Q)?q():y=q},R._final=function(z){I.end(),v=z},I.on("drain",function(){if(y){let z=y;y=null,z()}});else if(e(I)){let z=(i(I)?I.writable:I).getWriter();R._write=async function(Q,q,he){try{await z.ready,z.write(Q).catch(()=>{}),he()}catch(ie){he(ie)}},R._final=async function(Q){try{await z.ready,z.close().catch(()=>{}),v=Q}catch(q){Q(q)}}}let T=i(k)?k.readable:k;E(T,()=>{if(v){let z=v;v=null,z()}})}if(U){if(n(k))k.on("readable",function(){if(A){let T=A;A=null,T()}}),k.on("end",function(){R.push(null)}),R._read=function(){for(;;){let T=k.read();if(T===null){A=R._read;return}if(!R.push(T))return}};else if(e(k)){let T=(i(k)?k.readable:k).getReader();R._read=async function(){for(;;)try{let{value:z,done:Q}=await T.read();if(!R.push(z))return;if(Q){R.push(null);return}}catch{return}}}}return R._destroy=function(T,z){!T&&_!==null&&(T=new p),A=null,y=null,v=null,_===null?z(T):(_=z,n(k)&&c(k,T))},R}}),vu=Ee((f,h)=>{ye(),be(),me();var s=globalThis.AbortController||br().AbortController,{codes:{ERR_INVALID_ARG_VALUE:a,ERR_INVALID_ARG_TYPE:c,ERR_MISSING_ARGS:n,ERR_OUT_OF_RANGE:r},AbortError:t}=yt(),{validateAbortSignal:e,validateInteger:i,validateObject:l}=vr(),d=Ze().Symbol("kWeak"),p=Ze().Symbol("kResistStopPropagation"),{finished:g}=Ht(),b=ca(),{addAbortSignalNoValidate:E}=Zr(),{isWritable:S,isNodeStream:O}=Bt(),{deprecate:y}=bt(),{ArrayPrototypePush:v,Boolean:A,MathFloor:_,Number:R,NumberIsNaN:w,Promise:I,PromiseReject:k,PromiseResolve:M,PromisePrototypeThen:U,Symbol:T}=Ze(),z=T("kEmpty"),Q=T("kEof");function q(Z,J){if(J!=null&&l(J,"options"),J?.signal!=null&&e(J.signal,"options.signal"),O(Z)&&!S(Z))throw new a("stream",Z,"must be writable");let ne=b(this,Z);return J!=null&&J.signal&&E(J.signal,ne),ne}function he(Z,J){if(typeof Z!="function")throw new c("fn",["Function","AsyncFunction"],Z);J!=null&&l(J,"options"),J?.signal!=null&&e(J.signal,"options.signal");let ne=1;J?.concurrency!=null&&(ne=_(J.concurrency));let _e=ne-1;return J?.highWaterMark!=null&&(_e=_(J.highWaterMark)),i(ne,"options.concurrency",1),i(_e,"options.highWaterMark",0),_e+=ne,(async function*(){let pe=bt().AbortSignalAny([J?.signal].filter(A)),L=this,G=[],ae={signal:pe},ve,we,xe=!1,Y=0;function Se(){xe=!0,Pe()}function Pe(){Y-=1,fe()}function fe(){we&&!xe&&Y<ne&&G.length<_e&&(we(),we=null)}async function Me(){try{for await(let o of L){if(xe)return;if(pe.aborted)throw new t;try{if(o=Z(o,ae),o===z)continue;o=M(o)}catch(u){o=k(u)}Y+=1,U(o,Pe,Se),G.push(o),ve&&(ve(),ve=null),!xe&&(G.length>=_e||Y>=ne)&&await new I(u=>{we=u})}G.push(Q)}catch(o){let u=k(o);U(u,Pe,Se),G.push(u)}finally{xe=!0,ve&&(ve(),ve=null)}}Me();try{for(;;){for(;G.length>0;){let o=await G[0];if(o===Q)return;if(pe.aborted)throw new t;o!==z&&(yield o),G.shift(),fe()}await new I(o=>{ve=o})}}finally{xe=!0,we&&(we(),we=null)}}).call(this)}function ie(Z=void 0){return Z!=null&&l(Z,"options"),Z?.signal!=null&&e(Z.signal,"options.signal"),(async function*(){let J=0;for await(let _e of this){var ne;if(Z!=null&&(ne=Z.signal)!==null&&ne!==void 0&&ne.aborted)throw new t({cause:Z.signal.reason});yield[J++,_e]}}).call(this)}async function re(Z,J=void 0){for await(let ne of B.call(this,Z,J))return!0;return!1}async function ce(Z,J=void 0){if(typeof Z!="function")throw new c("fn",["Function","AsyncFunction"],Z);return!await re.call(this,async(...ne)=>!await Z(...ne),J)}async function V(Z,J){for await(let ne of B.call(this,Z,J))return ne}async function le(Z,J){if(typeof Z!="function")throw new c("fn",["Function","AsyncFunction"],Z);async function ne(_e,pe){return await Z(_e,pe),z}for await(let _e of he.call(this,ne,J));}function B(Z,J){if(typeof Z!="function")throw new c("fn",["Function","AsyncFunction"],Z);async function ne(_e,pe){return await Z(_e,pe)?_e:z}return he.call(this,ne,J)}var te=class extends n{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};async function ee(Z,J,ne){var _e;if(typeof Z!="function")throw new c("reducer",["Function","AsyncFunction"],Z);ne!=null&&l(ne,"options"),ne?.signal!=null&&e(ne.signal,"options.signal");let pe=arguments.length>1;if(ne!=null&&(_e=ne.signal)!==null&&_e!==void 0&&_e.aborted){let we=new t(void 0,{cause:ne.signal.reason});throw this.once("error",()=>{}),await g(this.destroy(we)),we}let L=new s,G=L.signal;if(ne!=null&&ne.signal){let we={once:!0,[d]:this,[p]:!0};ne.signal.addEventListener("abort",()=>L.abort(),we)}let ae=!1;try{for await(let we of this){var ve;if(ae=!0,ne!=null&&(ve=ne.signal)!==null&&ve!==void 0&&ve.aborted)throw new t;pe?J=await Z(J,we,{signal:G}):(J=we,pe=!0)}if(!ae&&!pe)throw new te}finally{L.abort()}return J}async function ue(Z){Z!=null&&l(Z,"options"),Z?.signal!=null&&e(Z.signal,"options.signal");let J=[];for await(let _e of this){var ne;if(Z!=null&&(ne=Z.signal)!==null&&ne!==void 0&&ne.aborted)throw new t(void 0,{cause:Z.signal.reason});v(J,_e)}return J}function Oe(Z,J){let ne=he.call(this,Z,J);return(async function*(){for await(let _e of ne)yield*_e}).call(this)}function X(Z){if(Z=R(Z),w(Z))return 0;if(Z<0)throw new r("number",">= 0",Z);return Z}function W(Z,J=void 0){return J!=null&&l(J,"options"),J?.signal!=null&&e(J.signal,"options.signal"),Z=X(Z),(async function*(){var ne;if(J!=null&&(ne=J.signal)!==null&&ne!==void 0&&ne.aborted)throw new t;for await(let pe of this){var _e;if(J!=null&&(_e=J.signal)!==null&&_e!==void 0&&_e.aborted)throw new t;Z--<=0&&(yield pe)}}).call(this)}function se(Z,J=void 0){return J!=null&&l(J,"options"),J?.signal!=null&&e(J.signal,"options.signal"),Z=X(Z),(async function*(){var ne;if(J!=null&&(ne=J.signal)!==null&&ne!==void 0&&ne.aborted)throw new t;for await(let pe of this){var _e;if(J!=null&&(_e=J.signal)!==null&&_e!==void 0&&_e.aborted)throw new t;if(Z-- >0&&(yield pe),Z<=0)return}}).call(this)}h.exports.streamReturningOperators={asIndexedPairs:y(ie,"readable.asIndexedPairs will be removed in a future version."),drop:W,filter:B,flatMap:Oe,map:he,take:se,compose:q},h.exports.promiseReturningOperators={every:ce,forEach:le,reduce:ee,toArray:ue,some:re,find:V}}),ha=Ee((f,h)=>{ye(),be(),me();var{ArrayPrototypePop:s,Promise:a}=Ze(),{isIterable:c,isNodeStream:n,isWebStream:r}=Bt(),{pipelineImpl:t}=yo(),{finished:e}=Ht();fa();function i(...l){return new a((d,p)=>{let g,b,E=l[l.length-1];if(E&&typeof E=="object"&&!n(E)&&!c(E)&&!r(E)){let S=s(l);g=S.signal,b=S.end}t(l,(S,O)=>{S?p(S):d(O)},{signal:g,end:b})})}h.exports={finished:e,pipeline:i}}),fa=Ee((f,h)=>{ye(),be(),me();var{Buffer:s}=(lt(),He(at)),{ObjectDefineProperty:a,ObjectKeys:c,ReflectApply:n}=Ze(),{promisify:{custom:r}}=bt(),{streamReturningOperators:t,promiseReturningOperators:e}=vu(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:i}}=yt(),l=ca(),{setDefaultHighWaterMark:d,getDefaultHighWaterMark:p}=en(),{pipeline:g}=yo(),{destroyer:b}=ur(),E=Ht(),S=ha(),O=Bt(),y=h.exports=po().Stream;y.isDestroyed=O.isDestroyed,y.isDisturbed=O.isDisturbed,y.isErrored=O.isErrored,y.isReadable=O.isReadable,y.isWritable=O.isWritable,y.Readable=tn();for(let A of c(t)){let _=function(...w){if(new.target)throw i();return y.Readable.from(n(R,this,w))},R=t[A];a(_,"name",{__proto__:null,value:R.name}),a(_,"length",{__proto__:null,value:R.length}),a(y.Readable.prototype,A,{__proto__:null,value:_,enumerable:!1,configurable:!0,writable:!0})}for(let A of c(e)){let _=function(...w){if(new.target)throw i();return n(R,this,w)},R=e[A];a(_,"name",{__proto__:null,value:R.name}),a(_,"length",{__proto__:null,value:R.length}),a(y.Readable.prototype,A,{__proto__:null,value:_,enumerable:!1,configurable:!0,writable:!0})}y.Writable=go(),y.Duplex=jt(),y.Transform=la(),y.PassThrough=ua(),y.pipeline=g;var{addAbortSignal:v}=Zr();y.addAbortSignal=v,y.finished=E,y.destroy=b,y.compose=l,y.setDefaultHighWaterMark=d,y.getDefaultHighWaterMark=p,a(y,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return S}}),a(g,r,{__proto__:null,enumerable:!0,get(){return S.pipeline}}),a(E,r,{__proto__:null,enumerable:!0,get(){return S.finished}}),y.Stream=y,y._isUint8Array=function(A){return A instanceof Uint8Array},y._uint8ArrayToBuffer=function(A){return s.from(A.buffer,A.byteOffset,A.byteLength)}}),nr=Ee((f,h)=>{ye(),be(),me();var s=fa(),a=ha(),c=s.Readable.destroy;h.exports=s.Readable,h.exports._uint8ArrayToBuffer=s._uint8ArrayToBuffer,h.exports._isUint8Array=s._isUint8Array,h.exports.isDisturbed=s.isDisturbed,h.exports.isErrored=s.isErrored,h.exports.isReadable=s.isReadable,h.exports.Readable=s.Readable,h.exports.Writable=s.Writable,h.exports.Duplex=s.Duplex,h.exports.Transform=s.Transform,h.exports.PassThrough=s.PassThrough,h.exports.addAbortSignal=s.addAbortSignal,h.exports.finished=s.finished,h.exports.destroy=s.destroy,h.exports.destroy=c,h.exports.pipeline=s.pipeline,h.exports.compose=s.compose,Object.defineProperty(s,"promises",{configurable:!0,enumerable:!0,get(){return a}}),h.exports.Stream=s.Stream,h.exports.default=h.exports}),wu=Ee((f,h)=>{ye(),be(),me(),typeof Object.create=="function"?h.exports=function(s,a){a&&(s.super_=a,s.prototype=Object.create(a.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}))}:h.exports=function(s,a){if(a){s.super_=a;var c=function(){};c.prototype=a.prototype,s.prototype=new c,s.prototype.constructor=s}}}),_u=Ee((f,h)=>{ye(),be(),me();var{Buffer:s}=(lt(),He(at)),a=Symbol.for("BufferList");function c(n){if(!(this instanceof c))return new c(n);c._init.call(this,n)}c._init=function(n){Object.defineProperty(this,a,{value:!0}),this._bufs=[],this.length=0,n&&this.append(n)},c.prototype._new=function(n){return new c(n)},c.prototype._offset=function(n){if(n===0)return[0,0];let r=0;for(let t=0;t<this._bufs.length;t++){let e=r+this._bufs[t].length;if(n<e||t===this._bufs.length-1)return[t,n-r];r=e}},c.prototype._reverseOffset=function(n){let r=n[0],t=n[1];for(let e=0;e<r;e++)t+=this._bufs[e].length;return t},c.prototype.getBuffers=function(){return this._bufs},c.prototype.get=function(n){if(n>this.length||n<0)return;let r=this._offset(n);return this._bufs[r[0]][r[1]]},c.prototype.slice=function(n,r){return typeof n=="number"&&n<0&&(n+=this.length),typeof r=="number"&&r<0&&(r+=this.length),this.copy(null,0,n,r)},c.prototype.copy=function(n,r,t,e){if((typeof t!="number"||t<0)&&(t=0),(typeof e!="number"||e>this.length)&&(e=this.length),t>=this.length||e<=0)return n||s.alloc(0);let i=!!n,l=this._offset(t),d=e-t,p=d,g=i&&r||0,b=l[1];if(t===0&&e===this.length){if(!i)return this._bufs.length===1?this._bufs[0]:s.concat(this._bufs,this.length);for(let E=0;E<this._bufs.length;E++)this._bufs[E].copy(n,g),g+=this._bufs[E].length;return n}if(p<=this._bufs[l[0]].length-b)return i?this._bufs[l[0]].copy(n,r,b,b+p):this._bufs[l[0]].slice(b,b+p);i||(n=s.allocUnsafe(d));for(let E=l[0];E<this._bufs.length;E++){let S=this._bufs[E].length-b;if(p>S)this._bufs[E].copy(n,g,b),g+=S;else{this._bufs[E].copy(n,g,b,b+p),g+=S;break}p-=S,b&&(b=0)}return n.length>g?n.slice(0,g):n},c.prototype.shallowSlice=function(n,r){if(n=n||0,r=typeof r!="number"?this.length:r,n<0&&(n+=this.length),r<0&&(r+=this.length),n===r)return this._new();let t=this._offset(n),e=this._offset(r),i=this._bufs.slice(t[0],e[0]+1);return e[1]===0?i.pop():i[i.length-1]=i[i.length-1].slice(0,e[1]),t[1]!==0&&(i[0]=i[0].slice(t[1])),this._new(i)},c.prototype.toString=function(n,r,t){return this.slice(r,t).toString(n)},c.prototype.consume=function(n){if(n=Math.trunc(n),Number.isNaN(n)||n<=0)return this;for(;this._bufs.length;)if(n>=this._bufs[0].length)n-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift();else{this._bufs[0]=this._bufs[0].slice(n),this.length-=n;break}return this},c.prototype.duplicate=function(){let n=this._new();for(let r=0;r<this._bufs.length;r++)n.append(this._bufs[r]);return n},c.prototype.append=function(n){return this._attach(n,c.prototype._appendBuffer)},c.prototype.prepend=function(n){return this._attach(n,c.prototype._prependBuffer,!0)},c.prototype._attach=function(n,r,t){if(n==null)return this;if(n.buffer)r.call(this,s.from(n.buffer,n.byteOffset,n.byteLength));else if(Array.isArray(n)){let[e,i]=t?[n.length-1,-1]:[0,1];for(let l=e;l>=0&&l<n.length;l+=i)this._attach(n[l],r,t)}else if(this._isBufferList(n)){let[e,i]=t?[n._bufs.length-1,-1]:[0,1];for(let l=e;l>=0&&l<n._bufs.length;l+=i)this._attach(n._bufs[l],r,t)}else typeof n=="number"&&(n=n.toString()),r.call(this,s.from(n));return this},c.prototype._appendBuffer=function(n){this._bufs.push(n),this.length+=n.length},c.prototype._prependBuffer=function(n){this._bufs.unshift(n),this.length+=n.length},c.prototype.indexOf=function(n,r,t){if(t===void 0&&typeof r=="string"&&(t=r,r=void 0),typeof n=="function"||Array.isArray(n))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if(typeof n=="number"?n=s.from([n]):typeof n=="string"?n=s.from(n,t):this._isBufferList(n)?n=n.slice():Array.isArray(n.buffer)?n=s.from(n.buffer,n.byteOffset,n.byteLength):s.isBuffer(n)||(n=s.from(n)),r=Number(r||0),isNaN(r)&&(r=0),r<0&&(r=this.length+r),r<0&&(r=0),n.length===0)return r>this.length?this.length:r;let e=this._offset(r),i=e[0],l=e[1];for(;i<this._bufs.length;i++){let d=this._bufs[i];for(;l<d.length;)if(d.length-l>=n.length){let p=d.indexOf(n,l);if(p!==-1)return this._reverseOffset([i,p]);l=d.length-n.length+1}else{let p=this._reverseOffset([i,l]);if(this._match(p,n))return p;l++}l=0}return-1},c.prototype._match=function(n,r){if(this.length-n<r.length)return!1;for(let t=0;t<r.length;t++)if(this.get(n+t)!==r[t])return!1;return!0},(function(){let n={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readBigInt64BE:8,readBigInt64LE:8,readBigUInt64BE:8,readBigUInt64LE:8,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(let r in n)(function(t){n[t]===null?c.prototype[t]=function(e,i){return this.slice(e,e+i)[t](0,i)}:c.prototype[t]=function(e=0){return this.slice(e,e+n[t])[t](0)}})(r)})(),c.prototype._isBufferList=function(n){return n instanceof c||c.isBufferList(n)},c.isBufferList=function(n){return n!=null&&n[a]},h.exports=c}),Su=Ee((f,h)=>{ye(),be(),me();var s=nr().Duplex,a=wu(),c=_u();function n(r){if(!(this instanceof n))return new n(r);if(typeof r=="function"){this._callback=r;let t=(function(e){this._callback&&(this._callback(e),this._callback=null)}).bind(this);this.on("pipe",function(e){e.on("error",t)}),this.on("unpipe",function(e){e.removeListener("error",t)}),r=null}c._init.call(this,r),s.call(this)}a(n,s),Object.assign(n.prototype,c.prototype),n.prototype._new=function(r){return new n(r)},n.prototype._write=function(r,t,e){this._appendBuffer(r),typeof e=="function"&&e()},n.prototype._read=function(r){if(!this.length)return this.push(null);r=Math.min(r,this.length),this.push(this.slice(0,r)),this.consume(r)},n.prototype.end=function(r){s.prototype.end.call(this,r),this._callback&&(this._callback(null,this.slice()),this._callback=null)},n.prototype._destroy=function(r,t){this._bufs.length=0,this.length=0,t(r)},n.prototype._isBufferList=function(r){return r instanceof n||r instanceof c||n.isBufferList(r)},n.isBufferList=c.isBufferList,h.exports=n,h.exports.BufferListStream=n,h.exports.BufferList=c}),Eu=Ee((f,h)=>{ye(),be(),me();var s=class{constructor(){this.cmd=null,this.retain=!1,this.qos=0,this.dup=!1,this.length=-1,this.topic=null,this.payload=null}};h.exports=s}),pa=Ee((f,h)=>{ye(),be(),me();var s=h.exports,{Buffer:a}=(lt(),He(at));s.types={0:"reserved",1:"connect",2:"connack",3:"publish",4:"puback",5:"pubrec",6:"pubrel",7:"pubcomp",8:"subscribe",9:"suback",10:"unsubscribe",11:"unsuback",12:"pingreq",13:"pingresp",14:"disconnect",15:"auth"},s.requiredHeaderFlags={1:0,2:0,4:0,5:0,6:2,7:0,8:2,9:0,10:2,11:0,12:0,13:0,14:0,15:0},s.requiredHeaderFlagsErrors={};for(let n in s.requiredHeaderFlags){let r=s.requiredHeaderFlags[n];s.requiredHeaderFlagsErrors[n]="Invalid header flag bits, must be 0x"+r.toString(16)+" for "+s.types[n]+" packet"}s.codes={};for(let n in s.types){let r=s.types[n];s.codes[r]=n}s.CMD_SHIFT=4,s.CMD_MASK=240,s.DUP_MASK=8,s.QOS_MASK=3,s.QOS_SHIFT=1,s.RETAIN_MASK=1,s.VARBYTEINT_MASK=127,s.VARBYTEINT_FIN_MASK=128,s.VARBYTEINT_MAX=268435455,s.SESSIONPRESENT_MASK=1,s.SESSIONPRESENT_HEADER=a.from([s.SESSIONPRESENT_MASK]),s.CONNACK_HEADER=a.from([s.codes.connack<<s.CMD_SHIFT]),s.USERNAME_MASK=128,s.PASSWORD_MASK=64,s.WILL_RETAIN_MASK=32,s.WILL_QOS_MASK=24,s.WILL_QOS_SHIFT=3,s.WILL_FLAG_MASK=4,s.CLEAN_SESSION_MASK=2,s.CONNECT_HEADER=a.from([s.codes.connect<<s.CMD_SHIFT]),s.properties={sessionExpiryInterval:17,willDelayInterval:24,receiveMaximum:33,maximumPacketSize:39,topicAliasMaximum:34,requestResponseInformation:25,requestProblemInformation:23,userProperties:38,authenticationMethod:21,authenticationData:22,payloadFormatIndicator:1,messageExpiryInterval:2,contentType:3,responseTopic:8,correlationData:9,maximumQoS:36,retainAvailable:37,assignedClientIdentifier:18,reasonString:31,wildcardSubscriptionAvailable:40,subscriptionIdentifiersAvailable:41,sharedSubscriptionAvailable:42,serverKeepAlive:19,responseInformation:26,serverReference:28,topicAlias:35,subscriptionIdentifier:11},s.propertiesCodes={};for(let n in s.properties){let r=s.properties[n];s.propertiesCodes[r]=n}s.propertiesTypes={sessionExpiryInterval:"int32",willDelayInterval:"int32",receiveMaximum:"int16",maximumPacketSize:"int32",topicAliasMaximum:"int16",requestResponseInformation:"byte",requestProblemInformation:"byte",userProperties:"pair",authenticationMethod:"string",authenticationData:"binary",payloadFormatIndicator:"byte",messageExpiryInterval:"int32",contentType:"string",responseTopic:"string",correlationData:"binary",maximumQoS:"int8",retainAvailable:"byte",assignedClientIdentifier:"string",reasonString:"string",wildcardSubscriptionAvailable:"byte",subscriptionIdentifiersAvailable:"byte",sharedSubscriptionAvailable:"byte",serverKeepAlive:"int16",responseInformation:"string",serverReference:"string",topicAlias:"int16",subscriptionIdentifier:"var"};function c(n){return[0,1,2].map(r=>[0,1].map(t=>[0,1].map(e=>{let i=a.alloc(1);return i.writeUInt8(s.codes[n]<<s.CMD_SHIFT|(t?s.DUP_MASK:0)|r<<s.QOS_SHIFT|e,0,!0),i})))}s.PUBLISH_HEADER=c("publish"),s.SUBSCRIBE_HEADER=c("subscribe"),s.SUBSCRIBE_OPTIONS_QOS_MASK=3,s.SUBSCRIBE_OPTIONS_NL_MASK=1,s.SUBSCRIBE_OPTIONS_NL_SHIFT=2,s.SUBSCRIBE_OPTIONS_RAP_MASK=1,s.SUBSCRIBE_OPTIONS_RAP_SHIFT=3,s.SUBSCRIBE_OPTIONS_RH_MASK=3,s.SUBSCRIBE_OPTIONS_RH_SHIFT=4,s.SUBSCRIBE_OPTIONS_RH=[0,16,32],s.SUBSCRIBE_OPTIONS_NL=4,s.SUBSCRIBE_OPTIONS_RAP=8,s.SUBSCRIBE_OPTIONS_QOS=[0,1,2],s.UNSUBSCRIBE_HEADER=c("unsubscribe"),s.ACKS={unsuback:c("unsuback"),puback:c("puback"),pubcomp:c("pubcomp"),pubrel:c("pubrel"),pubrec:c("pubrec")},s.SUBACK_HEADER=a.from([s.codes.suback<<s.CMD_SHIFT]),s.VERSION3=a.from([3]),s.VERSION4=a.from([4]),s.VERSION5=a.from([5]),s.VERSION131=a.from([131]),s.VERSION132=a.from([132]),s.QOS=[0,1,2].map(n=>a.from([n])),s.EMPTY={pingreq:a.from([s.codes.pingreq<<4,0]),pingresp:a.from([s.codes.pingresp<<4,0]),disconnect:a.from([s.codes.disconnect<<4,0])},s.MQTT5_PUBACK_PUBREC_CODES={0:"Success",16:"No matching subscribers",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",144:"Topic Name invalid",145:"Packet identifier in use",151:"Quota exceeded",153:"Payload format invalid"},s.MQTT5_PUBREL_PUBCOMP_CODES={0:"Success",146:"Packet Identifier not found"},s.MQTT5_SUBACK_CODES={0:"Granted QoS 0",1:"Granted QoS 1",2:"Granted QoS 2",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",143:"Topic Filter invalid",145:"Packet Identifier in use",151:"Quota exceeded",158:"Shared Subscriptions not supported",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"},s.MQTT5_UNSUBACK_CODES={0:"Success",17:"No subscription existed",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",143:"Topic Filter invalid",145:"Packet Identifier in use"},s.MQTT5_DISCONNECT_CODES={0:"Normal disconnection",4:"Disconnect with Will Message",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",135:"Not authorized",137:"Server busy",139:"Server shutting down",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"},s.MQTT5_AUTH_CODES={0:"Success",24:"Continue authentication",25:"Re-authenticate"}}),Au=Ee((f,h)=>{ye(),be(),me();var s=1e3,a=s*60,c=a*60,n=c*24,r=n*7,t=n*365.25;h.exports=function(p,g){g=g||{};var b=typeof p;if(b==="string"&&p.length>0)return e(p);if(b==="number"&&isFinite(p))return g.long?l(p):i(p);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(p))};function e(p){if(p=String(p),!(p.length>100)){var g=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(p);if(g){var b=parseFloat(g[1]),E=(g[2]||"ms").toLowerCase();switch(E){case"years":case"year":case"yrs":case"yr":case"y":return b*t;case"weeks":case"week":case"w":return b*r;case"days":case"day":case"d":return b*n;case"hours":case"hour":case"hrs":case"hr":case"h":return b*c;case"minutes":case"minute":case"mins":case"min":case"m":return b*a;case"seconds":case"second":case"secs":case"sec":case"s":return b*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return b;default:return}}}}function i(p){var g=Math.abs(p);return g>=n?Math.round(p/n)+"d":g>=c?Math.round(p/c)+"h":g>=a?Math.round(p/a)+"m":g>=s?Math.round(p/s)+"s":p+"ms"}function l(p){var g=Math.abs(p);return g>=n?d(p,g,n,"day"):g>=c?d(p,g,c,"hour"):g>=a?d(p,g,a,"minute"):g>=s?d(p,g,s,"second"):p+" ms"}function d(p,g,b,E){var S=g>=b*1.5;return Math.round(p/b)+" "+E+(S?"s":"")}}),xu=Ee((f,h)=>{ye(),be(),me();function s(a){n.debug=n,n.default=n,n.coerce=d,n.disable=i,n.enable=t,n.enabled=l,n.humanize=Au(),n.destroy=p,Object.keys(a).forEach(g=>{n[g]=a[g]}),n.names=[],n.skips=[],n.formatters={};function c(g){let b=0;for(let E=0;E<g.length;E++)b=(b<<5)-b+g.charCodeAt(E),b|=0;return n.colors[Math.abs(b)%n.colors.length]}n.selectColor=c;function n(g){let b,E=null,S,O;function y(...v){if(!y.enabled)return;let A=y,_=Number(new Date),R=_-(b||_);A.diff=R,A.prev=b,A.curr=_,b=_,v[0]=n.coerce(v[0]),typeof v[0]!="string"&&v.unshift("%O");let w=0;v[0]=v[0].replace(/%([a-zA-Z%])/g,(I,k)=>{if(I==="%%")return"%";w++;let M=n.formatters[k];if(typeof M=="function"){let U=v[w];I=M.call(A,U),v.splice(w,1),w--}return I}),n.formatArgs.call(A,v),(A.log||n.log).apply(A,v)}return y.namespace=g,y.useColors=n.useColors(),y.color=n.selectColor(g),y.extend=r,y.destroy=n.destroy,Object.defineProperty(y,"enabled",{enumerable:!0,configurable:!1,get:()=>E!==null?E:(S!==n.namespaces&&(S=n.namespaces,O=n.enabled(g)),O),set:v=>{E=v}}),typeof n.init=="function"&&n.init(y),y}function r(g,b){let E=n(this.namespace+(typeof b>"u"?":":b)+g);return E.log=this.log,E}function t(g){n.save(g),n.namespaces=g,n.names=[],n.skips=[];let b=(typeof g=="string"?g:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(let E of b)E[0]==="-"?n.skips.push(E.slice(1)):n.names.push(E)}function e(g,b){let E=0,S=0,O=-1,y=0;for(;E<g.length;)if(S<b.length&&(b[S]===g[E]||b[S]==="*"))b[S]==="*"?(O=S,y=E,S++):(E++,S++);else if(O!==-1)S=O+1,y++,E=y;else return!1;for(;S<b.length&&b[S]==="*";)S++;return S===b.length}function i(){let g=[...n.names,...n.skips.map(b=>"-"+b)].join(",");return n.enable(""),g}function l(g){for(let b of n.skips)if(e(g,b))return!1;for(let b of n.names)if(e(g,b))return!0;return!1}function d(g){return g instanceof Error?g.stack||g.message:g}function p(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}h.exports=s}),Mt=Ee((f,h)=>{ye(),be(),me(),f.formatArgs=a,f.save=c,f.load=n,f.useColors=s,f.storage=r(),f.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),f.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function s(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let e;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(e=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(e[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function a(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+h.exports.humanize(this.diff),!this.useColors)return;let i="color: "+this.color;e.splice(1,0,i,"color: inherit");let l=0,d=0;e[0].replace(/%[a-zA-Z%]/g,p=>{p!=="%%"&&(l++,p==="%c"&&(d=l))}),e.splice(d,0,i)}f.log=console.debug||console.log||(()=>{});function c(e){try{e?f.storage.setItem("debug",e):f.storage.removeItem("debug")}catch{}}function n(){let e;try{e=f.storage.getItem("debug")||f.storage.getItem("DEBUG")}catch{}return!e&&typeof Qe<"u"&&"env"in Qe&&(e=Qe.env.DEBUG),e}function r(){try{return localStorage}catch{}}h.exports=xu()(f);var{formatters:t}=h.exports;t.j=function(e){try{return JSON.stringify(e)}catch(i){return"[UnexpectedJSONParseError]: "+i.message}}}),Ou=Ee((f,h)=>{ye(),be(),me();var s=Su(),{EventEmitter:a}=(tr(),He(Kt)),c=Eu(),n=pa(),r=Mt()("mqtt-packet:parser"),t=class bi extends a{constructor(){super(),this.parser=this.constructor.parser}static parser(i){return this instanceof bi?(this.settings=i||{},this._states=["_parseHeader","_parseLength","_parsePayload","_newPacket"],this._resetState(),this):new bi().parser(i)}_resetState(){r("_resetState: resetting packet, error, _list, and _stateCounter"),this.packet=new c,this.error=null,this._list=s(),this._stateCounter=0}parse(i){for(this.error&&this._resetState(),this._list.append(i),r("parse: current state: %s",this._states[this._stateCounter]);(this.packet.length!==-1||this._list.length>0)&&this[this._states[this._stateCounter]]()&&!this.error;)this._stateCounter++,r("parse: state complete. _stateCounter is now: %d",this._stateCounter),r("parse: packet.length: %d, buffer list length: %d",this.packet.length,this._list.length),this._stateCounter>=this._states.length&&(this._stateCounter=0);return r("parse: exited while loop. packet: %d, buffer list length: %d",this.packet.length,this._list.length),this._list.length}_parseHeader(){let i=this._list.readUInt8(0),l=i>>n.CMD_SHIFT;this.packet.cmd=n.types[l];let d=i&15,p=n.requiredHeaderFlags[l];return p!=null&&d!==p?this._emitError(new Error(n.requiredHeaderFlagsErrors[l])):(this.packet.retain=(i&n.RETAIN_MASK)!==0,this.packet.qos=i>>n.QOS_SHIFT&n.QOS_MASK,this.packet.qos>2?this._emitError(new Error("Packet must not have both QoS bits set to 1")):(this.packet.dup=(i&n.DUP_MASK)!==0,r("_parseHeader: packet: %o",this.packet),this._list.consume(1),!0))}_parseLength(){let i=this._parseVarByteNum(!0);return i&&(this.packet.length=i.value,this._list.consume(i.bytes)),r("_parseLength %d",i.value),!!i}_parsePayload(){r("_parsePayload: payload %O",this._list);let i=!1;if(this.packet.length===0||this._list.length>=this.packet.length){switch(this._pos=0,this.packet.cmd){case"connect":this._parseConnect();break;case"connack":this._parseConnack();break;case"publish":this._parsePublish();break;case"puback":case"pubrec":case"pubrel":case"pubcomp":this._parseConfirmation();break;case"subscribe":this._parseSubscribe();break;case"suback":this._parseSuback();break;case"unsubscribe":this._parseUnsubscribe();break;case"unsuback":this._parseUnsuback();break;case"pingreq":case"pingresp":break;case"disconnect":this._parseDisconnect();break;case"auth":this._parseAuth();break;default:this._emitError(new Error("Not supported"))}i=!0}return r("_parsePayload complete result: %s",i),i}_parseConnect(){r("_parseConnect");let i,l,d,p,g={},b=this.packet,E=this._parseString();if(E===null)return this._emitError(new Error("Cannot parse protocolId"));if(E!=="MQTT"&&E!=="MQIsdp")return this._emitError(new Error("Invalid protocolId"));if(b.protocolId=E,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(b.protocolVersion=this._list.readUInt8(this._pos),b.protocolVersion>=128&&(b.bridgeMode=!0,b.protocolVersion=b.protocolVersion-128),b.protocolVersion!==3&&b.protocolVersion!==4&&b.protocolVersion!==5)return this._emitError(new Error("Invalid protocol version"));if(this._pos++,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(this._list.readUInt8(this._pos)&1)return this._emitError(new Error("Connect flag bit 0 must be 0, but got 1"));g.username=this._list.readUInt8(this._pos)&n.USERNAME_MASK,g.password=this._list.readUInt8(this._pos)&n.PASSWORD_MASK,g.will=this._list.readUInt8(this._pos)&n.WILL_FLAG_MASK;let S=!!(this._list.readUInt8(this._pos)&n.WILL_RETAIN_MASK),O=(this._list.readUInt8(this._pos)&n.WILL_QOS_MASK)>>n.WILL_QOS_SHIFT;if(g.will)b.will={},b.will.retain=S,b.will.qos=O;else{if(S)return this._emitError(new Error("Will Retain Flag must be set to zero when Will Flag is set to 0"));if(O)return this._emitError(new Error("Will QoS must be set to zero when Will Flag is set to 0"))}if(b.clean=(this._list.readUInt8(this._pos)&n.CLEAN_SESSION_MASK)!==0,this._pos++,b.keepalive=this._parseNum(),b.keepalive===-1)return this._emitError(new Error("Packet too short"));if(b.protocolVersion===5){let v=this._parseProperties();Object.getOwnPropertyNames(v).length&&(b.properties=v)}let y=this._parseString();if(y===null)return this._emitError(new Error("Packet too short"));if(b.clientId=y,r("_parseConnect: packet.clientId: %s",b.clientId),g.will){if(b.protocolVersion===5){let v=this._parseProperties();Object.getOwnPropertyNames(v).length&&(b.will.properties=v)}if(i=this._parseString(),i===null)return this._emitError(new Error("Cannot parse will topic"));if(b.will.topic=i,r("_parseConnect: packet.will.topic: %s",b.will.topic),l=this._parseBuffer(),l===null)return this._emitError(new Error("Cannot parse will payload"));b.will.payload=l,r("_parseConnect: packet.will.paylaod: %s",b.will.payload)}if(g.username){if(p=this._parseString(),p===null)return this._emitError(new Error("Cannot parse username"));b.username=p,r("_parseConnect: packet.username: %s",b.username)}if(g.password){if(d=this._parseBuffer(),d===null)return this._emitError(new Error("Cannot parse password"));b.password=d}return this.settings=b,r("_parseConnect: complete"),b}_parseConnack(){r("_parseConnack");let i=this.packet;if(this._list.length<1)return null;let l=this._list.readUInt8(this._pos++);if(l>1)return this._emitError(new Error("Invalid connack flags, bits 7-1 must be set to 0"));if(i.sessionPresent=!!(l&n.SESSIONPRESENT_MASK),this.settings.protocolVersion===5)this._list.length>=2?i.reasonCode=this._list.readUInt8(this._pos++):i.reasonCode=0;else{if(this._list.length<2)return null;i.returnCode=this._list.readUInt8(this._pos++)}if(i.returnCode===-1||i.reasonCode===-1)return this._emitError(new Error("Cannot parse return code"));if(this.settings.protocolVersion===5){let d=this._parseProperties();Object.getOwnPropertyNames(d).length&&(i.properties=d)}r("_parseConnack: complete")}_parsePublish(){r("_parsePublish");let i=this.packet;if(i.topic=this._parseString(),i.topic===null)return this._emitError(new Error("Cannot parse topic"));if(!(i.qos>0&&!this._parseMessageId())){if(this.settings.protocolVersion===5){let l=this._parseProperties();Object.getOwnPropertyNames(l).length&&(i.properties=l)}i.payload=this._list.slice(this._pos,i.length),r("_parsePublish: payload from buffer list: %o",i.payload)}}_parseSubscribe(){r("_parseSubscribe");let i=this.packet,l,d,p,g,b,E,S;if(i.subscriptions=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let O=this._parseProperties();Object.getOwnPropertyNames(O).length&&(i.properties=O)}if(i.length<=0)return this._emitError(new Error("Malformed subscribe, no payload specified"));for(;this._pos<i.length;){if(l=this._parseString(),l===null)return this._emitError(new Error("Cannot parse topic"));if(this._pos>=i.length)return this._emitError(new Error("Malformed Subscribe Payload"));if(d=this._parseByte(),this.settings.protocolVersion===5){if(d&192)return this._emitError(new Error("Invalid subscribe topic flag bits, bits 7-6 must be 0"))}else if(d&252)return this._emitError(new Error("Invalid subscribe topic flag bits, bits 7-2 must be 0"));if(p=d&n.SUBSCRIBE_OPTIONS_QOS_MASK,p>2)return this._emitError(new Error("Invalid subscribe QoS, must be <= 2"));if(E=(d>>n.SUBSCRIBE_OPTIONS_NL_SHIFT&n.SUBSCRIBE_OPTIONS_NL_MASK)!==0,b=(d>>n.SUBSCRIBE_OPTIONS_RAP_SHIFT&n.SUBSCRIBE_OPTIONS_RAP_MASK)!==0,g=d>>n.SUBSCRIBE_OPTIONS_RH_SHIFT&n.SUBSCRIBE_OPTIONS_RH_MASK,g>2)return this._emitError(new Error("Invalid retain handling, must be <= 2"));S={topic:l,qos:p},this.settings.protocolVersion===5?(S.nl=E,S.rap=b,S.rh=g):this.settings.bridgeMode&&(S.rh=0,S.rap=!0,S.nl=!0),r("_parseSubscribe: push subscription `%s` to subscription",S),i.subscriptions.push(S)}}}_parseSuback(){r("_parseSuback");let i=this.packet;if(this.packet.granted=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let l=this._parseProperties();Object.getOwnPropertyNames(l).length&&(i.properties=l)}if(i.length<=0)return this._emitError(new Error("Malformed suback, no payload specified"));for(;this._pos<this.packet.length;){let l=this._list.readUInt8(this._pos++);if(this.settings.protocolVersion===5){if(!n.MQTT5_SUBACK_CODES[l])return this._emitError(new Error("Invalid suback code"))}else if(l>2&&l!==128)return this._emitError(new Error("Invalid suback QoS, must be 0, 1, 2 or 128"));this.packet.granted.push(l)}}}_parseUnsubscribe(){r("_parseUnsubscribe");let i=this.packet;if(i.unsubscriptions=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let l=this._parseProperties();Object.getOwnPropertyNames(l).length&&(i.properties=l)}if(i.length<=0)return this._emitError(new Error("Malformed unsubscribe, no payload specified"));for(;this._pos<i.length;){let l=this._parseString();if(l===null)return this._emitError(new Error("Cannot parse topic"));r("_parseUnsubscribe: push topic `%s` to unsubscriptions",l),i.unsubscriptions.push(l)}}}_parseUnsuback(){r("_parseUnsuback");let i=this.packet;if(!this._parseMessageId())return this._emitError(new Error("Cannot parse messageId"));if((this.settings.protocolVersion===3||this.settings.protocolVersion===4)&&i.length!==2)return this._emitError(new Error("Malformed unsuback, payload length must be 2"));if(i.length<=0)return this._emitError(new Error("Malformed unsuback, no payload specified"));if(this.settings.protocolVersion===5){let l=this._parseProperties();for(Object.getOwnPropertyNames(l).length&&(i.properties=l),i.granted=[];this._pos<this.packet.length;){let d=this._list.readUInt8(this._pos++);if(!n.MQTT5_UNSUBACK_CODES[d])return this._emitError(new Error("Invalid unsuback code"));this.packet.granted.push(d)}}}_parseConfirmation(){r("_parseConfirmation: packet.cmd: `%s`",this.packet.cmd);let i=this.packet;if(this._parseMessageId(),this.settings.protocolVersion===5){if(i.length>2){switch(i.reasonCode=this._parseByte(),this.packet.cmd){case"puback":case"pubrec":if(!n.MQTT5_PUBACK_PUBREC_CODES[i.reasonCode])return this._emitError(new Error("Invalid "+this.packet.cmd+" reason code"));break;case"pubrel":case"pubcomp":if(!n.MQTT5_PUBREL_PUBCOMP_CODES[i.reasonCode])return this._emitError(new Error("Invalid "+this.packet.cmd+" reason code"));break}r("_parseConfirmation: packet.reasonCode `%d`",i.reasonCode)}else i.reasonCode=0;if(i.length>3){let l=this._parseProperties();Object.getOwnPropertyNames(l).length&&(i.properties=l)}}return!0}_parseDisconnect(){let i=this.packet;if(r("_parseDisconnect"),this.settings.protocolVersion===5){this._list.length>0?(i.reasonCode=this._parseByte(),n.MQTT5_DISCONNECT_CODES[i.reasonCode]||this._emitError(new Error("Invalid disconnect reason code"))):i.reasonCode=0;let l=this._parseProperties();Object.getOwnPropertyNames(l).length&&(i.properties=l)}return r("_parseDisconnect result: true"),!0}_parseAuth(){r("_parseAuth");let i=this.packet;if(this.settings.protocolVersion!==5)return this._emitError(new Error("Not supported auth packet for this version MQTT"));if(i.reasonCode=this._parseByte(),!n.MQTT5_AUTH_CODES[i.reasonCode])return this._emitError(new Error("Invalid auth reason code"));let l=this._parseProperties();return Object.getOwnPropertyNames(l).length&&(i.properties=l),r("_parseAuth: result: true"),!0}_parseMessageId(){let i=this.packet;return i.messageId=this._parseNum(),i.messageId===null?(this._emitError(new Error("Cannot parse messageId")),!1):(r("_parseMessageId: packet.messageId %d",i.messageId),!0)}_parseString(i){let l=this._parseNum(),d=l+this._pos;if(l===-1||d>this._list.length||d>this.packet.length)return null;let p=this._list.toString("utf8",this._pos,d);return this._pos+=l,r("_parseString: result: %s",p),p}_parseStringPair(){return r("_parseStringPair"),{name:this._parseString(),value:this._parseString()}}_parseBuffer(){let i=this._parseNum(),l=i+this._pos;if(i===-1||l>this._list.length||l>this.packet.length)return null;let d=this._list.slice(this._pos,l);return this._pos+=i,r("_parseBuffer: result: %o",d),d}_parseNum(){if(this._list.length-this._pos<2)return-1;let i=this._list.readUInt16BE(this._pos);return this._pos+=2,r("_parseNum: result: %s",i),i}_parse4ByteNum(){if(this._list.length-this._pos<4)return-1;let i=this._list.readUInt32BE(this._pos);return this._pos+=4,r("_parse4ByteNum: result: %s",i),i}_parseVarByteNum(i){r("_parseVarByteNum");let l=4,d=0,p=1,g=0,b=!1,E,S=this._pos?this._pos:0;for(;d<l&&S+d<this._list.length;){if(E=this._list.readUInt8(S+d++),g+=p*(E&n.VARBYTEINT_MASK),p*=128,(E&n.VARBYTEINT_FIN_MASK)===0){b=!0;break}if(this._list.length<=d)break}return!b&&d===l&&this._list.length>=d&&this._emitError(new Error("Invalid variable byte integer")),S&&(this._pos+=d),b?i?b={bytes:d,value:g}:b=g:b=!1,r("_parseVarByteNum: result: %o",b),b}_parseByte(){let i;return this._pos<this._list.length&&(i=this._list.readUInt8(this._pos),this._pos++),r("_parseByte: result: %o",i),i}_parseByType(i){switch(r("_parseByType: type: %s",i),i){case"byte":return this._parseByte()!==0;case"int8":return this._parseByte();case"int16":return this._parseNum();case"int32":return this._parse4ByteNum();case"var":return this._parseVarByteNum();case"string":return this._parseString();case"pair":return this._parseStringPair();case"binary":return this._parseBuffer()}}_parseProperties(){r("_parseProperties");let i=this._parseVarByteNum(),l=this._pos+i,d={};for(;this._pos<l;){let p=this._parseByte();if(!p)return this._emitError(new Error("Cannot parse property code type")),!1;let g=n.propertiesCodes[p];if(!g)return this._emitError(new Error("Unknown property")),!1;if(g==="userProperties"){d[g]||(d[g]=Object.create(null));let b=this._parseByType(n.propertiesTypes[g]);if(d[g][b.name])if(Array.isArray(d[g][b.name]))d[g][b.name].push(b.value);else{let E=d[g][b.name];d[g][b.name]=[E],d[g][b.name].push(b.value)}else d[g][b.name]=b.value;continue}d[g]?Array.isArray(d[g])?d[g].push(this._parseByType(n.propertiesTypes[g])):(d[g]=[d[g]],d[g].push(this._parseByType(n.propertiesTypes[g]))):d[g]=this._parseByType(n.propertiesTypes[g])}return d}_newPacket(){return r("_newPacket"),this.packet&&(this._list.consume(this.packet.length),r("_newPacket: parser emit packet: packet.cmd: %s, packet.payload: %s, packet.length: %d",this.packet.cmd,this.packet.payload,this.packet.length),this.emit("packet",this.packet)),r("_newPacket: new packet"),this.packet=new c,this._pos=0,!0}_emitError(i){r("_emitError",i),this.error=i,this.emit("error",i)}};h.exports=t}),Iu=Ee((f,h)=>{ye(),be(),me();var{Buffer:s}=(lt(),He(at)),a=65536,c={},n=s.isBuffer(s.from([1,2]).subarray(0,1));function r(l){let d=s.allocUnsafe(2);return d.writeUInt8(l>>8,0),d.writeUInt8(l&255,1),d}function t(){for(let l=0;l<a;l++)c[l]=r(l)}function e(l){let d=0,p=0,g=s.allocUnsafe(4);do d=l%128|0,l=l/128|0,l>0&&(d=d|128),g.writeUInt8(d,p++);while(l>0&&p<4);return l>0&&(p=0),n?g.subarray(0,p):g.slice(0,p)}function i(l){let d=s.allocUnsafe(4);return d.writeUInt32BE(l,0),d}h.exports={cache:c,generateCache:t,generateNumber:r,genBufVariableByteInt:e,generate4ByteBuffer:i}}),Pu=Ee((f,h)=>{ye(),be(),me(),typeof Qe>"u"||!Qe.version||Qe.version.indexOf("v0.")===0||Qe.version.indexOf("v1.")===0&&Qe.version.indexOf("v1.8.")!==0?h.exports={nextTick:s}:h.exports=Qe;function s(a,c,n,r){if(typeof a!="function")throw new TypeError('"callback" argument must be a function');var t=arguments.length,e,i;switch(t){case 0:case 1:return Qe.nextTick(a);case 2:return Qe.nextTick(function(){a.call(null,c)});case 3:return Qe.nextTick(function(){a.call(null,c,n)});case 4:return Qe.nextTick(function(){a.call(null,c,n,r)});default:for(e=new Array(t-1),i=0;i<e.length;)e[i++]=arguments[i];return Qe.nextTick(function(){a.apply(null,e)})}}}),da=Ee((f,h)=>{ye(),be(),me();var s=pa(),{Buffer:a}=(lt(),He(at)),c=a.allocUnsafe(0),n=a.from([0]),r=Iu(),t=Pu().nextTick,e=Mt()("mqtt-packet:writeToStream"),i=r.cache,l=r.generateNumber,d=r.generateCache,p=r.genBufVariableByteInt,g=r.generate4ByteBuffer,b=ie,E=!0;function S(X,W,se){switch(e("generate called"),W.cork&&(W.cork(),t(O,W)),E&&(E=!1,d()),e("generate: packet.cmd: %s",X.cmd),X.cmd){case"connect":return y(X,W);case"connack":return v(X,W,se);case"publish":return A(X,W,se);case"puback":case"pubrec":case"pubrel":case"pubcomp":return _(X,W,se);case"subscribe":return R(X,W,se);case"suback":return w(X,W,se);case"unsubscribe":return I(X,W,se);case"unsuback":return k(X,W,se);case"pingreq":case"pingresp":return M(X,W);case"disconnect":return U(X,W,se);case"auth":return T(X,W,se);default:return W.destroy(new Error("Unknown command")),!1}}Object.defineProperty(S,"cacheNumbers",{get(){return b===ie},set(X){X?((!i||Object.keys(i).length===0)&&(E=!0),b=ie):(E=!1,b=re)}});function O(X){X.uncork()}function y(X,W,se){let Z=X||{},J=Z.protocolId||"MQTT",ne=Z.protocolVersion||4,_e=Z.will,pe=Z.clean,L=Z.keepalive||0,G=Z.clientId||"",ae=Z.username,ve=Z.password,we=Z.properties;pe===void 0&&(pe=!0);let xe=0;if(typeof J!="string"&&!a.isBuffer(J))return W.destroy(new Error("Invalid protocolId")),!1;if(xe+=J.length+2,ne!==3&&ne!==4&&ne!==5)return W.destroy(new Error("Invalid protocol version")),!1;if(xe+=1,(typeof G=="string"||a.isBuffer(G))&&(G||ne>=4)&&(G||pe))xe+=a.byteLength(G)+2;else{if(ne<4)return W.destroy(new Error("clientId must be supplied before 3.1.1")),!1;if(pe*1===0)return W.destroy(new Error("clientId must be given if cleanSession set to 0")),!1}if(typeof L!="number"||L<0||L>65535||L%1!==0)return W.destroy(new Error("Invalid keepalive")),!1;xe+=2,xe+=1;let Y,Se;if(ne===5){if(Y=le(W,we),!Y)return!1;xe+=Y.length}if(_e){if(typeof _e!="object")return W.destroy(new Error("Invalid will")),!1;if(!_e.topic||typeof _e.topic!="string")return W.destroy(new Error("Invalid will topic")),!1;if(xe+=a.byteLength(_e.topic)+2,xe+=2,_e.payload)if(_e.payload.length>=0)typeof _e.payload=="string"?xe+=a.byteLength(_e.payload):xe+=_e.payload.length;else return W.destroy(new Error("Invalid will payload")),!1;if(Se={},ne===5){if(Se=le(W,_e.properties),!Se)return!1;xe+=Se.length}}let Pe=!1;if(ae!=null)if(Oe(ae))Pe=!0,xe+=a.byteLength(ae)+2;else return W.destroy(new Error("Invalid username")),!1;if(ve!=null){if(!Pe)return W.destroy(new Error("Username is required to use password")),!1;if(Oe(ve))xe+=ue(ve)+2;else return W.destroy(new Error("Invalid password")),!1}W.write(s.CONNECT_HEADER),Q(W,xe),V(W,J),Z.bridgeMode&&(ne+=128),W.write(ne===131?s.VERSION131:ne===132?s.VERSION132:ne===4?s.VERSION4:ne===5?s.VERSION5:s.VERSION3);let fe=0;return fe|=ae!=null?s.USERNAME_MASK:0,fe|=ve!=null?s.PASSWORD_MASK:0,fe|=_e&&_e.retain?s.WILL_RETAIN_MASK:0,fe|=_e&&_e.qos?_e.qos<<s.WILL_QOS_SHIFT:0,fe|=_e?s.WILL_FLAG_MASK:0,fe|=pe?s.CLEAN_SESSION_MASK:0,W.write(a.from([fe])),b(W,L),ne===5&&Y.write(),V(W,G),_e&&(ne===5&&Se.write(),q(W,_e.topic),V(W,_e.payload)),ae!=null&&V(W,ae),ve!=null&&V(W,ve),!0}function v(X,W,se){let Z=se?se.protocolVersion:4,J=X||{},ne=Z===5?J.reasonCode:J.returnCode,_e=J.properties,pe=2;if(typeof ne!="number")return W.destroy(new Error("Invalid return code")),!1;let L=null;if(Z===5){if(L=le(W,_e),!L)return!1;pe+=L.length}return W.write(s.CONNACK_HEADER),Q(W,pe),W.write(J.sessionPresent?s.SESSIONPRESENT_HEADER:n),W.write(a.from([ne])),L?.write(),!0}function A(X,W,se){e("publish: packet: %o",X);let Z=se?se.protocolVersion:4,J=X||{},ne=J.qos||0,_e=J.retain?s.RETAIN_MASK:0,pe=J.topic,L=J.payload||c,G=J.messageId,ae=J.properties,ve=0;if(typeof pe=="string")ve+=a.byteLength(pe)+2;else if(a.isBuffer(pe))ve+=pe.length+2;else return W.destroy(new Error("Invalid topic")),!1;if(a.isBuffer(L)?ve+=L.length:ve+=a.byteLength(L),ne&&typeof G!="number")return W.destroy(new Error("Invalid messageId")),!1;ne&&(ve+=2);let we=null;if(Z===5){if(we=le(W,ae),!we)return!1;ve+=we.length}return W.write(s.PUBLISH_HEADER[ne][J.dup?1:0][_e?1:0]),Q(W,ve),b(W,ue(pe)),W.write(pe),ne>0&&b(W,G),we?.write(),e("publish: payload: %o",L),W.write(L)}function _(X,W,se){let Z=se?se.protocolVersion:4,J=X||{},ne=J.cmd||"puback",_e=J.messageId,pe=J.dup&&ne==="pubrel"?s.DUP_MASK:0,L=0,G=J.reasonCode,ae=J.properties,ve=Z===5?3:2;if(ne==="pubrel"&&(L=1),typeof _e!="number")return W.destroy(new Error("Invalid messageId")),!1;let we=null;if(Z===5&&typeof ae=="object"){if(we=B(W,ae,se,ve),!we)return!1;ve+=we.length}return W.write(s.ACKS[ne][L][pe][0]),ve===3&&(ve+=G!==0?1:-1),Q(W,ve),b(W,_e),Z===5&&ve!==2&&W.write(a.from([G])),we!==null?we.write():ve===4&&W.write(a.from([0])),!0}function R(X,W,se){e("subscribe: packet: ");let Z=se?se.protocolVersion:4,J=X||{},ne=J.dup?s.DUP_MASK:0,_e=J.messageId,pe=J.subscriptions,L=J.properties,G=0;if(typeof _e!="number")return W.destroy(new Error("Invalid messageId")),!1;G+=2;let ae=null;if(Z===5){if(ae=le(W,L),!ae)return!1;G+=ae.length}if(typeof pe=="object"&&pe.length)for(let we=0;we<pe.length;we+=1){let xe=pe[we].topic,Y=pe[we].qos;if(typeof xe!="string")return W.destroy(new Error("Invalid subscriptions - invalid topic")),!1;if(typeof Y!="number")return W.destroy(new Error("Invalid subscriptions - invalid qos")),!1;if(Z===5){if(typeof(pe[we].nl||!1)!="boolean")return W.destroy(new Error("Invalid subscriptions - invalid No Local")),!1;if(typeof(pe[we].rap||!1)!="boolean")return W.destroy(new Error("Invalid subscriptions - invalid Retain as Published")),!1;let Se=pe[we].rh||0;if(typeof Se!="number"||Se>2)return W.destroy(new Error("Invalid subscriptions - invalid Retain Handling")),!1}G+=a.byteLength(xe)+2+1}else return W.destroy(new Error("Invalid subscriptions")),!1;e("subscribe: writing to stream: %o",s.SUBSCRIBE_HEADER),W.write(s.SUBSCRIBE_HEADER[1][ne?1:0][0]),Q(W,G),b(W,_e),ae!==null&&ae.write();let ve=!0;for(let we of pe){let xe=we.topic,Y=we.qos,Se=+we.nl,Pe=+we.rap,fe=we.rh,Me;q(W,xe),Me=s.SUBSCRIBE_OPTIONS_QOS[Y],Z===5&&(Me|=Se?s.SUBSCRIBE_OPTIONS_NL:0,Me|=Pe?s.SUBSCRIBE_OPTIONS_RAP:0,Me|=fe?s.SUBSCRIBE_OPTIONS_RH[fe]:0),ve=W.write(a.from([Me]))}return ve}function w(X,W,se){let Z=se?se.protocolVersion:4,J=X||{},ne=J.messageId,_e=J.granted,pe=J.properties,L=0;if(typeof ne!="number")return W.destroy(new Error("Invalid messageId")),!1;if(L+=2,typeof _e=="object"&&_e.length)for(let ae=0;ae<_e.length;ae+=1){if(typeof _e[ae]!="number")return W.destroy(new Error("Invalid qos vector")),!1;L+=1}else return W.destroy(new Error("Invalid qos vector")),!1;let G=null;if(Z===5){if(G=B(W,pe,se,L),!G)return!1;L+=G.length}return W.write(s.SUBACK_HEADER),Q(W,L),b(W,ne),G!==null&&G.write(),W.write(a.from(_e))}function I(X,W,se){let Z=se?se.protocolVersion:4,J=X||{},ne=J.messageId,_e=J.dup?s.DUP_MASK:0,pe=J.unsubscriptions,L=J.properties,G=0;if(typeof ne!="number")return W.destroy(new Error("Invalid messageId")),!1;if(G+=2,typeof pe=="object"&&pe.length)for(let we=0;we<pe.length;we+=1){if(typeof pe[we]!="string")return W.destroy(new Error("Invalid unsubscriptions")),!1;G+=a.byteLength(pe[we])+2}else return W.destroy(new Error("Invalid unsubscriptions")),!1;let ae=null;if(Z===5){if(ae=le(W,L),!ae)return!1;G+=ae.length}W.write(s.UNSUBSCRIBE_HEADER[1][_e?1:0][0]),Q(W,G),b(W,ne),ae!==null&&ae.write();let ve=!0;for(let we=0;we<pe.length;we++)ve=q(W,pe[we]);return ve}function k(X,W,se){let Z=se?se.protocolVersion:4,J=X||{},ne=J.messageId,_e=J.dup?s.DUP_MASK:0,pe=J.granted,L=J.properties,G=J.cmd,ae=0,ve=2;if(typeof ne!="number")return W.destroy(new Error("Invalid messageId")),!1;if(Z===5)if(typeof pe=="object"&&pe.length)for(let xe=0;xe<pe.length;xe+=1){if(typeof pe[xe]!="number")return W.destroy(new Error("Invalid qos vector")),!1;ve+=1}else return W.destroy(new Error("Invalid qos vector")),!1;let we=null;if(Z===5){if(we=B(W,L,se,ve),!we)return!1;ve+=we.length}return W.write(s.ACKS[G][ae][_e][0]),Q(W,ve),b(W,ne),we!==null&&we.write(),Z===5&&W.write(a.from(pe)),!0}function M(X,W,se){return W.write(s.EMPTY[X.cmd])}function U(X,W,se){let Z=se?se.protocolVersion:4,J=X||{},ne=J.reasonCode,_e=J.properties,pe=Z===5?1:0,L=null;if(Z===5){if(L=B(W,_e,se,pe),!L)return!1;pe+=L.length}return W.write(a.from([s.codes.disconnect<<4])),Q(W,pe),Z===5&&W.write(a.from([ne])),L!==null&&L.write(),!0}function T(X,W,se){let Z=se?se.protocolVersion:4,J=X||{},ne=J.reasonCode,_e=J.properties,pe=Z===5?1:0;Z!==5&&W.destroy(new Error("Invalid mqtt version for auth packet"));let L=B(W,_e,se,pe);return L?(pe+=L.length,W.write(a.from([s.codes.auth<<4])),Q(W,pe),W.write(a.from([ne])),L!==null&&L.write(),!0):!1}var z={};function Q(X,W){if(W>s.VARBYTEINT_MAX)return X.destroy(new Error(`Invalid variable byte integer: ${W}`)),!1;let se=z[W];return se||(se=p(W),W<16384&&(z[W]=se)),e("writeVarByteInt: writing to stream: %o",se),X.write(se)}function q(X,W){let se=a.byteLength(W);return b(X,se),e("writeString: %s",W),X.write(W,"utf8")}function he(X,W,se){q(X,W),q(X,se)}function ie(X,W){return e("writeNumberCached: number: %d",W),e("writeNumberCached: %o",i[W]),X.write(i[W])}function re(X,W){let se=l(W);return e("writeNumberGenerated: %o",se),X.write(se)}function ce(X,W){let se=g(W);return e("write4ByteNumber: %o",se),X.write(se)}function V(X,W){typeof W=="string"?q(X,W):W?(b(X,W.length),X.write(W)):b(X,0)}function le(X,W){if(typeof W!="object"||W.length!=null)return{length:1,write(){ee(X,{},0)}};let se=0;function Z(J,ne){let _e=s.propertiesTypes[J],pe=0;switch(_e){case"byte":{if(typeof ne!="boolean")return X.destroy(new Error(`Invalid ${J}: ${ne}`)),!1;pe+=2;break}case"int8":{if(typeof ne!="number"||ne<0||ne>255)return X.destroy(new Error(`Invalid ${J}: ${ne}`)),!1;pe+=2;break}case"binary":{if(ne&&ne===null)return X.destroy(new Error(`Invalid ${J}: ${ne}`)),!1;pe+=1+a.byteLength(ne)+2;break}case"int16":{if(typeof ne!="number"||ne<0||ne>65535)return X.destroy(new Error(`Invalid ${J}: ${ne}`)),!1;pe+=3;break}case"int32":{if(typeof ne!="number"||ne<0||ne>4294967295)return X.destroy(new Error(`Invalid ${J}: ${ne}`)),!1;pe+=5;break}case"var":{if(typeof ne!="number"||ne<0||ne>268435455)return X.destroy(new Error(`Invalid ${J}: ${ne}`)),!1;pe+=1+a.byteLength(p(ne));break}case"string":{if(typeof ne!="string")return X.destroy(new Error(`Invalid ${J}: ${ne}`)),!1;pe+=3+a.byteLength(ne.toString());break}case"pair":{if(typeof ne!="object")return X.destroy(new Error(`Invalid ${J}: ${ne}`)),!1;pe+=Object.getOwnPropertyNames(ne).reduce((L,G)=>{let ae=ne[G];return Array.isArray(ae)?L+=ae.reduce((ve,we)=>(ve+=3+a.byteLength(G.toString())+2+a.byteLength(we.toString()),ve),0):L+=3+a.byteLength(G.toString())+2+a.byteLength(ne[G].toString()),L},0);break}default:return X.destroy(new Error(`Invalid property ${J}: ${ne}`)),!1}return pe}if(W)for(let J in W){let ne=0,_e=0,pe=W[J];if(pe!==void 0){if(Array.isArray(pe))for(let L=0;L<pe.length;L++){if(_e=Z(J,pe[L]),!_e)return!1;ne+=_e}else{if(_e=Z(J,pe),!_e)return!1;ne=_e}if(!ne)return!1;se+=ne}}return{length:a.byteLength(p(se))+se,write(){ee(X,W,se)}}}function B(X,W,se,Z){let J=["reasonString","userProperties"],ne=se&&se.properties&&se.properties.maximumPacketSize?se.properties.maximumPacketSize:0,_e=le(X,W);if(ne)for(;Z+_e.length>ne;){let pe=J.shift();if(pe&&W[pe])delete W[pe],_e=le(X,W);else return!1}return _e}function te(X,W,se){switch(s.propertiesTypes[W]){case"byte":{X.write(a.from([s.properties[W]])),X.write(a.from([+se]));break}case"int8":{X.write(a.from([s.properties[W]])),X.write(a.from([se]));break}case"binary":{X.write(a.from([s.properties[W]])),V(X,se);break}case"int16":{X.write(a.from([s.properties[W]])),b(X,se);break}case"int32":{X.write(a.from([s.properties[W]])),ce(X,se);break}case"var":{X.write(a.from([s.properties[W]])),Q(X,se);break}case"string":{X.write(a.from([s.properties[W]])),q(X,se);break}case"pair":{Object.getOwnPropertyNames(se).forEach(Z=>{let J=se[Z];Array.isArray(J)?J.forEach(ne=>{X.write(a.from([s.properties[W]])),he(X,Z.toString(),ne.toString())}):(X.write(a.from([s.properties[W]])),he(X,Z.toString(),J.toString()))});break}default:return X.destroy(new Error(`Invalid property ${W} value: ${se}`)),!1}}function ee(X,W,se){Q(X,se);for(let Z in W)if(Object.prototype.hasOwnProperty.call(W,Z)&&W[Z]!=null){let J=W[Z];if(Array.isArray(J))for(let ne=0;ne<J.length;ne++)te(X,Z,J[ne]);else te(X,Z,J)}}function ue(X){return X?X instanceof a?X.length:a.byteLength(X):0}function Oe(X){return typeof X=="string"||X instanceof a}h.exports=S}),Tu=Ee((f,h)=>{ye(),be(),me();var s=da(),{EventEmitter:a}=(tr(),He(Kt)),{Buffer:c}=(lt(),He(at));function n(t,e){let i=new r;return s(t,i,e),i.concat()}var r=class extends a{constructor(){super(),this._array=new Array(20),this._i=0}write(t){return this._array[this._i++]=t,!0}concat(){let t=0,e=new Array(this._array.length),i=this._array,l=0,d;for(d=0;d<i.length&&i[d]!==void 0;d++)typeof i[d]!="string"?e[d]=i[d].length:e[d]=c.byteLength(i[d]),t+=e[d];let p=c.allocUnsafe(t);for(d=0;d<i.length&&i[d]!==void 0;d++)typeof i[d]!="string"?(i[d].copy(p,l),l+=e[d]):(p.write(i[d],l),l+=e[d]);return p}destroy(t){t&&this.emit("error",t)}};h.exports=n}),ku=Ee(f=>{ye(),be(),me(),f.parser=Ou().parser,f.generate=Tu(),f.writeToStream=da()}),Cu=Ee((f,h)=>{ye(),be(),me(),h.exports=a;function s(n){return n instanceof Jr?Jr.from(n):new n.constructor(n.buffer.slice(),n.byteOffset,n.length)}function a(n){if(n=n||{},n.circles)return c(n);let r=new Map;if(r.set(Date,d=>new Date(d)),r.set(Map,(d,p)=>new Map(e(Array.from(d),p))),r.set(Set,(d,p)=>new Set(e(Array.from(d),p))),n.constructorHandlers)for(let d of n.constructorHandlers)r.set(d[0],d[1]);let t=null;return n.proto?l:i;function e(d,p){let g=Object.keys(d),b=new Array(g.length);for(let E=0;E<g.length;E++){let S=g[E],O=d[S];typeof O!="object"||O===null?b[S]=O:O.constructor!==Object&&(t=r.get(O.constructor))?b[S]=t(O,p):ArrayBuffer.isView(O)?b[S]=s(O):b[S]=p(O)}return b}function i(d){if(typeof d!="object"||d===null)return d;if(Array.isArray(d))return e(d,i);if(d.constructor!==Object&&(t=r.get(d.constructor)))return t(d,i);let p={};for(let g in d){if(Object.hasOwnProperty.call(d,g)===!1)continue;let b=d[g];typeof b!="object"||b===null?p[g]=b:b.constructor!==Object&&(t=r.get(b.constructor))?p[g]=t(b,i):ArrayBuffer.isView(b)?p[g]=s(b):p[g]=i(b)}return p}function l(d){if(typeof d!="object"||d===null)return d;if(Array.isArray(d))return e(d,l);if(d.constructor!==Object&&(t=r.get(d.constructor)))return t(d,l);let p={};for(let g in d){let b=d[g];typeof b!="object"||b===null?p[g]=b:b.constructor!==Object&&(t=r.get(b.constructor))?p[g]=t(b,l):ArrayBuffer.isView(b)?p[g]=s(b):p[g]=l(b)}return p}}function c(n){let r=[],t=[],e=new Map;if(e.set(Date,g=>new Date(g)),e.set(Map,(g,b)=>new Map(l(Array.from(g),b))),e.set(Set,(g,b)=>new Set(l(Array.from(g),b))),n.constructorHandlers)for(let g of n.constructorHandlers)e.set(g[0],g[1]);let i=null;return n.proto?p:d;function l(g,b){let E=Object.keys(g),S=new Array(E.length);for(let O=0;O<E.length;O++){let y=E[O],v=g[y];if(typeof v!="object"||v===null)S[y]=v;else if(v.constructor!==Object&&(i=e.get(v.constructor)))S[y]=i(v,b);else if(ArrayBuffer.isView(v))S[y]=s(v);else{let A=r.indexOf(v);A!==-1?S[y]=t[A]:S[y]=b(v)}}return S}function d(g){if(typeof g!="object"||g===null)return g;if(Array.isArray(g))return l(g,d);if(g.constructor!==Object&&(i=e.get(g.constructor)))return i(g,d);let b={};r.push(g),t.push(b);for(let E in g){if(Object.hasOwnProperty.call(g,E)===!1)continue;let S=g[E];if(typeof S!="object"||S===null)b[E]=S;else if(S.constructor!==Object&&(i=e.get(S.constructor)))b[E]=i(S,d);else if(ArrayBuffer.isView(S))b[E]=s(S);else{let O=r.indexOf(S);O!==-1?b[E]=t[O]:b[E]=d(S)}}return r.pop(),t.pop(),b}function p(g){if(typeof g!="object"||g===null)return g;if(Array.isArray(g))return l(g,p);if(g.constructor!==Object&&(i=e.get(g.constructor)))return i(g,p);let b={};r.push(g),t.push(b);for(let E in g){let S=g[E];if(typeof S!="object"||S===null)b[E]=S;else if(S.constructor!==Object&&(i=e.get(S.constructor)))b[E]=i(S,p);else if(ArrayBuffer.isView(S))b[E]=s(S);else{let O=r.indexOf(S);O!==-1?b[E]=t[O]:b[E]=p(S)}}return r.pop(),t.pop(),b}}}),Ru=Ee((f,h)=>{ye(),be(),me(),h.exports=Cu()()}),ju=Ee(f=>{ye(),be(),me(),Object.defineProperty(f,"__esModule",{value:!0}),f.validateTopic=h,f.validateTopics=s;function h(a){let c=a.split("/");for(let n=0;n<c.length;n++)if(c[n]!=="+"){if(c[n]==="#")return n===c.length-1;if(c[n].indexOf("+")!==-1||c[n].indexOf("#")!==-1)return!1}return!0}function s(a){if(a.length===0)return"empty_topic_list";for(let c=0;c<a.length;c++)if(!h(a[c]))return a[c];return null}}),ga=Ee(f=>{ye(),be(),me(),Object.defineProperty(f,"__esModule",{value:!0});var h=nr(),s={objectMode:!0},a={clean:!0},c=class{options;_inflights;constructor(n){this.options=n||{},this.options={...a,...n},this._inflights=new Map}put(n,r){return this._inflights.set(n.messageId,n),r&&r(),this}createStream(){let n=new h.Readable(s),r=[],t=!1,e=0;return this._inflights.forEach((i,l)=>{r.push(i)}),n._read=()=>{!t&&e<r.length?n.push(r[e++]):n.push(null)},n.destroy=i=>{if(!t)return t=!0,setTimeout(()=>{n.emit("close")},0),n},n}del(n,r){let t=this._inflights.get(n.messageId);return t?(this._inflights.delete(n.messageId),r(null,t)):r&&r(new Error("missing packet")),this}get(n,r){let t=this._inflights.get(n.messageId);return t?r(null,t):r&&r(new Error("missing packet")),this}close(n){this.options.clean&&(this._inflights=null),n&&n()}};f.default=c}),Mu=Ee(f=>{ye(),be(),me(),Object.defineProperty(f,"__esModule",{value:!0});var h=[0,16,128,131,135,144,145,151,153],s=(a,c,n)=>{a.log("handlePublish: packet %o",c),n=typeof n<"u"?n:a.noop;let r=c.topic.toString(),t=c.payload,{qos:e}=c,{messageId:i}=c,{options:l}=a;if(a.options.protocolVersion===5){let d;if(c.properties&&(d=c.properties.topicAlias),typeof d<"u")if(r.length===0)if(d>0&&d<=65535){let p=a.topicAliasRecv.getTopicByAlias(d);if(p)r=p,a.log("handlePublish :: topic complemented by alias. topic: %s - alias: %d",r,d);else{a.log("handlePublish :: unregistered topic alias. alias: %d",d),a.emit("error",new Error("Received unregistered Topic Alias"));return}}else{a.log("handlePublish :: topic alias out of range. alias: %d",d),a.emit("error",new Error("Received Topic Alias is out of range"));return}else if(a.topicAliasRecv.put(r,d))a.log("handlePublish :: registered topic: %s - alias: %d",r,d);else{a.log("handlePublish :: topic alias out of range. alias: %d",d),a.emit("error",new Error("Received Topic Alias is out of range"));return}}switch(a.log("handlePublish: qos %d",e),e){case 2:{l.customHandleAcks(r,t,c,(d,p)=>{if(typeof d=="number"&&(p=d,d=null),d)return a.emit("error",d);if(h.indexOf(p)===-1)return a.emit("error",new Error("Wrong reason code for pubrec"));p?a._sendPacket({cmd:"pubrec",messageId:i,reasonCode:p},n):a.incomingStore.put(c,()=>{a._sendPacket({cmd:"pubrec",messageId:i},n)})});break}case 1:{l.customHandleAcks(r,t,c,(d,p)=>{if(typeof d=="number"&&(p=d,d=null),d)return a.emit("error",d);if(h.indexOf(p)===-1)return a.emit("error",new Error("Wrong reason code for puback"));p||a.emit("message",r,t,c),a.handleMessage(c,g=>{if(g)return n&&n(g);a._sendPacket({cmd:"puback",messageId:i,reasonCode:p},n)})});break}case 0:a.emit("message",r,t,c),a.handleMessage(c,n);break;default:a.log("handlePublish: unknown QoS. Doing nothing.");break}};f.default=s}),Bu=Ee((f,h)=>{h.exports={version:"5.14.0"}}),cr=Ee(f=>{ye(),be(),me(),Object.defineProperty(f,"__esModule",{value:!0}),f.MQTTJS_VERSION=f.nextTick=f.ErrorWithSubackPacket=f.ErrorWithReasonCode=void 0,f.applyMixin=a;var h=class ya extends Error{code;constructor(n,r){super(n),this.code=r,Object.setPrototypeOf(this,ya.prototype),Object.getPrototypeOf(this).name="ErrorWithReasonCode"}};f.ErrorWithReasonCode=h;var s=class ma extends Error{packet;constructor(n,r){super(n),this.packet=r,Object.setPrototypeOf(this,ma.prototype),Object.getPrototypeOf(this).name="ErrorWithSubackPacket"}};f.ErrorWithSubackPacket=s;function a(c,n,r=!1){let t=[n];for(;;){let e=t[0],i=Object.getPrototypeOf(e);if(i?.prototype)t.unshift(i);else break}for(let e of t)for(let i of Object.getOwnPropertyNames(e.prototype))(r||i!=="constructor")&&Object.defineProperty(c.prototype,i,Object.getOwnPropertyDescriptor(e.prototype,i)??Object.create(null))}f.nextTick=typeof Qe?.nextTick=="function"?Qe.nextTick:c=>{setTimeout(c,0)},f.MQTTJS_VERSION=Bu().version}),rn=Ee(f=>{ye(),be(),me(),Object.defineProperty(f,"__esModule",{value:!0}),f.ReasonCodes=void 0;var h=cr();f.ReasonCodes={0:"",1:"Unacceptable protocol version",2:"Identifier rejected",3:"Server unavailable",4:"Bad username or password",5:"Not authorized",16:"No matching subscribers",17:"No subscription existed",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",132:"Unsupported Protocol Version",133:"Client Identifier not valid",134:"Bad User Name or Password",135:"Not authorized",136:"Server unavailable",137:"Server busy",138:"Banned",139:"Server shutting down",140:"Bad authentication method",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",145:"Packet identifier in use",146:"Packet Identifier not found",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"};var s=(a,c)=>{let{messageId:n}=c,r=c.cmd,t=null,e=a.outgoing[n]?a.outgoing[n].cb:null,i=null;if(!e){a.log("_handleAck :: Server sent an ack in error. Ignoring.");return}switch(a.log("_handleAck :: packet type",r),r){case"pubcomp":case"puback":{let l=c.reasonCode;l&&l>0&&l!==16?(i=new h.ErrorWithReasonCode(`Publish error: ${f.ReasonCodes[l]}`,l),a._removeOutgoingAndStoreMessage(n,()=>{e(i,c)})):a._removeOutgoingAndStoreMessage(n,e);break}case"pubrec":{t={cmd:"pubrel",qos:2,messageId:n};let l=c.reasonCode;l&&l>0&&l!==16?(i=new h.ErrorWithReasonCode(`Publish error: ${f.ReasonCodes[l]}`,l),a._removeOutgoingAndStoreMessage(n,()=>{e(i,c)})):a._sendPacket(t);break}case"suback":{delete a.outgoing[n],a.messageIdProvider.deallocate(n);let l=c.granted;for(let d=0;d<l.length;d++){let p=l[d];if((p&128)!==0){i=new Error(`Subscribe error: ${f.ReasonCodes[p]}`),i.code=p;let g=a.messageIdToTopic[n];g&&g.forEach(b=>{delete a._resubscribeTopics[b]})}}delete a.messageIdToTopic[n],a._invokeStoreProcessingQueue(),e(i,c);break}case"unsuback":{delete a.outgoing[n],a.messageIdProvider.deallocate(n),a._invokeStoreProcessingQueue(),e(null,c);break}default:a.emit("error",new Error("unrecognized packet type"))}a.disconnecting&&Object.keys(a.outgoing).length===0&&a.emit("outgoingEmpty")};f.default=s}),Nu=Ee(f=>{ye(),be(),me(),Object.defineProperty(f,"__esModule",{value:!0});var h=cr(),s=rn(),a=(c,n)=>{let{options:r}=c,t=r.protocolVersion,e=t===5?n.reasonCode:n.returnCode;if(t!==5){let i=new h.ErrorWithReasonCode(`Protocol error: Auth packets are only supported in MQTT 5. Your version:${t}`,e);c.emit("error",i);return}c.handleAuth(n,(i,l)=>{if(i){c.emit("error",i);return}if(e===24)c.reconnecting=!1,c._sendPacket(l);else{let d=new h.ErrorWithReasonCode(`Connection refused: ${s.ReasonCodes[e]}`,e);c.emit("error",d)}})};f.default=a}),Uu=Ee(f=>{var g,b,E,S,O,y,v,A,_,R,w,I,k,M,U,T,z,Q,q,he,ie,re,ce,V,le,B,te,ee,vi,Oe,X,W,se,ba,J,ne,_e,Wt,$t,wi,Or,Ir,Ye,_i,gr,qt,Si,fe;ye(),be(),me(),Object.defineProperty(f,"__esModule",{value:!0}),f.LRUCache=void 0;var h=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,s=new Set,a=typeof Qe=="object"&&Qe?Qe:{},c=(Me,o,u,m)=>{typeof a.emitWarning=="function"?a.emitWarning(Me,o,u,m):console.error(`[${u}] ${o}: ${Me}`)},n=globalThis.AbortController,r=globalThis.AbortSignal;if(typeof n>"u"){r=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(u,m){this._onabort.push(m)}},n=class{constructor(){o()}signal=new r;abort(u){if(!this.signal.aborted){this.signal.reason=u,this.signal.aborted=!0;for(let m of this.signal._onabort)m(u);this.signal.onabort?.(u)}}};let Me=a.env?.LRU_CACHE_IGNORE_AC_WARNING!=="1",o=()=>{Me&&(Me=!1,c("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",o))}}var t=Me=>!s.has(Me),e=Me=>Me&&Me===Math.floor(Me)&&Me>0&&isFinite(Me),i=Me=>e(Me)?Me<=Math.pow(2,8)?Uint8Array:Me<=Math.pow(2,16)?Uint16Array:Me<=Math.pow(2,32)?Uint32Array:Me<=Number.MAX_SAFE_INTEGER?l:null:null,l=class extends Array{constructor(Me){super(Me),this.fill(0)}},d=(g=class{heap;length;static create(o){let u=i(o);if(!u)return[];De(g,b,!0);let m=new g(o,u);return De(g,b,!1),m}constructor(o,u){if(!D(g,b))throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new u(o),this.length=0}push(o){this.heap[this.length++]=o}pop(){return this.heap[--this.length]}},b=new WeakMap,ze(g,b,!1),g),p=(fe=class{constructor(o){ze(this,ee);ze(this,O);ze(this,y);ze(this,v);ze(this,A);ze(this,_);ze(this,R);st(this,"ttl");st(this,"ttlResolution");st(this,"ttlAutopurge");st(this,"updateAgeOnGet");st(this,"updateAgeOnHas");st(this,"allowStale");st(this,"noDisposeOnSet");st(this,"noUpdateTTL");st(this,"maxEntrySize");st(this,"sizeCalculation");st(this,"noDeleteOnFetchRejection");st(this,"noDeleteOnStaleGet");st(this,"allowStaleOnFetchAbort");st(this,"allowStaleOnFetchRejection");st(this,"ignoreFetchAbort");ze(this,w);ze(this,I);ze(this,k);ze(this,M);ze(this,U);ze(this,T);ze(this,z);ze(this,Q);ze(this,q);ze(this,he);ze(this,ie);ze(this,re);ze(this,ce);ze(this,V);ze(this,le);ze(this,B);ze(this,te);ze(this,Oe,()=>{});ze(this,X,()=>{});ze(this,W,()=>{});ze(this,se,()=>!1);ze(this,J,o=>{});ze(this,ne,(o,u,m)=>{});ze(this,_e,(o,u,m,C)=>{if(m||C)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0});st(this,E,"LRUCache");let{max:u=0,ttl:m,ttlResolution:C=1,ttlAutopurge:N,updateAgeOnGet:H,updateAgeOnHas:de,allowStale:$,dispose:oe,disposeAfter:Re,noDisposeOnSet:ke,noUpdateTTL:Ne,maxSize:Ue=0,maxEntrySize:Xe=0,sizeCalculation:Fe,fetchMethod:Le,memoMethod:We,noDeleteOnFetchRejection:et,noDeleteOnStaleGet:Ge,allowStaleOnFetchRejection:Ve,allowStaleOnFetchAbort:it,ignoreFetchAbort:mt}=o;if(u!==0&&!e(u))throw new TypeError("max option must be a nonnegative integer");let ht=u?i(u):Array;if(!ht)throw new Error("invalid max value: "+u);if(De(this,O,u),De(this,y,Ue),this.maxEntrySize=Xe||D(this,y),this.sizeCalculation=Fe,this.sizeCalculation){if(!D(this,y)&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(We!==void 0&&typeof We!="function")throw new TypeError("memoMethod must be a function if defined");if(De(this,R,We),Le!==void 0&&typeof Le!="function")throw new TypeError("fetchMethod must be a function if specified");if(De(this,_,Le),De(this,B,!!Le),De(this,k,new Map),De(this,M,new Array(u).fill(void 0)),De(this,U,new Array(u).fill(void 0)),De(this,T,new ht(u)),De(this,z,new ht(u)),De(this,Q,0),De(this,q,0),De(this,he,d.create(u)),De(this,w,0),De(this,I,0),typeof oe=="function"&&De(this,v,oe),typeof Re=="function"?(De(this,A,Re),De(this,ie,[])):(De(this,A,void 0),De(this,ie,void 0)),De(this,le,!!D(this,v)),De(this,te,!!D(this,A)),this.noDisposeOnSet=!!ke,this.noUpdateTTL=!!Ne,this.noDeleteOnFetchRejection=!!et,this.allowStaleOnFetchRejection=!!Ve,this.allowStaleOnFetchAbort=!!it,this.ignoreFetchAbort=!!mt,this.maxEntrySize!==0){if(D(this,y)!==0&&!e(D(this,y)))throw new TypeError("maxSize must be a positive integer if specified");if(!e(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");Be(this,ee,ba).call(this)}if(this.allowStale=!!$,this.noDeleteOnStaleGet=!!Ge,this.updateAgeOnGet=!!H,this.updateAgeOnHas=!!de,this.ttlResolution=e(C)||C===0?C:1,this.ttlAutopurge=!!N,this.ttl=m||0,this.ttl){if(!e(this.ttl))throw new TypeError("ttl must be a positive integer if specified");Be(this,ee,vi).call(this)}if(D(this,O)===0&&this.ttl===0&&D(this,y)===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!D(this,O)&&!D(this,y)){let j="LRU_CACHE_UNBOUNDED";t(j)&&(s.add(j),c("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",j,fe))}}static unsafeExposeInternals(o){return{starts:D(o,ce),ttls:D(o,V),sizes:D(o,re),keyMap:D(o,k),keyList:D(o,M),valList:D(o,U),next:D(o,T),prev:D(o,z),get head(){return D(o,Q)},get tail(){return D(o,q)},free:D(o,he),isBackgroundFetch:u=>{var m;return Be(m=o,ee,Ye).call(m,u)},backgroundFetch:(u,m,C,N)=>{var H;return Be(H=o,ee,Ir).call(H,u,m,C,N)},moveToTail:u=>{var m;return Be(m=o,ee,gr).call(m,u)},indexes:u=>{var m;return Be(m=o,ee,Wt).call(m,u)},rindexes:u=>{var m;return Be(m=o,ee,$t).call(m,u)},isStale:u=>{var m;return D(m=o,se).call(m,u)}}}get max(){return D(this,O)}get maxSize(){return D(this,y)}get calculatedSize(){return D(this,I)}get size(){return D(this,w)}get fetchMethod(){return D(this,_)}get memoMethod(){return D(this,R)}get dispose(){return D(this,v)}get disposeAfter(){return D(this,A)}getRemainingTTL(o){return D(this,k).has(o)?1/0:0}*entries(){for(let o of Be(this,ee,Wt).call(this))D(this,U)[o]!==void 0&&D(this,M)[o]!==void 0&&!Be(this,ee,Ye).call(this,D(this,U)[o])&&(yield[D(this,M)[o],D(this,U)[o]])}*rentries(){for(let o of Be(this,ee,$t).call(this))D(this,U)[o]!==void 0&&D(this,M)[o]!==void 0&&!Be(this,ee,Ye).call(this,D(this,U)[o])&&(yield[D(this,M)[o],D(this,U)[o]])}*keys(){for(let o of Be(this,ee,Wt).call(this)){let u=D(this,M)[o];u!==void 0&&!Be(this,ee,Ye).call(this,D(this,U)[o])&&(yield u)}}*rkeys(){for(let o of Be(this,ee,$t).call(this)){let u=D(this,M)[o];u!==void 0&&!Be(this,ee,Ye).call(this,D(this,U)[o])&&(yield u)}}*values(){for(let o of Be(this,ee,Wt).call(this))D(this,U)[o]!==void 0&&!Be(this,ee,Ye).call(this,D(this,U)[o])&&(yield D(this,U)[o])}*rvalues(){for(let o of Be(this,ee,$t).call(this))D(this,U)[o]!==void 0&&!Be(this,ee,Ye).call(this,D(this,U)[o])&&(yield D(this,U)[o])}[(S=Symbol.iterator,E=Symbol.toStringTag,S)](){return this.entries()}find(o,u={}){for(let m of Be(this,ee,Wt).call(this)){let C=D(this,U)[m],N=Be(this,ee,Ye).call(this,C)?C.__staleWhileFetching:C;if(N!==void 0&&o(N,D(this,M)[m],this))return this.get(D(this,M)[m],u)}}forEach(o,u=this){for(let m of Be(this,ee,Wt).call(this)){let C=D(this,U)[m],N=Be(this,ee,Ye).call(this,C)?C.__staleWhileFetching:C;N!==void 0&&o.call(u,N,D(this,M)[m],this)}}rforEach(o,u=this){for(let m of Be(this,ee,$t).call(this)){let C=D(this,U)[m],N=Be(this,ee,Ye).call(this,C)?C.__staleWhileFetching:C;N!==void 0&&o.call(u,N,D(this,M)[m],this)}}purgeStale(){let o=!1;for(let u of Be(this,ee,$t).call(this,{allowStale:!0}))D(this,se).call(this,u)&&(Be(this,ee,qt).call(this,D(this,M)[u],"expire"),o=!0);return o}info(o){let u=D(this,k).get(o);if(u===void 0)return;let m=D(this,U)[u],C=Be(this,ee,Ye).call(this,m)?m.__staleWhileFetching:m;if(C===void 0)return;let N={value:C};if(D(this,V)&&D(this,ce)){let H=D(this,V)[u],de=D(this,ce)[u];if(H&&de){let $=H-(h.now()-de);N.ttl=$,N.start=Date.now()}}return D(this,re)&&(N.size=D(this,re)[u]),N}dump(){let o=[];for(let u of Be(this,ee,Wt).call(this,{allowStale:!0})){let m=D(this,M)[u],C=D(this,U)[u],N=Be(this,ee,Ye).call(this,C)?C.__staleWhileFetching:C;if(N===void 0||m===void 0)continue;let H={value:N};if(D(this,V)&&D(this,ce)){H.ttl=D(this,V)[u];let de=h.now()-D(this,ce)[u];H.start=Math.floor(Date.now()-de)}D(this,re)&&(H.size=D(this,re)[u]),o.unshift([m,H])}return o}load(o){this.clear();for(let[u,m]of o){if(m.start){let C=Date.now()-m.start;m.start=h.now()-C}this.set(u,m.value,m)}}set(o,u,m={}){var Ne,Ue,Xe;if(u===void 0)return this.delete(o),this;let{ttl:C=this.ttl,start:N,noDisposeOnSet:H=this.noDisposeOnSet,sizeCalculation:de=this.sizeCalculation,status:$}=m,{noUpdateTTL:oe=this.noUpdateTTL}=m,Re=D(this,_e).call(this,o,u,m.size||0,de);if(this.maxEntrySize&&Re>this.maxEntrySize)return $&&($.set="miss",$.maxEntrySizeExceeded=!0),Be(this,ee,qt).call(this,o,"set"),this;let ke=D(this,w)===0?void 0:D(this,k).get(o);if(ke===void 0)ke=D(this,w)===0?D(this,q):D(this,he).length!==0?D(this,he).pop():D(this,w)===D(this,O)?Be(this,ee,Or).call(this,!1):D(this,w),D(this,M)[ke]=o,D(this,U)[ke]=u,D(this,k).set(o,ke),D(this,T)[D(this,q)]=ke,D(this,z)[ke]=D(this,q),De(this,q,ke),_r(this,w)._++,D(this,ne).call(this,ke,Re,$),$&&($.set="add"),oe=!1;else{Be(this,ee,gr).call(this,ke);let Fe=D(this,U)[ke];if(u!==Fe){if(D(this,B)&&Be(this,ee,Ye).call(this,Fe)){Fe.__abortController.abort(new Error("replaced"));let{__staleWhileFetching:Le}=Fe;Le!==void 0&&!H&&(D(this,le)&&((Ne=D(this,v))==null||Ne.call(this,Le,o,"set")),D(this,te)&&D(this,ie)?.push([Le,o,"set"]))}else H||(D(this,le)&&((Ue=D(this,v))==null||Ue.call(this,Fe,o,"set")),D(this,te)&&D(this,ie)?.push([Fe,o,"set"]));if(D(this,J).call(this,ke),D(this,ne).call(this,ke,Re,$),D(this,U)[ke]=u,$){$.set="replace";let Le=Fe&&Be(this,ee,Ye).call(this,Fe)?Fe.__staleWhileFetching:Fe;Le!==void 0&&($.oldValue=Le)}}else $&&($.set="update")}if(C!==0&&!D(this,V)&&Be(this,ee,vi).call(this),D(this,V)&&(oe||D(this,W).call(this,ke,C,N),$&&D(this,X).call(this,$,ke)),!H&&D(this,te)&&D(this,ie)){let Fe=D(this,ie),Le;for(;Le=Fe?.shift();)(Xe=D(this,A))==null||Xe.call(this,...Le)}return this}pop(){var o;try{for(;D(this,w);){let u=D(this,U)[D(this,Q)];if(Be(this,ee,Or).call(this,!0),Be(this,ee,Ye).call(this,u)){if(u.__staleWhileFetching)return u.__staleWhileFetching}else if(u!==void 0)return u}}finally{if(D(this,te)&&D(this,ie)){let u=D(this,ie),m;for(;m=u?.shift();)(o=D(this,A))==null||o.call(this,...m)}}}has(o,u={}){let{updateAgeOnHas:m=this.updateAgeOnHas,status:C}=u,N=D(this,k).get(o);if(N!==void 0){let H=D(this,U)[N];if(Be(this,ee,Ye).call(this,H)&&H.__staleWhileFetching===void 0)return!1;if(D(this,se).call(this,N))C&&(C.has="stale",D(this,X).call(this,C,N));else return m&&D(this,Oe).call(this,N),C&&(C.has="hit",D(this,X).call(this,C,N)),!0}else C&&(C.has="miss");return!1}peek(o,u={}){let{allowStale:m=this.allowStale}=u,C=D(this,k).get(o);if(C===void 0||!m&&D(this,se).call(this,C))return;let N=D(this,U)[C];return Be(this,ee,Ye).call(this,N)?N.__staleWhileFetching:N}async fetch(o,u={}){let{allowStale:m=this.allowStale,updateAgeOnGet:C=this.updateAgeOnGet,noDeleteOnStaleGet:N=this.noDeleteOnStaleGet,ttl:H=this.ttl,noDisposeOnSet:de=this.noDisposeOnSet,size:$=0,sizeCalculation:oe=this.sizeCalculation,noUpdateTTL:Re=this.noUpdateTTL,noDeleteOnFetchRejection:ke=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:Ne=this.allowStaleOnFetchRejection,ignoreFetchAbort:Ue=this.ignoreFetchAbort,allowStaleOnFetchAbort:Xe=this.allowStaleOnFetchAbort,context:Fe,forceRefresh:Le=!1,status:We,signal:et}=u;if(!D(this,B))return We&&(We.fetch="get"),this.get(o,{allowStale:m,updateAgeOnGet:C,noDeleteOnStaleGet:N,status:We});let Ge={allowStale:m,updateAgeOnGet:C,noDeleteOnStaleGet:N,ttl:H,noDisposeOnSet:de,size:$,sizeCalculation:oe,noUpdateTTL:Re,noDeleteOnFetchRejection:ke,allowStaleOnFetchRejection:Ne,allowStaleOnFetchAbort:Xe,ignoreFetchAbort:Ue,status:We,signal:et},Ve=D(this,k).get(o);if(Ve===void 0){We&&(We.fetch="miss");let it=Be(this,ee,Ir).call(this,o,Ve,Ge,Fe);return it.__returned=it}else{let it=D(this,U)[Ve];if(Be(this,ee,Ye).call(this,it)){let F=m&&it.__staleWhileFetching!==void 0;return We&&(We.fetch="inflight",F&&(We.returnedStale=!0)),F?it.__staleWhileFetching:it.__returned=it}let mt=D(this,se).call(this,Ve);if(!Le&&!mt)return We&&(We.fetch="hit"),Be(this,ee,gr).call(this,Ve),C&&D(this,Oe).call(this,Ve),We&&D(this,X).call(this,We,Ve),it;let ht=Be(this,ee,Ir).call(this,o,Ve,Ge,Fe),j=ht.__staleWhileFetching!==void 0&&m;return We&&(We.fetch=mt?"stale":"refresh",j&&mt&&(We.returnedStale=!0)),j?ht.__staleWhileFetching:ht.__returned=ht}}async forceFetch(o,u={}){let m=await this.fetch(o,u);if(m===void 0)throw new Error("fetch() returned undefined");return m}memo(o,u={}){let m=D(this,R);if(!m)throw new Error("no memoMethod provided to constructor");let{context:C,forceRefresh:N,...H}=u,de=this.get(o,H);if(!N&&de!==void 0)return de;let $=m(o,de,{options:H,context:C});return this.set(o,$,H),$}get(o,u={}){let{allowStale:m=this.allowStale,updateAgeOnGet:C=this.updateAgeOnGet,noDeleteOnStaleGet:N=this.noDeleteOnStaleGet,status:H}=u,de=D(this,k).get(o);if(de!==void 0){let $=D(this,U)[de],oe=Be(this,ee,Ye).call(this,$);return H&&D(this,X).call(this,H,de),D(this,se).call(this,de)?(H&&(H.get="stale"),oe?(H&&m&&$.__staleWhileFetching!==void 0&&(H.returnedStale=!0),m?$.__staleWhileFetching:void 0):(N||Be(this,ee,qt).call(this,o,"expire"),H&&m&&(H.returnedStale=!0),m?$:void 0)):(H&&(H.get="hit"),oe?$.__staleWhileFetching:(Be(this,ee,gr).call(this,de),C&&D(this,Oe).call(this,de),$))}else H&&(H.get="miss")}delete(o){return Be(this,ee,qt).call(this,o,"delete")}clear(){return Be(this,ee,Si).call(this,"delete")}},O=new WeakMap,y=new WeakMap,v=new WeakMap,A=new WeakMap,_=new WeakMap,R=new WeakMap,w=new WeakMap,I=new WeakMap,k=new WeakMap,M=new WeakMap,U=new WeakMap,T=new WeakMap,z=new WeakMap,Q=new WeakMap,q=new WeakMap,he=new WeakMap,ie=new WeakMap,re=new WeakMap,ce=new WeakMap,V=new WeakMap,le=new WeakMap,B=new WeakMap,te=new WeakMap,ee=new WeakSet,vi=function(){let o=new l(D(this,O)),u=new l(D(this,O));De(this,V,o),De(this,ce,u),De(this,W,(N,H,de=h.now())=>{if(u[N]=H!==0?de:0,o[N]=H,H!==0&&this.ttlAutopurge){let $=setTimeout(()=>{D(this,se).call(this,N)&&Be(this,ee,qt).call(this,D(this,M)[N],"expire")},H+1);$.unref&&$.unref()}}),De(this,Oe,N=>{u[N]=o[N]!==0?h.now():0}),De(this,X,(N,H)=>{if(o[H]){let de=o[H],$=u[H];if(!de||!$)return;N.ttl=de,N.start=$,N.now=m||C();let oe=N.now-$;N.remainingTTL=de-oe}});let m=0,C=()=>{let N=h.now();if(this.ttlResolution>0){m=N;let H=setTimeout(()=>m=0,this.ttlResolution);H.unref&&H.unref()}return N};this.getRemainingTTL=N=>{let H=D(this,k).get(N);if(H===void 0)return 0;let de=o[H],$=u[H];if(!de||!$)return 1/0;let oe=(m||C())-$;return de-oe},De(this,se,N=>{let H=u[N],de=o[N];return!!de&&!!H&&(m||C())-H>de})},Oe=new WeakMap,X=new WeakMap,W=new WeakMap,se=new WeakMap,ba=function(){let o=new l(D(this,O));De(this,I,0),De(this,re,o),De(this,J,u=>{De(this,I,D(this,I)-o[u]),o[u]=0}),De(this,_e,(u,m,C,N)=>{if(Be(this,ee,Ye).call(this,m))return 0;if(!e(C))if(N){if(typeof N!="function")throw new TypeError("sizeCalculation must be a function");if(C=N(m,u),!e(C))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return C}),De(this,ne,(u,m,C)=>{if(o[u]=m,D(this,y)){let N=D(this,y)-o[u];for(;D(this,I)>N;)Be(this,ee,Or).call(this,!0)}De(this,I,D(this,I)+o[u]),C&&(C.entrySize=m,C.totalCalculatedSize=D(this,I))})},J=new WeakMap,ne=new WeakMap,_e=new WeakMap,Wt=function*({allowStale:o=this.allowStale}={}){if(D(this,w))for(let u=D(this,q);!(!Be(this,ee,wi).call(this,u)||((o||!D(this,se).call(this,u))&&(yield u),u===D(this,Q)));)u=D(this,z)[u]},$t=function*({allowStale:o=this.allowStale}={}){if(D(this,w))for(let u=D(this,Q);!(!Be(this,ee,wi).call(this,u)||((o||!D(this,se).call(this,u))&&(yield u),u===D(this,q)));)u=D(this,T)[u]},wi=function(o){return o!==void 0&&D(this,k).get(D(this,M)[o])===o},Or=function(o){var N;let u=D(this,Q),m=D(this,M)[u],C=D(this,U)[u];return D(this,B)&&Be(this,ee,Ye).call(this,C)?C.__abortController.abort(new Error("evicted")):(D(this,le)||D(this,te))&&(D(this,le)&&((N=D(this,v))==null||N.call(this,C,m,"evict")),D(this,te)&&D(this,ie)?.push([C,m,"evict"])),D(this,J).call(this,u),o&&(D(this,M)[u]=void 0,D(this,U)[u]=void 0,D(this,he).push(u)),D(this,w)===1?(De(this,Q,De(this,q,0)),D(this,he).length=0):De(this,Q,D(this,T)[u]),D(this,k).delete(m),_r(this,w)._--,u},Ir=function(o,u,m,C){let N=u===void 0?void 0:D(this,U)[u];if(Be(this,ee,Ye).call(this,N))return N;let H=new n,{signal:de}=m;de?.addEventListener("abort",()=>H.abort(de.reason),{signal:H.signal});let $={signal:H.signal,options:m,context:C},oe=(Fe,Le=!1)=>{let{aborted:We}=H.signal,et=m.ignoreFetchAbort&&Fe!==void 0;if(m.status&&(We&&!Le?(m.status.fetchAborted=!0,m.status.fetchError=H.signal.reason,et&&(m.status.fetchAbortIgnored=!0)):m.status.fetchResolved=!0),We&&!et&&!Le)return ke(H.signal.reason);let Ge=Ue;return D(this,U)[u]===Ue&&(Fe===void 0?Ge.__staleWhileFetching?D(this,U)[u]=Ge.__staleWhileFetching:Be(this,ee,qt).call(this,o,"fetch"):(m.status&&(m.status.fetchUpdated=!0),this.set(o,Fe,$.options))),Fe},Re=Fe=>(m.status&&(m.status.fetchRejected=!0,m.status.fetchError=Fe),ke(Fe)),ke=Fe=>{let{aborted:Le}=H.signal,We=Le&&m.allowStaleOnFetchAbort,et=We||m.allowStaleOnFetchRejection,Ge=et||m.noDeleteOnFetchRejection,Ve=Ue;if(D(this,U)[u]===Ue&&(!Ge||Ve.__staleWhileFetching===void 0?Be(this,ee,qt).call(this,o,"fetch"):We||(D(this,U)[u]=Ve.__staleWhileFetching)),et)return m.status&&Ve.__staleWhileFetching!==void 0&&(m.status.returnedStale=!0),Ve.__staleWhileFetching;if(Ve.__returned===Ve)throw Fe},Ne=(Fe,Le)=>{var et;let We=(et=D(this,_))==null?void 0:et.call(this,o,N,$);We&&We instanceof Promise&&We.then(Ge=>Fe(Ge===void 0?void 0:Ge),Le),H.signal.addEventListener("abort",()=>{(!m.ignoreFetchAbort||m.allowStaleOnFetchAbort)&&(Fe(void 0),m.allowStaleOnFetchAbort&&(Fe=Ge=>oe(Ge,!0)))})};m.status&&(m.status.fetchDispatched=!0);let Ue=new Promise(Ne).then(oe,Re),Xe=Object.assign(Ue,{__abortController:H,__staleWhileFetching:N,__returned:void 0});return u===void 0?(this.set(o,Xe,{...$.options,status:void 0}),u=D(this,k).get(o)):D(this,U)[u]=Xe,Xe},Ye=function(o){if(!D(this,B))return!1;let u=o;return!!u&&u instanceof Promise&&u.hasOwnProperty("__staleWhileFetching")&&u.__abortController instanceof n},_i=function(o,u){D(this,z)[u]=o,D(this,T)[o]=u},gr=function(o){o!==D(this,q)&&(o===D(this,Q)?De(this,Q,D(this,T)[o]):Be(this,ee,_i).call(this,D(this,z)[o],D(this,T)[o]),Be(this,ee,_i).call(this,D(this,q),o),De(this,q,o))},qt=function(o,u){var C,N;let m=!1;if(D(this,w)!==0){let H=D(this,k).get(o);if(H!==void 0)if(m=!0,D(this,w)===1)Be(this,ee,Si).call(this,u);else{D(this,J).call(this,H);let de=D(this,U)[H];if(Be(this,ee,Ye).call(this,de)?de.__abortController.abort(new Error("deleted")):(D(this,le)||D(this,te))&&(D(this,le)&&((C=D(this,v))==null||C.call(this,de,o,u)),D(this,te)&&D(this,ie)?.push([de,o,u])),D(this,k).delete(o),D(this,M)[H]=void 0,D(this,U)[H]=void 0,H===D(this,q))De(this,q,D(this,z)[H]);else if(H===D(this,Q))De(this,Q,D(this,T)[H]);else{let $=D(this,z)[H];D(this,T)[$]=D(this,T)[H];let oe=D(this,T)[H];D(this,z)[oe]=D(this,z)[H]}_r(this,w)._--,D(this,he).push(H)}}if(D(this,te)&&D(this,ie)?.length){let H=D(this,ie),de;for(;de=H?.shift();)(N=D(this,A))==null||N.call(this,...de)}return m},Si=function(o){var u,m;for(let C of Be(this,ee,$t).call(this,{allowStale:!0})){let N=D(this,U)[C];if(Be(this,ee,Ye).call(this,N))N.__abortController.abort(new Error("deleted"));else{let H=D(this,M)[C];D(this,le)&&((u=D(this,v))==null||u.call(this,N,H,o)),D(this,te)&&D(this,ie)?.push([N,H,o])}}if(D(this,k).clear(),D(this,U).fill(void 0),D(this,M).fill(void 0),D(this,V)&&D(this,ce)&&(D(this,V).fill(0),D(this,ce).fill(0)),D(this,re)&&D(this,re).fill(0),De(this,Q,0),De(this,q,0),D(this,he).length=0,De(this,I,0),De(this,w,0),D(this,te)&&D(this,ie)){let C=D(this,ie),N;for(;N=C?.shift();)(m=D(this,A))==null||m.call(this,...N)}},fe);f.LRUCache=p}),Nt=Ee(f=>{ye(),be(),me(),Object.defineProperty(f,"t",{value:!0}),f.ContainerIterator=f.Container=f.Base=void 0;var h=class{constructor(c=0){this.iteratorType=c}equals(c){return this.o===c.o}};f.ContainerIterator=h;var s=class{constructor(){this.i=0}get length(){return this.i}size(){return this.i}empty(){return this.i===0}};f.Base=s;var a=class extends s{};f.Container=a}),Lu=Ee(f=>{ye(),be(),me(),Object.defineProperty(f,"t",{value:!0}),f.default=void 0;var h=Nt(),s=class extends h.Base{constructor(c=[]){super(),this.S=[];let n=this;c.forEach(function(r){n.push(r)})}clear(){this.i=0,this.S=[]}push(c){return this.S.push(c),this.i+=1,this.i}pop(){if(this.i!==0)return this.i-=1,this.S.pop()}top(){return this.S[this.i-1]}},a=s;f.default=a}),Du=Ee(f=>{ye(),be(),me(),Object.defineProperty(f,"t",{value:!0}),f.default=void 0;var h=Nt(),s=class extends h.Base{constructor(c=[]){super(),this.j=0,this.q=[];let n=this;c.forEach(function(r){n.push(r)})}clear(){this.q=[],this.i=this.j=0}push(c){let n=this.q.length;if(this.j/n>.5&&this.j+this.i>=n&&n>4096){let r=this.i;for(let t=0;t<r;++t)this.q[t]=this.q[this.j+t];this.j=0,this.q[this.i]=c}else this.q[this.j+this.i]=c;return++this.i}pop(){if(this.i===0)return;let c=this.q[this.j++];return this.i-=1,c}front(){if(this.i!==0)return this.q[this.j]}},a=s;f.default=a}),Fu=Ee(f=>{ye(),be(),me(),Object.defineProperty(f,"t",{value:!0}),f.default=void 0;var h=Nt(),s=class extends h.Base{constructor(c=[],n=function(t,e){return t>e?-1:t<e?1:0},r=!0){if(super(),this.v=n,Array.isArray(c))this.C=r?[...c]:c;else{this.C=[];let e=this;c.forEach(function(i){e.C.push(i)})}this.i=this.C.length;let t=this.i>>1;for(let e=this.i-1>>1;e>=0;--e)this.k(e,t)}m(c){let n=this.C[c];for(;c>0;){let r=c-1>>1,t=this.C[r];if(this.v(t,n)<=0)break;this.C[c]=t,c=r}this.C[c]=n}k(c,n){let r=this.C[c];for(;c<n;){let t=c<<1|1,e=t+1,i=this.C[t];if(e<this.i&&this.v(i,this.C[e])>0&&(t=e,i=this.C[e]),this.v(i,r)>=0)break;this.C[c]=i,c=t}this.C[c]=r}clear(){this.i=0,this.C.length=0}push(c){this.C.push(c),this.m(this.i),this.i+=1}pop(){if(this.i===0)return;let c=this.C[0],n=this.C.pop();return this.i-=1,this.i&&(this.C[0]=n,this.k(0,this.i>>1)),c}top(){return this.C[0]}find(c){return this.C.indexOf(c)>=0}remove(c){let n=this.C.indexOf(c);return n<0?!1:(n===0?this.pop():n===this.i-1?(this.C.pop(),this.i-=1):(this.C.splice(n,1,this.C.pop()),this.i-=1,this.m(n),this.k(n,this.i>>1)),!0)}updateItem(c){let n=this.C.indexOf(c);return n<0?!1:(this.m(n),this.k(n,this.i>>1),!0)}toArray(){return[...this.C]}},a=s;f.default=a}),mo=Ee(f=>{ye(),be(),me(),Object.defineProperty(f,"t",{value:!0}),f.default=void 0;var h=Nt(),s=class extends h.Container{},a=s;f.default=a}),Ut=Ee(f=>{ye(),be(),me(),Object.defineProperty(f,"t",{value:!0}),f.throwIteratorAccessError=h;function h(){throw new RangeError("Iterator access denied!")}}),va=Ee(f=>{ye(),be(),me(),Object.defineProperty(f,"t",{value:!0}),f.RandomIterator=void 0;var h=Nt(),s=Ut(),a=class extends h.ContainerIterator{constructor(c,n){super(n),this.o=c,this.iteratorType===0?(this.pre=function(){return this.o===0&&(0,s.throwIteratorAccessError)(),this.o-=1,this},this.next=function(){return this.o===this.container.size()&&(0,s.throwIteratorAccessError)(),this.o+=1,this}):(this.pre=function(){return this.o===this.container.size()-1&&(0,s.throwIteratorAccessError)(),this.o+=1,this},this.next=function(){return this.o===-1&&(0,s.throwIteratorAccessError)(),this.o-=1,this})}get pointer(){return this.container.getElementByPos(this.o)}set pointer(c){this.container.setElementByPos(this.o,c)}};f.RandomIterator=a}),Wu=Ee(f=>{ye(),be(),me(),Object.defineProperty(f,"t",{value:!0}),f.default=void 0;var h=a(mo()),s=va();function a(t){return t&&t.t?t:{default:t}}var c=class wa extends s.RandomIterator{constructor(e,i,l){super(e,l),this.container=i}copy(){return new wa(this.o,this.container,this.iteratorType)}},n=class extends h.default{constructor(t=[],e=!0){if(super(),Array.isArray(t))this.J=e?[...t]:t,this.i=t.length;else{this.J=[];let i=this;t.forEach(function(l){i.pushBack(l)})}}clear(){this.i=0,this.J.length=0}begin(){return new c(0,this)}end(){return new c(this.i,this)}rBegin(){return new c(this.i-1,this,1)}rEnd(){return new c(-1,this,1)}front(){return this.J[0]}back(){return this.J[this.i-1]}getElementByPos(t){if(t<0||t>this.i-1)throw new RangeError;return this.J[t]}eraseElementByPos(t){if(t<0||t>this.i-1)throw new RangeError;return this.J.splice(t,1),this.i-=1,this.i}eraseElementByValue(t){let e=0;for(let i=0;i<this.i;++i)this.J[i]!==t&&(this.J[e++]=this.J[i]);return this.i=this.J.length=e,this.i}eraseElementByIterator(t){let e=t.o;return t=t.next(),this.eraseElementByPos(e),t}pushBack(t){return this.J.push(t),this.i+=1,this.i}popBack(){if(this.i!==0)return this.i-=1,this.J.pop()}setElementByPos(t,e){if(t<0||t>this.i-1)throw new RangeError;this.J[t]=e}insert(t,e,i=1){if(t<0||t>this.i)throw new RangeError;return this.J.splice(t,0,...new Array(i).fill(e)),this.i+=i,this.i}find(t){for(let e=0;e<this.i;++e)if(this.J[e]===t)return new c(e,this);return this.end()}reverse(){this.J.reverse()}unique(){let t=1;for(let e=1;e<this.i;++e)this.J[e]!==this.J[e-1]&&(this.J[t++]=this.J[e]);return this.i=this.J.length=t,this.i}sort(t){this.J.sort(t)}forEach(t){for(let e=0;e<this.i;++e)t(this.J[e],e,this)}[Symbol.iterator](){return(function*(){yield*this.J}).bind(this)()}},r=n;f.default=r}),$u=Ee(f=>{ye(),be(),me(),Object.defineProperty(f,"t",{value:!0}),f.default=void 0;var h=c(mo()),s=Nt(),a=Ut();function c(e){return e&&e.t?e:{default:e}}var n=class _a extends s.ContainerIterator{constructor(i,l,d,p){super(p),this.o=i,this.h=l,this.container=d,this.iteratorType===0?(this.pre=function(){return this.o.L===this.h&&(0,a.throwIteratorAccessError)(),this.o=this.o.L,this},this.next=function(){return this.o===this.h&&(0,a.throwIteratorAccessError)(),this.o=this.o.B,this}):(this.pre=function(){return this.o.B===this.h&&(0,a.throwIteratorAccessError)(),this.o=this.o.B,this},this.next=function(){return this.o===this.h&&(0,a.throwIteratorAccessError)(),this.o=this.o.L,this})}get pointer(){return this.o===this.h&&(0,a.throwIteratorAccessError)(),this.o.l}set pointer(i){this.o===this.h&&(0,a.throwIteratorAccessError)(),this.o.l=i}copy(){return new _a(this.o,this.h,this.container,this.iteratorType)}},r=class extends h.default{constructor(e=[]){super(),this.h={},this.p=this._=this.h.L=this.h.B=this.h;let i=this;e.forEach(function(l){i.pushBack(l)})}V(e){let{L:i,B:l}=e;i.B=l,l.L=i,e===this.p&&(this.p=l),e===this._&&(this._=i),this.i-=1}G(e,i){let l=i.B,d={l:e,L:i,B:l};i.B=d,l.L=d,i===this.h&&(this.p=d),l===this.h&&(this._=d),this.i+=1}clear(){this.i=0,this.p=this._=this.h.L=this.h.B=this.h}begin(){return new n(this.p,this.h,this)}end(){return new n(this.h,this.h,this)}rBegin(){return new n(this._,this.h,this,1)}rEnd(){return new n(this.h,this.h,this,1)}front(){return this.p.l}back(){return this._.l}getElementByPos(e){if(e<0||e>this.i-1)throw new RangeError;let i=this.p;for(;e--;)i=i.B;return i.l}eraseElementByPos(e){if(e<0||e>this.i-1)throw new RangeError;let i=this.p;for(;e--;)i=i.B;return this.V(i),this.i}eraseElementByValue(e){let i=this.p;for(;i!==this.h;)i.l===e&&this.V(i),i=i.B;return this.i}eraseElementByIterator(e){let i=e.o;return i===this.h&&(0,a.throwIteratorAccessError)(),e=e.next(),this.V(i),e}pushBack(e){return this.G(e,this._),this.i}popBack(){if(this.i===0)return;let e=this._.l;return this.V(this._),e}pushFront(e){return this.G(e,this.h),this.i}popFront(){if(this.i===0)return;let e=this.p.l;return this.V(this.p),e}setElementByPos(e,i){if(e<0||e>this.i-1)throw new RangeError;let l=this.p;for(;e--;)l=l.B;l.l=i}insert(e,i,l=1){if(e<0||e>this.i)throw new RangeError;if(l<=0)return this.i;if(e===0)for(;l--;)this.pushFront(i);else if(e===this.i)for(;l--;)this.pushBack(i);else{let d=this.p;for(let g=1;g<e;++g)d=d.B;let p=d.B;for(this.i+=l;l--;)d.B={l:i,L:d},d.B.L=d,d=d.B;d.B=p,p.L=d}return this.i}find(e){let i=this.p;for(;i!==this.h;){if(i.l===e)return new n(i,this.h,this);i=i.B}return this.end()}reverse(){if(this.i<=1)return;let e=this.p,i=this._,l=0;for(;l<<1<this.i;){let d=e.l;e.l=i.l,i.l=d,e=e.B,i=i.L,l+=1}}unique(){if(this.i<=1)return this.i;let e=this.p;for(;e!==this.h;){let i=e;for(;i.B!==this.h&&i.l===i.B.l;)i=i.B,this.i-=1;e.B=i.B,e.B.L=e,e=e.B}return this.i}sort(e){if(this.i<=1)return;let i=[];this.forEach(function(d){i.push(d)}),i.sort(e);let l=this.p;i.forEach(function(d){l.l=d,l=l.B})}merge(e){let i=this;if(this.i===0)e.forEach(function(l){i.pushBack(l)});else{let l=this.p;e.forEach(function(d){for(;l!==i.h&&l.l<=d;)l=l.B;i.G(d,l.L)})}return this.i}forEach(e){let i=this.p,l=0;for(;i!==this.h;)e(i.l,l++,this),i=i.B}[Symbol.iterator](){return(function*(){if(this.i===0)return;let e=this.p;for(;e!==this.h;)yield e.l,e=e.B}).bind(this)()}},t=r;f.default=t}),qu=Ee(f=>{ye(),be(),me(),Object.defineProperty(f,"t",{value:!0}),f.default=void 0;var h=a(mo()),s=va();function a(t){return t&&t.t?t:{default:t}}var c=class Sa extends s.RandomIterator{constructor(e,i,l){super(e,l),this.container=i}copy(){return new Sa(this.o,this.container,this.iteratorType)}},n=class extends h.default{constructor(t=[],e=4096){super(),this.j=0,this.D=0,this.R=0,this.N=0,this.P=0,this.A=[];let i=(()=>{if(typeof t.length=="number")return t.length;if(typeof t.size=="number")return t.size;if(typeof t.size=="function")return t.size();throw new TypeError("Cannot get the length or size of the container")})();this.F=e,this.P=Math.max(Math.ceil(i/this.F),1);for(let p=0;p<this.P;++p)this.A.push(new Array(this.F));let l=Math.ceil(i/this.F);this.j=this.R=(this.P>>1)-(l>>1),this.D=this.N=this.F-i%this.F>>1;let d=this;t.forEach(function(p){d.pushBack(p)})}T(){let t=[],e=Math.max(this.P>>1,1);for(let i=0;i<e;++i)t[i]=new Array(this.F);for(let i=this.j;i<this.P;++i)t[t.length]=this.A[i];for(let i=0;i<this.R;++i)t[t.length]=this.A[i];t[t.length]=[...this.A[this.R]],this.j=e,this.R=t.length-1;for(let i=0;i<e;++i)t[t.length]=new Array(this.F);this.A=t,this.P=t.length}O(t){let e=this.D+t+1,i=e%this.F,l=i-1,d=this.j+(e-i)/this.F;return i===0&&(d-=1),d%=this.P,l<0&&(l+=this.F),{curNodeBucketIndex:d,curNodePointerIndex:l}}clear(){this.A=[new Array(this.F)],this.P=1,this.j=this.R=this.i=0,this.D=this.N=this.F>>1}begin(){return new c(0,this)}end(){return new c(this.i,this)}rBegin(){return new c(this.i-1,this,1)}rEnd(){return new c(-1,this,1)}front(){if(this.i!==0)return this.A[this.j][this.D]}back(){if(this.i!==0)return this.A[this.R][this.N]}pushBack(t){return this.i&&(this.N<this.F-1?this.N+=1:this.R<this.P-1?(this.R+=1,this.N=0):(this.R=0,this.N=0),this.R===this.j&&this.N===this.D&&this.T()),this.i+=1,this.A[this.R][this.N]=t,this.i}popBack(){if(this.i===0)return;let t=this.A[this.R][this.N];return this.i!==1&&(this.N>0?this.N-=1:this.R>0?(this.R-=1,this.N=this.F-1):(this.R=this.P-1,this.N=this.F-1)),this.i-=1,t}pushFront(t){return this.i&&(this.D>0?this.D-=1:this.j>0?(this.j-=1,this.D=this.F-1):(this.j=this.P-1,this.D=this.F-1),this.j===this.R&&this.D===this.N&&this.T()),this.i+=1,this.A[this.j][this.D]=t,this.i}popFront(){if(this.i===0)return;let t=this.A[this.j][this.D];return this.i!==1&&(this.D<this.F-1?this.D+=1:this.j<this.P-1?(this.j+=1,this.D=0):(this.j=0,this.D=0)),this.i-=1,t}getElementByPos(t){if(t<0||t>this.i-1)throw new RangeError;let{curNodeBucketIndex:e,curNodePointerIndex:i}=this.O(t);return this.A[e][i]}setElementByPos(t,e){if(t<0||t>this.i-1)throw new RangeError;let{curNodeBucketIndex:i,curNodePointerIndex:l}=this.O(t);this.A[i][l]=e}insert(t,e,i=1){if(t<0||t>this.i)throw new RangeError;if(t===0)for(;i--;)this.pushFront(e);else if(t===this.i)for(;i--;)this.pushBack(e);else{let l=[];for(let d=t;d<this.i;++d)l.push(this.getElementByPos(d));this.cut(t-1);for(let d=0;d<i;++d)this.pushBack(e);for(let d=0;d<l.length;++d)this.pushBack(l[d])}return this.i}cut(t){if(t<0)return this.clear(),0;let{curNodeBucketIndex:e,curNodePointerIndex:i}=this.O(t);return this.R=e,this.N=i,this.i=t+1,this.i}eraseElementByPos(t){if(t<0||t>this.i-1)throw new RangeError;if(t===0)this.popFront();else if(t===this.i-1)this.popBack();else{let e=[];for(let l=t+1;l<this.i;++l)e.push(this.getElementByPos(l));this.cut(t),this.popBack();let i=this;e.forEach(function(l){i.pushBack(l)})}return this.i}eraseElementByValue(t){if(this.i===0)return 0;let e=[];for(let l=0;l<this.i;++l){let d=this.getElementByPos(l);d!==t&&e.push(d)}let i=e.length;for(let l=0;l<i;++l)this.setElementByPos(l,e[l]);return this.cut(i-1)}eraseElementByIterator(t){let e=t.o;return this.eraseElementByPos(e),t=t.next(),t}find(t){for(let e=0;e<this.i;++e)if(this.getElementByPos(e)===t)return new c(e,this);return this.end()}reverse(){let t=0,e=this.i-1;for(;t<e;){let i=this.getElementByPos(t);this.setElementByPos(t,this.getElementByPos(e)),this.setElementByPos(e,i),t+=1,e-=1}}unique(){if(this.i<=1)return this.i;let t=1,e=this.getElementByPos(0);for(let i=1;i<this.i;++i){let l=this.getElementByPos(i);l!==e&&(e=l,this.setElementByPos(t++,l))}for(;this.i>t;)this.popBack();return this.i}sort(t){let e=[];for(let i=0;i<this.i;++i)e.push(this.getElementByPos(i));e.sort(t);for(let i=0;i<this.i;++i)this.setElementByPos(i,e[i])}shrinkToFit(){if(this.i===0)return;let t=[];this.forEach(function(e){t.push(e)}),this.P=Math.max(Math.ceil(this.i/this.F),1),this.i=this.j=this.R=this.D=this.N=0,this.A=[];for(let e=0;e<this.P;++e)this.A.push(new Array(this.F));for(let e=0;e<t.length;++e)this.pushBack(t[e])}forEach(t){for(let e=0;e<this.i;++e)t(this.getElementByPos(e),e,this)}[Symbol.iterator](){return(function*(){for(let t=0;t<this.i;++t)yield this.getElementByPos(t)}).bind(this)()}},r=n;f.default=r}),Vu=Ee(f=>{ye(),be(),me(),Object.defineProperty(f,"t",{value:!0}),f.TreeNodeEnableIndex=f.TreeNode=void 0;var h=class{constructor(a,c){this.ee=1,this.u=void 0,this.l=void 0,this.U=void 0,this.W=void 0,this.tt=void 0,this.u=a,this.l=c}L(){let a=this;if(a.ee===1&&a.tt.tt===a)a=a.W;else if(a.U)for(a=a.U;a.W;)a=a.W;else{let c=a.tt;for(;c.U===a;)a=c,c=a.tt;a=c}return a}B(){let a=this;if(a.W){for(a=a.W;a.U;)a=a.U;return a}else{let c=a.tt;for(;c.W===a;)a=c,c=a.tt;return a.W!==c?c:a}}te(){let a=this.tt,c=this.W,n=c.U;return a.tt===this?a.tt=c:a.U===this?a.U=c:a.W=c,c.tt=a,c.U=this,this.tt=c,this.W=n,n&&(n.tt=this),c}se(){let a=this.tt,c=this.U,n=c.W;return a.tt===this?a.tt=c:a.U===this?a.U=c:a.W=c,c.tt=a,c.W=this,this.tt=c,this.U=n,n&&(n.tt=this),c}};f.TreeNode=h;var s=class extends h{constructor(){super(...arguments),this.rt=1}te(){let a=super.te();return this.ie(),a.ie(),a}se(){let a=super.se();return this.ie(),a.ie(),a}ie(){this.rt=1,this.U&&(this.rt+=this.U.rt),this.W&&(this.rt+=this.W.rt)}};f.TreeNodeEnableIndex=s}),Ea=Ee(f=>{ye(),be(),me(),Object.defineProperty(f,"t",{value:!0}),f.default=void 0;var h=Vu(),s=Nt(),a=Ut(),c=class extends s.Container{constructor(r=function(e,i){return e<i?-1:e>i?1:0},t=!1){super(),this.Y=void 0,this.v=r,t?(this.re=h.TreeNodeEnableIndex,this.M=function(e,i,l){let d=this.ne(e,i,l);if(d){let p=d.tt;for(;p!==this.h;)p.rt+=1,p=p.tt;let g=this.he(d);if(g){let{parentNode:b,grandParent:E,curNode:S}=g;b.ie(),E.ie(),S.ie()}}return this.i},this.V=function(e){let i=this.fe(e);for(;i!==this.h;)i.rt-=1,i=i.tt}):(this.re=h.TreeNode,this.M=function(e,i,l){let d=this.ne(e,i,l);return d&&this.he(d),this.i},this.V=this.fe),this.h=new this.re}X(r,t){let e=this.h;for(;r;){let i=this.v(r.u,t);if(i<0)r=r.W;else if(i>0)e=r,r=r.U;else return r}return e}Z(r,t){let e=this.h;for(;r;)this.v(r.u,t)<=0?r=r.W:(e=r,r=r.U);return e}$(r,t){let e=this.h;for(;r;){let i=this.v(r.u,t);if(i<0)e=r,r=r.W;else if(i>0)r=r.U;else return r}return e}rr(r,t){let e=this.h;for(;r;)this.v(r.u,t)<0?(e=r,r=r.W):r=r.U;return e}ue(r){for(;;){let t=r.tt;if(t===this.h)return;if(r.ee===1){r.ee=0;return}if(r===t.U){let e=t.W;if(e.ee===1)e.ee=0,t.ee=1,t===this.Y?this.Y=t.te():t.te();else if(e.W&&e.W.ee===1){e.ee=t.ee,t.ee=0,e.W.ee=0,t===this.Y?this.Y=t.te():t.te();return}else e.U&&e.U.ee===1?(e.ee=1,e.U.ee=0,e.se()):(e.ee=1,r=t)}else{let e=t.U;if(e.ee===1)e.ee=0,t.ee=1,t===this.Y?this.Y=t.se():t.se();else if(e.U&&e.U.ee===1){e.ee=t.ee,t.ee=0,e.U.ee=0,t===this.Y?this.Y=t.se():t.se();return}else e.W&&e.W.ee===1?(e.ee=1,e.W.ee=0,e.te()):(e.ee=1,r=t)}}}fe(r){if(this.i===1)return this.clear(),this.h;let t=r;for(;t.U||t.W;){if(t.W)for(t=t.W;t.U;)t=t.U;else t=t.U;[r.u,t.u]=[t.u,r.u],[r.l,t.l]=[t.l,r.l],r=t}this.h.U===t?this.h.U=t.tt:this.h.W===t&&(this.h.W=t.tt),this.ue(t);let e=t.tt;return t===e.U?e.U=void 0:e.W=void 0,this.i-=1,this.Y.ee=0,e}oe(r,t){return r===void 0?!1:this.oe(r.U,t)||t(r)?!0:this.oe(r.W,t)}he(r){for(;;){let t=r.tt;if(t.ee===0)return;let e=t.tt;if(t===e.U){let i=e.W;if(i&&i.ee===1){if(i.ee=t.ee=0,e===this.Y)return;e.ee=1,r=e;continue}else if(r===t.W){if(r.ee=0,r.U&&(r.U.tt=t),r.W&&(r.W.tt=e),t.W=r.U,e.U=r.W,r.U=t,r.W=e,e===this.Y)this.Y=r,this.h.tt=r;else{let l=e.tt;l.U===e?l.U=r:l.W=r}return r.tt=e.tt,t.tt=r,e.tt=r,e.ee=1,{parentNode:t,grandParent:e,curNode:r}}else t.ee=0,e===this.Y?this.Y=e.se():e.se(),e.ee=1}else{let i=e.U;if(i&&i.ee===1){if(i.ee=t.ee=0,e===this.Y)return;e.ee=1,r=e;continue}else if(r===t.U){if(r.ee=0,r.U&&(r.U.tt=e),r.W&&(r.W.tt=t),e.W=r.U,t.U=r.W,r.U=e,r.W=t,e===this.Y)this.Y=r,this.h.tt=r;else{let l=e.tt;l.U===e?l.U=r:l.W=r}return r.tt=e.tt,t.tt=r,e.tt=r,e.ee=1,{parentNode:t,grandParent:e,curNode:r}}else t.ee=0,e===this.Y?this.Y=e.te():e.te(),e.ee=1}return}}ne(r,t,e){if(this.Y===void 0){this.i+=1,this.Y=new this.re(r,t),this.Y.ee=0,this.Y.tt=this.h,this.h.tt=this.Y,this.h.U=this.Y,this.h.W=this.Y;return}let i,l=this.h.U,d=this.v(l.u,r);if(d===0){l.l=t;return}else if(d>0)l.U=new this.re(r,t),l.U.tt=l,i=l.U,this.h.U=i;else{let p=this.h.W,g=this.v(p.u,r);if(g===0){p.l=t;return}else if(g<0)p.W=new this.re(r,t),p.W.tt=p,i=p.W,this.h.W=i;else{if(e!==void 0){let b=e.o;if(b!==this.h){let E=this.v(b.u,r);if(E===0){b.l=t;return}else if(E>0){let S=b.L(),O=this.v(S.u,r);if(O===0){S.l=t;return}else O<0&&(i=new this.re(r,t),S.W===void 0?(S.W=i,i.tt=S):(b.U=i,i.tt=b))}}}if(i===void 0)for(i=this.Y;;){let b=this.v(i.u,r);if(b>0){if(i.U===void 0){i.U=new this.re(r,t),i.U.tt=i,i=i.U;break}i=i.U}else if(b<0){if(i.W===void 0){i.W=new this.re(r,t),i.W.tt=i,i=i.W;break}i=i.W}else{i.l=t;return}}}}return this.i+=1,i}I(r,t){for(;r;){let e=this.v(r.u,t);if(e<0)r=r.W;else if(e>0)r=r.U;else return r}return r||this.h}clear(){this.i=0,this.Y=void 0,this.h.tt=void 0,this.h.U=this.h.W=void 0}updateKeyByIterator(r,t){let e=r.o;if(e===this.h&&(0,a.throwIteratorAccessError)(),this.i===1)return e.u=t,!0;if(e===this.h.U)return this.v(e.B().u,t)>0?(e.u=t,!0):!1;if(e===this.h.W)return this.v(e.L().u,t)<0?(e.u=t,!0):!1;let i=e.L().u;if(this.v(i,t)>=0)return!1;let l=e.B().u;return this.v(l,t)<=0?!1:(e.u=t,!0)}eraseElementByPos(r){if(r<0||r>this.i-1)throw new RangeError;let t=0,e=this;return this.oe(this.Y,function(i){return r===t?(e.V(i),!0):(t+=1,!1)}),this.i}eraseElementByKey(r){if(this.i===0)return!1;let t=this.I(this.Y,r);return t===this.h?!1:(this.V(t),!0)}eraseElementByIterator(r){let t=r.o;t===this.h&&(0,a.throwIteratorAccessError)();let e=t.W===void 0;return r.iteratorType===0?e&&r.next():(!e||t.U===void 0)&&r.next(),this.V(t),r}forEach(r){let t=0;for(let e of this)r(e,t++,this)}getElementByPos(r){if(r<0||r>this.i-1)throw new RangeError;let t,e=0;for(let i of this){if(e===r){t=i;break}e+=1}return t}getHeight(){if(this.i===0)return 0;let r=function(t){return t?Math.max(r(t.U),r(t.W))+1:0};return r(this.Y)}},n=c;f.default=n}),Aa=Ee(f=>{ye(),be(),me(),Object.defineProperty(f,"t",{value:!0}),f.default=void 0;var h=Nt(),s=Ut(),a=class extends h.ContainerIterator{constructor(n,r,t){super(t),this.o=n,this.h=r,this.iteratorType===0?(this.pre=function(){return this.o===this.h.U&&(0,s.throwIteratorAccessError)(),this.o=this.o.L(),this},this.next=function(){return this.o===this.h&&(0,s.throwIteratorAccessError)(),this.o=this.o.B(),this}):(this.pre=function(){return this.o===this.h.W&&(0,s.throwIteratorAccessError)(),this.o=this.o.B(),this},this.next=function(){return this.o===this.h&&(0,s.throwIteratorAccessError)(),this.o=this.o.L(),this})}get index(){let n=this.o,r=this.h.tt;if(n===this.h)return r?r.rt-1:0;let t=0;for(n.U&&(t+=n.U.rt);n!==r;){let e=n.tt;n===e.W&&(t+=1,e.U&&(t+=e.U.rt)),n=e}return t}},c=a;f.default=c}),zu=Ee(f=>{ye(),be(),me(),Object.defineProperty(f,"t",{value:!0}),f.default=void 0;var h=c(Ea()),s=c(Aa()),a=Ut();function c(e){return e&&e.t?e:{default:e}}var n=class xa extends s.default{constructor(i,l,d,p){super(i,l,p),this.container=d}get pointer(){return this.o===this.h&&(0,a.throwIteratorAccessError)(),this.o.u}copy(){return new xa(this.o,this.h,this.container,this.iteratorType)}},r=class extends h.default{constructor(e=[],i,l){super(i,l);let d=this;e.forEach(function(p){d.insert(p)})}*K(e){e!==void 0&&(yield*this.K(e.U),yield e.u,yield*this.K(e.W))}begin(){return new n(this.h.U||this.h,this.h,this)}end(){return new n(this.h,this.h,this)}rBegin(){return new n(this.h.W||this.h,this.h,this,1)}rEnd(){return new n(this.h,this.h,this,1)}front(){return this.h.U?this.h.U.u:void 0}back(){return this.h.W?this.h.W.u:void 0}insert(e,i){return this.M(e,void 0,i)}find(e){let i=this.I(this.Y,e);return new n(i,this.h,this)}lowerBound(e){let i=this.X(this.Y,e);return new n(i,this.h,this)}upperBound(e){let i=this.Z(this.Y,e);return new n(i,this.h,this)}reverseLowerBound(e){let i=this.$(this.Y,e);return new n(i,this.h,this)}reverseUpperBound(e){let i=this.rr(this.Y,e);return new n(i,this.h,this)}union(e){let i=this;return e.forEach(function(l){i.insert(l)}),this.i}[Symbol.iterator](){return this.K(this.Y)}},t=r;f.default=t}),Ku=Ee(f=>{ye(),be(),me(),Object.defineProperty(f,"t",{value:!0}),f.default=void 0;var h=c(Ea()),s=c(Aa()),a=Ut();function c(e){return e&&e.t?e:{default:e}}var n=class Oa extends s.default{constructor(i,l,d,p){super(i,l,p),this.container=d}get pointer(){this.o===this.h&&(0,a.throwIteratorAccessError)();let i=this;return new Proxy([],{get(l,d){if(d==="0")return i.o.u;if(d==="1")return i.o.l},set(l,d,p){if(d!=="1")throw new TypeError("props must be 1");return i.o.l=p,!0}})}copy(){return new Oa(this.o,this.h,this.container,this.iteratorType)}},r=class extends h.default{constructor(e=[],i,l){super(i,l);let d=this;e.forEach(function(p){d.setElement(p[0],p[1])})}*K(e){e!==void 0&&(yield*this.K(e.U),yield[e.u,e.l],yield*this.K(e.W))}begin(){return new n(this.h.U||this.h,this.h,this)}end(){return new n(this.h,this.h,this)}rBegin(){return new n(this.h.W||this.h,this.h,this,1)}rEnd(){return new n(this.h,this.h,this,1)}front(){if(this.i===0)return;let e=this.h.U;return[e.u,e.l]}back(){if(this.i===0)return;let e=this.h.W;return[e.u,e.l]}lowerBound(e){let i=this.X(this.Y,e);return new n(i,this.h,this)}upperBound(e){let i=this.Z(this.Y,e);return new n(i,this.h,this)}reverseLowerBound(e){let i=this.$(this.Y,e);return new n(i,this.h,this)}reverseUpperBound(e){let i=this.rr(this.Y,e);return new n(i,this.h,this)}setElement(e,i,l){return this.M(e,i,l)}find(e){let i=this.I(this.Y,e);return new n(i,this.h,this)}getElementByKey(e){return this.I(this.Y,e).l}union(e){let i=this;return e.forEach(function(l){i.setElement(l[0],l[1])}),this.i}[Symbol.iterator](){return this.K(this.Y)}},t=r;f.default=t}),Ia=Ee(f=>{ye(),be(),me(),Object.defineProperty(f,"t",{value:!0}),f.default=h;function h(s){let a=typeof s;return a==="object"&&s!==null||a==="function"}}),Pa=Ee(f=>{ye(),be(),me(),Object.defineProperty(f,"t",{value:!0}),f.HashContainerIterator=f.HashContainer=void 0;var h=Nt(),s=c(Ia()),a=Ut();function c(t){return t&&t.t?t:{default:t}}var n=class extends h.ContainerIterator{constructor(t,e,i){super(i),this.o=t,this.h=e,this.iteratorType===0?(this.pre=function(){return this.o.L===this.h&&(0,a.throwIteratorAccessError)(),this.o=this.o.L,this},this.next=function(){return this.o===this.h&&(0,a.throwIteratorAccessError)(),this.o=this.o.B,this}):(this.pre=function(){return this.o.B===this.h&&(0,a.throwIteratorAccessError)(),this.o=this.o.B,this},this.next=function(){return this.o===this.h&&(0,a.throwIteratorAccessError)(),this.o=this.o.L,this})}};f.HashContainerIterator=n;var r=class extends h.Container{constructor(){super(),this.H=[],this.g={},this.HASH_TAG=Symbol("@@HASH_TAG"),Object.setPrototypeOf(this.g,null),this.h={},this.h.L=this.h.B=this.p=this._=this.h}V(t){let{L:e,B:i}=t;e.B=i,i.L=e,t===this.p&&(this.p=i),t===this._&&(this._=e),this.i-=1}M(t,e,i){i===void 0&&(i=(0,s.default)(t));let l;if(i){let d=t[this.HASH_TAG];if(d!==void 0)return this.H[d].l=e,this.i;Object.defineProperty(t,this.HASH_TAG,{value:this.H.length,configurable:!0}),l={u:t,l:e,L:this._,B:this.h},this.H.push(l)}else{let d=this.g[t];if(d)return d.l=e,this.i;l={u:t,l:e,L:this._,B:this.h},this.g[t]=l}return this.i===0?(this.p=l,this.h.B=l):this._.B=l,this._=l,this.h.L=l,++this.i}I(t,e){if(e===void 0&&(e=(0,s.default)(t)),e){let i=t[this.HASH_TAG];return i===void 0?this.h:this.H[i]}else return this.g[t]||this.h}clear(){let t=this.HASH_TAG;this.H.forEach(function(e){delete e.u[t]}),this.H=[],this.g={},Object.setPrototypeOf(this.g,null),this.i=0,this.p=this._=this.h.L=this.h.B=this.h}eraseElementByKey(t,e){let i;if(e===void 0&&(e=(0,s.default)(t)),e){let l=t[this.HASH_TAG];if(l===void 0)return!1;delete t[this.HASH_TAG],i=this.H[l],delete this.H[l]}else{if(i=this.g[t],i===void 0)return!1;delete this.g[t]}return this.V(i),!0}eraseElementByIterator(t){let e=t.o;return e===this.h&&(0,a.throwIteratorAccessError)(),this.V(e),t.next()}eraseElementByPos(t){if(t<0||t>this.i-1)throw new RangeError;let e=this.p;for(;t--;)e=e.B;return this.V(e),this.i}};f.HashContainer=r}),Hu=Ee(f=>{ye(),be(),me(),Object.defineProperty(f,"t",{value:!0}),f.default=void 0;var h=Pa(),s=Ut(),a=class Ta extends h.HashContainerIterator{constructor(t,e,i,l){super(t,e,l),this.container=i}get pointer(){return this.o===this.h&&(0,s.throwIteratorAccessError)(),this.o.u}copy(){return new Ta(this.o,this.h,this.container,this.iteratorType)}},c=class extends h.HashContainer{constructor(r=[]){super();let t=this;r.forEach(function(e){t.insert(e)})}begin(){return new a(this.p,this.h,this)}end(){return new a(this.h,this.h,this)}rBegin(){return new a(this._,this.h,this,1)}rEnd(){return new a(this.h,this.h,this,1)}front(){return this.p.u}back(){return this._.u}insert(r,t){return this.M(r,void 0,t)}getElementByPos(r){if(r<0||r>this.i-1)throw new RangeError;let t=this.p;for(;r--;)t=t.B;return t.u}find(r,t){let e=this.I(r,t);return new a(e,this.h,this)}forEach(r){let t=0,e=this.p;for(;e!==this.h;)r(e.u,t++,this),e=e.B}[Symbol.iterator](){return(function*(){let r=this.p;for(;r!==this.h;)yield r.u,r=r.B}).bind(this)()}},n=c;f.default=n}),Gu=Ee(f=>{ye(),be(),me(),Object.defineProperty(f,"t",{value:!0}),f.default=void 0;var h=Pa(),s=c(Ia()),a=Ut();function c(e){return e&&e.t?e:{default:e}}var n=class ka extends h.HashContainerIterator{constructor(i,l,d,p){super(i,l,p),this.container=d}get pointer(){this.o===this.h&&(0,a.throwIteratorAccessError)();let i=this;return new Proxy([],{get(l,d){if(d==="0")return i.o.u;if(d==="1")return i.o.l},set(l,d,p){if(d!=="1")throw new TypeError("props must be 1");return i.o.l=p,!0}})}copy(){return new ka(this.o,this.h,this.container,this.iteratorType)}},r=class extends h.HashContainer{constructor(e=[]){super();let i=this;e.forEach(function(l){i.setElement(l[0],l[1])})}begin(){return new n(this.p,this.h,this)}end(){return new n(this.h,this.h,this)}rBegin(){return new n(this._,this.h,this,1)}rEnd(){return new n(this.h,this.h,this,1)}front(){if(this.i!==0)return[this.p.u,this.p.l]}back(){if(this.i!==0)return[this._.u,this._.l]}setElement(e,i,l){return this.M(e,i,l)}getElementByKey(e,i){if(i===void 0&&(i=(0,s.default)(e)),i){let d=e[this.HASH_TAG];return d!==void 0?this.H[d].l:void 0}let l=this.g[e];return l?l.l:void 0}getElementByPos(e){if(e<0||e>this.i-1)throw new RangeError;let i=this.p;for(;e--;)i=i.B;return[i.u,i.l]}find(e,i){let l=this.I(e,i);return new n(l,this.h,this)}forEach(e){let i=0,l=this.p;for(;l!==this.h;)e([l.u,l.l],i++,this),l=l.B}[Symbol.iterator](){return(function*(){let e=this.p;for(;e!==this.h;)yield[e.u,e.l],e=e.B}).bind(this)()}},t=r;f.default=t}),Qu=Ee(f=>{ye(),be(),me(),Object.defineProperty(f,"t",{value:!0}),Object.defineProperty(f,"Deque",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(f,"HashMap",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(f,"HashSet",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(f,"LinkList",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(f,"OrderedMap",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(f,"OrderedSet",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(f,"PriorityQueue",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(f,"Queue",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(f,"Stack",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(f,"Vector",{enumerable:!0,get:function(){return c.default}});var h=d(Lu()),s=d(Du()),a=d(Fu()),c=d(Wu()),n=d($u()),r=d(qu()),t=d(zu()),e=d(Ku()),i=d(Hu()),l=d(Gu());function d(p){return p&&p.t?p:{default:p}}}),Yu=Ee((f,h)=>{ye(),be(),me();var s=Qu().OrderedSet,a=Mt()("number-allocator:trace"),c=Mt()("number-allocator:error");function n(t,e){this.low=t,this.high=e}n.prototype.equals=function(t){return this.low===t.low&&this.high===t.high},n.prototype.compare=function(t){return this.low<t.low&&this.high<t.low?-1:t.low<this.low&&t.high<this.low?1:0};function r(t,e){if(!(this instanceof r))return new r(t,e);this.min=t,this.max=e,this.ss=new s([],(i,l)=>i.compare(l)),a("Create"),this.clear()}r.prototype.firstVacant=function(){return this.ss.size()===0?null:this.ss.front().low},r.prototype.alloc=function(){if(this.ss.size()===0)return a("alloc():empty"),null;let t=this.ss.begin(),e=t.pointer.low,i=t.pointer.high,l=e;return l+1<=i?this.ss.updateKeyByIterator(t,new n(e+1,i)):this.ss.eraseElementByPos(0),a("alloc():"+l),l},r.prototype.use=function(t){let e=new n(t,t),i=this.ss.lowerBound(e);if(!i.equals(this.ss.end())){let l=i.pointer.low,d=i.pointer.high;return i.pointer.equals(e)?(this.ss.eraseElementByIterator(i),a("use():"+t),!0):l>t?!1:l===t?(this.ss.updateKeyByIterator(i,new n(l+1,d)),a("use():"+t),!0):d===t?(this.ss.updateKeyByIterator(i,new n(l,d-1)),a("use():"+t),!0):(this.ss.updateKeyByIterator(i,new n(t+1,d)),this.ss.insert(new n(l,t-1)),a("use():"+t),!0)}return a("use():failed"),!1},r.prototype.free=function(t){if(t<this.min||t>this.max){c("free():"+t+" is out of range");return}let e=new n(t,t),i=this.ss.upperBound(e);if(i.equals(this.ss.end())){if(i.equals(this.ss.begin())){this.ss.insert(e);return}i.pre();let l=i.pointer.high;i.pointer.high+1===t?this.ss.updateKeyByIterator(i,new n(l,t)):this.ss.insert(e)}else if(i.equals(this.ss.begin()))if(t+1===i.pointer.low){let l=i.pointer.high;this.ss.updateKeyByIterator(i,new n(t,l))}else this.ss.insert(e);else{let l=i.pointer.low,d=i.pointer.high;i.pre();let p=i.pointer.low;i.pointer.high+1===t?t+1===l?(this.ss.eraseElementByIterator(i),this.ss.updateKeyByIterator(i,new n(p,d))):this.ss.updateKeyByIterator(i,new n(p,t)):t+1===l?(this.ss.eraseElementByIterator(i.next()),this.ss.insert(new n(t,d))):this.ss.insert(e)}a("free():"+t)},r.prototype.clear=function(){a("clear()"),this.ss.clear(),this.ss.insert(new n(this.min,this.max))},r.prototype.intervalCount=function(){return this.ss.size()},r.prototype.dump=function(){""+this.ss.size();for(let t of this.ss);},h.exports=r}),Ca=Ee((f,h)=>{ye(),be(),me();var s=Yu();h.exports.NumberAllocator=s}),Ju=Ee(f=>{ye(),be(),me(),Object.defineProperty(f,"__esModule",{value:!0});var h=Uu(),s=Ca(),a=class{aliasToTopic;topicToAlias;max;numberAllocator;length;constructor(c){c>0&&(this.aliasToTopic=new h.LRUCache({max:c}),this.topicToAlias={},this.numberAllocator=new s.NumberAllocator(1,c),this.max=c,this.length=0)}put(c,n){if(n===0||n>this.max)return!1;let r=this.aliasToTopic.get(n);return r&&delete this.topicToAlias[r],this.aliasToTopic.set(n,c),this.topicToAlias[c]=n,this.numberAllocator.use(n),this.length=this.aliasToTopic.size,!0}getTopicByAlias(c){return this.aliasToTopic.get(c)}getAliasByTopic(c){let n=this.topicToAlias[c];return typeof n<"u"&&this.aliasToTopic.get(n),n}clear(){this.aliasToTopic.clear(),this.topicToAlias={},this.numberAllocator.clear(),this.length=0}getLruAlias(){return this.numberAllocator.firstVacant()||[...this.aliasToTopic.keys()][this.aliasToTopic.size-1]}};f.default=a}),Xu=Ee(f=>{ye(),be(),me();var h=f&&f.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(f,"__esModule",{value:!0});var s=rn(),a=h(Ju()),c=cr(),n=(r,t)=>{r.log("_handleConnack");let{options:e}=r,i=e.protocolVersion===5?t.reasonCode:t.returnCode;if(clearTimeout(r.connackTimer),delete r.topicAliasSend,t.properties){if(t.properties.topicAliasMaximum){if(t.properties.topicAliasMaximum>65535){r.emit("error",new Error("topicAliasMaximum from broker is out of range"));return}t.properties.topicAliasMaximum>0&&(r.topicAliasSend=new a.default(t.properties.topicAliasMaximum))}t.properties.serverKeepAlive&&e.keepalive&&(e.keepalive=t.properties.serverKeepAlive),t.properties.maximumPacketSize&&(e.properties||(e.properties={}),e.properties.maximumPacketSize=t.properties.maximumPacketSize)}if(i===0)r.reconnecting=!1,r._onConnect(t);else if(i>0){let l=new c.ErrorWithReasonCode(`Connection refused: ${s.ReasonCodes[i]}`,i);r.emit("error",l),r.options.reconnectOnConnackError&&r._cleanUp(!0)}};f.default=n}),Zu=Ee(f=>{ye(),be(),me(),Object.defineProperty(f,"__esModule",{value:!0});var h=(s,a,c)=>{s.log("handling pubrel packet");let n=typeof c<"u"?c:s.noop,{messageId:r}=a,t={cmd:"pubcomp",messageId:r};s.incomingStore.get(a,(e,i)=>{e?s._sendPacket(t,n):(s.emit("message",i.topic,i.payload,i),s.handleMessage(i,l=>{if(l)return n(l);s.incomingStore.del(i,s.noop),s._sendPacket(t,n)}))})};f.default=h}),ec=Ee(f=>{ye(),be(),me();var h=f&&f.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(f,"__esModule",{value:!0});var s=h(Mu()),a=h(Nu()),c=h(Xu()),n=h(rn()),r=h(Zu()),t=(e,i,l)=>{let{options:d}=e;if(d.protocolVersion===5&&d.properties&&d.properties.maximumPacketSize&&d.properties.maximumPacketSize<i.length)return e.emit("error",new Error(`exceeding packets size ${i.cmd}`)),e.end({reasonCode:149,properties:{reasonString:"Maximum packet size was exceeded"}}),e;switch(e.log("_handlePacket :: emitting packetreceive"),e.emit("packetreceive",i),i.cmd){case"publish":(0,s.default)(e,i,l);break;case"puback":case"pubrec":case"pubcomp":case"suback":case"unsuback":e.reschedulePing(),(0,n.default)(e,i),l();break;case"pubrel":e.reschedulePing(),(0,r.default)(e,i,l);break;case"connack":(0,c.default)(e,i),l();break;case"auth":e.reschedulePing(),(0,a.default)(e,i),l();break;case"pingresp":e.log("_handlePacket :: received pingresp"),e.reschedulePing(!0),l();break;case"disconnect":e.emit("disconnect",i),l();break;default:e.log("_handlePacket :: unknown command"),l();break}};f.default=t}),Ra=Ee(f=>{ye(),be(),me(),Object.defineProperty(f,"__esModule",{value:!0});var h=class{nextId;constructor(){this.nextId=Math.max(1,Math.floor(Math.random()*65535))}allocate(){let s=this.nextId++;return this.nextId===65536&&(this.nextId=1),s}getLastAllocated(){return this.nextId===1?65535:this.nextId-1}register(s){return!0}deallocate(s){}clear(){}};f.default=h}),tc=Ee(f=>{ye(),be(),me(),Object.defineProperty(f,"__esModule",{value:!0});var h=class{aliasToTopic;max;length;constructor(s){this.aliasToTopic={},this.max=s}put(s,a){return a===0||a>this.max?!1:(this.aliasToTopic[a]=s,this.length=Object.keys(this.aliasToTopic).length,!0)}getTopicByAlias(s){return this.aliasToTopic[s]}clear(){this.aliasToTopic={}}};f.default=h}),rc=Ee(f=>{ye(),be(),me();var h=f&&f.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(f,"__esModule",{value:!0}),f.TypedEventEmitter=void 0;var s=h((tr(),He(Kt))),a=cr(),c=class{};f.TypedEventEmitter=c,(0,a.applyMixin)(c,s.default)}),nn=Ee((f,h)=>{ye(),be(),me();function s(a){"@babel/helpers - typeof";return h.exports=s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},h.exports.__esModule=!0,h.exports.default=h.exports,s(a)}h.exports=s,h.exports.__esModule=!0,h.exports.default=h.exports}),nc=Ee((f,h)=>{ye(),be(),me();var s=nn().default;function a(c,n){if(s(c)!="object"||!c)return c;var r=c[Symbol.toPrimitive];if(r!==void 0){var t=r.call(c,n||"default");if(s(t)!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(c)}h.exports=a,h.exports.__esModule=!0,h.exports.default=h.exports}),ic=Ee((f,h)=>{ye(),be(),me();var s=nn().default,a=nc();function c(n){var r=a(n,"string");return s(r)=="symbol"?r:r+""}h.exports=c,h.exports.__esModule=!0,h.exports.default=h.exports}),oc=Ee((f,h)=>{ye(),be(),me();var s=ic();function a(c,n,r){return(n=s(n))in c?Object.defineProperty(c,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):c[n]=r,c}h.exports=a,h.exports.__esModule=!0,h.exports.default=h.exports}),sc=Ee((f,h)=>{ye(),be(),me();function s(a){if(Array.isArray(a))return a}h.exports=s,h.exports.__esModule=!0,h.exports.default=h.exports}),ac=Ee((f,h)=>{ye(),be(),me();function s(a,c){var n=a==null?null:typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(n!=null){var r,t,e,i,l=[],d=!0,p=!1;try{if(e=(n=n.call(a)).next,c===0){if(Object(n)!==n)return;d=!1}else for(;!(d=(r=e.call(n)).done)&&(l.push(r.value),l.length!==c);d=!0);}catch(g){p=!0,t=g}finally{try{if(!d&&n.return!=null&&(i=n.return(),Object(i)!==i))return}finally{if(p)throw t}}return l}}h.exports=s,h.exports.__esModule=!0,h.exports.default=h.exports}),lc=Ee((f,h)=>{ye(),be(),me();function s(a,c){(c==null||c>a.length)&&(c=a.length);for(var n=0,r=Array(c);n<c;n++)r[n]=a[n];return r}h.exports=s,h.exports.__esModule=!0,h.exports.default=h.exports}),uc=Ee((f,h)=>{ye(),be(),me();var s=lc();function a(c,n){if(c){if(typeof c=="string")return s(c,n);var r={}.toString.call(c).slice(8,-1);return r==="Object"&&c.constructor&&(r=c.constructor.name),r==="Map"||r==="Set"?Array.from(c):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(c,n):void 0}}h.exports=a,h.exports.__esModule=!0,h.exports.default=h.exports}),cc=Ee((f,h)=>{ye(),be(),me();function s(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}h.exports=s,h.exports.__esModule=!0,h.exports.default=h.exports}),hc=Ee((f,h)=>{ye(),be(),me();var s=sc(),a=ac(),c=uc(),n=cc();function r(t,e){return s(t)||a(t,e)||c(t,e)||n()}h.exports=r,h.exports.__esModule=!0,h.exports.default=h.exports}),ja=Ee((f,h)=>{ye(),be(),me(),(function(s,a){typeof f=="object"&&typeof h<"u"?a(f):typeof define=="function"&&define.amd?define(["exports"],a):(s=typeof globalThis<"u"?globalThis:s||self,a(s.fastUniqueNumbers={}))})(f,function(s){var a=function(g){return function(b){var E=g(b);return b.add(E),E}},c=function(g){return function(b,E){return g.set(b,E),E}},n=Number.MAX_SAFE_INTEGER===void 0?9007199254740991:Number.MAX_SAFE_INTEGER,r=536870912,t=r*2,e=function(g,b){return function(E){var S=b.get(E),O=S===void 0?E.size:S<t?S+1:0;if(!E.has(O))return g(E,O);if(E.size<r){for(;E.has(O);)O=Math.floor(Math.random()*t);return g(E,O)}if(E.size>n)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;E.has(O);)O=Math.floor(Math.random()*n);return g(E,O)}},i=new WeakMap,l=c(i),d=e(l,i),p=a(d);s.addUniqueNumber=p,s.generateUniqueNumber=d})}),fc=Ee((f,h)=>{ye(),be(),me();function s(c,n,r,t,e,i,l){try{var d=c[i](l),p=d.value}catch(g){return void r(g)}d.done?n(p):Promise.resolve(p).then(t,e)}function a(c){return function(){var n=this,r=arguments;return new Promise(function(t,e){var i=c.apply(n,r);function l(p){s(i,t,e,l,d,"next",p)}function d(p){s(i,t,e,l,d,"throw",p)}l(void 0)})}}h.exports=a,h.exports.__esModule=!0,h.exports.default=h.exports}),Ma=Ee((f,h)=>{ye(),be(),me();function s(a,c){this.v=a,this.k=c}h.exports=s,h.exports.__esModule=!0,h.exports.default=h.exports}),Ba=Ee((f,h)=>{ye(),be(),me();function s(a,c,n,r){var t=Object.defineProperty;try{t({},"",{})}catch{t=0}h.exports=s=function(e,i,l,d){function p(g,b){s(e,g,function(E){return this._invoke(g,b,E)})}i?t?t(e,i,{value:l,enumerable:!d,configurable:!d,writable:!d}):e[i]=l:(p("next",0),p("throw",1),p("return",2))},h.exports.__esModule=!0,h.exports.default=h.exports,s(a,c,n,r)}h.exports=s,h.exports.__esModule=!0,h.exports.default=h.exports}),Na=Ee((f,h)=>{ye(),be(),me();var s=Ba();function a(){var c,n,r=typeof Symbol=="function"?Symbol:{},t=r.iterator||"@@iterator",e=r.toStringTag||"@@toStringTag";function i(O,y,v,A){var _=y&&y.prototype instanceof d?y:d,R=Object.create(_.prototype);return s(R,"_invoke",(function(w,I,k){var M,U,T,z=0,Q=k||[],q=!1,he={p:0,n:0,v:c,a:ie,f:ie.bind(c,4),d:function(re,ce){return M=re,U=0,T=c,he.n=ce,l}};function ie(re,ce){for(U=re,T=ce,n=0;!q&&z&&!V&&n<Q.length;n++){var V,le=Q[n],B=he.p,te=le[2];re>3?(V=te===ce)&&(T=le[(U=le[4])?5:(U=3,3)],le[4]=le[5]=c):le[0]<=B&&((V=re<2&&B<le[1])?(U=0,he.v=ce,he.n=le[1]):B<te&&(V=re<3||le[0]>ce||ce>te)&&(le[4]=re,le[5]=ce,he.n=te,U=0))}if(V||re>1)return l;throw q=!0,ce}return function(re,ce,V){if(z>1)throw TypeError("Generator is already running");for(q&&ce===1&&ie(ce,V),U=ce,T=V;(n=U<2?c:T)||!q;){M||(U?U<3?(U>1&&(he.n=-1),ie(U,T)):he.n=T:he.v=T);try{if(z=2,M){if(U||(re="next"),n=M[re]){if(!(n=n.call(M,T)))throw TypeError("iterator result is not an object");if(!n.done)return n;T=n.value,U<2&&(U=0)}else U===1&&(n=M.return)&&n.call(M),U<2&&(T=TypeError("The iterator does not provide a '"+re+"' method"),U=1);M=c}else if((n=(q=he.n<0)?T:w.call(I,he))!==l)break}catch(le){M=c,U=1,T=le}finally{z=1}}return{value:n,done:q}}})(O,v,A),!0),R}var l={};function d(){}function p(){}function g(){}n=Object.getPrototypeOf;var b=[][t]?n(n([][t]())):(s(n={},t,function(){return this}),n),E=g.prototype=d.prototype=Object.create(b);function S(O){return Object.setPrototypeOf?Object.setPrototypeOf(O,g):(O.__proto__=g,s(O,e,"GeneratorFunction")),O.prototype=Object.create(E),O}return p.prototype=g,s(E,"constructor",g),s(g,"constructor",p),p.displayName="GeneratorFunction",s(g,e,"GeneratorFunction"),s(E),s(E,e,"Generator"),s(E,t,function(){return this}),s(E,"toString",function(){return"[object Generator]"}),(h.exports=a=function(){return{w:i,m:S}},h.exports.__esModule=!0,h.exports.default=h.exports)()}h.exports=a,h.exports.__esModule=!0,h.exports.default=h.exports}),Ua=Ee((f,h)=>{ye(),be(),me();var s=Ma(),a=Ba();function c(n,r){function t(i,l,d,p){try{var g=n[i](l),b=g.value;return b instanceof s?r.resolve(b.v).then(function(E){t("next",E,d,p)},function(E){t("throw",E,d,p)}):r.resolve(b).then(function(E){g.value=E,d(g)},function(E){return t("throw",E,d,p)})}catch(E){p(E)}}var e;this.next||(a(c.prototype),a(c.prototype,typeof Symbol=="function"&&Symbol.asyncIterator||"@asyncIterator",function(){return this})),a(this,"_invoke",function(i,l,d){function p(){return new r(function(g,b){t(i,d,g,b)})}return e=e?e.then(p,p):p()},!0)}h.exports=c,h.exports.__esModule=!0,h.exports.default=h.exports}),La=Ee((f,h)=>{ye(),be(),me();var s=Na(),a=Ua();function c(n,r,t,e,i){return new a(s().w(n,r,t,e),i||Promise)}h.exports=c,h.exports.__esModule=!0,h.exports.default=h.exports}),pc=Ee((f,h)=>{ye(),be(),me();var s=La();function a(c,n,r,t,e){var i=s(c,n,r,t,e);return i.next().then(function(l){return l.done?l.value:i.next()})}h.exports=a,h.exports.__esModule=!0,h.exports.default=h.exports}),dc=Ee((f,h)=>{ye(),be(),me();function s(a){var c=Object(a),n=[];for(var r in c)n.unshift(r);return function t(){for(;n.length;)if((r=n.pop())in c)return t.value=r,t.done=!1,t;return t.done=!0,t}}h.exports=s,h.exports.__esModule=!0,h.exports.default=h.exports}),gc=Ee((f,h)=>{ye(),be(),me();var s=nn().default;function a(c){if(c!=null){var n=c[typeof Symbol=="function"&&Symbol.iterator||"@@iterator"],r=0;if(n)return n.call(c);if(typeof c.next=="function")return c;if(!isNaN(c.length))return{next:function(){return c&&r>=c.length&&(c=void 0),{value:c&&c[r++],done:!c}}}}throw new TypeError(s(c)+" is not iterable")}h.exports=a,h.exports.__esModule=!0,h.exports.default=h.exports}),yc=Ee((f,h)=>{ye(),be(),me();var s=Ma(),a=Na(),c=pc(),n=La(),r=Ua(),t=dc(),e=gc();function i(){var l=a(),d=l.m(i),p=(Object.getPrototypeOf?Object.getPrototypeOf(d):d.__proto__).constructor;function g(S){var O=typeof S=="function"&&S.constructor;return!!O&&(O===p||(O.displayName||O.name)==="GeneratorFunction")}var b={throw:1,return:2,break:3,continue:3};function E(S){var O,y;return function(v){O||(O={stop:function(){return y(v.a,2)},catch:function(){return v.v},abrupt:function(A,_){return y(v.a,b[A],_)},delegateYield:function(A,_,R){return O.resultName=_,y(v.d,e(A),R)},finish:function(A){return y(v.f,A)}},y=function(A,_,R){v.p=O.prev,v.n=O.next;try{return A(_,R)}finally{O.next=v.n}}),O.resultName&&(O[O.resultName]=v.v,O.resultName=void 0),O.sent=v.v,O.next=v.n;try{return S.call(this,O)}finally{v.p=O.prev,v.n=O.next}}}return(h.exports=i=function(){return{wrap:function(S,O,y,v){return l.w(E(S),O,y,v&&v.reverse())},isGeneratorFunction:g,mark:l.m,awrap:function(S,O){return new s(S,O)},AsyncIterator:r,async:function(S,O,y,v,A){return(g(O)?n:c)(E(S),O,y,v,A)},keys:t,values:e}},h.exports.__esModule=!0,h.exports.default=h.exports)()}h.exports=i,h.exports.__esModule=!0,h.exports.default=h.exports}),mc=Ee((f,h)=>{ye(),be(),me();var s=yc()();h.exports=s;try{regeneratorRuntime=s}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=s:Function("r","regeneratorRuntime = r")(s)}}),bc=Ee((f,h)=>{ye(),be(),me(),(function(s,a){typeof f=="object"&&typeof h<"u"?a(f,oc(),hc(),ja(),fc(),mc()):typeof define=="function"&&define.amd?define(["exports","@babel/runtime/helpers/defineProperty","@babel/runtime/helpers/slicedToArray","fast-unique-numbers","@babel/runtime/helpers/asyncToGenerator","@babel/runtime/regenerator"],a):(s=typeof globalThis<"u"?globalThis:s||self,a(s.brokerFactory={},s._defineProperty,s._slicedToArray,s.fastUniqueNumbers,s._asyncToGenerator,s._regeneratorRuntime))})(f,function(s,a,c,n,r,t){var e=function(y){return typeof y.start=="function"},i=new WeakMap;function l(y,v){var A=Object.keys(y);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(y);v&&(_=_.filter(function(R){return Object.getOwnPropertyDescriptor(y,R).enumerable})),A.push.apply(A,_)}return A}function d(y){for(var v=1;v<arguments.length;v++){var A=arguments[v]!=null?arguments[v]:{};v%2?l(Object(A),!0).forEach(function(_){a(y,_,A[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(y,Object.getOwnPropertyDescriptors(A)):l(Object(A)).forEach(function(_){Object.defineProperty(y,_,Object.getOwnPropertyDescriptor(A,_))})}return y}var p=function(y){return d(d({},y),{},{connect:function(v){var A=v.call;return r(t.mark(function _(){var R,w,I,k;return t.wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return R=new MessageChannel,w=R.port1,I=R.port2,M.next=1,A("connect",{port:w},[w]);case 1:return k=M.sent,i.set(I,k),M.abrupt("return",I);case 2:case"end":return M.stop()}},_)}))},disconnect:function(v){var A=v.call;return(function(){var _=r(t.mark(function R(w){var I;return t.wrap(function(k){for(;;)switch(k.prev=k.next){case 0:if(I=i.get(w),I!==void 0){k.next=1;break}throw new Error("The given port is not connected.");case 1:return k.next=2,A("disconnect",{portId:I});case 2:case"end":return k.stop()}},R)}));return function(R){return _.apply(this,arguments)}})()},isSupported:function(v){var A=v.call;return function(){return A("isSupported")}}})};function g(y,v){var A=Object.keys(y);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(y);v&&(_=_.filter(function(R){return Object.getOwnPropertyDescriptor(y,R).enumerable})),A.push.apply(A,_)}return A}function b(y){for(var v=1;v<arguments.length;v++){var A=arguments[v]!=null?arguments[v]:{};v%2?g(Object(A),!0).forEach(function(_){a(y,_,A[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(y,Object.getOwnPropertyDescriptors(A)):g(Object(A)).forEach(function(_){Object.defineProperty(y,_,Object.getOwnPropertyDescriptor(A,_))})}return y}var E=new WeakMap,S=function(y){if(E.has(y))return E.get(y);var v=new Map;return E.set(y,v),v},O=function(y){var v=p(y);return function(A){var _=S(A);A.addEventListener("message",function(Q){var q=Q.data,he=q.id;if(he!==null&&_.has(he)){var ie=_.get(he),re=ie.reject,ce=ie.resolve;_.delete(he),q.error===void 0?ce(q.result):re(new Error(q.error.message))}}),e(A)&&A.start();for(var R=function(Q){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,he=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];return new Promise(function(ie,re){var ce=n.generateUniqueNumber(_);_.set(ce,{reject:re,resolve:ie}),q===null?A.postMessage({id:ce,method:Q},he):A.postMessage({id:ce,method:Q,params:q},he)})},w=function(Q,q){var he=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];A.postMessage({id:null,method:Q,params:q},he)},I={},k=0,M=Object.entries(v);k<M.length;k++){var U=c(M[k],2),T=U[0],z=U[1];I=b(b({},I),{},a({},T,z({call:R,notify:w})))}return b({},I)}};s.createBroker=O})}),vc=Ee((f,h)=>{ye(),be(),me(),(function(s,a){typeof f=="object"&&typeof h<"u"?a(f,nn(),bc(),ja()):typeof define=="function"&&define.amd?define(["exports","@babel/runtime/helpers/typeof","broker-factory","fast-unique-numbers"],a):(s=typeof globalThis<"u"?globalThis:s||self,a(s.workerTimersBroker={},s._typeof,s.brokerFactory,s.fastUniqueNumbers))})(f,function(s,a,c,n){var r=new Map([[0,null]]),t=new Map([[0,null]]),e=c.createBroker({clearInterval:function(l){var d=l.call;return function(p){a(r.get(p))==="symbol"&&(r.set(p,null),d("clear",{timerId:p,timerType:"interval"}).then(function(){r.delete(p)}))}},clearTimeout:function(l){var d=l.call;return function(p){a(t.get(p))==="symbol"&&(t.set(p,null),d("clear",{timerId:p,timerType:"timeout"}).then(function(){t.delete(p)}))}},setInterval:function(l){var d=l.call;return function(p){for(var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,b=arguments.length,E=new Array(b>2?b-2:0),S=2;S<b;S++)E[S-2]=arguments[S];var O=Symbol(),y=n.generateUniqueNumber(r);r.set(y,O);var v=function(){return d("set",{delay:g,now:performance.timeOrigin+performance.now(),timerId:y,timerType:"interval"}).then(function(){var A=r.get(y);if(A===void 0)throw new Error("The timer is in an undefined state.");A===O&&(p.apply(void 0,E),r.get(y)===O&&v())})};return v(),y}},setTimeout:function(l){var d=l.call;return function(p){for(var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,b=arguments.length,E=new Array(b>2?b-2:0),S=2;S<b;S++)E[S-2]=arguments[S];var O=Symbol(),y=n.generateUniqueNumber(t);return t.set(y,O),d("set",{delay:g,now:performance.timeOrigin+performance.now(),timerId:y,timerType:"timeout"}).then(function(){var v=t.get(y);if(v===void 0)throw new Error("The timer is in an undefined state.");v===O&&(t.delete(y),p.apply(void 0,E))}),y}}}),i=function(l){var d=new Worker(l);return e(d)};s.load=i,s.wrap=e})}),wc=Ee((f,h)=>{ye(),be(),me(),(function(s,a){typeof f=="object"&&typeof h<"u"?a(f,vc()):typeof define=="function"&&define.amd?define(["exports","worker-timers-broker"],a):(s=typeof globalThis<"u"?globalThis:s||self,a(s.workerTimers={},s.workerTimersBroker))})(f,function(s,a){var c=function(d,p){var g=null;return function(){if(g!==null)return g;var b=new Blob([p],{type:"application/javascript; charset=utf-8"}),E=URL.createObjectURL(b);return g=d(E),setTimeout(function(){return URL.revokeObjectURL(E)}),g}},n=`(()=>{var e={45:(e,t,r)=>{var n=r(738).default;e.exports=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},79:e=>{e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n},e.exports.__esModule=!0,e.exports.default=e.exports},122:(e,t,r)=>{var n=r(79);e.exports=function(e,t){if(e){if("string"==typeof e)return n(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},156:e=>{e.exports=function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,u,a,i=[],s=!0,c=!1;try{if(u=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=u.call(r)).done)&&(i.push(n.value),i.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return i}},e.exports.__esModule=!0,e.exports.default=e.exports},172:e=>{e.exports=function(e,t){this.v=e,this.k=t},e.exports.__esModule=!0,e.exports.default=e.exports},293:e=>{function t(e,t,r,n,o,u,a){try{var i=e[u](a),s=i.value}catch(e){return void r(e)}i.done?t(s):Promise.resolve(s).then(n,o)}e.exports=function(e){return function(){var r=this,n=arguments;return new Promise((function(o,u){var a=e.apply(r,n);function i(e){t(a,o,u,i,s,"next",e)}function s(e){t(a,o,u,i,s,"throw",e)}i(void 0)}))}},e.exports.__esModule=!0,e.exports.default=e.exports},373:e=>{e.exports=function(e){var t=Object(e),r=[];for(var n in t)r.unshift(n);return function e(){for(;r.length;)if((n=r.pop())in t)return e.value=n,e.done=!1,e;return e.done=!0,e}},e.exports.__esModule=!0,e.exports.default=e.exports},389:function(e,t){!function(e){"use strict";var t=function(e){return function(t){var r=e(t);return t.add(r),r}},r=function(e){return function(t,r){return e.set(t,r),r}},n=void 0===Number.MAX_SAFE_INTEGER?9007199254740991:Number.MAX_SAFE_INTEGER,o=536870912,u=2*o,a=function(e,t){return function(r){var a=t.get(r),i=void 0===a?r.size:a<u?a+1:0;if(!r.has(i))return e(r,i);if(r.size<o){for(;r.has(i);)i=Math.floor(Math.random()*u);return e(r,i)}if(r.size>n)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;r.has(i);)i=Math.floor(Math.random()*n);return e(r,i)}},i=new WeakMap,s=r(i),c=a(s,i),f=t(c);e.addUniqueNumber=f,e.generateUniqueNumber=c}(t)},472:function(e,t,r){!function(e,t,r,n){"use strict";var o=function(e,t){return function(r){var o=t.get(r);if(void 0===o)return Promise.resolve(!1);var u=n(o,2),a=u[0],i=u[1];return e(a),t.delete(r),i(!1),Promise.resolve(!0)}},u=function(e,t){var r=function(n,o,u,a){var i=n-e.now();i>0?o.set(a,[t(r,i,n,o,u,a),u]):(o.delete(a),u(!0))};return r},a=function(e,t,r,n){return function(o,u,a){var i=o+u-t.timeOrigin,s=i-t.now();return new Promise((function(t){e.set(a,[r(n,s,i,e,t,a),t])}))}},i=new Map,s=o(globalThis.clearTimeout,i),c=new Map,f=o(globalThis.clearTimeout,c),l=u(performance,globalThis.setTimeout),p=a(i,performance,globalThis.setTimeout,l),d=a(c,performance,globalThis.setTimeout,l);r.createWorker(self,{clear:function(){var r=e(t.mark((function e(r){var n,o,u;return t.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.timerId,o=r.timerType,e.next=1,"interval"===o?s(n):f(n);case 1:return u=e.sent,e.abrupt("return",{result:u});case 2:case"end":return e.stop()}}),e)})));function n(e){return r.apply(this,arguments)}return n}(),set:function(){var r=e(t.mark((function e(r){var n,o,u,a,i;return t.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.delay,o=r.now,u=r.timerId,a=r.timerType,e.next=1,("interval"===a?p:d)(n,o,u);case 1:return i=e.sent,e.abrupt("return",{result:i});case 2:case"end":return e.stop()}}),e)})));function n(e){return r.apply(this,arguments)}return n}()})}(r(293),r(756),r(623),r(715))},546:e=>{function t(r,n,o,u){var a=Object.defineProperty;try{a({},"",{})}catch(r){a=0}e.exports=t=function(e,r,n,o){if(r)a?a(e,r,{value:n,enumerable:!o,configurable:!o,writable:!o}):e[r]=n;else{var u=function(r,n){t(e,r,(function(e){return this._invoke(r,n,e)}))};u("next",0),u("throw",1),u("return",2)}},e.exports.__esModule=!0,e.exports.default=e.exports,t(r,n,o,u)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},579:(e,t,r)=>{var n=r(738).default;e.exports=function(e){if(null!=e){var t=e["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],r=0;if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}}throw new TypeError(n(e)+" is not iterable")},e.exports.__esModule=!0,e.exports.default=e.exports},623:function(e,t,r){!function(e,t,r,n,o){"use strict";var u={INTERNAL_ERROR:-32603,INVALID_PARAMS:-32602,METHOD_NOT_FOUND:-32601},a=function(e,t){return Object.assign(new Error(e),{status:t})},i=function(e){return a('The requested method called "'.concat(e,'" is not supported.'),u.METHOD_NOT_FOUND)},s=function(e){return a('The handler of the method called "'.concat(e,'" returned no required result.'),u.INTERNAL_ERROR)},c=function(e){return a('The handler of the method called "'.concat(e,'" returned an unexpected result.'),u.INTERNAL_ERROR)},f=function(e){return a('The specified parameter called "portId" with the given value "'.concat(e,'" does not identify a port connected to this worker.'),u.INVALID_PARAMS)},l=function(e,n){return function(){var o=t(r.mark((function t(o){var u,a,f,l,p,d,v,x,y,b,h,m,_,g,w;return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(u=o.data,a=u.id,f=u.method,l=u.params,p=n[f],t.prev=1,void 0!==p){t.next=2;break}throw i(f);case 2:if(void 0!==(d=void 0===l?p():p(l))){t.next=3;break}throw s(f);case 3:if(!(d instanceof Promise)){t.next=5;break}return t.next=4,d;case 4:g=t.sent,t.next=6;break;case 5:g=d;case 6:if(v=g,null!==a){t.next=8;break}if(void 0===v.result){t.next=7;break}throw c(f);case 7:t.next=10;break;case 8:if(void 0!==v.result){t.next=9;break}throw c(f);case 9:x=v.result,y=v.transferables,b=void 0===y?[]:y,e.postMessage({id:a,result:x},b);case 10:t.next=12;break;case 11:t.prev=11,w=t.catch(1),h=w.message,m=w.status,_=void 0===m?-32603:m,e.postMessage({error:{code:_,message:h},id:a});case 12:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return o.apply(this,arguments)}}()},p=function(){return new Promise((function(e){var t=new ArrayBuffer(0),r=new MessageChannel,n=r.port1,o=r.port2;n.onmessage=function(t){var r=t.data;return e(null!==r)},o.postMessage(t,[t])}))};function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var x=new Map,y=function(e,n,u){return v(v({},n),{},{connect:function(t){var r=t.port;r.start();var u=e(r,n),a=o.generateUniqueNumber(x);return x.set(a,(function(){u(),r.close(),x.delete(a)})),{result:a}},disconnect:function(e){var t=e.portId,r=x.get(t);if(void 0===r)throw f(t);return r(),{result:null}},isSupported:function(){var e=t(r.mark((function e(){var t,n,o;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=1,p();case 1:if(!e.sent){e.next=5;break}if(!((t=u())instanceof Promise)){e.next=3;break}return e.next=2,t;case 2:o=e.sent,e.next=4;break;case 3:o=t;case 4:return n=o,e.abrupt("return",{result:n});case 5:return e.abrupt("return",{result:!1});case 6:case"end":return e.stop()}}),e)})));function n(){return e.apply(this,arguments)}return n}()})},b=function(e,t){var r=y(b,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return!0}),n=l(e,r);return e.addEventListener("message",n),function(){return e.removeEventListener("message",n)}};e.createWorker=b,e.isSupported=p}(t,r(293),r(756),r(693),r(389))},633:(e,t,r)=>{var n=r(172),o=r(993),u=r(869),a=r(887),i=r(791),s=r(373),c=r(579);function f(){"use strict";var t=o(),r=t.m(f),l=(Object.getPrototypeOf?Object.getPrototypeOf(r):r.__proto__).constructor;function p(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===l||"GeneratorFunction"===(t.displayName||t.name))}var d={throw:1,return:2,break:3,continue:3};function v(e){var t,r;return function(n){t||(t={stop:function(){return r(n.a,2)},catch:function(){return n.v},abrupt:function(e,t){return r(n.a,d[e],t)},delegateYield:function(e,o,u){return t.resultName=o,r(n.d,c(e),u)},finish:function(e){return r(n.f,e)}},r=function(e,r,o){n.p=t.prev,n.n=t.next;try{return e(r,o)}finally{t.next=n.n}}),t.resultName&&(t[t.resultName]=n.v,t.resultName=void 0),t.sent=n.v,t.next=n.n;try{return e.call(this,t)}finally{n.p=t.prev,n.n=t.next}}}return(e.exports=f=function(){return{wrap:function(e,r,n,o){return t.w(v(e),r,n,o&&o.reverse())},isGeneratorFunction:p,mark:t.m,awrap:function(e,t){return new n(e,t)},AsyncIterator:i,async:function(e,t,r,n,o){return(p(t)?a:u)(v(e),t,r,n,o)},keys:s,values:c}},e.exports.__esModule=!0,e.exports.default=e.exports)()}e.exports=f,e.exports.__esModule=!0,e.exports.default=e.exports},693:(e,t,r)=>{var n=r(736);e.exports=function(e,t,r){return(t=n(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},e.exports.__esModule=!0,e.exports.default=e.exports},715:(e,t,r)=>{var n=r(987),o=r(156),u=r(122),a=r(752);e.exports=function(e,t){return n(e)||o(e,t)||u(e,t)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},736:(e,t,r)=>{var n=r(738).default,o=r(45);e.exports=function(e){var t=o(e,"string");return"symbol"==n(t)?t:t+""},e.exports.__esModule=!0,e.exports.default=e.exports},738:e=>{function t(r){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},752:e=>{e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},756:(e,t,r)=>{var n=r(633)();e.exports=n;try{regeneratorRuntime=n}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=n:Function("r","regeneratorRuntime = r")(n)}},791:(e,t,r)=>{var n=r(172),o=r(546);e.exports=function e(t,r){function u(e,o,a,i){try{var s=t[e](o),c=s.value;return c instanceof n?r.resolve(c.v).then((function(e){u("next",e,a,i)}),(function(e){u("throw",e,a,i)})):r.resolve(c).then((function(e){s.value=e,a(s)}),(function(e){return u("throw",e,a,i)}))}catch(e){i(e)}}var a;this.next||(o(e.prototype),o(e.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",(function(){return this}))),o(this,"_invoke",(function(e,t,n){function o(){return new r((function(t,r){u(e,n,t,r)}))}return a=a?a.then(o,o):o()}),!0)},e.exports.__esModule=!0,e.exports.default=e.exports},869:(e,t,r)=>{var n=r(887);e.exports=function(e,t,r,o,u){var a=n(e,t,r,o,u);return a.next().then((function(e){return e.done?e.value:a.next()}))},e.exports.__esModule=!0,e.exports.default=e.exports},887:(e,t,r)=>{var n=r(993),o=r(791);e.exports=function(e,t,r,u,a){return new o(n().w(e,t,r,u),a||Promise)},e.exports.__esModule=!0,e.exports.default=e.exports},987:e=>{e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},993:(e,t,r)=>{var n=r(546);function o(){var t,r,u="function"==typeof Symbol?Symbol:{},a=u.iterator||"@@iterator",i=u.toStringTag||"@@toStringTag";function s(e,o,u,a){var i=o&&o.prototype instanceof f?o:f,s=Object.create(i.prototype);return n(s,"_invoke",function(e,n,o){var u,a,i,s=0,f=o||[],l=!1,p={p:0,n:0,v:t,a:d,f:d.bind(t,4),d:function(e,r){return u=e,a=0,i=t,p.n=r,c}};function d(e,n){for(a=e,i=n,r=0;!l&&s&&!o&&r<f.length;r++){var o,u=f[r],d=p.p,v=u[2];e>3?(o=v===n)&&(i=u[(a=u[4])?5:(a=3,3)],u[4]=u[5]=t):u[0]<=d&&((o=e<2&&d<u[1])?(a=0,p.v=n,p.n=u[1]):d<v&&(o=e<3||u[0]>n||n>v)&&(u[4]=e,u[5]=n,p.n=v,a=0))}if(o||e>1)return c;throw l=!0,n}return function(o,f,v){if(s>1)throw TypeError("Generator is already running");for(l&&1===f&&d(f,v),a=f,i=v;(r=a<2?t:i)||!l;){u||(a?a<3?(a>1&&(p.n=-1),d(a,i)):p.n=i:p.v=i);try{if(s=2,u){if(a||(o="next"),r=u[o]){if(!(r=r.call(u,i)))throw TypeError("iterator result is not an object");if(!r.done)return r;i=r.value,a<2&&(a=0)}else 1===a&&(r=u.return)&&r.call(u),a<2&&(i=TypeError("The iterator does not provide a '"+o+"' method"),a=1);u=t}else if((r=(l=p.n<0)?i:e.call(n,p))!==c)break}catch(e){u=t,a=1,i=e}finally{s=1}}return{value:r,done:l}}}(e,u,a),!0),s}var c={};function f(){}function l(){}function p(){}r=Object.getPrototypeOf;var d=[][a]?r(r([][a]())):(n(r={},a,(function(){return this})),r),v=p.prototype=f.prototype=Object.create(d);function x(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,n(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e}return l.prototype=p,n(v,"constructor",p),n(p,"constructor",l),l.displayName="GeneratorFunction",n(p,i,"GeneratorFunction"),n(v),n(v,i,"Generator"),n(v,a,(function(){return this})),n(v,"toString",(function(){return"[object Generator]"})),(e.exports=o=function(){return{w:s,m:x}},e.exports.__esModule=!0,e.exports.default=e.exports)()}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var u=t[n]={exports:{}};return e[n].call(u.exports,u,u.exports,r),u.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";r(472)})()})();`,r=c(a.load,n),t=function(d){return r().clearInterval(d)},e=function(d){return r().clearTimeout(d)},i=function(){var d;return(d=r()).setInterval.apply(d,arguments)},l=function(){var d;return(d=r()).setTimeout.apply(d,arguments)};s.clearInterval=t,s.clearTimeout=e,s.setInterval=i,s.setTimeout=l})}),on=Ee(f=>{ye(),be(),me(),Object.defineProperty(f,"__esModule",{value:!0}),f.isReactNativeBrowser=f.isWebWorker=void 0;var h=()=>typeof window<"u"?typeof navigator<"u"&&navigator.userAgent?.toLowerCase().indexOf(" electron/")>-1&&Qe?.versions?!Object.prototype.hasOwnProperty.call(Qe.versions,"electron"):typeof window.document<"u":!1,s=()=>!!(typeof self=="object"&&self?.constructor?.name?.includes("WorkerGlobalScope")),a=()=>typeof navigator<"u"&&navigator.product==="ReactNative",c=h()||s()||a();f.isWebWorker=s(),f.isReactNativeBrowser=a(),f.default=c}),_c=Ee(f=>{ye(),be(),me();var h=f&&f.__createBinding||(Object.create?function(i,l,d,p){p===void 0&&(p=d);var g=Object.getOwnPropertyDescriptor(l,d);(!g||("get"in g?!l.__esModule:g.writable||g.configurable))&&(g={enumerable:!0,get:function(){return l[d]}}),Object.defineProperty(i,p,g)}:function(i,l,d,p){p===void 0&&(p=d),i[p]=l[d]}),s=f&&f.__setModuleDefault||(Object.create?function(i,l){Object.defineProperty(i,"default",{enumerable:!0,value:l})}:function(i,l){i.default=l}),a=f&&f.__importStar||(function(){var i=function(l){return i=Object.getOwnPropertyNames||function(d){var p=[];for(var g in d)Object.prototype.hasOwnProperty.call(d,g)&&(p[p.length]=g);return p},i(l)};return function(l){if(l&&l.__esModule)return l;var d={};if(l!=null)for(var p=i(l),g=0;g<p.length;g++)p[g]!=="default"&&h(d,l,p[g]);return s(d,l),d}})();Object.defineProperty(f,"__esModule",{value:!0});var c=wc(),n=a(on()),r={set:c.setInterval,clear:c.clearInterval},t={set:(i,l)=>setInterval(i,l),clear:i=>clearInterval(i)},e=i=>{switch(i){case"native":return t;case"worker":return r;case"auto":default:return n.default&&!n.isWebWorker&&!n.isReactNativeBrowser?r:t}};f.default=e}),Da=Ee(f=>{ye(),be(),me();var h=f&&f.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(f,"__esModule",{value:!0});var s=h(_c()),a=class{_keepalive;timerId;timer;destroyed=!1;counter;client;_keepaliveTimeoutTimestamp;_intervalEvery;get keepaliveTimeoutTimestamp(){return this._keepaliveTimeoutTimestamp}get intervalEvery(){return this._intervalEvery}get keepalive(){return this._keepalive}constructor(c,n){this.client=c,this.timer=typeof n=="object"&&"set"in n&&"clear"in n?n:(0,s.default)(n),this.setKeepalive(c.options.keepalive)}clear(){this.timerId&&(this.timer.clear(this.timerId),this.timerId=null)}setKeepalive(c){if(c*=1e3,isNaN(c)||c<=0||c>2147483647)throw new Error(`Keepalive value must be an integer between 0 and 2147483647. Provided value is ${c}`);this._keepalive=c,this.reschedule(),this.client.log(`KeepaliveManager: set keepalive to ${c}ms`)}destroy(){this.clear(),this.destroyed=!0}reschedule(){if(this.destroyed)return;this.clear(),this.counter=0;let c=Math.ceil(this._keepalive*1.5);this._keepaliveTimeoutTimestamp=Date.now()+c,this._intervalEvery=Math.ceil(this._keepalive/2),this.timerId=this.timer.set(()=>{this.destroyed||(this.counter+=1,this.counter===2?this.client.sendPing():this.counter>2&&this.client.onKeepaliveTimeout())},this._intervalEvery)}};f.default=a}),Ei=Ee(f=>{var _;ye(),be(),me();var h=f&&f.__createBinding||(Object.create?function(R,w,I,k){k===void 0&&(k=I);var M=Object.getOwnPropertyDescriptor(w,I);(!M||("get"in M?!w.__esModule:M.writable||M.configurable))&&(M={enumerable:!0,get:function(){return w[I]}}),Object.defineProperty(R,k,M)}:function(R,w,I,k){k===void 0&&(k=I),R[k]=w[I]}),s=f&&f.__setModuleDefault||(Object.create?function(R,w){Object.defineProperty(R,"default",{enumerable:!0,value:w})}:function(R,w){R.default=w}),a=f&&f.__importStar||(function(){var R=function(w){return R=Object.getOwnPropertyNames||function(I){var k=[];for(var M in I)Object.prototype.hasOwnProperty.call(I,M)&&(k[k.length]=M);return k},R(w)};return function(w){if(w&&w.__esModule)return w;var I={};if(w!=null)for(var k=R(w),M=0;M<k.length;M++)k[M]!=="default"&&h(I,w,k[M]);return s(I,w),I}})(),c=f&&f.__importDefault||function(R){return R&&R.__esModule?R:{default:R}};Object.defineProperty(f,"__esModule",{value:!0});var n=c(ku()),r=nr(),t=c(Ru()),e=c(Mt()),i=a(ju()),l=c(ga()),d=c(ec()),p=c(Ra()),g=c(tc()),b=cr(),E=rc(),S=c(Da()),O=a(on()),y=globalThis.setImmediate||((...R)=>{let w=R.shift();(0,b.nextTick)(()=>{w(...R)})}),v={keepalive:60,reschedulePings:!0,protocolId:"MQTT",protocolVersion:4,reconnectPeriod:1e3,connectTimeout:30*1e3,clean:!0,resubscribe:!0,subscribeBatchSize:null,writeCache:!0,timerVariant:"auto"},A=(_=class extends E.TypedEventEmitter{connected;disconnecting;disconnected;reconnecting;incomingStore;outgoingStore;options;queueQoSZero;_reconnectCount;log;messageIdProvider;outgoing;messageIdToTopic;noop;keepaliveManager;stream;queue;streamBuilder;_resubscribeTopics;connackTimer;reconnectTimer;_storeProcessing;_packetIdsDuringStoreProcessing;_storeProcessingQueue;_firstConnection;topicAliasRecv;topicAliasSend;_deferredReconnect;connackPacket;static defaultId(){return`mqttjs_${Math.random().toString(16).substr(2,8)}`}constructor(w,I){super(),this.options=I||{};for(let k in v)typeof this.options[k]>"u"?this.options[k]=v[k]:this.options[k]=I[k];this.log=this.options.log||(0,e.default)("mqttjs:client"),this.noop=this._noop.bind(this),this.log("MqttClient :: version:",_.VERSION),O.isWebWorker?this.log("MqttClient :: environment","webworker"):this.log("MqttClient :: environment",O.default?"browser":"node"),this.log("MqttClient :: options.protocol",I.protocol),this.log("MqttClient :: options.protocolVersion",I.protocolVersion),this.log("MqttClient :: options.username",I.username),this.log("MqttClient :: options.keepalive",I.keepalive),this.log("MqttClient :: options.reconnectPeriod",I.reconnectPeriod),this.log("MqttClient :: options.rejectUnauthorized",I.rejectUnauthorized),this.log("MqttClient :: options.properties.topicAliasMaximum",I.properties?I.properties.topicAliasMaximum:void 0),this.options.clientId=typeof I.clientId=="string"?I.clientId:_.defaultId(),this.log("MqttClient :: clientId",this.options.clientId),this.options.customHandleAcks=I.protocolVersion===5&&I.customHandleAcks?I.customHandleAcks:(...k)=>{k[3](null,0)},this.options.writeCache||(n.default.writeToStream.cacheNumbers=!1),this.streamBuilder=w,this.messageIdProvider=typeof this.options.messageIdProvider>"u"?new p.default:this.options.messageIdProvider,this.outgoingStore=I.outgoingStore||new l.default,this.incomingStore=I.incomingStore||new l.default,this.queueQoSZero=I.queueQoSZero===void 0?!0:I.queueQoSZero,this._resubscribeTopics={},this.messageIdToTopic={},this.keepaliveManager=null,this.connected=!1,this.disconnecting=!1,this.reconnecting=!1,this.queue=[],this.connackTimer=null,this.reconnectTimer=null,this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={},this._storeProcessingQueue=[],this.outgoing={},this._firstConnection=!0,I.properties&&I.properties.topicAliasMaximum>0&&(I.properties.topicAliasMaximum>65535?this.log("MqttClient :: options.properties.topicAliasMaximum is out of range"):this.topicAliasRecv=new g.default(I.properties.topicAliasMaximum)),this.on("connect",()=>{let{queue:k}=this,M=()=>{let U=k.shift();this.log("deliver :: entry %o",U);let T=null;if(!U){this._resubscribe();return}T=U.packet,this.log("deliver :: call _sendPacket for %o",T);let z=!0;T.messageId&&T.messageId!==0&&(this.messageIdProvider.register(T.messageId)||(z=!1)),z?this._sendPacket(T,Q=>{U.cb&&U.cb(Q),M()}):(this.log("messageId: %d has already used. The message is skipped and removed.",T.messageId),M())};this.log("connect :: sending queued packets"),M()}),this.on("close",()=>{this.log("close :: connected set to `false`"),this.connected=!1,this.log("close :: clearing connackTimer"),clearTimeout(this.connackTimer),this._destroyKeepaliveManager(),this.topicAliasRecv&&this.topicAliasRecv.clear(),this.log("close :: calling _setupReconnect"),this._setupReconnect()}),this.options.manualConnect||(this.log("MqttClient :: setting up stream"),this.connect())}handleAuth(w,I){I()}handleMessage(w,I){I()}_nextId(){return this.messageIdProvider.allocate()}getLastMessageId(){return this.messageIdProvider.getLastAllocated()}connect(){let w=new r.Writable,I=n.default.parser(this.options),k=null,M=[];this.log("connect :: calling method to clear reconnect"),this._clearReconnect(),this.disconnected&&!this.reconnecting&&(this.incomingStore=this.options.incomingStore||new l.default,this.outgoingStore=this.options.outgoingStore||new l.default,this.disconnecting=!1,this.disconnected=!1),this.log("connect :: using streamBuilder provided to client to create stream"),this.stream=this.streamBuilder(this),I.on("packet",q=>{this.log("parser :: on packet push to packets array."),M.push(q)});let U=()=>{this.log("work :: getting next packet in queue");let q=M.shift();if(q)this.log("work :: packet pulled from queue"),(0,d.default)(this,q,T);else{this.log("work :: no packets in queue");let he=k;k=null,this.log("work :: done flag is %s",!!he),he&&he()}},T=()=>{if(M.length)(0,b.nextTick)(U);else{let q=k;k=null,q()}};w._write=(q,he,ie)=>{k=ie,this.log("writable stream :: parsing buffer"),I.parse(q),U()};let z=q=>{this.log("streamErrorHandler :: error",q.message),q.code?(this.log("streamErrorHandler :: emitting error"),this.emit("error",q)):this.noop(q)};this.log("connect :: pipe stream to writable stream"),this.stream.pipe(w),this.stream.on("error",z),this.stream.on("close",()=>{this.log("(%s)stream :: on close",this.options.clientId),this._flushVolatile(),this.log("stream: emit close to MqttClient"),this.emit("close")}),this.log("connect: sending packet `connect`");let Q={cmd:"connect",protocolId:this.options.protocolId,protocolVersion:this.options.protocolVersion,clean:this.options.clean,clientId:this.options.clientId,keepalive:this.options.keepalive,username:this.options.username,password:this.options.password,properties:this.options.properties};if(this.options.will&&(Q.will={...this.options.will,payload:this.options.will?.payload}),this.topicAliasRecv&&(Q.properties||(Q.properties={}),this.topicAliasRecv&&(Q.properties.topicAliasMaximum=this.topicAliasRecv.max)),this._writePacket(Q),I.on("error",this.emit.bind(this,"error")),this.options.properties){if(!this.options.properties.authenticationMethod&&this.options.properties.authenticationData)return this.end(()=>this.emit("error",new Error("Packet has no Authentication Method"))),this;if(this.options.properties.authenticationMethod&&this.options.authPacket&&typeof this.options.authPacket=="object"){let q={cmd:"auth",reasonCode:0,...this.options.authPacket};this._writePacket(q)}}return this.stream.setMaxListeners(1e3),clearTimeout(this.connackTimer),this.connackTimer=setTimeout(()=>{this.log("!!connectTimeout hit!! Calling _cleanUp with force `true`"),this.emit("error",new Error("connack timeout")),this._cleanUp(!0)},this.options.connectTimeout),this}publish(w,I,k,M){this.log("publish :: message `%s` to topic `%s`",I,w);let{options:U}=this;typeof k=="function"&&(M=k,k=null),k=k||{},k={qos:0,retain:!1,dup:!1,...k};let{qos:T,retain:z,dup:Q,properties:q,cbStorePut:he}=k;if(this._checkDisconnecting(M))return this;let ie=()=>{let re=0;if((T===1||T===2)&&(re=this._nextId(),re===null))return this.log("No messageId left"),!1;let ce={cmd:"publish",topic:w,payload:I,qos:T,retain:z,messageId:re,dup:Q};switch(U.protocolVersion===5&&(ce.properties=q),this.log("publish :: qos",T),T){case 1:case 2:this.outgoing[ce.messageId]={volatile:!1,cb:M||this.noop},this.log("MqttClient:publish: packet cmd: %s",ce.cmd),this._sendPacket(ce,void 0,he);break;default:this.log("MqttClient:publish: packet cmd: %s",ce.cmd),this._sendPacket(ce,M,he);break}return!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!ie())&&this._storeProcessingQueue.push({invoke:ie,cbStorePut:k.cbStorePut,callback:M}),this}publishAsync(w,I,k){return new Promise((M,U)=>{this.publish(w,I,k,(T,z)=>{T?U(T):M(z)})})}subscribe(w,I,k){let M=this.options.protocolVersion;typeof I=="function"&&(k=I),k=k||this.noop;let U=!1,T=[];typeof w=="string"?(w=[w],T=w):Array.isArray(w)?T=w:typeof w=="object"&&(U=w.resubscribe,delete w.resubscribe,T=Object.keys(w));let z=i.validateTopics(T);if(z!==null)return y(k,new Error(`Invalid topic ${z}`)),this;if(this._checkDisconnecting(k))return this.log("subscribe: discconecting true"),this;let Q={qos:0};M===5&&(Q.nl=!1,Q.rap=!1,Q.rh=0),I={...Q,...I};let{properties:q}=I,he=[],ie=(V,le)=>{if(le=le||I,!Object.prototype.hasOwnProperty.call(this._resubscribeTopics,V)||this._resubscribeTopics[V].qos<le.qos||U){let B={topic:V,qos:le.qos};M===5&&(B.nl=le.nl,B.rap=le.rap,B.rh=le.rh,B.properties=q),this.log("subscribe: pushing topic `%s` and qos `%s` to subs list",B.topic,B.qos),he.push(B)}};if(Array.isArray(w)?w.forEach(V=>{this.log("subscribe: array topic %s",V),ie(V)}):Object.keys(w).forEach(V=>{this.log("subscribe: object topic %s, %o",V,w[V]),ie(V,w[V])}),!he.length)return k(null,[]),this;let re=(V,le)=>{let B={cmd:"subscribe",subscriptions:V,messageId:le};if(q&&(B.properties=q),this.options.resubscribe){this.log("subscribe :: resubscribe true");let ee=[];V.forEach(ue=>{if(this.options.reconnectPeriod>0){let Oe={qos:ue.qos};M===5&&(Oe.nl=ue.nl||!1,Oe.rap=ue.rap||!1,Oe.rh=ue.rh||0,Oe.properties=ue.properties),this._resubscribeTopics[ue.topic]=Oe,ee.push(ue.topic)}}),this.messageIdToTopic[B.messageId]=ee}let te=new Promise((ee,ue)=>{this.outgoing[B.messageId]={volatile:!0,cb(Oe,X){if(!Oe){let{granted:W}=X;for(let se=0;se<W.length;se+=1)V[se].qos=W[se]}Oe?ue(new b.ErrorWithSubackPacket(Oe.message,X)):ee(X)}}});return this.log("subscribe :: call _sendPacket"),this._sendPacket(B),te},ce=()=>{let V=this.options.subscribeBatchSize??he.length,le=[];for(let B=0;B<he.length;B+=V){let te=he.slice(B,B+V),ee=this._nextId();if(ee===null)return this.log("No messageId left"),!1;le.push(re(te,ee))}return Promise.all(le).then(B=>{k(null,he,B.at(-1))}).catch(B=>{k(B,he,B.packet)}),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!ce())&&this._storeProcessingQueue.push({invoke:ce,callback:k}),this}subscribeAsync(w,I){return new Promise((k,M)=>{this.subscribe(w,I,(U,T)=>{U?M(U):k(T)})})}unsubscribe(w,I,k){typeof w=="string"&&(w=[w]),typeof I=="function"&&(k=I),k=k||this.noop;let M=i.validateTopics(w);if(M!==null)return y(k,new Error(`Invalid topic ${M}`)),this;if(this._checkDisconnecting(k))return this;let U=()=>{let T=this._nextId();if(T===null)return this.log("No messageId left"),!1;let z={cmd:"unsubscribe",messageId:T,unsubscriptions:[]};return typeof w=="string"?z.unsubscriptions=[w]:Array.isArray(w)&&(z.unsubscriptions=w),this.options.resubscribe&&z.unsubscriptions.forEach(Q=>{delete this._resubscribeTopics[Q]}),typeof I=="object"&&I.properties&&(z.properties=I.properties),this.outgoing[z.messageId]={volatile:!0,cb:k},this.log("unsubscribe: call _sendPacket"),this._sendPacket(z),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!U())&&this._storeProcessingQueue.push({invoke:U,callback:k}),this}unsubscribeAsync(w,I){return new Promise((k,M)=>{this.unsubscribe(w,I,(U,T)=>{U?M(U):k(T)})})}end(w,I,k){this.log("end :: (%s)",this.options.clientId),(w==null||typeof w!="boolean")&&(k=k||I,I=w,w=!1),typeof I!="object"&&(k=k||I,I=null),this.log("end :: cb? %s",!!k),(!k||typeof k!="function")&&(k=this.noop);let M=()=>{this.log("end :: closeStores: closing incoming and outgoing stores"),this.disconnected=!0,this.incomingStore.close(T=>{this.outgoingStore.close(z=>{if(this.log("end :: closeStores: emitting end"),this.emit("end"),k){let Q=T||z;this.log("end :: closeStores: invoking callback with args"),k(Q)}})}),this._deferredReconnect?this._deferredReconnect():(this.options.reconnectPeriod===0||this.options.manualConnect)&&(this.disconnecting=!1)},U=()=>{this.log("end :: (%s) :: finish :: calling _cleanUp with force %s",this.options.clientId,w),this._cleanUp(w,()=>{this.log("end :: finish :: calling process.nextTick on closeStores"),(0,b.nextTick)(M)},I)};return this.disconnecting?(k(),this):(this._clearReconnect(),this.disconnecting=!0,!w&&Object.keys(this.outgoing).length>0?(this.log("end :: (%s) :: calling finish in 10ms once outgoing is empty",this.options.clientId),this.once("outgoingEmpty",setTimeout.bind(null,U,10))):(this.log("end :: (%s) :: immediately calling finish",this.options.clientId),U()),this)}endAsync(w,I){return new Promise((k,M)=>{this.end(w,I,U=>{U?M(U):k()})})}removeOutgoingMessage(w){if(this.outgoing[w]){let{cb:I}=this.outgoing[w];this._removeOutgoingAndStoreMessage(w,()=>{I(new Error("Message removed"))})}return this}reconnect(w){this.log("client reconnect");let I=()=>{w?(this.options.incomingStore=w.incomingStore,this.options.outgoingStore=w.outgoingStore):(this.options.incomingStore=null,this.options.outgoingStore=null),this.incomingStore=this.options.incomingStore||new l.default,this.outgoingStore=this.options.outgoingStore||new l.default,this.disconnecting=!1,this.disconnected=!1,this._deferredReconnect=null,this._reconnect()};return this.disconnecting&&!this.disconnected?this._deferredReconnect=I:I(),this}_flushVolatile(){this.outgoing&&(this.log("_flushVolatile :: deleting volatile messages from the queue and setting their callbacks as error function"),Object.keys(this.outgoing).forEach(w=>{this.outgoing[w].volatile&&typeof this.outgoing[w].cb=="function"&&(this.outgoing[w].cb(new Error("Connection closed")),delete this.outgoing[w])}))}_flush(){this.outgoing&&(this.log("_flush: queue exists? %b",!!this.outgoing),Object.keys(this.outgoing).forEach(w=>{typeof this.outgoing[w].cb=="function"&&(this.outgoing[w].cb(new Error("Connection closed")),delete this.outgoing[w])}))}_removeTopicAliasAndRecoverTopicName(w){let I;w.properties&&(I=w.properties.topicAlias);let k=w.topic.toString();if(this.log("_removeTopicAliasAndRecoverTopicName :: alias %d, topic %o",I,k),k.length===0){if(typeof I>"u")return new Error("Unregistered Topic Alias");if(k=this.topicAliasSend.getTopicByAlias(I),typeof k>"u")return new Error("Unregistered Topic Alias");w.topic=k}I&&delete w.properties.topicAlias}_checkDisconnecting(w){return this.disconnecting&&(w&&w!==this.noop?w(new Error("client disconnecting")):this.emit("error",new Error("client disconnecting"))),this.disconnecting}_reconnect(){this.log("_reconnect: emitting reconnect to client"),this.emit("reconnect"),this.connected?(this.end(()=>{this.connect()}),this.log("client already connected. disconnecting first.")):(this.log("_reconnect: calling connect"),this.connect())}_setupReconnect(){!this.disconnecting&&!this.reconnectTimer&&this.options.reconnectPeriod>0?(this.reconnecting||(this.log("_setupReconnect :: emit `offline` state"),this.emit("offline"),this.log("_setupReconnect :: set `reconnecting` to `true`"),this.reconnecting=!0),this.log("_setupReconnect :: setting reconnectTimer for %d ms",this.options.reconnectPeriod),this.reconnectTimer=setInterval(()=>{this.log("reconnectTimer :: reconnect triggered!"),this._reconnect()},this.options.reconnectPeriod)):this.log("_setupReconnect :: doing nothing...")}_clearReconnect(){this.log("_clearReconnect : clearing reconnect timer"),this.reconnectTimer&&(clearInterval(this.reconnectTimer),this.reconnectTimer=null)}_cleanUp(w,I,k={}){if(I&&(this.log("_cleanUp :: done callback provided for on stream close"),this.stream.on("close",I)),this.log("_cleanUp :: forced? %s",w),w)this.options.reconnectPeriod===0&&this.options.clean&&this._flush(),this.log("_cleanUp :: (%s) :: destroying stream",this.options.clientId),this.stream.destroy();else{let M={cmd:"disconnect",...k};this.log("_cleanUp :: (%s) :: call _sendPacket with disconnect packet",this.options.clientId),this._sendPacket(M,()=>{this.log("_cleanUp :: (%s) :: destroying stream",this.options.clientId),y(()=>{this.stream.end(()=>{this.log("_cleanUp :: (%s) :: stream destroyed",this.options.clientId)})})})}!this.disconnecting&&!this.reconnecting&&(this.log("_cleanUp :: client not disconnecting/reconnecting. Clearing and resetting reconnect."),this._clearReconnect(),this._setupReconnect()),this._destroyKeepaliveManager(),I&&!this.connected&&(this.log("_cleanUp :: (%s) :: removing stream `done` callback `close` listener",this.options.clientId),this.stream.removeListener("close",I),I())}_storeAndSend(w,I,k){this.log("storeAndSend :: store packet with cmd %s to outgoingStore",w.cmd);let M=w,U;if(M.cmd==="publish"&&(M=(0,t.default)(w),U=this._removeTopicAliasAndRecoverTopicName(M),U))return I&&I(U);this.outgoingStore.put(M,T=>{if(T)return I&&I(T);k(),this._writePacket(w,I)})}_applyTopicAlias(w){if(this.options.protocolVersion===5&&w.cmd==="publish"){let I;w.properties&&(I=w.properties.topicAlias);let k=w.topic.toString();if(this.topicAliasSend)if(I){if(k.length!==0&&(this.log("applyTopicAlias :: register topic: %s - alias: %d",k,I),!this.topicAliasSend.put(k,I)))return this.log("applyTopicAlias :: error out of range. topic: %s - alias: %d",k,I),new Error("Sending Topic Alias out of range")}else k.length!==0&&(this.options.autoAssignTopicAlias?(I=this.topicAliasSend.getAliasByTopic(k),I?(w.topic="",w.properties={...w.properties,topicAlias:I},this.log("applyTopicAlias :: auto assign(use) topic: %s - alias: %d",k,I)):(I=this.topicAliasSend.getLruAlias(),this.topicAliasSend.put(k,I),w.properties={...w.properties,topicAlias:I},this.log("applyTopicAlias :: auto assign topic: %s - alias: %d",k,I))):this.options.autoUseTopicAlias&&(I=this.topicAliasSend.getAliasByTopic(k),I&&(w.topic="",w.properties={...w.properties,topicAlias:I},this.log("applyTopicAlias :: auto use topic: %s - alias: %d",k,I))));else if(I)return this.log("applyTopicAlias :: error out of range. topic: %s - alias: %d",k,I),new Error("Sending Topic Alias out of range")}}_noop(w){this.log("noop ::",w)}_writePacket(w,I){this.log("_writePacket :: packet: %O",w),this.log("_writePacket :: emitting `packetsend`"),this.emit("packetsend",w),this.log("_writePacket :: writing to stream");let k=n.default.writeToStream(w,this.stream,this.options);this.log("_writePacket :: writeToStream result %s",k),!k&&I&&I!==this.noop?(this.log("_writePacket :: handle events on `drain` once through callback."),this.stream.once("drain",I)):I&&(this.log("_writePacket :: invoking cb"),I())}_sendPacket(w,I,k,M){this.log("_sendPacket :: (%s) ::  start",this.options.clientId),k=k||this.noop,I=I||this.noop;let U=this._applyTopicAlias(w);if(U){I(U);return}if(!this.connected){if(w.cmd==="auth"){this._writePacket(w,I);return}this.log("_sendPacket :: client not connected. Storing packet offline."),this._storePacket(w,I,k);return}if(M){this._writePacket(w,I);return}switch(w.cmd){case"publish":break;case"pubrel":this._storeAndSend(w,I,k);return;default:this._writePacket(w,I);return}switch(w.qos){case 2:case 1:this._storeAndSend(w,I,k);break;case 0:default:this._writePacket(w,I);break}this.log("_sendPacket :: (%s) ::  end",this.options.clientId)}_storePacket(w,I,k){this.log("_storePacket :: packet: %o",w),this.log("_storePacket :: cb? %s",!!I),k=k||this.noop;let M=w;if(M.cmd==="publish"){M=(0,t.default)(w);let T=this._removeTopicAliasAndRecoverTopicName(M);if(T)return I&&I(T)}let U=M.qos||0;U===0&&this.queueQoSZero||M.cmd!=="publish"?this.queue.push({packet:M,cb:I}):U>0?(I=this.outgoing[M.messageId]?this.outgoing[M.messageId].cb:null,this.outgoingStore.put(M,T=>{if(T)return I&&I(T);k()})):I&&I(new Error("No connection to broker"))}_setupKeepaliveManager(){this.log("_setupKeepaliveManager :: keepalive %d (seconds)",this.options.keepalive),!this.keepaliveManager&&this.options.keepalive&&(this.keepaliveManager=new S.default(this,this.options.timerVariant))}_destroyKeepaliveManager(){this.keepaliveManager&&(this.log("_destroyKeepaliveManager :: destroying keepalive manager"),this.keepaliveManager.destroy(),this.keepaliveManager=null)}reschedulePing(w=!1){this.keepaliveManager&&this.options.keepalive&&(w||this.options.reschedulePings)&&this._reschedulePing()}_reschedulePing(){this.log("_reschedulePing :: rescheduling ping"),this.keepaliveManager.reschedule()}sendPing(){this.log("_sendPing :: sending pingreq"),this._sendPacket({cmd:"pingreq"})}onKeepaliveTimeout(){this.emit("error",new Error("Keepalive timeout")),this.log("onKeepaliveTimeout :: calling _cleanUp with force true"),this._cleanUp(!0)}_resubscribe(){this.log("_resubscribe");let w=Object.keys(this._resubscribeTopics);if(!this._firstConnection&&(this.options.clean||this.options.protocolVersion>=4&&!this.connackPacket.sessionPresent)&&w.length>0)if(this.options.resubscribe)if(this.options.protocolVersion===5){this.log("_resubscribe: protocolVersion 5");for(let I=0;I<w.length;I++){let k={};k[w[I]]=this._resubscribeTopics[w[I]],k.resubscribe=!0,this.subscribe(k,{properties:k[w[I]].properties})}}else this._resubscribeTopics.resubscribe=!0,this.subscribe(this._resubscribeTopics);else this._resubscribeTopics={};this._firstConnection=!1}_onConnect(w){if(this.disconnected){this.emit("connect",w);return}this.connackPacket=w,this.messageIdProvider.clear(),this._setupKeepaliveManager(),this.connected=!0;let I=()=>{let k=this.outgoingStore.createStream(),M=()=>{k.destroy(),k=null,this._flushStoreProcessingQueue(),U()},U=()=>{this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={}};this.once("close",M),k.on("error",z=>{U(),this._flushStoreProcessingQueue(),this.removeListener("close",M),this.emit("error",z)});let T=()=>{if(!k)return;let z=k.read(1),Q;if(!z){k.once("readable",T);return}if(this._storeProcessing=!0,this._packetIdsDuringStoreProcessing[z.messageId]){T();return}!this.disconnecting&&!this.reconnectTimer?(Q=this.outgoing[z.messageId]?this.outgoing[z.messageId].cb:null,this.outgoing[z.messageId]={volatile:!1,cb(q,he){Q&&Q(q,he),T()}},this._packetIdsDuringStoreProcessing[z.messageId]=!0,this.messageIdProvider.register(z.messageId)?this._sendPacket(z,void 0,void 0,!0):this.log("messageId: %d has already used.",z.messageId)):k.destroy&&k.destroy()};k.on("end",()=>{let z=!0;for(let Q in this._packetIdsDuringStoreProcessing)if(!this._packetIdsDuringStoreProcessing[Q]){z=!1;break}this.removeListener("close",M),z?(U(),this._invokeAllStoreProcessingQueue(),this.emit("connect",w)):I()}),T()};I()}_invokeStoreProcessingQueue(){if(!this._storeProcessing&&this._storeProcessingQueue.length>0){let w=this._storeProcessingQueue[0];if(w&&w.invoke())return this._storeProcessingQueue.shift(),!0}return!1}_invokeAllStoreProcessingQueue(){for(;this._invokeStoreProcessingQueue(););}_flushStoreProcessingQueue(){for(let w of this._storeProcessingQueue)w.cbStorePut&&w.cbStorePut(new Error("Connection closed")),w.callback&&w.callback(new Error("Connection closed"));this._storeProcessingQueue.splice(0)}_removeOutgoingAndStoreMessage(w,I){delete this.outgoing[w],this.outgoingStore.del({messageId:w},(k,M)=>{I(k,M),this.messageIdProvider.deallocate(w),this._invokeStoreProcessingQueue()})}},st(_,"VERSION",b.MQTTJS_VERSION),_);f.default=A}),Sc=Ee(f=>{ye(),be(),me(),Object.defineProperty(f,"__esModule",{value:!0});var h=Ca(),s=class{numberAllocator;lastId;constructor(){this.numberAllocator=new h.NumberAllocator(1,65535)}allocate(){return this.lastId=this.numberAllocator.alloc(),this.lastId}getLastAllocated(){return this.lastId}register(a){return this.numberAllocator.use(a)}deallocate(a){this.numberAllocator.free(a)}clear(){this.numberAllocator.clear()}};f.default=s});function Ec(){if(Ai)return Pr;Ai=!0;let f=2147483647,h=36,s=1,a=26,c=38,n=700,r=72,t=128,e="-",i=/^xn--/,l=/[^\0-\x7F]/,d=/[\x2E\u3002\uFF0E\uFF61]/g,p={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},g=h-s,b=Math.floor,E=String.fromCharCode;function S(M){throw new RangeError(p[M])}function O(M,U){let T=[],z=M.length;for(;z--;)T[z]=U(M[z]);return T}function y(M,U){let T=M.split("@"),z="";T.length>1&&(z=T[0]+"@",M=T[1]),M=M.replace(d,".");let Q=M.split("."),q=O(Q,U).join(".");return z+q}function v(M){let U=[],T=0,z=M.length;for(;T<z;){let Q=M.charCodeAt(T++);if(Q>=55296&&Q<=56319&&T<z){let q=M.charCodeAt(T++);(q&64512)==56320?U.push(((Q&1023)<<10)+(q&1023)+65536):(U.push(Q),T--)}else U.push(Q)}return U}let A=M=>String.fromCodePoint(...M),_=function(M){return M>=48&&M<58?26+(M-48):M>=65&&M<91?M-65:M>=97&&M<123?M-97:h},R=function(M,U){return M+22+75*(M<26)-((U!=0)<<5)},w=function(M,U,T){let z=0;for(M=T?b(M/n):M>>1,M+=b(M/U);M>g*a>>1;z+=h)M=b(M/g);return b(z+(g+1)*M/(M+c))},I=function(M){let U=[],T=M.length,z=0,Q=t,q=r,he=M.lastIndexOf(e);he<0&&(he=0);for(let ie=0;ie<he;++ie)M.charCodeAt(ie)>=128&&S("not-basic"),U.push(M.charCodeAt(ie));for(let ie=he>0?he+1:0;ie<T;){let re=z;for(let V=1,le=h;;le+=h){ie>=T&&S("invalid-input");let B=_(M.charCodeAt(ie++));B>=h&&S("invalid-input"),B>b((f-z)/V)&&S("overflow"),z+=B*V;let te=le<=q?s:le>=q+a?a:le-q;if(B<te)break;let ee=h-te;V>b(f/ee)&&S("overflow"),V*=ee}let ce=U.length+1;q=w(z-re,ce,re==0),b(z/ce)>f-Q&&S("overflow"),Q+=b(z/ce),z%=ce,U.splice(z++,0,Q)}return String.fromCodePoint(...U)},k=function(M){let U=[];M=v(M);let T=M.length,z=t,Q=0,q=r;for(let re of M)re<128&&U.push(E(re));let he=U.length,ie=he;for(he&&U.push(e);ie<T;){let re=f;for(let V of M)V>=z&&V<re&&(re=V);let ce=ie+1;re-z>b((f-Q)/ce)&&S("overflow"),Q+=(re-z)*ce,z=re;for(let V of M)if(V<z&&++Q>f&&S("overflow"),V===z){let le=Q;for(let B=h;;B+=h){let te=B<=q?s:B>=q+a?a:B-q;if(le<te)break;let ee=le-te,ue=h-te;U.push(E(R(te+ee%ue,0))),le=b(ee/ue)}U.push(E(R(le,0))),q=w(Q,ce,ie===he),Q=0,++ie}++Q,++z}return U.join("")};return Pr={version:"2.3.1",ucs2:{decode:v,encode:A},decode:I,encode:k,toASCII:function(M){return y(M,function(U){return l.test(U)?"xn--"+k(U):U})},toUnicode:function(M){return y(M,function(U){return i.test(U)?I(U.slice(4).toLowerCase()):U})}},Pr}var Pr,Ai,Vt,Ac=vt(()=>{ye(),be(),me(),Pr={},Ai=!1,Vt=Ec(),Vt.decode,Vt.encode,Vt.toASCII,Vt.toUnicode,Vt.ucs2,Vt.version});function xc(){return Oi||(Oi=!0,xi=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var f={},h=Symbol("test"),s=Object(h);if(typeof h=="string"||Object.prototype.toString.call(h)!=="[object Symbol]"||Object.prototype.toString.call(s)!=="[object Symbol]")return!1;var a=42;f[h]=a;for(h in f)return!1;if(typeof Object.keys=="function"&&Object.keys(f).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(f).length!==0)return!1;var c=Object.getOwnPropertySymbols(f);if(c.length!==1||c[0]!==h||!Object.prototype.propertyIsEnumerable.call(f,h))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var n=Object.getOwnPropertyDescriptor(f,h);if(n.value!==a||n.enumerable!==!0)return!1}return!0}),xi}function Oc(){return Pi||(Pi=!0,Ii=Error),Ii}function Ic(){return ki||(ki=!0,Ti=EvalError),Ti}function Pc(){return Ri||(Ri=!0,Ci=RangeError),Ci}function Tc(){return Mi||(Mi=!0,ji=ReferenceError),ji}function Fa(){return Ni||(Ni=!0,Bi=SyntaxError),Bi}function wr(){return Li||(Li=!0,Ui=TypeError),Ui}function kc(){return Fi||(Fi=!0,Di=URIError),Di}function Cc(){if(Wi)return Tr;Wi=!0;var f=typeof Symbol<"u"&&Symbol,h=xc();return Tr=function(){return typeof f!="function"||typeof Symbol!="function"||typeof f("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:h()},Tr}function Rc(){if($i)return kr;$i=!0;var f={__proto__:null,foo:{}},h=Object;return kr=function(){return{__proto__:f}.foo===f.foo&&!(f instanceof h)},kr}function jc(){if(qi)return Cr;qi=!0;var f="Function.prototype.bind called on incompatible ",h=Object.prototype.toString,s=Math.max,a="[object Function]",c=function(t,e){for(var i=[],l=0;l<t.length;l+=1)i[l]=t[l];for(var d=0;d<e.length;d+=1)i[d+t.length]=e[d];return i},n=function(t,e){for(var i=[],l=e,d=0;l<t.length;l+=1,d+=1)i[d]=t[l];return i},r=function(t,e){for(var i="",l=0;l<t.length;l+=1)i+=t[l],l+1<t.length&&(i+=e);return i};return Cr=function(t){var e=this;if(typeof e!="function"||h.apply(e)!==a)throw new TypeError(f+e);for(var i=n(arguments,1),l,d=function(){if(this instanceof l){var S=e.apply(this,c(i,arguments));return Object(S)===S?S:this}return e.apply(t,c(i,arguments))},p=s(0,e.length-i.length),g=[],b=0;b<p;b++)g[b]="$"+b;if(l=Function("binder","return function ("+r(g,",")+"){ return binder.apply(this,arguments); }")(d),e.prototype){var E=function(){};E.prototype=e.prototype,l.prototype=new E,E.prototype=null}return l},Cr}function bo(){if(Vi)return Rr;Vi=!0;var f=jc();return Rr=Function.prototype.bind||f,Rr}function Mc(){if(zi)return jr;zi=!0;var f=Function.prototype.call,h=Object.prototype.hasOwnProperty,s=bo();return jr=s.call(f,h),jr}function hr(){if(Ki)return Mr;Ki=!0;var f,h=Oc(),s=Ic(),a=Pc(),c=Tc(),n=Fa(),r=wr(),t=kc(),e=Function,i=function(ie){try{return e('"use strict"; return ('+ie+").constructor;")()}catch{}},l=Object.getOwnPropertyDescriptor;if(l)try{l({},"")}catch{l=null}var d=function(){throw new r},p=l?(function(){try{return arguments.callee,d}catch{try{return l(arguments,"callee").get}catch{return d}}})():d,g=Cc()(),b=Rc()(),E=Object.getPrototypeOf||(b?function(ie){return ie.__proto__}:null),S={},O=typeof Uint8Array>"u"||!E?f:E(Uint8Array),y={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?f:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?f:ArrayBuffer,"%ArrayIteratorPrototype%":g&&E?E([][Symbol.iterator]()):f,"%AsyncFromSyncIteratorPrototype%":f,"%AsyncFunction%":S,"%AsyncGenerator%":S,"%AsyncGeneratorFunction%":S,"%AsyncIteratorPrototype%":S,"%Atomics%":typeof Atomics>"u"?f:Atomics,"%BigInt%":typeof BigInt>"u"?f:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?f:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?f:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?f:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":h,"%eval%":eval,"%EvalError%":s,"%Float32Array%":typeof Float32Array>"u"?f:Float32Array,"%Float64Array%":typeof Float64Array>"u"?f:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?f:FinalizationRegistry,"%Function%":e,"%GeneratorFunction%":S,"%Int8Array%":typeof Int8Array>"u"?f:Int8Array,"%Int16Array%":typeof Int16Array>"u"?f:Int16Array,"%Int32Array%":typeof Int32Array>"u"?f:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":g&&E?E(E([][Symbol.iterator]())):f,"%JSON%":typeof JSON=="object"?JSON:f,"%Map%":typeof Map>"u"?f:Map,"%MapIteratorPrototype%":typeof Map>"u"||!g||!E?f:E(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?f:Promise,"%Proxy%":typeof Proxy>"u"?f:Proxy,"%RangeError%":a,"%ReferenceError%":c,"%Reflect%":typeof Reflect>"u"?f:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?f:Set,"%SetIteratorPrototype%":typeof Set>"u"||!g||!E?f:E(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?f:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":g&&E?E(""[Symbol.iterator]()):f,"%Symbol%":g?Symbol:f,"%SyntaxError%":n,"%ThrowTypeError%":p,"%TypedArray%":O,"%TypeError%":r,"%Uint8Array%":typeof Uint8Array>"u"?f:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?f:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?f:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?f:Uint32Array,"%URIError%":t,"%WeakMap%":typeof WeakMap>"u"?f:WeakMap,"%WeakRef%":typeof WeakRef>"u"?f:WeakRef,"%WeakSet%":typeof WeakSet>"u"?f:WeakSet};if(E)try{null.error}catch(ie){var v=E(E(ie));y["%Error.prototype%"]=v}var A=function ie(re){var ce;if(re==="%AsyncFunction%")ce=i("async function () {}");else if(re==="%GeneratorFunction%")ce=i("function* () {}");else if(re==="%AsyncGeneratorFunction%")ce=i("async function* () {}");else if(re==="%AsyncGenerator%"){var V=ie("%AsyncGeneratorFunction%");V&&(ce=V.prototype)}else if(re==="%AsyncIteratorPrototype%"){var le=ie("%AsyncGenerator%");le&&E&&(ce=E(le.prototype))}return y[re]=ce,ce},_={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},R=bo(),w=Mc(),I=R.call(Function.call,Array.prototype.concat),k=R.call(Function.apply,Array.prototype.splice),M=R.call(Function.call,String.prototype.replace),U=R.call(Function.call,String.prototype.slice),T=R.call(Function.call,RegExp.prototype.exec),z=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Q=/\\(\\)?/g,q=function(ie){var re=U(ie,0,1),ce=U(ie,-1);if(re==="%"&&ce!=="%")throw new n("invalid intrinsic syntax, expected closing `%`");if(ce==="%"&&re!=="%")throw new n("invalid intrinsic syntax, expected opening `%`");var V=[];return M(ie,z,function(le,B,te,ee){V[V.length]=te?M(ee,Q,"$1"):B||le}),V},he=function(ie,re){var ce=ie,V;if(w(_,ce)&&(V=_[ce],ce="%"+V[0]+"%"),w(y,ce)){var le=y[ce];if(le===S&&(le=A(ce)),typeof le>"u"&&!re)throw new r("intrinsic "+ie+" exists, but is not available. Please file an issue!");return{alias:V,name:ce,value:le}}throw new n("intrinsic "+ie+" does not exist!")};return Mr=function(ie,re){if(typeof ie!="string"||ie.length===0)throw new r("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof re!="boolean")throw new r('"allowMissing" argument must be a boolean');if(T(/^%?[^%]*%?$/,ie)===null)throw new n("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var ce=q(ie),V=ce.length>0?ce[0]:"",le=he("%"+V+"%",re),B=le.name,te=le.value,ee=!1,ue=le.alias;ue&&(V=ue[0],k(ce,I([0,1],ue)));for(var Oe=1,X=!0;Oe<ce.length;Oe+=1){var W=ce[Oe],se=U(W,0,1),Z=U(W,-1);if((se==='"'||se==="'"||se==="`"||Z==='"'||Z==="'"||Z==="`")&&se!==Z)throw new n("property names with quotes must have matching quotes");if((W==="constructor"||!X)&&(ee=!0),V+="."+W,B="%"+V+"%",w(y,B))te=y[B];else if(te!=null){if(!(W in te)){if(!re)throw new r("base intrinsic for "+ie+" exists, but the property is not available.");return}if(l&&Oe+1>=ce.length){var J=l(te,W);X=!!J,X&&"get"in J&&!("originalValue"in J.get)?te=J.get:te=te[W]}else X=w(te,W),te=te[W];X&&!ee&&(y[B]=te)}}return te},Mr}function vo(){if(Hi)return Br;Hi=!0;var f=hr(),h=f("%Object.defineProperty%",!0)||!1;if(h)try{h({},"a",{value:1})}catch{h=!1}return Br=h,Br}function Wa(){if(Gi)return Nr;Gi=!0;var f=hr(),h=f("%Object.getOwnPropertyDescriptor%",!0);if(h)try{h([],"length")}catch{h=null}return Nr=h,Nr}function Bc(){if(Qi)return Ur;Qi=!0;var f=vo(),h=Fa(),s=wr(),a=Wa();return Ur=function(c,n,r){if(!c||typeof c!="object"&&typeof c!="function")throw new s("`obj` must be an object or a function`");if(typeof n!="string"&&typeof n!="symbol")throw new s("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new s("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new s("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new s("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new s("`loose`, if provided, must be a boolean");var t=arguments.length>3?arguments[3]:null,e=arguments.length>4?arguments[4]:null,i=arguments.length>5?arguments[5]:null,l=arguments.length>6?arguments[6]:!1,d=!!a&&a(c,n);if(f)f(c,n,{configurable:i===null&&d?d.configurable:!i,enumerable:t===null&&d?d.enumerable:!t,value:r,writable:e===null&&d?d.writable:!e});else if(l||!t&&!e&&!i)c[n]=r;else throw new h("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},Ur}function Nc(){if(Yi)return Lr;Yi=!0;var f=vo(),h=function(){return!!f};return h.hasArrayLengthDefineBug=function(){if(!f)return null;try{return f([],"length",{value:1}).length!==1}catch{return!0}},Lr=h,Lr}function Uc(){if(Ji)return Dr;Ji=!0;var f=hr(),h=Bc(),s=Nc()(),a=Wa(),c=wr(),n=f("%Math.floor%");return Dr=function(r,t){if(typeof r!="function")throw new c("`fn` is not a function");if(typeof t!="number"||t<0||t>4294967295||n(t)!==t)throw new c("`length` must be a positive 32-bit integer");var e=arguments.length>2&&!!arguments[2],i=!0,l=!0;if("length"in r&&a){var d=a(r,"length");d&&!d.configurable&&(i=!1),d&&!d.writable&&(l=!1)}return(i||l||!e)&&(s?h(r,"length",t,!0,!0):h(r,"length",t)),r},Dr}function Lc(){if(Xi)return ar;Xi=!0;var f=bo(),h=hr(),s=Uc(),a=wr(),c=h("%Function.prototype.apply%"),n=h("%Function.prototype.call%"),r=h("%Reflect.apply%",!0)||f.call(n,c),t=vo(),e=h("%Math.max%");ar=function(l){if(typeof l!="function")throw new a("a function is required");var d=r(f,n,arguments);return s(d,1+e(0,l.length-(arguments.length-1)),!0)};var i=function(){return r(f,c,arguments)};return t?t(ar,"apply",{value:i}):ar.apply=i,ar}function Dc(){if(Zi)return Fr;Zi=!0;var f=hr(),h=Lc(),s=h(f("String.prototype.indexOf"));return Fr=function(a,c){var n=f(a,!!c);return typeof n=="function"&&s(a,".prototype.")>-1?h(n):n},Fr}var xi,Oi,Ii,Pi,Ti,ki,Ci,Ri,ji,Mi,Bi,Ni,Ui,Li,Di,Fi,Tr,Wi,kr,$i,Cr,qi,Rr,Vi,jr,zi,Mr,Ki,Br,Hi,Nr,Gi,Ur,Qi,Lr,Yi,Dr,Ji,ar,Xi,Fr,Zi,Fc=vt(()=>{ye(),be(),me(),xi={},Oi=!1,Ii={},Pi=!1,Ti={},ki=!1,Ci={},Ri=!1,ji={},Mi=!1,Bi={},Ni=!1,Ui={},Li=!1,Di={},Fi=!1,Tr={},Wi=!1,kr={},$i=!1,Cr={},qi=!1,Rr={},Vi=!1,jr={},zi=!1,Mr={},Ki=!1,Br={},Hi=!1,Nr={},Gi=!1,Ur={},Qi=!1,Lr={},Yi=!1,Dr={},Ji=!1,ar={},Xi=!1,Fr={},Zi=!1});function wo(f){throw new Error("Node.js process "+f+" is not supported by JSPM core outside of Node.js")}function Wc(){!er||!Xt||(er=!1,Xt.length?Ot=Xt.concat(Ot):mr=-1,Ot.length&&$a())}function $a(){if(!er){var f=setTimeout(Wc,0);er=!0;for(var h=Ot.length;h;){for(Xt=Ot,Ot=[];++mr<h;)Xt&&Xt[mr].run();mr=-1,h=Ot.length}Xt=null,er=!1,clearTimeout(f)}}function $c(f){var h=new Array(arguments.length-1);if(arguments.length>1)for(var s=1;s<arguments.length;s++)h[s-1]=arguments[s];Ot.push(new qa(f,h)),Ot.length===1&&!er&&setTimeout($a,0)}function qa(f,h){this.fun=f,this.array=h}function dt(){}function qc(f){wo("_linkedBinding")}function Vc(f){wo("dlopen")}function zc(){return[]}function Kc(){return[]}function Hc(f,h){if(!f)throw new Error(h||"assertion error")}function Gc(){return!1}function Qc(){return Rt.now()/1e3}function ln(f){var h=Math.floor((Date.now()-Rt.now())*.001),s=Rt.now()*.001,a=Math.floor(s)+h,c=Math.floor(s%1*1e9);return f&&(a=a-f[0],c=c-f[1],c<0&&(a--,c+=Wr)),[a,c]}function Dt(){return _o}function Yc(f){return[]}var Ot,er,Xt,mr,Ro,jo,Mo,Bo,No,Uo,Lo,Do,Fo,Wo,$o,qo,Vo,zo,Ko,Ho,Go,Qo,Yo,Jo,Xo,Sr,Zo,es,ts,rs,ns,is,os,ss,as,ls,us,cs,hs,fs,ps,ds,gs,ys,ms,bs,vs,ws,_s,Ss,Es,Rt,un,Wr,As,xs,Os,Is,Ps,Ts,ks,Cs,Rs,js,Ms,_o,Va=vt(()=>{ye(),be(),me(),Ot=[],er=!1,mr=-1,qa.prototype.run=function(){this.fun.apply(null,this.array)},Ro="browser",jo="x64",Mo="browser",Bo={PATH:"/usr/bin",LANG:navigator.language+".UTF-8",PWD:"/",HOME:"/home",TMP:"/tmp"},No=["/usr/bin/node"],Uo=[],Lo="v16.8.0",Do={},Fo=function(f,h){console.warn((h?h+": ":"")+f)},Wo=function(f){wo("binding")},$o=function(f){return 0},qo=function(){return"/"},Vo=function(f){},zo={name:"node",sourceUrl:"",headersUrl:"",libUrl:""},Ko=dt,Ho=[],Go={},Qo=!1,Yo={},Jo=dt,Xo=dt,Sr=function(){return{}},Zo=Sr,es=Sr,ts=dt,rs=dt,ns=dt,is={},os={inspector:!1,debug:!1,uv:!1,ipv6:!1,tls_alpn:!1,tls_sni:!1,tls_ocsp:!1,tls:!1,cached_builtins:!0},ss=dt,as=dt,ls=dt,us=dt,cs=dt,hs=dt,fs=dt,ps=void 0,ds=void 0,gs=void 0,ys=dt,ms=2,bs=1,vs="/bin/usr/node",ws=9229,_s="node",Ss=[],Es=dt,Rt={now:typeof performance<"u"?performance.now.bind(performance):void 0,timing:typeof performance<"u"?performance.timing:void 0},Rt.now===void 0&&(un=Date.now(),Rt.timing&&Rt.timing.navigationStart&&(un=Rt.timing.navigationStart),Rt.now=()=>Date.now()-un),Wr=1e9,ln.bigint=function(f){var h=ln(f);return typeof BigInt>"u"?h[0]*Wr+h[1]:BigInt(h[0]*Wr)+BigInt(h[1])},As=10,xs={},Os=0,Is=Dt,Ps=Dt,Ts=Dt,ks=Dt,Cs=Dt,Rs=dt,js=Dt,Ms=Dt,_o={version:Lo,versions:Do,arch:jo,platform:Mo,release:zo,_rawDebug:Ko,moduleLoadList:Ho,binding:Wo,_linkedBinding:qc,_events:xs,_eventsCount:Os,_maxListeners:As,on:Dt,addListener:Is,once:Ps,off:Ts,removeListener:ks,removeAllListeners:Cs,emit:Rs,prependListener:js,prependOnceListener:Ms,listeners:Yc,domain:Go,_exiting:Qo,config:Yo,dlopen:Vc,uptime:Qc,_getActiveRequests:zc,_getActiveHandles:Kc,reallyExit:Jo,_kill:Xo,cpuUsage:Sr,resourceUsage:Zo,memoryUsage:es,kill:ts,exit:rs,openStdin:ns,allowedNodeEnvironmentFlags:is,assert:Hc,features:os,_fatalExceptions:ss,setUncaughtExceptionCaptureCallback:as,hasUncaughtExceptionCaptureCallback:Gc,emitWarning:Fo,nextTick:$c,_tickCallback:ls,_debugProcess:us,_debugEnd:cs,_startProfilerIdleNotifier:hs,_stopProfilerIdleNotifier:fs,stdout:ps,stdin:gs,stderr:ds,abort:ys,umask:$o,chdir:Vo,cwd:qo,env:Bo,title:Ro,argv:No,execArgv:Uo,pid:ms,ppid:bs,execPath:vs,debugPort:ws,hrtime:ln,argv0:_s,_preload_modules:Ss,setSourceMapsEnabled:Es}});function Jc(){if(eo)return $r;eo=!0;var f=_o;function h(n){if(typeof n!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(n))}function s(n,r){for(var t="",e=0,i=-1,l=0,d,p=0;p<=n.length;++p){if(p<n.length)d=n.charCodeAt(p);else{if(d===47)break;d=47}if(d===47){if(!(i===p-1||l===1))if(i!==p-1&&l===2){if(t.length<2||e!==2||t.charCodeAt(t.length-1)!==46||t.charCodeAt(t.length-2)!==46){if(t.length>2){var g=t.lastIndexOf("/");if(g!==t.length-1){g===-1?(t="",e=0):(t=t.slice(0,g),e=t.length-1-t.lastIndexOf("/")),i=p,l=0;continue}}else if(t.length===2||t.length===1){t="",e=0,i=p,l=0;continue}}r&&(t.length>0?t+="/..":t="..",e=2)}else t.length>0?t+="/"+n.slice(i+1,p):t=n.slice(i+1,p),e=p-i-1;i=p,l=0}else d===46&&l!==-1?++l:l=-1}return t}function a(n,r){var t=r.dir||r.root,e=r.base||(r.name||"")+(r.ext||"");return t?t===r.root?t+e:t+n+e:e}var c={resolve:function(){for(var n="",r=!1,t,e=arguments.length-1;e>=-1&&!r;e--){var i;e>=0?i=arguments[e]:(t===void 0&&(t=f.cwd()),i=t),h(i),i.length!==0&&(n=i+"/"+n,r=i.charCodeAt(0)===47)}return n=s(n,!r),r?n.length>0?"/"+n:"/":n.length>0?n:"."},normalize:function(n){if(h(n),n.length===0)return".";var r=n.charCodeAt(0)===47,t=n.charCodeAt(n.length-1)===47;return n=s(n,!r),n.length===0&&!r&&(n="."),n.length>0&&t&&(n+="/"),r?"/"+n:n},isAbsolute:function(n){return h(n),n.length>0&&n.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var n,r=0;r<arguments.length;++r){var t=arguments[r];h(t),t.length>0&&(n===void 0?n=t:n+="/"+t)}return n===void 0?".":c.normalize(n)},relative:function(n,r){if(h(n),h(r),n===r||(n=c.resolve(n),r=c.resolve(r),n===r))return"";for(var t=1;t<n.length&&n.charCodeAt(t)===47;++t);for(var e=n.length,i=e-t,l=1;l<r.length&&r.charCodeAt(l)===47;++l);for(var d=r.length,p=d-l,g=i<p?i:p,b=-1,E=0;E<=g;++E){if(E===g){if(p>g){if(r.charCodeAt(l+E)===47)return r.slice(l+E+1);if(E===0)return r.slice(l+E)}else i>g&&(n.charCodeAt(t+E)===47?b=E:E===0&&(b=0));break}var S=n.charCodeAt(t+E),O=r.charCodeAt(l+E);if(S!==O)break;S===47&&(b=E)}var y="";for(E=t+b+1;E<=e;++E)(E===e||n.charCodeAt(E)===47)&&(y.length===0?y+="..":y+="/..");return y.length>0?y+r.slice(l+b):(l+=b,r.charCodeAt(l)===47&&++l,r.slice(l))},_makeLong:function(n){return n},dirname:function(n){if(h(n),n.length===0)return".";for(var r=n.charCodeAt(0),t=r===47,e=-1,i=!0,l=n.length-1;l>=1;--l)if(r=n.charCodeAt(l),r===47){if(!i){e=l;break}}else i=!1;return e===-1?t?"/":".":t&&e===1?"//":n.slice(0,e)},basename:function(n,r){if(r!==void 0&&typeof r!="string")throw new TypeError('"ext" argument must be a string');h(n);var t=0,e=-1,i=!0,l;if(r!==void 0&&r.length>0&&r.length<=n.length){if(r.length===n.length&&r===n)return"";var d=r.length-1,p=-1;for(l=n.length-1;l>=0;--l){var g=n.charCodeAt(l);if(g===47){if(!i){t=l+1;break}}else p===-1&&(i=!1,p=l+1),d>=0&&(g===r.charCodeAt(d)?--d===-1&&(e=l):(d=-1,e=p))}return t===e?e=p:e===-1&&(e=n.length),n.slice(t,e)}else{for(l=n.length-1;l>=0;--l)if(n.charCodeAt(l)===47){if(!i){t=l+1;break}}else e===-1&&(i=!1,e=l+1);return e===-1?"":n.slice(t,e)}},extname:function(n){h(n);for(var r=-1,t=0,e=-1,i=!0,l=0,d=n.length-1;d>=0;--d){var p=n.charCodeAt(d);if(p===47){if(!i){t=d+1;break}continue}e===-1&&(i=!1,e=d+1),p===46?r===-1?r=d:l!==1&&(l=1):r!==-1&&(l=-1)}return r===-1||e===-1||l===0||l===1&&r===e-1&&r===t+1?"":n.slice(r,e)},format:function(n){if(n===null||typeof n!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof n);return a("/",n)},parse:function(n){h(n);var r={root:"",dir:"",base:"",ext:"",name:""};if(n.length===0)return r;var t=n.charCodeAt(0),e=t===47,i;e?(r.root="/",i=1):i=0;for(var l=-1,d=0,p=-1,g=!0,b=n.length-1,E=0;b>=i;--b){if(t=n.charCodeAt(b),t===47){if(!g){d=b+1;break}continue}p===-1&&(g=!1,p=b+1),t===46?l===-1?l=b:E!==1&&(E=1):l!==-1&&(E=-1)}return l===-1||p===-1||E===0||E===1&&l===p-1&&l===d+1?p!==-1&&(d===0&&e?r.base=r.name=n.slice(1,p):r.base=r.name=n.slice(d,p)):(d===0&&e?(r.name=n.slice(1,l),r.base=n.slice(1,p)):(r.name=n.slice(d,l),r.base=n.slice(d,p)),r.ext=n.slice(l,p)),d>0?r.dir=n.slice(0,d-1):e&&(r.dir="/"),r},sep:"/",delimiter:":",win32:null,posix:null};return c.posix=c,$r=c,$r}var $r,eo,to,Xc=vt(()=>{ye(),be(),me(),Va(),$r={},eo=!1,to=Jc()}),za={};lr(za,{URL:()=>tl,Url:()=>Ya,default:()=>gt,fileURLToPath:()=>Ha,format:()=>Ja,parse:()=>el,pathToFileURL:()=>Ga,resolve:()=>Xa,resolveObject:()=>Za});function Zc(){if(ro)return qr;ro=!0;var f=typeof Map=="function"&&Map.prototype,h=Object.getOwnPropertyDescriptor&&f?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,s=f&&h&&typeof h.get=="function"?h.get:null,a=f&&Map.prototype.forEach,c=typeof Set=="function"&&Set.prototype,n=Object.getOwnPropertyDescriptor&&c?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,r=c&&n&&typeof n.get=="function"?n.get:null,t=c&&Set.prototype.forEach,e=typeof WeakMap=="function"&&WeakMap.prototype,i=e?WeakMap.prototype.has:null,l=typeof WeakSet=="function"&&WeakSet.prototype,d=l?WeakSet.prototype.has:null,p=typeof WeakRef=="function"&&WeakRef.prototype,g=p?WeakRef.prototype.deref:null,b=Boolean.prototype.valueOf,E=Object.prototype.toString,S=Function.prototype.toString,O=String.prototype.match,y=String.prototype.slice,v=String.prototype.replace,A=String.prototype.toUpperCase,_=String.prototype.toLowerCase,R=RegExp.prototype.test,w=Array.prototype.concat,I=Array.prototype.join,k=Array.prototype.slice,M=Math.floor,U=typeof BigInt=="function"?BigInt.prototype.valueOf:null,T=Object.getOwnPropertySymbols,z=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Q=typeof Symbol=="function"&&typeof Symbol.iterator=="object",q=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Q||!0)?Symbol.toStringTag:null,he=Object.prototype.propertyIsEnumerable,ie=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function($){return $.__proto__}:null);function re($,oe){if($===1/0||$===-1/0||$!==$||$&&$>-1e3&&$<1e3||R.call(/e/,oe))return oe;var Re=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof $=="number"){var ke=$<0?-M(-$):M($);if(ke!==$){var Ne=String(ke),Ue=y.call(oe,Ne.length+1);return v.call(Ne,Re,"$&_")+"."+v.call(v.call(Ue,/([0-9]{3})/g,"$&_"),/_$/,"")}}return v.call(oe,Re,"$&_")}var ce=Qa,V=ce.custom,le=J(V)?V:null;qr=function $(oe,Re,ke,Ne){var Ue=Re||{};if(pe(Ue,"quoteStyle")&&Ue.quoteStyle!=="single"&&Ue.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(pe(Ue,"maxStringLength")&&(typeof Ue.maxStringLength=="number"?Ue.maxStringLength<0&&Ue.maxStringLength!==1/0:Ue.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var Xe=pe(Ue,"customInspect")?Ue.customInspect:!0;if(typeof Xe!="boolean"&&Xe!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(pe(Ue,"indent")&&Ue.indent!==null&&Ue.indent!=="	"&&!(parseInt(Ue.indent,10)===Ue.indent&&Ue.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(pe(Ue,"numericSeparator")&&typeof Ue.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var Fe=Ue.numericSeparator;if(typeof oe>"u")return"undefined";if(oe===null)return"null";if(typeof oe=="boolean")return oe?"true":"false";if(typeof oe=="string")return fe(oe,Ue);if(typeof oe=="number"){if(oe===0)return 1/0/oe>0?"0":"-0";var Le=String(oe);return Fe?re(oe,Le):Le}if(typeof oe=="bigint"){var We=String(oe)+"n";return Fe?re(oe,We):We}var et=typeof Ue.depth>"u"?5:Ue.depth;if(typeof ke>"u"&&(ke=0),ke>=et&&et>0&&typeof oe=="object")return ee(oe)?"[Array]":"[Object]";var Ge=N(Ue,ke);if(typeof Ne>"u")Ne=[];else if(ae(Ne,oe)>=0)return"[Circular]";function Ve(_t,At,Pt){if(At&&(Ne=k.call(Ne),Ne.push(At)),Pt){var St={depth:Ue.depth};return pe(Ue,"quoteStyle")&&(St.quoteStyle=Ue.quoteStyle),$(_t,St,ke+1,Ne)}return $(_t,Ue,ke+1,Ne)}if(typeof oe=="function"&&!Oe(oe)){var it=G(oe),mt=de(oe,Ve);return"[Function"+(it?": "+it:" (anonymous)")+"]"+(mt.length>0?" { "+I.call(mt,", ")+" }":"")}if(J(oe)){var ht=Q?v.call(String(oe),/^(Symbol\(.*\))_[^)]*$/,"$1"):z.call(oe);return typeof oe=="object"&&!Q?o(ht):ht}if(Pe(oe)){for(var j="<"+_.call(String(oe.nodeName)),F=oe.attributes||[],Te=0;Te<F.length;Te++)j+=" "+F[Te].name+"="+B(te(F[Te].value),"double",Ue);return j+=">",oe.childNodes&&oe.childNodes.length&&(j+="..."),j+="</"+_.call(String(oe.nodeName))+">",j}if(ee(oe)){if(oe.length===0)return"[]";var Ce=de(oe,Ve);return Ge&&!C(Ce)?"["+H(Ce,Ge)+"]":"[ "+I.call(Ce,", ")+" ]"}if(X(oe)){var je=de(oe,Ve);return!("cause"in Error.prototype)&&"cause"in oe&&!he.call(oe,"cause")?"{ ["+String(oe)+"] "+I.call(w.call("[cause]: "+Ve(oe.cause),je),", ")+" }":je.length===0?"["+String(oe)+"]":"{ ["+String(oe)+"] "+I.call(je,", ")+" }"}if(typeof oe=="object"&&Xe){if(le&&typeof oe[le]=="function"&&ce)return ce(oe,{depth:et-ke});if(Xe!=="symbol"&&typeof oe.inspect=="function")return oe.inspect()}if(ve(oe)){var tt=[];return a&&a.call(oe,function(_t,At){tt.push(Ve(At,oe,!0)+" => "+Ve(_t,oe))}),m("Map",s.call(oe),tt,Ge)}if(Y(oe)){var rt=[];return t&&t.call(oe,function(_t){rt.push(Ve(_t,oe))}),m("Set",r.call(oe),rt,Ge)}if(we(oe))return u("WeakMap");if(Se(oe))return u("WeakSet");if(xe(oe))return u("WeakRef");if(se(oe))return o(Ve(Number(oe)));if(ne(oe))return o(Ve(U.call(oe)));if(Z(oe))return o(b.call(oe));if(W(oe))return o(Ve(String(oe)));if(typeof window<"u"&&oe===window)return"{ [object Window] }";if(typeof globalThis<"u"&&oe===globalThis||typeof Vr<"u"&&oe===Vr)return"{ [object globalThis] }";if(!ue(oe)&&!Oe(oe)){var wt=de(oe,Ve),Gt=ie?ie(oe)===Object.prototype:oe instanceof Object||oe.constructor===Object,Qt=oe instanceof Object?"":"null prototype",$e=!Gt&&q&&Object(oe)===oe&&q in oe?y.call(L(oe),8,-1):Qt?"Object":"",ir=Gt||typeof oe.constructor!="function"?"":oe.constructor.name?oe.constructor.name+" ":"",It=ir+($e||Qt?"["+I.call(w.call([],$e||[],Qt||[]),": ")+"] ":"");return wt.length===0?It+"{}":Ge?It+"{"+H(wt,Ge)+"}":It+"{ "+I.call(wt,", ")+" }"}return String(oe)};function B($,oe,Re){var ke=(Re.quoteStyle||oe)==="double"?'"':"'";return ke+$+ke}function te($){return v.call(String($),/"/g,"&quot;")}function ee($){return L($)==="[object Array]"&&(!q||!(typeof $=="object"&&q in $))}function ue($){return L($)==="[object Date]"&&(!q||!(typeof $=="object"&&q in $))}function Oe($){return L($)==="[object RegExp]"&&(!q||!(typeof $=="object"&&q in $))}function X($){return L($)==="[object Error]"&&(!q||!(typeof $=="object"&&q in $))}function W($){return L($)==="[object String]"&&(!q||!(typeof $=="object"&&q in $))}function se($){return L($)==="[object Number]"&&(!q||!(typeof $=="object"&&q in $))}function Z($){return L($)==="[object Boolean]"&&(!q||!(typeof $=="object"&&q in $))}function J($){if(Q)return $&&typeof $=="object"&&$ instanceof Symbol;if(typeof $=="symbol")return!0;if(!$||typeof $!="object"||!z)return!1;try{return z.call($),!0}catch{}return!1}function ne($){if(!$||typeof $!="object"||!U)return!1;try{return U.call($),!0}catch{}return!1}var _e=Object.prototype.hasOwnProperty||function($){return $ in(this||Vr)};function pe($,oe){return _e.call($,oe)}function L($){return E.call($)}function G($){if($.name)return $.name;var oe=O.call(S.call($),/^function\s*([\w$]+)/);return oe?oe[1]:null}function ae($,oe){if($.indexOf)return $.indexOf(oe);for(var Re=0,ke=$.length;Re<ke;Re++)if($[Re]===oe)return Re;return-1}function ve($){if(!s||!$||typeof $!="object")return!1;try{s.call($);try{r.call($)}catch{return!0}return $ instanceof Map}catch{}return!1}function we($){if(!i||!$||typeof $!="object")return!1;try{i.call($,i);try{d.call($,d)}catch{return!0}return $ instanceof WeakMap}catch{}return!1}function xe($){if(!g||!$||typeof $!="object")return!1;try{return g.call($),!0}catch{}return!1}function Y($){if(!r||!$||typeof $!="object")return!1;try{r.call($);try{s.call($)}catch{return!0}return $ instanceof Set}catch{}return!1}function Se($){if(!d||!$||typeof $!="object")return!1;try{d.call($,d);try{i.call($,i)}catch{return!0}return $ instanceof WeakSet}catch{}return!1}function Pe($){return!$||typeof $!="object"?!1:typeof HTMLElement<"u"&&$ instanceof HTMLElement?!0:typeof $.nodeName=="string"&&typeof $.getAttribute=="function"}function fe($,oe){if($.length>oe.maxStringLength){var Re=$.length-oe.maxStringLength,ke="... "+Re+" more character"+(Re>1?"s":"");return fe(y.call($,0,oe.maxStringLength),oe)+ke}var Ne=v.call(v.call($,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,Me);return B(Ne,"single",oe)}function Me($){var oe=$.charCodeAt(0),Re={8:"b",9:"t",10:"n",12:"f",13:"r"}[oe];return Re?"\\"+Re:"\\x"+(oe<16?"0":"")+A.call(oe.toString(16))}function o($){return"Object("+$+")"}function u($){return $+" { ? }"}function m($,oe,Re,ke){var Ne=ke?H(Re,ke):I.call(Re,", ");return $+" ("+oe+") {"+Ne+"}"}function C($){for(var oe=0;oe<$.length;oe++)if(ae($[oe],`
`)>=0)return!1;return!0}function N($,oe){var Re;if($.indent==="	")Re="	";else if(typeof $.indent=="number"&&$.indent>0)Re=I.call(Array($.indent+1)," ");else return null;return{base:Re,prev:I.call(Array(oe+1),Re)}}function H($,oe){if($.length===0)return"";var Re=`
`+oe.prev+oe.base;return Re+I.call($,","+Re)+`
`+oe.prev}function de($,oe){var Re=ee($),ke=[];if(Re){ke.length=$.length;for(var Ne=0;Ne<$.length;Ne++)ke[Ne]=pe($,Ne)?oe($[Ne],$):""}var Ue=typeof T=="function"?T($):[],Xe;if(Q){Xe={};for(var Fe=0;Fe<Ue.length;Fe++)Xe["$"+Ue[Fe]]=Ue[Fe]}for(var Le in $)pe($,Le)&&(Re&&String(Number(Le))===Le&&Le<$.length||Q&&Xe["$"+Le]instanceof Symbol||(R.call(/[^\w$]/,Le)?ke.push(oe(Le,$)+": "+oe($[Le],$)):ke.push(Le+": "+oe($[Le],$))));if(typeof T=="function")for(var We=0;We<Ue.length;We++)he.call($,Ue[We])&&ke.push("["+oe(Ue[We])+"]: "+oe($[Ue[We]],$));return ke}return qr}function eh(){if(no)return zr;no=!0;var f=hr(),h=Dc(),s=Zc(),a=wr(),c=f("%WeakMap%",!0),n=f("%Map%",!0),r=h("WeakMap.prototype.get",!0),t=h("WeakMap.prototype.set",!0),e=h("WeakMap.prototype.has",!0),i=h("Map.prototype.get",!0),l=h("Map.prototype.set",!0),d=h("Map.prototype.has",!0),p=function(S,O){for(var y=S,v;(v=y.next)!==null;y=v)if(v.key===O)return y.next=v.next,v.next=S.next,S.next=v,v},g=function(S,O){var y=p(S,O);return y&&y.value},b=function(S,O,y){var v=p(S,O);v?v.value=y:S.next={key:O,next:S.next,value:y}},E=function(S,O){return!!p(S,O)};return zr=function(){var S,O,y,v={assert:function(A){if(!v.has(A))throw new a("Side channel does not contain "+s(A))},get:function(A){if(c&&A&&(typeof A=="object"||typeof A=="function")){if(S)return r(S,A)}else if(n){if(O)return i(O,A)}else if(y)return g(y,A)},has:function(A){if(c&&A&&(typeof A=="object"||typeof A=="function")){if(S)return e(S,A)}else if(n){if(O)return d(O,A)}else if(y)return E(y,A);return!1},set:function(A,_){c&&A&&(typeof A=="object"||typeof A=="function")?(S||(S=new c),t(S,A,_)):n?(O||(O=new n),l(O,A,_)):(y||(y={key:{},next:null}),b(y,A,_))}};return v},zr}function So(){if(io)return Kr;io=!0;var f=String.prototype.replace,h=/%20/g,s={RFC1738:"RFC1738",RFC3986:"RFC3986"};return Kr={default:s.RFC3986,formatters:{RFC1738:function(a){return f.call(a,h,"+")},RFC3986:function(a){return String(a)}},RFC1738:s.RFC1738,RFC3986:s.RFC3986},Kr}function Ka(){if(oo)return Hr;oo=!0;var f=So(),h=Object.prototype.hasOwnProperty,s=Array.isArray,a=(function(){for(var S=[],O=0;O<256;++O)S.push("%"+((O<16?"0":"")+O.toString(16)).toUpperCase());return S})(),c=function(S){for(;S.length>1;){var O=S.pop(),y=O.obj[O.prop];if(s(y)){for(var v=[],A=0;A<y.length;++A)typeof y[A]<"u"&&v.push(y[A]);O.obj[O.prop]=v}}},n=function(S,O){for(var y=O&&O.plainObjects?Object.create(null):{},v=0;v<S.length;++v)typeof S[v]<"u"&&(y[v]=S[v]);return y},r=function S(O,y,v){if(!y)return O;if(typeof y!="object"){if(s(O))O.push(y);else if(O&&typeof O=="object")(v&&(v.plainObjects||v.allowPrototypes)||!h.call(Object.prototype,y))&&(O[y]=!0);else return[O,y];return O}if(!O||typeof O!="object")return[O].concat(y);var A=O;return s(O)&&!s(y)&&(A=n(O,v)),s(O)&&s(y)?(y.forEach(function(_,R){if(h.call(O,R)){var w=O[R];w&&typeof w=="object"&&_&&typeof _=="object"?O[R]=S(w,_,v):O.push(_)}else O[R]=_}),O):Object.keys(y).reduce(function(_,R){var w=y[R];return h.call(_,R)?_[R]=S(_[R],w,v):_[R]=w,_},A)},t=function(S,O){return Object.keys(O).reduce(function(y,v){return y[v]=O[v],y},S)},e=function(S,O,y){var v=S.replace(/\+/g," ");if(y==="iso-8859-1")return v.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(v)}catch{return v}},i=1024,l=function(S,O,y,v,A){if(S.length===0)return S;var _=S;if(typeof S=="symbol"?_=Symbol.prototype.toString.call(S):typeof S!="string"&&(_=String(S)),y==="iso-8859-1")return escape(_).replace(/%u[0-9a-f]{4}/gi,function(T){return"%26%23"+parseInt(T.slice(2),16)+"%3B"});for(var R="",w=0;w<_.length;w+=i){for(var I=_.length>=i?_.slice(w,w+i):_,k=[],M=0;M<I.length;++M){var U=I.charCodeAt(M);if(U===45||U===46||U===95||U===126||U>=48&&U<=57||U>=65&&U<=90||U>=97&&U<=122||A===f.RFC1738&&(U===40||U===41)){k[k.length]=I.charAt(M);continue}if(U<128){k[k.length]=a[U];continue}if(U<2048){k[k.length]=a[192|U>>6]+a[128|U&63];continue}if(U<55296||U>=57344){k[k.length]=a[224|U>>12]+a[128|U>>6&63]+a[128|U&63];continue}M+=1,U=65536+((U&1023)<<10|I.charCodeAt(M)&1023),k[k.length]=a[240|U>>18]+a[128|U>>12&63]+a[128|U>>6&63]+a[128|U&63]}R+=k.join("")}return R},d=function(S){for(var O=[{obj:{o:S},prop:"o"}],y=[],v=0;v<O.length;++v)for(var A=O[v],_=A.obj[A.prop],R=Object.keys(_),w=0;w<R.length;++w){var I=R[w],k=_[I];typeof k=="object"&&k!==null&&y.indexOf(k)===-1&&(O.push({obj:_,prop:I}),y.push(k))}return c(O),S},p=function(S){return Object.prototype.toString.call(S)==="[object RegExp]"},g=function(S){return!S||typeof S!="object"?!1:!!(S.constructor&&S.constructor.isBuffer&&S.constructor.isBuffer(S))},b=function(S,O){return[].concat(S,O)},E=function(S,O){if(s(S)){for(var y=[],v=0;v<S.length;v+=1)y.push(O(S[v]));return y}return O(S)};return Hr={arrayToObject:n,assign:t,combine:b,compact:d,decode:e,encode:l,isBuffer:g,isRegExp:p,maybeMap:E,merge:r},Hr}function th(){if(so)return Gr;so=!0;var f=eh(),h=Ka(),s=So(),a=Object.prototype.hasOwnProperty,c={brackets:function(E){return E+"[]"},comma:"comma",indices:function(E,S){return E+"["+S+"]"},repeat:function(E){return E}},n=Array.isArray,r=Array.prototype.push,t=function(E,S){r.apply(E,n(S)?S:[S])},e=Date.prototype.toISOString,i=s.default,l={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:h.encode,encodeValuesOnly:!1,format:i,formatter:s.formatters[i],indices:!1,serializeDate:function(E){return e.call(E)},skipNulls:!1,strictNullHandling:!1},d=function(E){return typeof E=="string"||typeof E=="number"||typeof E=="boolean"||typeof E=="symbol"||typeof E=="bigint"},p={},g=function E(S,O,y,v,A,_,R,w,I,k,M,U,T,z,Q,q,he,ie){for(var re=S,ce=ie,V=0,le=!1;(ce=ce.get(p))!==void 0&&!le;){var B=ce.get(S);if(V+=1,typeof B<"u"){if(B===V)throw new RangeError("Cyclic object value");le=!0}typeof ce.get(p)>"u"&&(V=0)}if(typeof k=="function"?re=k(O,re):re instanceof Date?re=T(re):y==="comma"&&n(re)&&(re=h.maybeMap(re,function(L){return L instanceof Date?T(L):L})),re===null){if(_)return I&&!q?I(O,l.encoder,he,"key",z):O;re=""}if(d(re)||h.isBuffer(re)){if(I){var te=q?O:I(O,l.encoder,he,"key",z);return[Q(te)+"="+Q(I(re,l.encoder,he,"value",z))]}return[Q(O)+"="+Q(String(re))]}var ee=[];if(typeof re>"u")return ee;var ue;if(y==="comma"&&n(re))q&&I&&(re=h.maybeMap(re,I)),ue=[{value:re.length>0?re.join(",")||null:void 0}];else if(n(k))ue=k;else{var Oe=Object.keys(re);ue=M?Oe.sort(M):Oe}var X=w?O.replace(/\./g,"%2E"):O,W=v&&n(re)&&re.length===1?X+"[]":X;if(A&&n(re)&&re.length===0)return W+"[]";for(var se=0;se<ue.length;++se){var Z=ue[se],J=typeof Z=="object"&&typeof Z.value<"u"?Z.value:re[Z];if(!(R&&J===null)){var ne=U&&w?Z.replace(/\./g,"%2E"):Z,_e=n(re)?typeof y=="function"?y(W,ne):W:W+(U?"."+ne:"["+ne+"]");ie.set(S,V);var pe=f();pe.set(p,ie),t(ee,E(J,_e,y,v,A,_,R,w,y==="comma"&&q&&n(re)?null:I,k,M,U,T,z,Q,q,he,pe))}}return ee},b=function(E){if(!E)return l;if(typeof E.allowEmptyArrays<"u"&&typeof E.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof E.encodeDotInKeys<"u"&&typeof E.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(E.encoder!==null&&typeof E.encoder<"u"&&typeof E.encoder!="function")throw new TypeError("Encoder has to be a function.");var S=E.charset||l.charset;if(typeof E.charset<"u"&&E.charset!=="utf-8"&&E.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var O=s.default;if(typeof E.format<"u"){if(!a.call(s.formatters,E.format))throw new TypeError("Unknown format option provided.");O=E.format}var y=s.formatters[O],v=l.filter;(typeof E.filter=="function"||n(E.filter))&&(v=E.filter);var A;if(E.arrayFormat in c?A=E.arrayFormat:"indices"in E?A=E.indices?"indices":"repeat":A=l.arrayFormat,"commaRoundTrip"in E&&typeof E.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var _=typeof E.allowDots>"u"?E.encodeDotInKeys===!0?!0:l.allowDots:!!E.allowDots;return{addQueryPrefix:typeof E.addQueryPrefix=="boolean"?E.addQueryPrefix:l.addQueryPrefix,allowDots:_,allowEmptyArrays:typeof E.allowEmptyArrays=="boolean"?!!E.allowEmptyArrays:l.allowEmptyArrays,arrayFormat:A,charset:S,charsetSentinel:typeof E.charsetSentinel=="boolean"?E.charsetSentinel:l.charsetSentinel,commaRoundTrip:E.commaRoundTrip,delimiter:typeof E.delimiter>"u"?l.delimiter:E.delimiter,encode:typeof E.encode=="boolean"?E.encode:l.encode,encodeDotInKeys:typeof E.encodeDotInKeys=="boolean"?E.encodeDotInKeys:l.encodeDotInKeys,encoder:typeof E.encoder=="function"?E.encoder:l.encoder,encodeValuesOnly:typeof E.encodeValuesOnly=="boolean"?E.encodeValuesOnly:l.encodeValuesOnly,filter:v,format:O,formatter:y,serializeDate:typeof E.serializeDate=="function"?E.serializeDate:l.serializeDate,skipNulls:typeof E.skipNulls=="boolean"?E.skipNulls:l.skipNulls,sort:typeof E.sort=="function"?E.sort:null,strictNullHandling:typeof E.strictNullHandling=="boolean"?E.strictNullHandling:l.strictNullHandling}};return Gr=function(E,S){var O=E,y=b(S),v,A;typeof y.filter=="function"?(A=y.filter,O=A("",O)):n(y.filter)&&(A=y.filter,v=A);var _=[];if(typeof O!="object"||O===null)return"";var R=c[y.arrayFormat],w=R==="comma"&&y.commaRoundTrip;v||(v=Object.keys(O)),y.sort&&v.sort(y.sort);for(var I=f(),k=0;k<v.length;++k){var M=v[k];y.skipNulls&&O[M]===null||t(_,g(O[M],M,R,w,y.allowEmptyArrays,y.strictNullHandling,y.skipNulls,y.encodeDotInKeys,y.encode?y.encoder:null,y.filter,y.sort,y.allowDots,y.serializeDate,y.format,y.formatter,y.encodeValuesOnly,y.charset,I))}var U=_.join(y.delimiter),T=y.addQueryPrefix===!0?"?":"";return y.charsetSentinel&&(y.charset==="iso-8859-1"?T+="utf8=%26%2310003%3B&":T+="utf8=%E2%9C%93&"),U.length>0?T+U:""},Gr}function rh(){if(ao)return Qr;ao=!0;var f=Ka(),h=Object.prototype.hasOwnProperty,s=Array.isArray,a={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:f.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1},c=function(p){return p.replace(/&#(\d+);/g,function(g,b){return String.fromCharCode(parseInt(b,10))})},n=function(p,g){return p&&typeof p=="string"&&g.comma&&p.indexOf(",")>-1?p.split(","):p},r="utf8=%26%2310003%3B",t="utf8=%E2%9C%93",e=function(p,g){var b={__proto__:null},E=g.ignoreQueryPrefix?p.replace(/^\?/,""):p;E=E.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var S=g.parameterLimit===1/0?void 0:g.parameterLimit,O=E.split(g.delimiter,S),y=-1,v,A=g.charset;if(g.charsetSentinel)for(v=0;v<O.length;++v)O[v].indexOf("utf8=")===0&&(O[v]===t?A="utf-8":O[v]===r&&(A="iso-8859-1"),y=v,v=O.length);for(v=0;v<O.length;++v)if(v!==y){var _=O[v],R=_.indexOf("]="),w=R===-1?_.indexOf("="):R+1,I,k;w===-1?(I=g.decoder(_,a.decoder,A,"key"),k=g.strictNullHandling?null:""):(I=g.decoder(_.slice(0,w),a.decoder,A,"key"),k=f.maybeMap(n(_.slice(w+1),g),function(U){return g.decoder(U,a.decoder,A,"value")})),k&&g.interpretNumericEntities&&A==="iso-8859-1"&&(k=c(k)),_.indexOf("[]=")>-1&&(k=s(k)?[k]:k);var M=h.call(b,I);M&&g.duplicates==="combine"?b[I]=f.combine(b[I],k):(!M||g.duplicates==="last")&&(b[I]=k)}return b},i=function(p,g,b,E){for(var S=E?g:n(g,b),O=p.length-1;O>=0;--O){var y,v=p[O];if(v==="[]"&&b.parseArrays)y=b.allowEmptyArrays&&(S===""||b.strictNullHandling&&S===null)?[]:[].concat(S);else{y=b.plainObjects?Object.create(null):{};var A=v.charAt(0)==="["&&v.charAt(v.length-1)==="]"?v.slice(1,-1):v,_=b.decodeDotInKeys?A.replace(/%2E/g,"."):A,R=parseInt(_,10);!b.parseArrays&&_===""?y={0:S}:!isNaN(R)&&v!==_&&String(R)===_&&R>=0&&b.parseArrays&&R<=b.arrayLimit?(y=[],y[R]=S):_!=="__proto__"&&(y[_]=S)}S=y}return S},l=function(p,g,b,E){if(p){var S=b.allowDots?p.replace(/\.([^.[]+)/g,"[$1]"):p,O=/(\[[^[\]]*])/,y=/(\[[^[\]]*])/g,v=b.depth>0&&O.exec(S),A=v?S.slice(0,v.index):S,_=[];if(A){if(!b.plainObjects&&h.call(Object.prototype,A)&&!b.allowPrototypes)return;_.push(A)}for(var R=0;b.depth>0&&(v=y.exec(S))!==null&&R<b.depth;){if(R+=1,!b.plainObjects&&h.call(Object.prototype,v[1].slice(1,-1))&&!b.allowPrototypes)return;_.push(v[1])}if(v){if(b.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+b.depth+" and strictDepth is true");_.push("["+S.slice(v.index)+"]")}return i(_,g,b,E)}},d=function(p){if(!p)return a;if(typeof p.allowEmptyArrays<"u"&&typeof p.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof p.decodeDotInKeys<"u"&&typeof p.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(p.decoder!==null&&typeof p.decoder<"u"&&typeof p.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof p.charset<"u"&&p.charset!=="utf-8"&&p.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var g=typeof p.charset>"u"?a.charset:p.charset,b=typeof p.duplicates>"u"?a.duplicates:p.duplicates;if(b!=="combine"&&b!=="first"&&b!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var E=typeof p.allowDots>"u"?p.decodeDotInKeys===!0?!0:a.allowDots:!!p.allowDots;return{allowDots:E,allowEmptyArrays:typeof p.allowEmptyArrays=="boolean"?!!p.allowEmptyArrays:a.allowEmptyArrays,allowPrototypes:typeof p.allowPrototypes=="boolean"?p.allowPrototypes:a.allowPrototypes,allowSparse:typeof p.allowSparse=="boolean"?p.allowSparse:a.allowSparse,arrayLimit:typeof p.arrayLimit=="number"?p.arrayLimit:a.arrayLimit,charset:g,charsetSentinel:typeof p.charsetSentinel=="boolean"?p.charsetSentinel:a.charsetSentinel,comma:typeof p.comma=="boolean"?p.comma:a.comma,decodeDotInKeys:typeof p.decodeDotInKeys=="boolean"?p.decodeDotInKeys:a.decodeDotInKeys,decoder:typeof p.decoder=="function"?p.decoder:a.decoder,delimiter:typeof p.delimiter=="string"||f.isRegExp(p.delimiter)?p.delimiter:a.delimiter,depth:typeof p.depth=="number"||p.depth===!1?+p.depth:a.depth,duplicates:b,ignoreQueryPrefix:p.ignoreQueryPrefix===!0,interpretNumericEntities:typeof p.interpretNumericEntities=="boolean"?p.interpretNumericEntities:a.interpretNumericEntities,parameterLimit:typeof p.parameterLimit=="number"?p.parameterLimit:a.parameterLimit,parseArrays:p.parseArrays!==!1,plainObjects:typeof p.plainObjects=="boolean"?p.plainObjects:a.plainObjects,strictDepth:typeof p.strictDepth=="boolean"?!!p.strictDepth:a.strictDepth,strictNullHandling:typeof p.strictNullHandling=="boolean"?p.strictNullHandling:a.strictNullHandling}};return Qr=function(p,g){var b=d(g);if(p===""||p===null||typeof p>"u")return b.plainObjects?Object.create(null):{};for(var E=typeof p=="string"?e(p,b):p,S=b.plainObjects?Object.create(null):{},O=Object.keys(E),y=0;y<O.length;++y){var v=O[y],A=l(v,E[v],b,typeof p=="string");S=f.merge(S,A,b)}return b.allowSparse===!0?S:f.compact(S)},Qr}function nh(){if(lo)return Yr;lo=!0;var f=th(),h=rh(),s=So();return Yr={formats:s,parse:h,stringify:f},Yr}function ih(){if(uo)return zt;uo=!0;var f=Vt;function h(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var s=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,c=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,n=["<",">",'"',"`"," ","\r",`
`,"	"],r=["{","}","|","\\","^","`"].concat(n),t=["'"].concat(r),e=["%","/","?",";","#"].concat(t),i=["/","?","#"],l=255,d=/^[+a-z0-9A-Z_-]{0,63}$/,p=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,g={javascript:!0,"javascript:":!0},b={javascript:!0,"javascript:":!0},E={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},S=nh();function O(_,R,w){if(_&&typeof _=="object"&&_ instanceof h)return _;var I=new h;return I.parse(_,R,w),I}h.prototype.parse=function(_,R,w){if(typeof _!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof _);var I=_.indexOf("?"),k=I!==-1&&I<_.indexOf("#")?"?":"#",M=_.split(k),U=/\\/g;M[0]=M[0].replace(U,"/"),_=M.join(k);var T=_;if(T=T.trim(),!w&&_.split("#").length===1){var z=c.exec(T);if(z)return this.path=T,this.href=T,this.pathname=z[1],z[2]?(this.search=z[2],R?this.query=S.parse(this.search.substr(1)):this.query=this.search.substr(1)):R&&(this.search="",this.query={}),this}var Q=s.exec(T);if(Q){Q=Q[0];var q=Q.toLowerCase();this.protocol=q,T=T.substr(Q.length)}if(w||Q||T.match(/^\/\/[^@/]+@[^@/]+/)){var he=T.substr(0,2)==="//";he&&!(Q&&b[Q])&&(T=T.substr(2),this.slashes=!0)}if(!b[Q]&&(he||Q&&!E[Q])){for(var ie=-1,re=0;re<i.length;re++){var ce=T.indexOf(i[re]);ce!==-1&&(ie===-1||ce<ie)&&(ie=ce)}var V,le;ie===-1?le=T.lastIndexOf("@"):le=T.lastIndexOf("@",ie),le!==-1&&(V=T.slice(0,le),T=T.slice(le+1),this.auth=decodeURIComponent(V)),ie=-1;for(var re=0;re<e.length;re++){var ce=T.indexOf(e[re]);ce!==-1&&(ie===-1||ce<ie)&&(ie=ce)}ie===-1&&(ie=T.length),this.host=T.slice(0,ie),T=T.slice(ie),this.parseHost(),this.hostname=this.hostname||"";var B=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!B)for(var te=this.hostname.split(/\./),re=0,ee=te.length;re<ee;re++){var ue=te[re];if(ue&&!ue.match(d)){for(var Oe="",X=0,W=ue.length;X<W;X++)ue.charCodeAt(X)>127?Oe+="x":Oe+=ue[X];if(!Oe.match(d)){var se=te.slice(0,re),Z=te.slice(re+1),J=ue.match(p);J&&(se.push(J[1]),Z.unshift(J[2])),Z.length&&(T="/"+Z.join(".")+T),this.hostname=se.join(".");break}}}this.hostname.length>l?this.hostname="":this.hostname=this.hostname.toLowerCase(),B||(this.hostname=f.toASCII(this.hostname));var ne=this.port?":"+this.port:"",_e=this.hostname||"";this.host=_e+ne,this.href+=this.host,B&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),T[0]!=="/"&&(T="/"+T))}if(!g[q])for(var re=0,ee=t.length;re<ee;re++){var pe=t[re];if(T.indexOf(pe)!==-1){var L=encodeURIComponent(pe);L===pe&&(L=escape(pe)),T=T.split(pe).join(L)}}var G=T.indexOf("#");G!==-1&&(this.hash=T.substr(G),T=T.slice(0,G));var ae=T.indexOf("?");if(ae!==-1?(this.search=T.substr(ae),this.query=T.substr(ae+1),R&&(this.query=S.parse(this.query)),T=T.slice(0,ae)):R&&(this.search="",this.query={}),T&&(this.pathname=T),E[q]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var ne=this.pathname||"",ve=this.search||"";this.path=ne+ve}return this.href=this.format(),this};function y(_){return typeof _=="string"&&(_=O(_)),_ instanceof h?_.format():h.prototype.format.call(_)}h.prototype.format=function(){var _=this.auth||"";_&&(_=encodeURIComponent(_),_=_.replace(/%3A/i,":"),_+="@");var R=this.protocol||"",w=this.pathname||"",I=this.hash||"",k=!1,M="";this.host?k=_+this.host:this.hostname&&(k=_+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(k+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(M=S.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var U=this.search||M&&"?"+M||"";return R&&R.substr(-1)!==":"&&(R+=":"),this.slashes||(!R||E[R])&&k!==!1?(k="//"+(k||""),w&&w.charAt(0)!=="/"&&(w="/"+w)):k||(k=""),I&&I.charAt(0)!=="#"&&(I="#"+I),U&&U.charAt(0)!=="?"&&(U="?"+U),w=w.replace(/[?#]/g,function(T){return encodeURIComponent(T)}),U=U.replace("#","%23"),R+k+w+U+I};function v(_,R){return O(_,!1,!0).resolve(R)}h.prototype.resolve=function(_){return this.resolveObject(O(_,!1,!0)).format()};function A(_,R){return _?O(_,!1,!0).resolveObject(R):R}return h.prototype.resolveObject=function(_){if(typeof _=="string"){var R=new h;R.parse(_,!1,!0),_=R}for(var w=new h,I=Object.keys(this),k=0;k<I.length;k++){var M=I[k];w[M]=this[M]}if(w.hash=_.hash,_.href==="")return w.href=w.format(),w;if(_.slashes&&!_.protocol){for(var U=Object.keys(_),T=0;T<U.length;T++){var z=U[T];z!=="protocol"&&(w[z]=_[z])}return E[w.protocol]&&w.hostname&&!w.pathname&&(w.pathname="/",w.path=w.pathname),w.href=w.format(),w}if(_.protocol&&_.protocol!==w.protocol){if(!E[_.protocol]){for(var Q=Object.keys(_),q=0;q<Q.length;q++){var he=Q[q];w[he]=_[he]}return w.href=w.format(),w}if(w.protocol=_.protocol,!_.host&&!b[_.protocol]){for(var ee=(_.pathname||"").split("/");ee.length&&!(_.host=ee.shift()););_.host||(_.host=""),_.hostname||(_.hostname=""),ee[0]!==""&&ee.unshift(""),ee.length<2&&ee.unshift(""),w.pathname=ee.join("/")}else w.pathname=_.pathname;if(w.search=_.search,w.query=_.query,w.host=_.host||"",w.auth=_.auth,w.hostname=_.hostname||_.host,w.port=_.port,w.pathname||w.search){var ie=w.pathname||"",re=w.search||"";w.path=ie+re}return w.slashes=w.slashes||_.slashes,w.href=w.format(),w}var ce=w.pathname&&w.pathname.charAt(0)==="/",V=_.host||_.pathname&&_.pathname.charAt(0)==="/",le=V||ce||w.host&&_.pathname,B=le,te=w.pathname&&w.pathname.split("/")||[],ee=_.pathname&&_.pathname.split("/")||[],ue=w.protocol&&!E[w.protocol];if(ue&&(w.hostname="",w.port=null,w.host&&(te[0]===""?te[0]=w.host:te.unshift(w.host)),w.host="",_.protocol&&(_.hostname=null,_.port=null,_.host&&(ee[0]===""?ee[0]=_.host:ee.unshift(_.host)),_.host=null),le=le&&(ee[0]===""||te[0]==="")),V)w.host=_.host||_.host===""?_.host:w.host,w.hostname=_.hostname||_.hostname===""?_.hostname:w.hostname,w.search=_.search,w.query=_.query,te=ee;else if(ee.length)te||(te=[]),te.pop(),te=te.concat(ee),w.search=_.search,w.query=_.query;else if(_.search!=null){if(ue){w.host=te.shift(),w.hostname=w.host;var Oe=w.host&&w.host.indexOf("@")>0?w.host.split("@"):!1;Oe&&(w.auth=Oe.shift(),w.hostname=Oe.shift(),w.host=w.hostname)}return w.search=_.search,w.query=_.query,(w.pathname!==null||w.search!==null)&&(w.path=(w.pathname?w.pathname:"")+(w.search?w.search:"")),w.href=w.format(),w}if(!te.length)return w.pathname=null,w.search?w.path="/"+w.search:w.path=null,w.href=w.format(),w;for(var X=te.slice(-1)[0],W=(w.host||_.host||te.length>1)&&(X==="."||X==="..")||X==="",se=0,Z=te.length;Z>=0;Z--)X=te[Z],X==="."?te.splice(Z,1):X===".."?(te.splice(Z,1),se++):se&&(te.splice(Z,1),se--);if(!le&&!B)for(;se--;se)te.unshift("..");le&&te[0]!==""&&(!te[0]||te[0].charAt(0)!=="/")&&te.unshift(""),W&&te.join("/").substr(-1)!=="/"&&te.push("");var J=te[0]===""||te[0]&&te[0].charAt(0)==="/";if(ue){w.hostname=J?"":te.length?te.shift():"",w.host=w.hostname;var Oe=w.host&&w.host.indexOf("@")>0?w.host.split("@"):!1;Oe&&(w.auth=Oe.shift(),w.hostname=Oe.shift(),w.host=w.hostname)}return le=le||w.host&&te.length,le&&!J&&te.unshift(""),te.length>0?w.pathname=te.join("/"):(w.pathname=null,w.path=null),(w.pathname!==null||w.search!==null)&&(w.path=(w.pathname?w.pathname:"")+(w.search?w.search:"")),w.auth=_.auth||w.auth,w.slashes=w.slashes||_.slashes,w.href=w.format(),w},h.prototype.parseHost=function(){var _=this.host,R=a.exec(_);R&&(R=R[0],R!==":"&&(this.port=R.substr(1)),_=_.substr(0,_.length-R.length)),_&&(this.hostname=_)},zt.parse=O,zt.resolve=v,zt.resolveObject=A,zt.format=y,zt.Url=h,zt}function Ha(f){if(typeof f=="string")f=new URL(f);else if(!(f instanceof URL))throw new Deno.errors.InvalidData("invalid argument path , must be a string or URL");if(f.protocol!=="file:")throw new Deno.errors.InvalidData("invalid url scheme");return Xr?oh(f):sh(f)}function oh(f){let h=f.hostname,s=f.pathname;for(let a=0;a<s.length;a++)if(s[a]==="%"){let c=s.codePointAt(a+2)||32;if(s[a+1]==="2"&&c===102||s[a+1]==="5"&&c===99)throw new Deno.errors.InvalidData("must not include encoded \\ or / characters")}if(s=s.replace(sl,"\\"),s=decodeURIComponent(s),h!=="")return`\\\\${h}${s}`;{let a=s.codePointAt(1)|32,c=s[2];if(a<il||a>ol||c!==":")throw new Deno.errors.InvalidData("file url path must be absolute");return s.slice(1)}}function sh(f){if(f.hostname!=="")throw new Deno.errors.InvalidData("invalid file url hostname");let h=f.pathname;for(let s=0;s<h.length;s++)if(h[s]==="%"){let a=h.codePointAt(s+2)||32;if(h[s+1]==="2"&&a===102)throw new Deno.errors.InvalidData("must not include encoded / characters")}return decodeURIComponent(h)}function Ga(f){let h=to.resolve(f),s=f.charCodeAt(f.length-1);(s===nl||Xr&&s===rl)&&h[h.length-1]!==to.sep&&(h+="/");let a=new URL("file://");return h.includes("%")&&(h=h.replace(al,"%25")),!Xr&&h.includes("\\")&&(h=h.replace(ll,"%5C")),h.includes(`
`)&&(h=h.replace(ul,"%0A")),h.includes("\r")&&(h=h.replace(cl,"%0D")),h.includes("	")&&(h=h.replace(hl,"%09")),a.pathname=h,a}var Qa,qr,ro,Vr,zr,no,Kr,io,Hr,oo,Gr,so,Qr,ao,Yr,lo,zt,uo,gt,Bs,Ya,Ja,Xa,Za,el,tl,rl,nl,il,ol,Xr,sl,al,ll,ul,cl,hl,ah=vt(()=>{ye(),be(),me(),Ac(),Fc(),Xc(),Va(),Qa=Object.freeze(Object.create(null)),qr={},ro=!1,Vr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,zr={},no=!1,Kr={},io=!1,Hr={},oo=!1,Gr={},so=!1,Qr={},ao=!1,Yr={},lo=!1,zt={},uo=!1,gt=ih(),gt.parse,gt.resolve,gt.resolveObject,gt.format,gt.Url,Bs=typeof Deno<"u"?Deno.build.os==="windows"?"win32":Deno.build.os:void 0,gt.URL=typeof URL<"u"?URL:null,gt.pathToFileURL=Ga,gt.fileURLToPath=Ha,Ya=gt.Url,Ja=gt.format,Xa=gt.resolve,Za=gt.resolveObject,el=gt.parse,tl=gt.URL,rl=92,nl=47,il=97,ol=122,Xr=Bs==="win32",sl=/\//g,al=/%/g,ll=/\\/g,ul=/\n/g,cl=/\r/g,hl=/\t/g}),lh=Ee((f,h)=>{ye(),be(),me(),h.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}}),Eo=Ee(f=>{ye(),be(),me(),Object.defineProperty(f,"__esModule",{value:!0}),f.BufferedDuplex=void 0,f.writev=a;var h=nr(),s=(lt(),He(at));function a(n,r){let t=new Array(n.length);for(let e=0;e<n.length;e++)typeof n[e].chunk=="string"?t[e]=s.Buffer.from(n[e].chunk,"utf8"):t[e]=n[e].chunk;this._write(s.Buffer.concat(t),"binary",r)}var c=class extends h.Duplex{socket;proxy;isSocketOpen;writeQueue;constructor(n,r,t){super({objectMode:!0}),this.proxy=r,this.socket=t,this.writeQueue=[],n.objectMode||(this._writev=a.bind(this)),this.isSocketOpen=!1,this.proxy.on("data",e=>{!this.destroyed&&this.readable&&this.push(e)})}_read(n){this.proxy.read(n)}_write(n,r,t){this.isSocketOpen?this.writeToProxy(n,r,t):this.writeQueue.push({chunk:n,encoding:r,cb:t})}_final(n){this.writeQueue=[],this.proxy.end(n)}_destroy(n,r){this.writeQueue=[],this.proxy.destroy(),r(n)}socketReady(){this.emit("connect"),this.isSocketOpen=!0,this.processWriteQueue()}writeToProxy(n,r,t){this.proxy.write(n,r)===!1?this.proxy.once("drain",t):t()}processWriteQueue(){for(;this.writeQueue.length>0;){let{chunk:n,encoding:r,cb:t}=this.writeQueue.shift();this.writeToProxy(n,r,t)}}};f.BufferedDuplex=c}),Er=Ee(f=>{ye(),be(),me();var h=f&&f.__importDefault||function(O){return O&&O.__esModule?O:{default:O}};Object.defineProperty(f,"__esModule",{value:!0}),f.streamBuilder=f.browserStreamBuilder=void 0;var s=(lt(),He(at)),a=h(lh()),c=h(Mt()),n=nr(),r=h(on()),t=Eo(),e=(0,c.default)("mqttjs:ws"),i=["rejectUnauthorized","ca","cert","key","pfx","passphrase"];function l(O,y){let v=`${O.protocol}://${O.hostname}:${O.port}${O.path}`;return typeof O.transformWsUrl=="function"&&(v=O.transformWsUrl(v,O,y)),v}function d(O){let y=O;return O.port||(O.protocol==="wss"?y.port=443:y.port=80),O.path||(y.path="/"),O.wsOptions||(y.wsOptions={}),!r.default&&!O.forceNativeWebSocket&&O.protocol==="wss"&&i.forEach(v=>{Object.prototype.hasOwnProperty.call(O,v)&&!Object.prototype.hasOwnProperty.call(O.wsOptions,v)&&(y.wsOptions[v]=O[v])}),y}function p(O){let y=d(O);if(y.hostname||(y.hostname=y.host),!y.hostname){if(typeof document>"u")throw new Error("Could not determine host. Specify host manually.");let v=new URL(document.URL);y.hostname=v.hostname,y.port||(y.port=Number(v.port))}return y.objectMode===void 0&&(y.objectMode=!(y.binary===!0||y.binary===void 0)),y}function g(O,y,v){e("createWebSocket"),e(`protocol: ${v.protocolId} ${v.protocolVersion}`);let A=v.protocolId==="MQIsdp"&&v.protocolVersion===3?"mqttv3.1":"mqtt";e(`creating new Websocket for url: ${y} and protocol: ${A}`);let _;return v.createWebsocket?_=v.createWebsocket(y,[A],v):_=new a.default(y,[A],v.wsOptions),_}function b(O,y){let v=y.protocolId==="MQIsdp"&&y.protocolVersion===3?"mqttv3.1":"mqtt",A=l(y,O),_;return y.createWebsocket?_=y.createWebsocket(A,[v],y):_=new WebSocket(A,[v]),_.binaryType="arraybuffer",_}var E=(O,y)=>{e("streamBuilder");let v=d(y);v.hostname=v.hostname||v.host||"localhost";let A=l(v,O),_=g(O,A,v),R=a.default.createWebSocketStream(_,v.wsOptions);return R.url=A,_.on("close",()=>{R.destroy()}),R};f.streamBuilder=E;var S=(O,y)=>{e("browserStreamBuilder");let v,A=p(y).browserBufferSize||1024*512,_=y.browserBufferTimeout||1e3,R=!y.objectMode,w=b(O,y),I=M(y,q,he);y.objectMode||(I._writev=t.writev.bind(I)),I.on("close",()=>{w.close()});let k=typeof w.addEventListener<"u";w.readyState===w.OPEN?(v=I,v.socket=w):(v=new t.BufferedDuplex(y,I,w),k?w.addEventListener("open",U):w.onopen=U),k?(w.addEventListener("close",T),w.addEventListener("error",z),w.addEventListener("message",Q)):(w.onclose=T,w.onerror=z,w.onmessage=Q);function M(ie,re,ce){let V=new n.Transform({objectMode:ie.objectMode});return V._write=re,V._flush=ce,V}function U(){e("WebSocket onOpen"),v instanceof t.BufferedDuplex&&v.socketReady()}function T(ie){e("WebSocket onClose",ie),v.end(),v.destroy()}function z(ie){e("WebSocket onError",ie);let re=new Error("WebSocket error");re.event=ie,v.destroy(re)}async function Q(ie){if(!I||I.destroyed||!I.readable)return;let{data:re}=ie;re instanceof ArrayBuffer?re=s.Buffer.from(re):re instanceof Blob?re=s.Buffer.from(await new Response(re).arrayBuffer()):re=s.Buffer.from(re,"utf8"),I.push(re)}function q(ie,re,ce){if(w.bufferedAmount>A){setTimeout(q,_,ie,re,ce);return}R&&typeof ie=="string"&&(ie=s.Buffer.from(ie,"utf8"));try{w.send(ie)}catch(V){return ce(V)}ce()}function he(ie){w.close(),ie()}return v};f.browserStreamBuilder=S}),Ao={};lr(Ao,{Server:()=>Je,Socket:()=>Je,Stream:()=>Je,_createServerHandle:()=>Je,_normalizeArgs:()=>Je,_setSimultaneousAccepts:()=>Je,connect:()=>Je,createConnection:()=>Je,createServer:()=>Je,default:()=>fl,isIP:()=>Je,isIPv4:()=>Je,isIPv6:()=>Je});function Je(){throw new Error("Node.js net module is not supported by JSPM core outside of Node.js")}var fl,pl=vt(()=>{ye(),be(),me(),fl={_createServerHandle:Je,_normalizeArgs:Je,_setSimultaneousAccepts:Je,connect:Je,createConnection:Je,createServer:Je,isIP:Je,isIPv4:Je,isIPv6:Je,Server:Je,Socket:Je,Stream:Je}}),dl=Ee((f,h)=>{ye(),be(),me(),h.exports={}}),Ns=Ee(f=>{ye(),be(),me();var h=f&&f.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(f,"__esModule",{value:!0});var s=h((pl(),He(Ao))),a=h(Mt()),c=h(dl()),n=(0,a.default)("mqttjs:tcp"),r=(t,e)=>{if(e.port=e.port||1883,e.hostname=e.hostname||e.host||"localhost",e.socksProxy)return(0,c.default)(e.hostname,e.port,e.socksProxy,{timeout:e.socksTimeout});let{port:i,path:l}=e,d=e.hostname;return n("port %d and host %s",i,d),s.default.createConnection({port:i,host:d,path:l})};f.default=r}),gl={};lr(gl,{default:()=>yl});var yl,uh=vt(()=>{ye(),be(),me(),yl={}}),Us=Ee(f=>{ye(),be(),me();var h=f&&f.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(f,"__esModule",{value:!0});var s=(uh(),He(gl)),a=h((pl(),He(Ao))),c=h(Mt()),n=h(dl()),r=(0,c.default)("mqttjs:tls");function t(i){let{host:l,port:d,socksProxy:p,...g}=i;if(p!==void 0){let b=(0,n.default)(l,d,p,{timeout:i.socksTimeout});return(0,s.connect)({...g,socket:b})}return(0,s.connect)(i)}var e=(i,l)=>{l.port=l.port||8883,l.host=l.hostname||l.host||"localhost",a.default.isIP(l.host)===0&&(l.servername=l.host),l.rejectUnauthorized=l.rejectUnauthorized!==!1,delete l.path,r("port %d host %s rejectUnauthorized %b",l.port,l.host,l.rejectUnauthorized);let d=t(l);d.on("secureConnect",()=>{l.rejectUnauthorized&&!d.authorized?d.emit("error",new Error("TLS not authorized")):d.removeListener("error",p)});function p(g){l.rejectUnauthorized&&i.emit("error",g),d.end()}return d.on("error",p),d};f.default=e}),Ls=Ee(f=>{ye(),be(),me(),Object.defineProperty(f,"__esModule",{value:!0});var h=(lt(),He(at)),s=nr(),a=Eo(),c,n,r;function t(){let p=new s.Transform;return p._write=(g,b,E)=>{c.send({data:g.buffer,success(){E()},fail(S){E(new Error(S))}})},p._flush=g=>{c.close({success(){g()}})},p}function e(p){p.hostname||(p.hostname="localhost"),p.path||(p.path="/"),p.wsOptions||(p.wsOptions={})}function i(p,g){let b=p.protocol==="wxs"?"wss":"ws",E=`${b}://${p.hostname}${p.path}`;return p.port&&p.port!==80&&p.port!==443&&(E=`${b}://${p.hostname}:${p.port}${p.path}`),typeof p.transformWsUrl=="function"&&(E=p.transformWsUrl(E,p,g)),E}function l(){c.onOpen(()=>{r.socketReady()}),c.onMessage(p=>{let{data:g}=p;g instanceof ArrayBuffer?g=h.Buffer.from(g):g=h.Buffer.from(g,"utf8"),n.push(g)}),c.onClose(()=>{r.emit("close"),r.end(),r.destroy()}),c.onError(p=>{let g=new Error(p.errMsg);r.destroy(g)})}var d=(p,g)=>{if(g.hostname=g.hostname||g.host,!g.hostname)throw new Error("Could not determine host. Specify host manually.");let b=g.protocolId==="MQIsdp"&&g.protocolVersion===3?"mqttv3.1":"mqtt";e(g);let E=i(g,p);c=wx.connectSocket({url:E,protocols:[b]}),n=t(),r=new a.BufferedDuplex(g,n,c),r._destroy=(O,y)=>{c.close({success(){y&&y(O)}})};let S=r.destroy;return r.destroy=(O,y)=>(r.destroy=S,setTimeout(()=>{c.close({fail(){r._destroy(O,y)}})},0),r),l(),r};f.default=d}),Ds=Ee(f=>{ye(),be(),me(),Object.defineProperty(f,"__esModule",{value:!0});var h=(lt(),He(at)),s=nr(),a=Eo(),c,n,r,t=!1;function e(){let g=new s.Transform;return g._write=(b,E,S)=>{c.sendSocketMessage({data:b.buffer,success(){S()},fail(){S(new Error)}})},g._flush=b=>{c.closeSocket({success(){b()}})},g}function i(g){g.hostname||(g.hostname="localhost"),g.path||(g.path="/"),g.wsOptions||(g.wsOptions={})}function l(g,b){let E=g.protocol==="alis"?"wss":"ws",S=`${E}://${g.hostname}${g.path}`;return g.port&&g.port!==80&&g.port!==443&&(S=`${E}://${g.hostname}:${g.port}${g.path}`),typeof g.transformWsUrl=="function"&&(S=g.transformWsUrl(S,g,b)),S}function d(){t||(t=!0,c.onSocketOpen(()=>{r.socketReady()}),c.onSocketMessage(g=>{if(typeof g.data=="string"){let b=h.Buffer.from(g.data,"base64");n.push(b)}else{let b=new FileReader;b.addEventListener("load",()=>{if(b.result instanceof ArrayBuffer){n.push(h.Buffer.from(b.result));return}n.push(h.Buffer.from(b.result,"utf-8"))}),b.readAsArrayBuffer(g.data)}}),c.onSocketClose(()=>{r.end(),r.destroy()}),c.onSocketError(g=>{r.destroy(g)}))}var p=(g,b)=>{if(b.hostname=b.hostname||b.host,!b.hostname)throw new Error("Could not determine host. Specify host manually.");let E=b.protocolId==="MQIsdp"&&b.protocolVersion===3?"mqttv3.1":"mqtt";i(b);let S=l(b,g);return c=b.my,c.connectSocket({url:S,protocols:E}),n=e(),r=new a.BufferedDuplex(b,n,c),d(),r};f.default=p}),ch=Ee(f=>{ye(),be(),me();var h=f&&f.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(f,"__esModule",{value:!0}),f.connectAsync=l;var s=h(Mt()),a=h((ah(),He(za))),c=h(Ei()),n=h(on());typeof Qe?.nextTick!="function"&&(Qe.nextTick=setImmediate);var r=(0,s.default)("mqttjs"),t=null;function e(d){let p;if(d.auth)if(p=d.auth.match(/^(.+):(.+)$/),p){let[,g,b]=p;d.username=g,d.password=b}else d.username=d.auth}function i(d,p){if(r("connecting to an MQTT broker..."),typeof d=="object"&&!p&&(p=d,d=""),p=p||{},d&&typeof d=="string"){let E=a.default.parse(d,!0),S={};if(E.port!=null&&(S.port=Number(E.port)),S.host=E.hostname,S.query=E.query,S.auth=E.auth,S.protocol=E.protocol,S.path=E.path,p={...S,...p},!p.protocol)throw new Error("Missing protocol");p.protocol=p.protocol.replace(/:$/,"")}if(p.unixSocket=p.unixSocket||p.protocol?.includes("+unix"),p.unixSocket?p.protocol=p.protocol.replace("+unix",""):!p.protocol?.startsWith("ws")&&!p.protocol?.startsWith("wx")&&delete p.path,e(p),p.query&&typeof p.query.clientId=="string"&&(p.clientId=p.query.clientId),n.default||p.unixSocket?p.socksProxy=void 0:p.socksProxy===void 0&&typeof Qe<"u"&&(p.socksProxy=Qe.env.MQTTJS_SOCKS_PROXY),p.cert&&p.key)if(p.protocol){if(["mqtts","wss","wxs","alis"].indexOf(p.protocol)===-1)switch(p.protocol){case"mqtt":p.protocol="mqtts";break;case"ws":p.protocol="wss";break;case"wx":p.protocol="wxs";break;case"ali":p.protocol="alis";break;default:throw new Error(`Unknown protocol for secure connection: "${p.protocol}"!`)}}else throw new Error("Missing secure protocol key");if(t||(t={},!n.default&&!p.forceNativeWebSocket?(t.ws=Er().streamBuilder,t.wss=Er().streamBuilder,t.mqtt=Ns().default,t.tcp=Ns().default,t.ssl=Us().default,t.tls=t.ssl,t.mqtts=Us().default):(t.ws=Er().browserStreamBuilder,t.wss=Er().browserStreamBuilder,t.wx=Ls().default,t.wxs=Ls().default,t.ali=Ds().default,t.alis=Ds().default)),!t[p.protocol]){let E=["mqtts","wss"].indexOf(p.protocol)!==-1;p.protocol=["mqtt","mqtts","ws","wss","wx","wxs","ali","alis"].filter((S,O)=>E&&O%2===0?!1:typeof t[S]=="function")[0]}if(p.clean===!1&&!p.clientId)throw new Error("Missing clientId for unclean clients");p.protocol&&(p.defaultProtocol=p.protocol);function g(E){return p.servers&&((!E._reconnectCount||E._reconnectCount===p.servers.length)&&(E._reconnectCount=0),p.host=p.servers[E._reconnectCount].host,p.port=p.servers[E._reconnectCount].port,p.protocol=p.servers[E._reconnectCount].protocol?p.servers[E._reconnectCount].protocol:p.defaultProtocol,p.hostname=p.host,E._reconnectCount++),r("calling streambuilder for",p.protocol),t[p.protocol](E,p)}let b=new c.default(g,p);return b.on("error",()=>{}),b}function l(d,p,g=!0){return new Promise((b,E)=>{let S=i(d,p),O={connect:v=>{y(),b(S)},end:()=>{y(),b(S)},error:v=>{y(),S.end(),E(v)}};g===!1&&(O.close=()=>{O.error(new Error("Couldn't connect to server"))});function y(){Object.keys(O).forEach(v=>{S.off(v,O[v])})}Object.keys(O).forEach(v=>{S.on(v,O[v])})})}f.default=i}),Fs=Ee(f=>{ye(),be(),me();var h=f&&f.__createBinding||(Object.create?function(g,b,E,S){S===void 0&&(S=E);var O=Object.getOwnPropertyDescriptor(b,E);(!O||("get"in O?!b.__esModule:O.writable||O.configurable))&&(O={enumerable:!0,get:function(){return b[E]}}),Object.defineProperty(g,S,O)}:function(g,b,E,S){S===void 0&&(S=E),g[S]=b[E]}),s=f&&f.__setModuleDefault||(Object.create?function(g,b){Object.defineProperty(g,"default",{enumerable:!0,value:b})}:function(g,b){g.default=b}),a=f&&f.__importStar||(function(){var g=function(b){return g=Object.getOwnPropertyNames||function(E){var S=[];for(var O in E)Object.prototype.hasOwnProperty.call(E,O)&&(S[S.length]=O);return S},g(b)};return function(b){if(b&&b.__esModule)return b;var E={};if(b!=null)for(var S=g(b),O=0;O<S.length;O++)S[O]!=="default"&&h(E,b,S[O]);return s(E,b),E}})(),c=f&&f.__exportStar||function(g,b){for(var E in g)E!=="default"&&!Object.prototype.hasOwnProperty.call(b,E)&&h(b,g,E)},n=f&&f.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(f,"__esModule",{value:!0}),f.ReasonCodes=f.KeepaliveManager=f.UniqueMessageIdProvider=f.DefaultMessageIdProvider=f.Store=f.MqttClient=f.connectAsync=f.connect=f.Client=void 0;var r=n(Ei());f.MqttClient=r.default;var t=n(Ra());f.DefaultMessageIdProvider=t.default;var e=n(Sc());f.UniqueMessageIdProvider=e.default;var i=n(ga());f.Store=i.default;var l=a(ch());f.connect=l.default,Object.defineProperty(f,"connectAsync",{enumerable:!0,get:function(){return l.connectAsync}});var d=n(Da());f.KeepaliveManager=d.default,f.Client=r.default,c(Ei(),f),c(cr(),f);var p=rn();Object.defineProperty(f,"ReasonCodes",{enumerable:!0,get:function(){return p.ReasonCodes}})}),hh=Ee(f=>{ye(),be(),me();var h=f&&f.__createBinding||(Object.create?function(r,t,e,i){i===void 0&&(i=e);var l=Object.getOwnPropertyDescriptor(t,e);(!l||("get"in l?!t.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return t[e]}}),Object.defineProperty(r,i,l)}:function(r,t,e,i){i===void 0&&(i=e),r[i]=t[e]}),s=f&&f.__setModuleDefault||(Object.create?function(r,t){Object.defineProperty(r,"default",{enumerable:!0,value:t})}:function(r,t){r.default=t}),a=f&&f.__importStar||(function(){var r=function(t){return r=Object.getOwnPropertyNames||function(e){var i=[];for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&(i[i.length]=l);return i},r(t)};return function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var i=r(t),l=0;l<i.length;l++)i[l]!=="default"&&h(e,t,i[l]);return s(e,t),e}})(),c=f&&f.__exportStar||function(r,t){for(var e in r)e!=="default"&&!Object.prototype.hasOwnProperty.call(t,e)&&h(t,r,e)};Object.defineProperty(f,"__esModule",{value:!0});var n=a(Fs());f.default=n,c(Fs(),f)});const fh=hh();/*! Bundled license information:

@jspm/core/nodelibs/browser/chunk-DtuTasat.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

@babel/runtime/helpers/regenerator.js:
  (*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE *)
*/const gh=nu("mqtt",()=>{let f;const h={protocol:location.protocol=="https:"?"wss":"ws",host:location.hostname,port:parseInt(location.port)||(location.protocol=="https:"?443:80),endpoint:"/ws",connectTimeout:4e3,reconnectPeriod:4e3},s=Co({}),a=Co({});function c(){const{protocol:x,host:P,port:K,endpoint:ge,...Ie}=h,qe=`${x}://${P}:${K}${ge}`;try{f=fh.connect(qe,Ie),f.on("connect",()=>{}),f.on("error",Ke=>{console.error("Client error",Ke)}),f.on("message",(Ke,ot)=>{if(`${ot}${Ke}`,ot.toString().length>0){let ft;try{ft=JSON.parse(ot.toString())}catch(Lt){ft=ot.toString()}r(Ke,ft)}else e(Ke)})}catch(Ke){console.error("error connecting to broker:",Ke)}}function n(x,P=void 0){x.includes("#")||x.includes("+")||r(x,P)}function r(x,P){a.value[x]=P}function t(x,P,K=void 0,ge=!1){const Ie=(qe,Ke,ot)=>{const ft=Ke.split(".");ft.reduce((Lt,Yt,To)=>To===ft.length-1?(Lt[Yt]=ot,ot):Lt[Yt],qe)};x in a.value?(K!=null?Ie(a.value[x],K,P):a.value[x]=P,ge&&(a.value[x],b(x,a.value[x]))):console.warn("topic not found",x)}function e(x){x.includes("#")||x.includes("+")?Object.keys(O.value(x)).forEach(P=>{delete a.value[P]}):delete a.value[x]}function i(x,P=void 0){Array.isArray(x)||(x=[x]),x.forEach(K=>{d(K)==1&&(n(K,P),f?f.subscribe(x,{},ge=>{ge&&console.error("Subscribe to topics error",ge)}):console.error("mqttClient is not initialized"))})}function l(x){Array.isArray(x)||(x=[x]),x.forEach(P=>{p(P)<=0&&(e(P),f?f.unsubscribe(P,K=>{K&&console.error("Unsubscribe error",K)}):console.error("mqttClient is not initialized"))})}function d(x){return x in s.value?s.value[x]+=1:s.value[x]=1,s.value[x],s.value[x]}function p(x){let P=0;return x in s.value&&(P=s.value[x]-=1,s.value[x]<=0&&delete s.value[x]),s.value[x],P}function g(x,P,K=!0,ge=2){if(!f){console.error("mqttClient is not initialized");return}const Ie={qos:ge,retain:K};f.publish(x,JSON.stringify(P),Ie,qe=>{qe&&console.error("Publish error",qe)})}function b(x,P=void 0){const K=x.replace("openWB/","openWB/set/");P===void 0&&(P=a.value[x]),g(K,P)}function E(x){g("openWB/set/command/"+f?.options.clientId+"/todo",x,!1)}function S(x,P={}){E({command:x,data:P})}const O=Ae(()=>(x,P=!1)=>{let K=x;return P?console.warn("auto subscription of regex topic not possible",x):(K="^"+x.replaceAll("/","\\/").replaceAll("+","[^+/]+").replaceAll("#","[^#/]+")+"$",Object.keys(s.value).includes(x)||i(x)),Object.keys(a.value).filter(ge=>ge.match(K)).reduce((ge,Ie)=>({...ge,[Ie]:a.value[Ie]}),{})}),y=Ae(()=>x=>{function P(K){let ge=[];return K!==void 0&&K.forEach(Ie=>{Ie.type==x&&ge.push(Ie.id),ge=[...ge,...P(Ie.children)]}),ge}return P(v.value("openWB/counter/get/hierarchy"))}),v=Ae(()=>(x,P=void 0,K=void 0)=>{x in s.value||i(x,K);let ge=a.value[x];if(P==null||ge==null)return ge;const Ie=P.split(".");for(let qe=0;qe<Ie.length;qe++){if(!Object.hasOwn(ge,Ie[qe]))return console.error("path not found",ge,Ie[qe]),K;ge=ge[Ie[qe]]}return ge}),A=Ae(()=>(x,P="W",K="",ge=!0,Ie=!1,qe="---",Ke=0)=>{let ot=!1,ft=x,Lt=qe;if(x!==void 0){for(Ie&&(ft=x*=-1),Lt=x.toLocaleString(void 0,{minimumFractionDigits:0,maximumFractionDigits:0});ge&&(ft>999||ft<-999);)switch(ft=ft/1e3,ot=!0,K){case"":K="k";break;case"k":K="M";break;case"M":K="G";break}let Yt=0;ot?Yt=Ke>0?Ke:2:Yt=ft!==Math.floor(ft)?Ke:0,Lt=ft.toLocaleString(void 0,{minimumFractionDigits:Yt,maximumFractionDigits:Yt})}return{textValue:`${Lt} ${K}${P}`,value:x,unit:P,scaledValue:ft,scaledUnit:`${K}${P}`}}),_=Ae(()=>v.value("openWB/general/web_theme","configuration")),R=Ae(()=>v.value("openWB/system/version")),w=Ae(()=>v.value("openWB/system/ip_address")),I=Ae(()=>v.value("openWB/system/current_branch")),k=Ae(()=>v.value("openWB/system/current_commit")),M=Ae(()=>(x="Date")=>{const P=v.value("openWB/system/time");if(P==null)return;const K=new Date(P*1e3);switch(x){case"locale-string":return K.toLocaleString();case"number":return K.getTime();case"date":default:return K}}),U=Ae(()=>y.value("cp")),T=Ae(()=>x=>v.value(`openWB/chargepoint/${x}/config`,"name")),z=x=>Ae({get(){return v.value(`openWB/chargepoint/${x}/set/manual_lock`)},set(P){return t(`openWB/chargepoint/${x}/set/manual_lock`,P,void 0,!0)}}),Q=Ae(()=>x=>v.value(`openWB/chargepoint/${x}/get/plug_state`)||!1),q=Ae(()=>x=>v.value(`openWB/chargepoint/${x}/get/charge_state`)||!1),he=Ae(()=>(x="textValue")=>{const P=v.value("openWB/chargepoint/get/power",void 0,0)||0,K=A.value(P);if(Object.hasOwn(K,x))return K[x];if(x=="object")return K;console.error("returnType not found!",x,P)}),ie=Ae(()=>(x,P="textValue")=>{const K=v.value(`openWB/chargepoint/${x}/get/power`,void 0,0)||0,ge=A.value(K);if(Object.hasOwn(ge,P))return ge[P];if(P=="object")return ge;console.error("returnType not found!",P,K)}),re=Ae(()=>(x,P="textValue")=>{const K=v.value(`openWB/chargepoint/${x}/get/energy_charged`,void 0,0)||0,ge=A.value(K,"Wh");if(Object.hasOwn(ge,P))return ge[P];if(P=="object")return ge;console.error("returnType not found!",P,K)}),ce=Ae(()=>(x,P="textValue")=>{const K=v.value(`openWB/chargepoint/${x}/set/log`,"imported_since_plugged")||0,ge=A.value(K,"Wh");if(Object.hasOwn(ge,P))return ge[P];if(P=="object")return ge;console.error("returnType not found!",P,K)}),V=Ae(()=>x=>v.value(`openWB/chargepoint/${x}/get/phases_in_use`)||0),le=Ae(()=>(x,P="textValue")=>{const K=v.value(`openWB/chargepoint/${x}/set/current`)||0,ge=A.value(K,"A","",!0,!1,"---",2);if(Object.hasOwn(ge,P))return ge[P];console.error("returnType not found!",P,K)}),B=Ae(()=>x=>v.value(`openWB/chargepoint/${x}/get/state_str`)),te=Ae(()=>x=>v.value(`openWB/chargepoint/${x}/get/fault_str`)),ee=Ae(()=>x=>v.value(`openWB/chargepoint/${x}/get/fault_state`)||0),ue=x=>{const P=Oe(x).value?.id;P!==void 0&&Oo(P)},Oe=x=>Ae({get(){return v.value(`openWB/chargepoint/${x}/get/connected_vehicle/info`)},set(P){t(`openWB/chargepoint/${x}/get/connected_vehicle/info`,P,void 0,!1),b(`openWB/chargepoint/${x}/config/ev`,P.id)}}),X=x=>Ae({get(){return $e(x).value?.chargemode?.selected},set(P){return t(`openWB/chargepoint/${x}/set/charge_template`,P,"chargemode.selected",!0)}}),W=x=>Ae({get(){return $e(x).value?.chargemode?.instant_charging?.current},set(P){return t(`openWB/chargepoint/${x}/set/charge_template`,P,"chargemode.instant_charging.current",!0)}}),se=Ae(()=>v.value("openWB/optional/dc_charging")||0),Z=x=>Math.round(x*3*230/1e3),J=x=>Math.round(x*1e3/690),ne=x=>Ae({get(){const P=$e(x).value?.chargemode?.instant_charging?.dc_current;return P!==void 0?Z(P):0},set(P){const K=J(P);return t(`openWB/chargepoint/${x}/set/charge_template`,K,"chargemode.instant_charging.dc_current",!0)}}),_e=x=>Ae({get(){return $e(x).value?.chargemode?.instant_charging?.phases_to_use},set(P){return t(`openWB/chargepoint/${x}/set/charge_template`,P,"chargemode.instant_charging.phases_to_use",!0)}}),pe=x=>Ae({get(){return $e(x).value?.chargemode?.instant_charging?.limit?.selected},set(P){return t(`openWB/chargepoint/${x}/set/charge_template`,P,"chargemode.instant_charging.limit.selected",!0)}}),L=x=>Ae({get(){return $e(x).value?.chargemode?.instant_charging?.limit?.soc},set(P){return t(`openWB/chargepoint/${x}/set/charge_template`,P,"chargemode.instant_charging.limit.soc",!0)}}),G=x=>Ae({get(){const P=$e(x).value?.chargemode?.instant_charging?.limit?.amount;return P===void 0?void 0:A.value(P,"Wh","",!0).scaledValue},set(P){return t(`openWB/chargepoint/${x}/set/charge_template`,P*1e3,"chargemode.instant_charging.limit.amount",!0)}}),ae=x=>Ae({get(){return $e(x).value?.chargemode?.pv_charging?.min_current},set(P){return t(`openWB/chargepoint/${x}/set/charge_template`,P,"chargemode.pv_charging.min_current",!0)}}),ve=x=>Ae({get(){const P=$e(x).value?.chargemode?.pv_charging?.dc_min_current;return P!==void 0?Z(P):0},set(P){const K=J(P);return t(`openWB/chargepoint/${x}/set/charge_template`,K,"chargemode.pv_charging.dc_min_current",!0)}}),we=x=>Ae({get(){const P=$e(x).value?.chargemode?.pv_charging?.dc_min_soc_current;return P!==void 0?Math.round(P*3*230/1e3):0},set(P){const K=P*1e3/230/3;return t(`openWB/chargepoint/${x}/set/charge_template`,K,"chargemode.pv_charging.dc_min_soc_current",!0)}}),xe=x=>Ae({get(){return $e(x).value?.chargemode?.pv_charging?.min_soc},set(P){return t(`openWB/chargepoint/${x}/set/charge_template`,P,"chargemode.pv_charging.min_soc",!0)}}),Y=x=>Ae({get(){return $e(x).value?.chargemode?.pv_charging?.min_soc_current},set(P){return t(`openWB/chargepoint/${x}/set/charge_template`,P,"chargemode.pv_charging.min_soc_current",!0)}}),Se=x=>Ae({get(){return $e(x).value?.chargemode?.pv_charging?.phases_to_use},set(P){return t(`openWB/chargepoint/${x}/set/charge_template`,P,"chargemode.pv_charging.phases_to_use",!0)}}),Pe=x=>Ae({get(){return $e(x).value?.chargemode?.pv_charging?.phases_to_use_min_soc},set(P){return t(`openWB/chargepoint/${x}/set/charge_template`,P,"chargemode.pv_charging.phases_to_use_min_soc",!0)}}),fe=x=>Ae({get(){return $e(x).value?.chargemode?.pv_charging?.limit?.selected},set(P){return t(`openWB/chargepoint/${x}/set/charge_template`,P,"chargemode.pv_charging.limit.selected",!0)}}),Me=x=>Ae({get(){return $e(x).value?.chargemode?.pv_charging?.limit?.soc},set(P){return t(`openWB/chargepoint/${x}/set/charge_template`,P,"chargemode.pv_charging.limit.soc",!0)}}),o=x=>Ae({get(){const P=$e(x).value?.chargemode?.pv_charging?.limit?.amount;return P===void 0?void 0:A.value(P,"Wh","",!0).scaledValue},set(P){return t(`openWB/chargepoint/${x}/set/charge_template`,P*1e3,"chargemode.pv_charging.limit.amount",!0)}}),u=x=>Ae({get(){return $e(x).value?.chargemode?.pv_charging?.feed_in_limit},set(P){return t(`openWB/chargepoint/${x}/set/charge_template`,P,"chargemode.pv_charging.feed_in_limit",!0)}}),m=x=>Ae({get(){return $e(x).value?.chargemode?.eco_charging?.current},set(P){return t(`openWB/chargepoint/${x}/set/charge_template`,P,"chargemode.eco_charging.current",!0)}}),C=x=>Ae({get(){const P=$e(x).value?.chargemode?.eco_charging?.dc_current;return P!==void 0?Z(P):0},set(P){const K=J(P);return t(`openWB/chargepoint/${x}/set/charge_template`,K,"chargemode.eco_charging.dc_current",!0)}}),N=x=>Ae({get(){return $e(x).value?.chargemode?.eco_charging?.phases_to_use},set(P){return t(`openWB/chargepoint/${x}/set/charge_template`,P,"chargemode.eco_charging.phases_to_use",!0)}}),H=x=>Ae({get(){return $e(x).value?.chargemode?.eco_charging?.limit?.selected},set(P){return t(`openWB/chargepoint/${x}/set/charge_template`,P,"chargemode.eco_charging.limit.selected",!0)}}),de=x=>Ae({get(){return $e(x).value?.chargemode?.eco_charging?.limit?.soc},set(P){return t(`openWB/chargepoint/${x}/set/charge_template`,P,"chargemode.eco_charging.limit.soc",!0)}}),$=x=>Ae({get(){const P=$e(x).value?.chargemode?.eco_charging?.limit?.amount;return P===void 0?void 0:A.value(P,"Wh","",!0).scaledValue},set(P){return t(`openWB/chargepoint/${x}/set/charge_template`,P*1e3,"chargemode.eco_charging.limit.amount",!0)}}),oe=x=>Ae({get(){const P=$e(x).value?.chargemode?.eco_charging?.max_price;if(P!==void 0)return P*1e5},set(P){return t(`openWB/chargepoint/${x}/set/charge_template`,parseFloat((P/1e5).toFixed(7)),"chargemode.eco_charging.max_price",!0)}}),Re=x=>Ae({get(){return $e(x).value?.prio},set(P){return t(`openWB/chargepoint/${x}/set/charge_template`,P,"prio",!0)}}),ke=x=>Ae({get(){return $e(x).value?.time_charging.active},set(P){return t(`openWB/chargepoint/${x}/set/charge_template`,P,"time_charging.active",!0)}}),Ne=x=>Ae(()=>{const P=rt(x).value.ev_template;return v.value(`openWB/vehicle/template/ev_template/${P}`,"bidi")}),Ue=(x,P)=>Ae({get(){return ut.value(x).find(Ie=>Ie.id===P)?.name},set(K){Le(x,P,"name",K)}}),Xe=x=>{const P=$e(x).value?.id;P!==void 0&&S("addChargeTemplateTimeChargingPlan",{template:P,chargepoint:x,changed_in_theme:!0})},Fe=(x,P)=>{const K=$e(x).value?.id;S("removeChargeTemplateTimeChargingPlan",{template:K,plan:P,chargepoint:x,changed_in_theme:!0})},Le=(x,P,K,ge)=>{const qe=ut.value(x).findIndex(ot=>ot.id===P);if(qe===-1)return;const Ke=`time_charging.plans.${qe}.${K}`;t(`openWB/chargepoint/${x}/set/charge_template`,ge,Ke,!0)},We=(x,P)=>Ae({get(){return ut.value(x).find(Ie=>Ie.id===P)?.active},set(K){Le(x,P,"active",K)}}),et=(x,P)=>Ae({get(){return ut.value(x).find(Ie=>Ie.id===P)?.time?.[0]},set(K){Le(x,P,"time.0",K)}}),Ge=(x,P)=>Ae({get(){return ut.value(x).find(Ie=>Ie.id===P)?.time?.[1]},set(K){Le(x,P,"time.1",K)}}),Ve=(x,P)=>Ae({get(){return ut.value(x).find(Ie=>Ie.id===P)?.current},set(K){Le(x,P,"current",K)}}),it=(x,P)=>Ae({get(){return ut.value(x).find(Ie=>Ie.id===P)?.limit?.selected},set(K){Le(x,P,"limit.selected",K)}}),mt=(x,P)=>Ae({get(){return ut.value(x).find(Ie=>Ie.id===P)?.limit?.soc},set(K){Le(x,P,"limit.soc",K)}}),ht=(x,P)=>Ae({get(){const Ie=ut.value(x).find(Ke=>Ke.id===P)?.limit?.amount;return Ie===void 0?void 0:A.value(Ie,"Wh","",!0).scaledValue},set(K){const ge=K*1e3;Le(x,P,"limit.amount",ge)}}),j=(x,P)=>Ae({get(){return ut.value(x).find(Ie=>Ie.id===P)?.frequency?.selected},set(K){Le(x,P,"frequency.selected",K)}}),F=(x,P)=>Ae({get(){return ut.value(x).find(Ie=>Ie.id===P)?.frequency?.once?.[0]},set(K){Le(x,P,"frequency.once.0",K)}}),Te=(x,P)=>Ae({get(){return ut.value(x).find(Ie=>Ie.id===P)?.frequency?.once?.[1]},set(K){Le(x,P,"frequency.once.1",K)}}),Ce=(x,P)=>Ae({get(){return ut.value(x).find(Ie=>Ie.id===P)?.phases_to_use},set(K){Le(x,P,"phases_to_use",K)}}),je=(x,P)=>Ae({get(){return ut.value(x).find(Ie=>Ie.id===P)?.frequency?.weekly??Array(7).fill(!1)},set(K){Le(x,P,"frequency.weekly",K)}}),tt=(x,P)=>Ae({get(){const Ie=ut.value(x).find(ot=>ot.id===P)?.dc_current,qe=Z(Ie);return A.value(qe,"W","",!0).scaledValue},set(K){const ge=J(K);Le(x,P,"dc_current",ge)}}),rt=x=>Ae(()=>v.value(`openWB/chargepoint/${x}/get/connected_vehicle/config`)),wt=x=>Ae(()=>v.value(`openWB/chargepoint/${x}/get/connected_vehicle/soc`)),Gt=x=>Ae({get(){const ge=`openWB/vehicle/${Oe(x).value?.id}/soc_module/calculated_soc_state`,Ie=v.value(ge);return Ie?.manual_soc??Ie?.soc_start??0},set(P){const K=Oe(x).value;if(!K){console.warn("No vehicle connected to charge point",x);return}const ge=K.id;g(`openWB/set/vehicle/${ge}/soc_module/calculated_soc_state/manual_soc`,P);const Ie=`openWB/chargepoint/${x}/get/connected_vehicle/soc`,qe=v.value(Ie);qe&&qe.soc!==void 0&&t(Ie,P,"soc",!0)}}),Qt=x=>Ae(()=>{const P=Oe(x).value?.id;if(P!==void 0)return xo.value(P)}),$e=x=>Ae({get(){return v.value(`openWB/chargepoint/${x}/set/charge_template`)},set(P){return t(`openWB/chargepoint/${x}/set/charge_template`,P,void 0,!0)}}),ir=Ae(()=>x=>{const P=O.value(`openWB/system/device/+/component/${x}/config`);return Object.keys(P).length===0?`Speicher ${x}`:Object.values(P)[0].name}),It=Ae(()=>x=>v.value(`openWB/bat/${x}/get/soc`)||0),_t=Ae(()=>(x,P="textValue")=>{const K=v.value(`openWB/bat/${x}/get/power`,void 0,0)||0,ge=A.value(K);if(Object.hasOwn(ge,P))return ge[P];if(P=="object")return ge;if(P==="absoluteTextValue"){const Ie=Math.abs(K);return A.value(Ie,"W","",!0).textValue}console.error("returnType not found!",P,K)}),At=Ae(()=>(x,P="textValue")=>{const K=v.value(`openWB/bat/${x}/get/daily_imported`,void 0,0)||0,ge=A.value(K,"Wh","",!0);if(Object.hasOwn(ge,P))return ge[P];if(P=="object")return ge;console.error("returnType not found!",P,K)}),Pt=Ae(()=>(x,P="textValue")=>{const K=v.value(`openWB/bat/${x}/get/daily_exported`,void 0,0)||0,ge=A.value(K,"Wh","",!0);if(Object.hasOwn(ge,P))return ge[P];if(P=="object")return ge;console.error("returnType not found!",P,K)}),St=Ae(()=>v.value("openWB/bat/config/configured",void 0)||!1),Et=Ae(()=>y.value("bat")||[]),ml=Ae(()=>(x="textValue")=>{const P=v.value("openWB/bat/get/power",void 0,0)||0,K=A.value(P);if(Object.hasOwn(K,x))return K[x];if(x=="object")return K;console.error("returnType not found!",x,P)}),bl=Ae(()=>v.value("openWB/bat/get/soc")||0),vl=Ae(()=>(x="textValue")=>{const P=v.value("openWB/bat/get/daily_imported")||0,K=A.value(P,"Wh","",!0);if(Object.hasOwn(K,x))return K[x];if(x=="object")return K;console.error("returnType not found!",x,P)}),wl=Ae(()=>(x="textValue")=>{const P=v.value("openWB/bat/get/daily_exported")||0,K=A.value(P,"Wh","",!0);if(Object.hasOwn(K,x))return K[x];if(x=="object")return K;console.error("returnType not found!",x,P)}),_l=()=>Ae({get(){return v.value("openWB/general/chargemode_config/pv_charging/bat_mode")||void 0},set(x){return t("openWB/general/chargemode_config/pv_charging/bat_mode",x,void 0,!0)}}),Sl=Ae(()=>{const x=O.value("openWB/vehicle/+/name"),K=_.value?.hide_standard_vehicle?Object.fromEntries(Object.entries(x).filter(([,ge])=>typeof ge=="string"&&ge!=="Standard-Fahrzeug")):x;return Object.keys(K).map(ge=>({id:parseInt(ge.split("/")[2]),name:K[ge]}))}),El=Ae(()=>x=>v.value(`openWB/vehicle/${x}/info`)),xo=Ae(()=>x=>v.value(`openWB/vehicle/${x}/soc_module/config`)?.type),Al=Ae(()=>x=>v.value(`openWB/vehicle/${x}/get/soc`)),xl=(x,P)=>Ae({get(){const K=`openWB/vehicle/${x}/soc_module/calculated_soc_state`,ge=v.value(K);return ge?.manual_soc??ge?.soc_start??0},set(K){if(g(`openWB/set/vehicle/${x}/soc_module/calculated_soc_state/manual_soc`,K),P!==void 0){const ge=`openWB/chargepoint/${P}/get/connected_vehicle/soc`,Ie=v.value(ge);Ie&&Ie.soc!==void 0&&t(ge,K,"soc",!0)}}}),Oo=x=>{if(x!==void 0){const P=`openWB/vehicle/${x}/get/force_soc_update`;b(P,1)}},Ol=Ae(()=>x=>{const P=O.value("openWB/chargepoint/+/get/connected_vehicle/info");return Object.entries(P).filter(([,ge])=>ge.id===x).map(([ge])=>{const Ie=parseInt(ge.split("/")[2]);return{id:Ie,name:T.value(Ie),plugged:Q.value(Ie),charging:q.value(Ie)}})}),nt=Ae(()=>x=>{const P=v.value(`openWB/chargepoint/${x}/set/charge_template`,"chargemode.scheduled_charging.plans");return Array.isArray(P)?P:[]});function Il(x){const P=$e(x).value?.id;P!==void 0?S("addChargeTemplateSchedulePlan",{template:P,chargepoint:x,changed_in_theme:!0}):console.warn("Kein Template fr ChargePoint gefunden:",x)}function Pl(x,P){const K=$e(x).value?.id;K!==void 0?S("removeChargeTemplateSchedulePlan",{template:K,plan:P,chargepoint:x,changed_in_theme:!0}):console.warn("Kein Template fr ChargePoint gefunden:",x)}const ut=Ae(()=>x=>{const P=v.value(`openWB/chargepoint/${x}/set/charge_template`,"time_charging.plans");return Array.isArray(P)?P:[]}),Tl=(x,P)=>Ae({get(){return nt.value(x).find(Ie=>Ie.id===P)?.active},set(K){ct(x,P,"active",K)}}),ct=(x,P,K,ge)=>{const qe=nt.value(x).findIndex(ot=>ot.id===P);if(qe===-1)return;const Ke=`chargemode.scheduled_charging.plans.${qe}.${K}`;t(`openWB/chargepoint/${x}/set/charge_template`,ge,Ke,!0)},kl=(x,P)=>Ae({get(){return nt.value(x).find(Ie=>Ie.id===P)?.et_active},set(K){ct(x,P,"et_active",K)}}),Io=x=>Ae(()=>{const P=rt(x).value?.current_plan;if(P!==void 0)return{id:P,type:rt(x).value?.time_charging_in_use?"timeCharging":"scheduledCharging",plan:rt(x).value?.time_charging_in_use?ut.value(x).find(K=>K.id===P):nt.value(x).find(K=>K.id===P)}}),Cl=x=>Ae(()=>{const P=Io(x).value;if(P===void 0)return{time:void 0,limit_mode:void 0,limit:void 0};if(P.type==="scheduledCharging"){const ge=P.plan;return{time:ge?.time,limit_mode:ge?.limit.selected,limit:ge?.limit.selected=="soc"?ge.limit.soc_scheduled:ge?.limit.amount}}const K=P.plan;return{time:K?.time[1],limit_mode:K?.limit.selected,limit:K?.limit.selected=="soc"?K?.limit.soc:K?.limit.amount}}),Rl=(x,P)=>Ae({get(){return nt.value(x).find(Ie=>Ie.id===P)?.current},set(K){ct(x,P,"current",K)}}),jl=(x,P)=>Ae({get(){return nt.value(x).find(Ie=>Ie.id===P)?.limit.selected},set(K){ct(x,P,"limit.selected",K)}}),Ml=(x,P)=>Ae({get(){const Ie=nt.value(x).find(Ke=>Ke.id===P)?.limit.amount;return Ie===void 0?void 0:A.value(Ie,"Wh","",!0).scaledValue},set(K){const ge=K*1e3;ct(x,P,"limit.amount",ge)}}),Bl=(x,P)=>Ae({get(){return nt.value(x).find(Ie=>Ie.id===P)?.name},set(K){ct(x,P,"name",K)}}),Nl=(x,P)=>Ae({get(){return nt.value(x).find(Ie=>Ie.id===P)?.time},set(K){ct(x,P,"time",K)}}),Ul=(x,P)=>Ae({get(){return nt.value(x).find(Ie=>Ie.id===P)?.frequency.selected},set(K){ct(x,P,"frequency.selected",K)}}),Ll=(x,P)=>Ae({get(){return nt.value(x).find(Ie=>Ie.id===P)?.frequency.once},set(K){ct(x,P,"frequency.once",K)}}),Dl=(x,P)=>Ae({get(){return nt.value(x).find(Ie=>Ie.id===P)?.frequency.weekly},set(K){ct(x,P,"frequency.weekly",K)}}),Fl=(x,P)=>Ae({get(){return nt.value(x).find(Ie=>Ie.id===P)?.limit.soc_limit},set(K){ct(x,P,"limit.soc_limit",K)}}),Wl=(x,P)=>Ae({get(){return nt.value(x).find(Ie=>Ie.id===P)?.limit.soc_scheduled},set(K){ct(x,P,"limit.soc_scheduled",K)}}),$l=(x,P)=>Ae({get(){return nt.value(x).find(Ie=>Ie.id===P)?.phases_to_use},set(K){ct(x,P,"phases_to_use",K)}}),ql=(x,P)=>Ae({get(){return nt.value(x).find(Ie=>Ie.id===P)?.phases_to_use_pv},set(K){ct(x,P,"phases_to_use_pv",K)}}),Vl=(x,P)=>Ae({get(){return nt.value(x).find(Ie=>Ie.id===P)?.bidi_charging_enabled},set(K){ct(x,P,"bidi_charging_enabled",K)}}),zl=(x,P)=>Ae({get(){const Ie=nt.value(x).find(Ke=>Ke.id===P)?.bidi_power;return A.value(Ie,"W","",!0).scaledValue},set(K){const ge=Math.round(K*1e3);ct(x,P,"bidi_power",ge)}}),Kl=(x,P)=>Ae({get(){const Ie=nt.value(x).find(ot=>ot.id===P)?.dc_current,qe=Z(Ie);return A.value(qe,"W","",!0).scaledValue},set(K){const ge=J(K);ct(x,P,"dc_current",ge)}}),Po=Ae(()=>{const x=v.value("openWB/counter/get/hierarchy");if(x&&x.length>0){const P=x[0];if(P.type==="counter")return P.id}}),Hl=Ae(()=>x=>{const P=O.value(`openWB/system/device/+/component/${x}/config`);return Object.keys(P).length===0?`Zhler ${x}`:Object.values(P)[0].name}),Gl=Ae(()=>(x="textValue")=>{const P=Po.value;if(P===void 0)return"---";const K=v.value(`openWB/counter/${P}/get/power`,void 0,0)||0,ge=A.value(K);if(x in ge)return ge[x];if(x=="object")return ge;console.error("returnType not found!",x,K)}),Ql=Ae(()=>(x="textValue")=>{const P=v.value("openWB/counter/set/home_consumption",void 0,0)||0,K=A.value(P);if(x in K)return K[x];if(x=="object")return K;console.error("returnType not found!",x,P)}),Yl=Ae(()=>v.value("openWB/pv/config/configured",void 0)||!1),Jl=Ae(()=>(x="textValue")=>{const P=v.value("openWB/pv/get/power",void 0,0)||0,K=A.value(P);if(x in K)return K[x];if(x=="object")return K;console.error("returnType not found!",x,P)}),Xl=Ae(()=>{const x=O.value("openWB/graph/+"),P=[];return Object.entries(x).forEach(([K,ge])=>{K.includes("alllivevaluesJson")&&typeof ge=="string"&&ge.split(`
`).forEach(qe=>{if(qe&&qe.startsWith("{")&&qe.endsWith("}")){const Ke=JSON.parse(qe);P.push(Ke)}})}),P.sort((K,ge)=>K.timestamp-ge.timestamp)}),Zl=Ae(()=>(v.value("openWB/optional/et/provider","type",null)||void 0)!==void 0),eu=Ae(()=>v.value("openWB/optional/et/get/prices",void 0,{}));return{topics:a,subscriptions:s,initialize:c,updateTopic:t,updateState:t,subscribe:i,unsubscribe:l,sendTopicToBroker:b,sendSystemCommand:S,getValue:v,systemVersion:R,systemIp:w,systemBranch:I,systemCommit:k,themeConfiguration:_,systemDateTime:M,chargePointIds:U,chargePointName:T,chargePointManualLock:z,chargePointPlugState:Q,chargePointChargeState:q,chargePointSumPower:he,chargePointPower:ie,chargePointEnergyCharged:re,chargePointEnergyChargedPlugged:ce,chargePointPhaseNumber:V,chargePointChargingCurrent:le,chargePointStateMessage:B,chargePointFaultState:ee,chargePointFaultMessage:te,dcChargingEnabled:se,chargePointConnectedVehicleInfo:Oe,chargePointConnectedVehicleForceSocUpdate:ue,chargePointConnectedVehicleChargeMode:X,chargePointConnectedVehicleInstantChargeCurrent:W,chargePointConnectedVehicleInstantDcChargePower:ne,chargePointConnectedVehicleInstantChargePhases:_e,chargePointConnectedVehicleInstantChargeLimit:pe,chargePointConnectedVehicleInstantChargeLimitSoC:L,chargePointConnectedVehicleInstantChargeLimitEnergy:G,chargePointConnectedVehiclePvChargeMinCurrent:ae,chargePointConnectedVehiclePvChargePhases:Se,chargePointConnectedVehiclePvChargeLimit:fe,chargePointConnectedVehiclePvChargeLimitSoC:Me,chargePointConnectedVehiclePvChargeLimitEnergy:o,chargePointConnectedVehiclePvChargeMinSoc:xe,chargePointConnectedVehiclePvChargeMinSocCurrent:Y,chargePointConnectedVehiclePvDcChargePower:ve,chargePointConnectedVehiclePvDcMinSocPower:we,chargePointConnectedVehiclePvChargePhasesMinSoc:Pe,chargePointConnectedVehiclePvChargeFeedInLimit:u,chargePointConnectedVehicleEcoChargeCurrent:m,chargePointConnectedVehicleEcoChargeDcPower:C,chargePointConnectedVehicleEcoChargePhases:N,chargePointConnectedVehicleEcoChargeLimit:H,chargePointConnectedVehicleEcoChargeLimitSoC:de,chargePointConnectedVehicleEcoChargeLimitEnergy:$,chargePointConnectedVehicleEcoChargeMaxPrice:oe,chargePointConnectedVehiclePriority:Re,chargePointConnectedVehicleTimeCharging:ke,chargePointConnectedVehicleChargeTemplate:$e,chargePointConnectedVehicleBidiEnabled:Ne,vehicleList:Sl,chargePointConnectedVehicleConfig:rt,vehicleInfo:El,vehicleConnectionState:Ol,vehicleSocType:xo,vehicleSocValue:Al,vehicleSocManualValue:xl,vehicleForceSocUpdate:Oo,chargePointConnectedVehicleSoc:wt,vehicleActivePlan:Io,vehicleChargeTarget:Cl,addScheduledChargingPlanForChargePoint:Il,removeScheduledChargingPlanForChargePoint:Pl,vehicleScheduledChargingPlans:nt,vehicleScheduledChargingPlanActive:Tl,vehicleScheduledChargingPlanEtActive:kl,vehicleScheduledChargingPlanCurrent:Rl,vehicleScheduledChargingPlanLimitSelected:jl,vehicleScheduledChargingPlanEnergyAmount:Ml,vehicleScheduledChargingPlanName:Bl,vehicleScheduledChargingPlanTime:Nl,vehicleScheduledChargingPlanFrequencySelected:Ul,vehicleScheduledChargingPlanOnceDate:Ll,vehicleScheduledChargingPlanWeeklyDays:Dl,vehicleScheduledChargingPlanSocLimit:Fl,vehicleScheduledChargingPlanSocScheduled:Wl,vehicleScheduledChargingPlanPhases:$l,vehicleScheduledChargingPlanPhasesPv:ql,vehicleScheduledChargingPlanBidiEnabled:Vl,vehicleScheduledChargingPlanBidiPower:zl,vehicleScheduledChargingPlanDcPower:Kl,vehicleTimeChargingPlans:ut,vehicleTimeChargingPlanName:Ue,addTimeChargingPlanForChargePoint:Xe,removeTimeChargingPlanForChargePoint:Fe,vehicleTimeChargingPlanActive:We,vehicleTimeChargingPlanStartTime:et,vehicleTimeChargingPlanEndTime:Ge,vehicleTimeChargingPlanCurrent:Ve,vehicleTimeChargingPlanLimitSelected:it,vehicleTimeChargingPlanSocLimit:mt,vehicleTimeChargingPlanEnergyAmount:ht,vehicleTimeChargingPlanFrequencySelected:j,vehicleTimeChargingPlanOnceDateStart:F,vehicleTimeChargingPlanOnceDateEnd:Te,vehicleTimeChargingPlanPhases:Ce,vehicleTimeChargingPlanWeeklyDays:je,vehicleTimeChargingPlanDcPower:tt,chargePointConnectedVehicleSocType:Qt,chargePointConnectedVehicleSocManual:Gt,batteryConfigured:St,batteryIds:Et,batteryName:ir,batterySoc:It,batteryPower:_t,batteryDailyImported:At,batteryDailyExported:Pt,batterySocTotal:bl,batteryDailyImportedTotal:vl,batteryDailyExportedTotal:wl,batteryTotalPower:ml,batteryMode:_l,getGridId:Po,getComponentName:Hl,getGridPower:Gl,getHomePower:Ql,getPvConfigured:Yl,getPvPower:Jl,chartData:Xl,etProviderConfigured:Zl,etPrices:eu}});export{gh as u};
