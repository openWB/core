import{c as G,a as o,h as A,d as de,g as re,i as Pe,e as Y,l as ge,r as q,w as $,o as ye,f as St,j as K,k as zt,m as ve,n as wt,p as _t,q as Ye,s as Ze,t as et,u as $e,v as Qe,x as Me,y as kt,z as qt,A as me,B as pt,C as Ct,D as Ve,E as Tt,F as tt,G as be,H as D,I as V,J as r,K as W,L as f,M as Ie,Q as He,N,O as De,P as U,R as L,S as Fe,T as xt,U as he}from"./index-Dr4zVO1-.js";import{Q as ce,s as At,g as Bt,a as $t,b as Pt,u as lt,c as at,d as J,e as qe,T as se,f as Re,h as Mt,i as Ot,j as Lt,k as Qt,l as Vt,m as It,n as pe,o as Ht,p as We,q as Ce,r as Ee,t as je,v as Ne,w as Dt,x as ne,C as Te,y as Ft,z as Rt,A as ue,B as R,D as xe,E as Ae,F as Wt,_ as Et}from"./_plugin-vue_export-helper-DXShG_91.js";import{a as ot,u as nt}from"./mqtt-store-_JBxju7H.js";const jt=G({name:"QToolbarTitle",props:{shrink:Boolean},setup(e,{slots:_}){const h=o(()=>"q-toolbar__title ellipsis"+(e.shrink===!0?" col-shrink":""));return()=>A("div",{class:h.value},de(_.default))}}),Nt=G({name:"QToolbar",props:{inset:Boolean},setup(e,{slots:_}){const h=o(()=>"q-toolbar row no-wrap items-center"+(e.inset===!0?" q-toolbar--inset":""));return()=>A("div",{class:h.value,role:"toolbar"},de(_.default))}}),Ut=G({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:_,emit:h}){const{proxy:{$q:g}}=re(),u=Pe(ge,Y);if(u===Y)return console.error("QHeader needs to be child of QLayout"),Y;const m=q(parseInt(e.heightHint,10)),i=q(!0),t=o(()=>e.reveal===!0||u.view.value.indexOf("H")!==-1||g.platform.is.ios&&u.isContainer.value===!0),S=o(()=>{if(e.modelValue!==!0)return 0;if(t.value===!0)return i.value===!0?m.value:0;const s=m.value-u.scroll.value.position;return s>0?s:0}),C=o(()=>e.modelValue!==!0||t.value===!0&&i.value!==!0),a=o(()=>e.modelValue===!0&&C.value===!0&&e.reveal===!0),n=o(()=>"q-header q-layout__section--marginal "+(t.value===!0?"fixed":"absolute")+"-top"+(e.bordered===!0?" q-header--bordered":"")+(C.value===!0?" q-header--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus":"")),p=o(()=>{const s=u.rows.value.top,w={};return s[0]==="l"&&u.left.space===!0&&(w[g.lang.rtl===!0?"right":"left"]=`${u.left.size}px`),s[2]==="r"&&u.right.space===!0&&(w[g.lang.rtl===!0?"left":"right"]=`${u.right.size}px`),w});function d(s,w){u.update("header",s,w)}function z(s,w){s.value!==w&&(s.value=w)}function O({height:s}){z(m,s),d("size",s)}function B(s){a.value===!0&&z(i,!0),h("focusin",s)}$(()=>e.modelValue,s=>{d("space",s),z(i,!0),u.animate()}),$(S,s=>{d("offset",s)}),$(()=>e.reveal,s=>{s===!1&&z(i,e.modelValue)}),$(i,s=>{u.animate(),h("reveal",s)}),$(u.scroll,s=>{e.reveal===!0&&z(i,s.direction==="up"||s.position<=e.revealOffset||s.position-s.inflectionPoint<100)});const v={};return u.instances.header=v,e.modelValue===!0&&d("size",m.value),d("space",e.modelValue),d("offset",S.value),ye(()=>{u.instances.header===v&&(u.instances.header=void 0,d("size",0),d("offset",0),d("space",!1))}),()=>{const s=St(_.default,[]);return e.elevated===!0&&s.push(A("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),s.push(A(ce,{debounce:0,onResize:O})),A("header",{class:n.value,style:p.value,onFocusin:B},s)}}}),Kt=G({props:["store","barStyle","verticalBarStyle","horizontalBarStyle"],setup(e){return()=>[A("div",{class:e.store.scroll.vertical.barClass.value,style:[e.barStyle,e.verticalBarStyle],"aria-hidden":"true",onMousedown:e.store.onVerticalMousedown}),A("div",{class:e.store.scroll.horizontal.barClass.value,style:[e.barStyle,e.horizontalBarStyle],"aria-hidden":"true",onMousedown:e.store.onHorizontalMousedown}),K(A("div",{ref:e.store.scroll.vertical.ref,class:e.store.scroll.vertical.thumbClass.value,style:e.store.scroll.vertical.style.value,"aria-hidden":"true"}),e.store.thumbVertDir),K(A("div",{ref:e.store.scroll.horizontal.ref,class:e.store.scroll.horizontal.thumbClass.value,style:e.store.scroll.horizontal.style.value,"aria-hidden":"true"}),e.store.thumbHorizDir)]}}),{passive:Ue}=zt,Gt=["both","horizontal","vertical"],rt=G({name:"QScrollObserver",props:{axis:{type:String,validator:e=>Gt.includes(e),default:"vertical"},debounce:[String,Number],scrollTarget:At},emits:["scroll"],setup(e,{emit:_}){const h={position:{top:0,left:0},direction:"down",directionChanged:!1,delta:{top:0,left:0},inflectionPoint:{top:0,left:0}};let g=null,u,m;$(()=>e.scrollTarget,()=>{S(),t()});function i(){g?.();const n=Math.max(0,$t(u)),p=Pt(u),d={top:n-h.position.top,left:p-h.position.left};if(e.axis==="vertical"&&d.top===0||e.axis==="horizontal"&&d.left===0)return;const z=Math.abs(d.top)>=Math.abs(d.left)?d.top<0?"up":"down":d.left<0?"left":"right";h.position={top:n,left:p},h.directionChanged=h.direction!==z,h.delta=d,h.directionChanged===!0&&(h.direction=z,h.inflectionPoint=h.position),_("scroll",{...h})}function t(){u=Bt(m,e.scrollTarget),u.addEventListener("scroll",C,Ue),C(!0)}function S(){u!==void 0&&(u.removeEventListener("scroll",C,Ue),u=void 0)}function C(n){if(n===!0||e.debounce===0||e.debounce==="0")i();else if(g===null){const[p,d]=e.debounce?[setTimeout(i,e.debounce),clearTimeout]:[requestAnimationFrame(i),cancelAnimationFrame];g=()=>{d(p),g=null}}}const{proxy:a}=re();return $(()=>a.$q.lang.rtl,i),ve(()=>{m=a.$el.parentNode,t()}),ye(()=>{g?.(),S()}),Object.assign(a,{trigger:C,getPosition:()=>h}),wt}}),Ke=["vertical","horizontal"],Be={vertical:{offset:"offsetY",scroll:"scrollTop",dir:"down",dist:"y"},horizontal:{offset:"offsetX",scroll:"scrollLeft",dir:"right",dist:"x"}},Ge={prevent:!0,mouse:!0,mouseAllDir:!0},Xe=e=>e>=250?50:Math.ceil(e/5),Xt=G({name:"QScrollArea",props:{...lt,thumbStyle:Object,verticalThumbStyle:Object,horizontalThumbStyle:Object,barStyle:[Array,String,Object],verticalBarStyle:[Array,String,Object],horizontalBarStyle:[Array,String,Object],verticalOffset:{type:Array,default:[0,0]},horizontalOffset:{type:Array,default:[0,0]},contentStyle:[Array,String,Object],contentActiveStyle:[Array,String,Object],delay:{type:[String,Number],default:1e3},visible:{type:Boolean,default:null},tabindex:[String,Number],onScroll:Function},setup(e,{slots:_,emit:h}){const g=q(!1),u=q(!1),m=q(!1),i={vertical:q(0),horizontal:q(0)},t={vertical:{ref:q(null),position:q(0),size:q(0)},horizontal:{ref:q(null),position:q(0),size:q(0)}},{proxy:S}=re(),C=at(e,S.$q);let a=null,n;const p=q(null),d=o(()=>"q-scrollarea"+(C.value===!0?" q-scrollarea--dark":""));Object.assign(i,{verticalInner:o(()=>i.vertical.value-e.verticalOffset[0]-e.verticalOffset[1]),horizontalInner:o(()=>i.horizontal.value-e.horizontalOffset[0]-e.horizontalOffset[1])}),t.vertical.percentage=o(()=>{const c=t.vertical.size.value-i.vertical.value;if(c<=0)return 0;const b=J(t.vertical.position.value/c,0,1);return Math.round(b*1e4)/1e4}),t.vertical.thumbHidden=o(()=>(e.visible===null?m.value:e.visible)!==!0&&g.value===!1&&u.value===!1||t.vertical.size.value<=i.vertical.value+1),t.vertical.thumbStart=o(()=>e.verticalOffset[0]+t.vertical.percentage.value*(i.verticalInner.value-t.vertical.thumbSize.value)),t.vertical.thumbSize=o(()=>Math.round(J(i.verticalInner.value*i.verticalInner.value/t.vertical.size.value,Xe(i.verticalInner.value),i.verticalInner.value))),t.vertical.style=o(()=>({...e.thumbStyle,...e.verticalThumbStyle,top:`${t.vertical.thumbStart.value}px`,height:`${t.vertical.thumbSize.value}px`,right:`${e.horizontalOffset[1]}px`})),t.vertical.thumbClass=o(()=>"q-scrollarea__thumb q-scrollarea__thumb--v absolute-right"+(t.vertical.thumbHidden.value===!0?" q-scrollarea__thumb--invisible":"")),t.vertical.barClass=o(()=>"q-scrollarea__bar q-scrollarea__bar--v absolute-right"+(t.vertical.thumbHidden.value===!0?" q-scrollarea__bar--invisible":"")),t.horizontal.percentage=o(()=>{const c=t.horizontal.size.value-i.horizontal.value;if(c<=0)return 0;const b=J(Math.abs(t.horizontal.position.value)/c,0,1);return Math.round(b*1e4)/1e4}),t.horizontal.thumbHidden=o(()=>(e.visible===null?m.value:e.visible)!==!0&&g.value===!1&&u.value===!1||t.horizontal.size.value<=i.horizontal.value+1),t.horizontal.thumbStart=o(()=>e.horizontalOffset[0]+t.horizontal.percentage.value*(i.horizontalInner.value-t.horizontal.thumbSize.value)),t.horizontal.thumbSize=o(()=>Math.round(J(i.horizontalInner.value*i.horizontalInner.value/t.horizontal.size.value,Xe(i.horizontalInner.value),i.horizontalInner.value))),t.horizontal.style=o(()=>({...e.thumbStyle,...e.horizontalThumbStyle,[S.$q.lang.rtl===!0?"right":"left"]:`${t.horizontal.thumbStart.value}px`,width:`${t.horizontal.thumbSize.value}px`,bottom:`${e.verticalOffset[1]}px`})),t.horizontal.thumbClass=o(()=>"q-scrollarea__thumb q-scrollarea__thumb--h absolute-bottom"+(t.horizontal.thumbHidden.value===!0?" q-scrollarea__thumb--invisible":"")),t.horizontal.barClass=o(()=>"q-scrollarea__bar q-scrollarea__bar--h absolute-bottom"+(t.horizontal.thumbHidden.value===!0?" q-scrollarea__bar--invisible":""));const z=o(()=>t.vertical.thumbHidden.value===!0&&t.horizontal.thumbHidden.value===!0?e.contentStyle:e.contentActiveStyle);function O(){const c={};return Ke.forEach(b=>{const x=t[b];Object.assign(c,{[b+"Position"]:x.position.value,[b+"Percentage"]:x.percentage.value,[b+"Size"]:x.size.value,[b+"ContainerSize"]:i[b].value,[b+"ContainerInnerSize"]:i[b+"Inner"].value})}),c}const B=_t(()=>{const c=O();c.ref=S,h("scroll",c)},0);function v(c,b,x){if(Ke.includes(c)===!1){console.error("[QScrollArea]: wrong first param of setScrollPosition (vertical/horizontal)");return}(c==="vertical"?Re:qe)(p.value,b,x)}function s({height:c,width:b}){let x=!1;i.vertical.value!==c&&(i.vertical.value=c,x=!0),i.horizontal.value!==b&&(i.horizontal.value=b,x=!0),x===!0&&M()}function w({position:c}){let b=!1;t.vertical.position.value!==c.top&&(t.vertical.position.value=c.top,b=!0),t.horizontal.position.value!==c.left&&(t.horizontal.position.value=c.left,b=!0),b===!0&&M()}function y({height:c,width:b}){t.horizontal.size.value!==b&&(t.horizontal.size.value=b,M()),t.vertical.size.value!==c&&(t.vertical.size.value=c,M())}function T(c,b){const x=t[b];if(c.isFirst===!0){if(x.thumbHidden.value===!0)return;n=x.position.value,u.value=!0}else if(u.value!==!0)return;c.isFinal===!0&&(u.value=!1);const E=Be[b],X=(x.size.value-i[b].value)/(i[b+"Inner"].value-x.thumbSize.value),j=c.distance[E.dist],ie=n+(c.direction===E.dir?1:-1)*j*X;Z(ie,b)}function P(c,b){const x=t[b];if(x.thumbHidden.value!==!0){const E=b==="vertical"?e.verticalOffset[0]:e.horizontalOffset[0],X=c[Be[b].offset]-E,j=x.thumbStart.value-E;if(X<j||X>j+x.thumbSize.value){const ie=X-x.thumbSize.value/2,Se=J(ie/(i[b+"Inner"].value-x.thumbSize.value),0,1);Z(Se*Math.max(0,x.size.value-i[b].value),b)}x.ref.value!==null&&x.ref.value.dispatchEvent(new MouseEvent(c.type,c))}}function M(){g.value=!0,a!==null&&clearTimeout(a),a=setTimeout(()=>{a=null,g.value=!1},e.delay),e.onScroll!==void 0&&B()}function Z(c,b){p.value[Be[b].scroll]=c}let Q=null;function F(){Q!==null&&clearTimeout(Q),Q=setTimeout(()=>{Q=null,m.value=!0},S.$q.platform.is.ios?50:0)}function ee(){Q!==null&&(clearTimeout(Q),Q=null),m.value=!1}let oe=null;$(()=>S.$q.lang.rtl,c=>{p.value!==null&&qe(p.value,Math.abs(t.horizontal.position.value)*(c===!0?-1:1))}),Ye(()=>{oe={top:t.vertical.position.value,left:t.horizontal.position.value}}),Ze(()=>{if(oe===null)return;const c=p.value;c!==null&&(qe(c,oe.left),Re(c,oe.top))}),ye(B.cancel),Object.assign(S,{getScrollTarget:()=>p.value,getScroll:O,getScrollPosition:()=>({top:t.vertical.position.value,left:t.horizontal.position.value}),getScrollPercentage:()=>({top:t.vertical.percentage.value,left:t.horizontal.percentage.value}),setScrollPosition:v,setScrollPercentage(c,b,x){v(c,b*(t[c].size.value-i[c].value)*(c==="horizontal"&&S.$q.lang.rtl===!0?-1:1),x)}});const te={scroll:t,thumbVertDir:[[se,c=>{T(c,"vertical")},void 0,{vertical:!0,...Ge}]],thumbHorizDir:[[se,c=>{T(c,"horizontal")},void 0,{horizontal:!0,...Ge}]],onVerticalMousedown(c){P(c,"vertical")},onHorizontalMousedown(c){P(c,"horizontal")}};return()=>A("div",{class:d.value,onMouseenter:F,onMouseleave:ee},[A("div",{ref:p,class:"q-scrollarea__container scroll relative-position fit hide-scrollbar",tabindex:e.tabindex!==void 0?e.tabindex:void 0},[A("div",{class:"q-scrollarea__content absolute",style:z.value},et(_.default,[A(ce,{debounce:0,onResize:y})])),A(rt,{axis:"both",onScroll:w})]),A(ce,{debounce:0,onResize:s}),A(Kt,{store:te,barStyle:e.barStyle,verticalBarStyle:e.verticalBarStyle,horizontalBarStyle:e.horizontalBarStyle})])}}),Je=150,Jt=G({name:"QDrawer",inheritAttrs:!1,props:{...Ot,...lt,side:{type:String,default:"left",validator:e=>["left","right"].includes(e)},width:{type:Number,default:300},mini:Boolean,miniToOverlay:Boolean,miniWidth:{type:Number,default:57},noMiniAnimation:Boolean,breakpoint:{type:Number,default:1023},showIfAbove:Boolean,behavior:{type:String,validator:e=>["default","desktop","mobile"].includes(e),default:"default"},bordered:Boolean,elevated:Boolean,overlay:Boolean,persistent:Boolean,noSwipeOpen:Boolean,noSwipeClose:Boolean,noSwipeBackdrop:Boolean},emits:[...Mt,"onLayout","miniState"],setup(e,{slots:_,emit:h,attrs:g}){const u=re(),{proxy:{$q:m}}=u,i=at(e,m),{preventBodyScroll:t}=It(),{registerTimeout:S,removeTimeout:C}=Lt(),a=Pe(ge,Y);if(a===Y)return console.error("QDrawer needs to be child of QLayout"),Y;let n,p=null,d;const z=q(e.behavior==="mobile"||e.behavior!=="desktop"&&a.totalWidth.value<=e.breakpoint),O=o(()=>e.mini===!0&&z.value!==!0),B=o(()=>O.value===!0?e.miniWidth:e.width),v=q(e.showIfAbove===!0&&z.value===!1?!0:e.modelValue===!0),s=o(()=>e.persistent!==!0&&(z.value===!0||ie.value===!0));function w(l,k){if(M(),l!==!1&&a.animate(),H(0),z.value===!0){const I=a.instances[x.value];I?.belowBreakpoint===!0&&I.hide(!1),le(1),a.isContainer.value!==!0&&t(!0)}else le(0),l!==!1&&we(!1);S(()=>{l!==!1&&we(!0),k!==!0&&h("show",l)},Je)}function y(l,k){Z(),l!==!1&&a.animate(),le(0),H(ee.value*B.value),_e(),k!==!0?S(()=>{h("hide",l)},Je):C()}const{show:T,hide:P}=Qt({showing:v,hideOnRouteChange:s,handleShow:w,handleHide:y}),{addToHistory:M,removeFromHistory:Z}=Vt(v,P,s),Q={belowBreakpoint:z,hide:P},F=o(()=>e.side==="right"),ee=o(()=>(m.lang.rtl===!0?-1:1)*(F.value===!0?1:-1)),oe=q(0),te=q(!1),c=q(!1),b=q(B.value*ee.value),x=o(()=>F.value===!0?"left":"right"),E=o(()=>v.value===!0&&z.value===!1&&e.overlay===!1?e.miniToOverlay===!0?e.miniWidth:B.value:0),X=o(()=>e.overlay===!0||e.miniToOverlay===!0||a.view.value.indexOf(F.value?"R":"L")!==-1||m.platform.is.ios===!0&&a.isContainer.value===!0),j=o(()=>e.overlay===!1&&v.value===!0&&z.value===!1),ie=o(()=>e.overlay===!0&&v.value===!0&&z.value===!1),Se=o(()=>"fullscreen q-drawer__backdrop"+(v.value===!1&&te.value===!1?" hidden":"")),it=o(()=>({backgroundColor:`rgba(0,0,0,${oe.value*.4})`})),Oe=o(()=>F.value===!0?a.rows.value.top[2]==="r":a.rows.value.top[0]==="l"),ut=o(()=>F.value===!0?a.rows.value.bottom[2]==="r":a.rows.value.bottom[0]==="l"),st=o(()=>{const l={};return a.header.space===!0&&Oe.value===!1&&(X.value===!0?l.top=`${a.header.offset}px`:a.header.space===!0&&(l.top=`${a.header.size}px`)),a.footer.space===!0&&ut.value===!1&&(X.value===!0?l.bottom=`${a.footer.offset}px`:a.footer.space===!0&&(l.bottom=`${a.footer.size}px`)),l}),ct=o(()=>{const l={width:`${B.value}px`,transform:`translateX(${b.value}px)`};return z.value===!0?l:Object.assign(l,st.value)}),dt=o(()=>"q-drawer__content fit "+(a.isContainer.value!==!0?"scroll":"overflow-auto")),vt=o(()=>`q-drawer q-drawer--${e.side}`+(c.value===!0?" q-drawer--mini-animate":"")+(e.bordered===!0?" q-drawer--bordered":"")+(i.value===!0?" q-drawer--dark q-dark":"")+(te.value===!0?" no-transition":v.value===!0?"":" q-layout--prevent-focus")+(z.value===!0?" fixed q-drawer--on-top q-drawer--mobile q-drawer--top-padding":` q-drawer--${O.value===!0?"mini":"standard"}`+(X.value===!0||j.value!==!0?" fixed":"")+(e.overlay===!0||e.miniToOverlay===!0?" q-drawer--on-top":"")+(Oe.value===!0?" q-drawer--top-padding":""))),ft=o(()=>{const l=m.lang.rtl===!0?e.side:x.value;return[[se,gt,void 0,{[l]:!0,mouse:!0}]]}),mt=o(()=>{const l=m.lang.rtl===!0?x.value:e.side;return[[se,Le,void 0,{[l]:!0,mouse:!0}]]}),ht=o(()=>{const l=m.lang.rtl===!0?x.value:e.side;return[[se,Le,void 0,{[l]:!0,mouse:!0,mouseAllDir:!0}]]});function ze(){yt(z,e.behavior==="mobile"||e.behavior!=="desktop"&&a.totalWidth.value<=e.breakpoint)}$(z,l=>{l===!0?(n=v.value,v.value===!0&&P(!1)):e.overlay===!1&&e.behavior!=="mobile"&&n!==!1&&(v.value===!0?(H(0),le(0),_e()):T(!1))}),$(()=>e.side,(l,k)=>{a.instances[k]===Q&&(a.instances[k]=void 0,a[k].space=!1,a[k].offset=0),a.instances[l]=Q,a[l].size=B.value,a[l].space=j.value,a[l].offset=E.value}),$(a.totalWidth,()=>{(a.isContainer.value===!0||document.qScrollPrevented!==!0)&&ze()}),$(()=>e.behavior+e.breakpoint,ze),$(a.isContainer,l=>{v.value===!0&&t(l!==!0),l===!0&&ze()}),$(a.scrollbarWidth,()=>{H(v.value===!0?0:void 0)}),$(E,l=>{ae("offset",l)}),$(j,l=>{h("onLayout",l),ae("space",l)}),$(F,()=>{H()}),$(B,l=>{H(),ke(e.miniToOverlay,l)}),$(()=>e.miniToOverlay,l=>{ke(l,B.value)}),$(()=>m.lang.rtl,()=>{H()}),$(()=>e.mini,()=>{e.noMiniAnimation||e.modelValue===!0&&(bt(),a.animate())}),$(O,l=>{h("miniState",l)});function H(l){l===void 0?$e(()=>{l=v.value===!0?0:B.value,H(ee.value*l)}):(a.isContainer.value===!0&&F.value===!0&&(z.value===!0||Math.abs(l)===B.value)&&(l+=ee.value*a.scrollbarWidth.value),b.value=l)}function le(l){oe.value=l}function we(l){const k=l===!0?"remove":a.isContainer.value!==!0?"add":"";k!==""&&document.body.classList[k]("q-body--drawer-toggle")}function bt(){p!==null&&clearTimeout(p),u.proxy&&u.proxy.$el&&u.proxy.$el.classList.add("q-drawer--mini-animate"),c.value=!0,p=setTimeout(()=>{p=null,c.value=!1,u?.proxy?.$el?.classList.remove("q-drawer--mini-animate")},150)}function gt(l){if(v.value!==!1)return;const k=B.value,I=J(l.distance.x,0,k);if(l.isFinal===!0){I>=Math.min(75,k)===!0?T():(a.animate(),le(0),H(ee.value*k)),te.value=!1;return}H((m.lang.rtl===!0?F.value!==!0:F.value)?Math.max(k-I,0):Math.min(0,I-k)),le(J(I/k,0,1)),l.isFirst===!0&&(te.value=!0)}function Le(l){if(v.value!==!0)return;const k=B.value,I=l.direction===e.side,fe=(m.lang.rtl===!0?I!==!0:I)?J(l.distance.x,0,k):0;if(l.isFinal===!0){Math.abs(fe)<Math.min(75,k)===!0?(a.animate(),le(1),H(0)):P(),te.value=!1;return}H(ee.value*fe),le(J(1-fe/k,0,1)),l.isFirst===!0&&(te.value=!0)}function _e(){t(!1),we(!0)}function ae(l,k){a.update(e.side,l,k)}function yt(l,k){l.value!==k&&(l.value=k)}function ke(l,k){ae("size",l===!0?e.miniWidth:k)}return a.instances[e.side]=Q,ke(e.miniToOverlay,B.value),ae("space",j.value),ae("offset",E.value),e.showIfAbove===!0&&e.modelValue!==!0&&v.value===!0&&e["onUpdate:modelValue"]!==void 0&&h("update:modelValue",!0),ve(()=>{h("onLayout",j.value),h("miniState",O.value),n=e.showIfAbove===!0;const l=()=>{(v.value===!0?w:y)(!1,!0)};if(a.totalWidth.value!==0){$e(l);return}d=$(a.totalWidth,()=>{d(),d=void 0,v.value===!1&&e.showIfAbove===!0&&z.value===!1?T(!1):l()})}),ye(()=>{d?.(),p!==null&&(clearTimeout(p),p=null),v.value===!0&&_e(),a.instances[e.side]===Q&&(a.instances[e.side]=void 0,ae("size",0),ae("offset",0),ae("space",!1))}),()=>{const l=[];z.value===!0&&(e.noSwipeOpen===!1&&l.push(K(A("div",{key:"open",class:`q-drawer__opener fixed-${e.side}`,"aria-hidden":"true"}),ft.value)),l.push(Qe("div",{ref:"backdrop",class:Se.value,style:it.value,"aria-hidden":"true",onClick:P},void 0,"backdrop",e.noSwipeBackdrop!==!0&&v.value===!0,()=>ht.value)));const k=O.value===!0&&_.mini!==void 0,I=[A("div",{...g,key:""+k,class:[dt.value,g.class]},k===!0?_.mini():de(_.default))];return e.elevated===!0&&v.value===!0&&I.push(A("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),l.push(Qe("aside",{ref:"content",class:vt.value,style:ct.value},I,"contentclose",e.noSwipeClose!==!0&&z.value===!0,()=>mt.value)),A("div",{class:"q-drawer-container"},l)}}}),Yt=G({name:"QPageContainer",setup(e,{slots:_}){const{proxy:{$q:h}}=re(),g=Pe(ge,Y);if(g===Y)return console.error("QPageContainer needs to be child of QLayout"),Y;Me(kt,!0);const u=o(()=>{const m={};return g.header.space===!0&&(m.paddingTop=`${g.header.size}px`),g.right.space===!0&&(m[`padding${h.lang.rtl===!0?"Left":"Right"}`]=`${g.right.size}px`),g.footer.space===!0&&(m.paddingBottom=`${g.footer.size}px`),g.left.space===!0&&(m[`padding${h.lang.rtl===!0?"Right":"Left"}`]=`${g.left.size}px`),m});return()=>A("div",{class:"q-page-container",style:u.value},de(_.default))}}),Zt=G({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:e=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(e.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(e,{slots:_,emit:h}){const{proxy:{$q:g}}=re(),u=q(null),m=q(g.screen.height),i=q(e.container===!0?0:g.screen.width),t=q({position:0,direction:"down",inflectionPoint:0}),S=q(0),C=q(qt.value===!0?0:pe()),a=o(()=>"q-layout q-layout--"+(e.container===!0?"containerized":"standard")),n=o(()=>e.container===!1?{minHeight:g.screen.height+"px"}:null),p=o(()=>C.value!==0?{[g.lang.rtl===!0?"left":"right"]:`${C.value}px`}:null),d=o(()=>C.value!==0?{[g.lang.rtl===!0?"right":"left"]:0,[g.lang.rtl===!0?"left":"right"]:`-${C.value}px`,width:`calc(100% + ${C.value}px)`}:null);function z(y){if(e.container===!0||document.qScrollPrevented!==!0){const T={position:y.position.top,direction:y.direction,directionChanged:y.directionChanged,inflectionPoint:y.inflectionPoint.top,delta:y.delta.top};t.value=T,e.onScroll!==void 0&&h("scroll",T)}}function O(y){const{height:T,width:P}=y;let M=!1;m.value!==T&&(M=!0,m.value=T,e.onScrollHeight!==void 0&&h("scrollHeight",T),v()),i.value!==P&&(M=!0,i.value=P),M===!0&&e.onResize!==void 0&&h("resize",y)}function B({height:y}){S.value!==y&&(S.value=y,v())}function v(){if(e.container===!0){const y=m.value>S.value?pe():0;C.value!==y&&(C.value=y)}}let s=null;const w={instances:{},view:o(()=>e.view),isContainer:o(()=>e.container),rootRef:u,height:m,containerHeight:S,scrollbarWidth:C,totalWidth:o(()=>i.value+C.value),rows:o(()=>{const y=e.view.toLowerCase().split(" ");return{top:y[0].split(""),middle:y[1].split(""),bottom:y[2].split("")}}),header:me({size:0,offset:0,space:!1}),right:me({size:300,offset:0,space:!1}),footer:me({size:0,offset:0,space:!1}),left:me({size:300,offset:0,space:!1}),scroll:t,animate(){s!==null?clearTimeout(s):document.body.classList.add("q-body--layout-animate"),s=setTimeout(()=>{s=null,document.body.classList.remove("q-body--layout-animate")},155)},update(y,T,P){w[y][T]=P}};if(Me(ge,w),pe()>0){let y=function(){M=null,Z.classList.remove("hide-scrollbar")},T=function(){if(M===null){if(Z.scrollHeight>g.screen.height)return;Z.classList.add("hide-scrollbar")}else clearTimeout(M);M=setTimeout(y,300)},P=function(Q){M!==null&&Q==="remove"&&(clearTimeout(M),y()),window[`${Q}EventListener`]("resize",T)},M=null;const Z=document.body;$(()=>e.container!==!0?"add":"remove",P),e.container!==!0&&P("add"),pt(()=>{P("remove")})}return()=>{const y=et(_.default,[A(rt,{onScroll:z}),A(ce,{onResize:O})]),T=A("div",{class:a.value,style:n.value,ref:e.container===!0?void 0:u,tabindex:-1},y);return e.container===!0?A("div",{class:"q-layout-container overflow-hidden",ref:u},[A(ce,{onResize:B}),A("div",{class:"absolute-full",style:p.value},[A("div",{class:"scroll",style:d.value},[T])])]):T}}}),el=G({name:"QForm",props:{autofocus:Boolean,noErrorFocus:Boolean,noResetFocus:Boolean,greedy:Boolean,onSubmit:Function},emits:["reset","validationSuccess","validationError"],setup(e,{slots:_,emit:h}){const g=re(),u=q(null);let m=0;const i=[];function t(d){const z=typeof d=="boolean"?d:e.noErrorFocus!==!0,O=++m,B=(w,y)=>{h(`validation${w===!0?"Success":"Error"}`,y)},v=w=>{const y=w.validate();return typeof y.then=="function"?y.then(T=>({valid:T,comp:w}),T=>({valid:!1,comp:w,err:T})):Promise.resolve({valid:y,comp:w})};return(e.greedy===!0?Promise.all(i.map(v)).then(w=>w.filter(y=>y.valid!==!0)):i.reduce((w,y)=>w.then(()=>v(y).then(T=>{if(T.valid===!1)return Promise.reject(T)})),Promise.resolve()).catch(w=>[w])).then(w=>{if(w===void 0||w.length===0)return O===m&&B(!0),!0;if(O===m){const{comp:y,err:T}=w[0];if(T!==void 0&&console.error(T),B(!1,y),z===!0){const P=w.find(({comp:M})=>typeof M.focus=="function"&&Ct(M.$)===!1);P!==void 0&&P.comp.focus()}}return!1})}function S(){m++,i.forEach(d=>{typeof d.resetValidation=="function"&&d.resetValidation()})}function C(d){d!==void 0&&Ve(d);const z=m+1;t().then(O=>{z===m&&O===!0&&(e.onSubmit!==void 0?h("submit",d):d?.target!==void 0&&typeof d.target.submit=="function"&&d.target.submit())})}function a(d){d!==void 0&&Ve(d),h("reset"),$e(()=>{S(),e.autofocus===!0&&e.noResetFocus!==!0&&n()})}function n(){Ht(()=>{if(u.value===null)return;(u.value.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||u.value.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||u.value.querySelector("[autofocus], [data-autofocus]")||Array.prototype.find.call(u.value.querySelectorAll("[tabindex]"),z=>z.tabIndex!==-1))?.focus({preventScroll:!0})})}Me(Tt,{bindComponent(d){i.push(d)},unbindComponent(d){const z=i.indexOf(d);z!==-1&&i.splice(z,1)}});let p=!1;return Ye(()=>{p=!0}),Ze(()=>{p===!0&&e.autofocus===!0&&n()}),ve(()=>{e.autofocus===!0&&n()}),Object.assign(g.proxy,{validate:t,resetValidation:S,submit:C,reset:a,focus:n,getValidationComponents:()=>i}),()=>A("form",{class:"q-form",ref:u,onSubmit:C,onReset:a},de(_.default))}}),tl={key:0,id:"user-indicator"},ll=tt({__name:"UserIndicator",setup(e){const _=ot(),h=nt(),g=q(!1),u=q(!1),m=q(""),i=q(""),t=o(()=>_.screen.lt.sm),S=o(()=>h.userManagementActive===!0),C=o(()=>h.accessAllowed===!0),a=o(()=>C.value&&!n.value),n=o(()=>_.cookies.has("mqtt")),p=o(()=>n.value?_.cookies.get("mqtt").split(":")[0]:""),d=()=>{_.cookies.getAll(),_.cookies.has("mqtt")&&(_.cookies.remove("mqtt",{path:"/"}),location.reload())},z=()=>{if(m.value,!m.value||m.value.length===0){u.value=!1;return}const B=`${m.value}:${i.value}`;_.cookies.set("mqtt",B,{expires:"30d",path:"/",secure:!0,sameSite:"Lax"}),_.cookies.get("mqtt"),u.value=!1,location.reload()},O=()=>{m.value="",i.value=""};return $(a,B=>{S.value,n.value,S.value&&!B&&!n.value?u.value=!0:u.value=!1}),ve(()=>{S.value,a.value,n.value,S.value&&!a.value&&!n.value&&(u.value=!0)}),(B,v)=>S.value?(V(),be("div",tl,[r(je,{modelValue:g.value,"onUpdate:modelValue":v[0]||(v[0]=s=>g.value=s),persistent:""},{default:f(()=>[r(We,null,{default:f(()=>[r(Ce,{class:"row items-center"},{default:f(()=>[r(He,{icon:"logout",color:"warning","text-color":"white"}),v[6]||(v[6]=Ie("span",{class:"q-ml-sm"},"Willst Du Dich wirklich abmelden?",-1))]),_:1,__:[6]}),r(Ee,{align:"right"},{default:f(()=>[K(r(N,{flat:"",label:"Abmelden",color:"negative",onClick:d},null,512),[[Te]]),K(r(N,{flat:"",label:"Schließen",color:"primary"},null,512),[[Te]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),r(je,{modelValue:u.value,"onUpdate:modelValue":v[3]||(v[3]=s=>u.value=s),persistent:"",onHide:O},{default:f(()=>[r(We,null,{default:f(()=>[r(Ce,{class:"row items-center"},{default:f(()=>[r(He,{icon:"logout",color:"warning","text-color":"white"}),v[7]||(v[7]=Ie("span",{class:"q-ml-sm"},"Gib Deine Anmeldedaten ein.",-1))]),_:1,__:[7]}),r(el,{onSubmit:z},{default:f(()=>[r(Ce,null,{default:f(()=>[r(De(Ne),{modelValue:m.value,"onUpdate:modelValue":v[1]||(v[1]=s=>m.value=s),label:"Benutzername",type:"text",dense:"",autofocus:"",rules:[s=>s&&s.length>0||"Benutzername erforderlich"]},{prepend:f(()=>[r(U,{name:"account_circle"})]),_:1},8,["modelValue","rules"]),r(De(Ne),{modelValue:i.value,"onUpdate:modelValue":v[2]||(v[2]=s=>i.value=s),label:"Passwort",type:"password",dense:"",rules:[s=>s&&s.length>0||"Passwort erforderlich"]},{prepend:f(()=>[r(U,{name:"key"})]),_:1},8,["modelValue","rules"])]),_:1}),r(Ee,{align:"right"},{default:f(()=>[r(N,{flat:"",label:"Anmelden",color:"positive",type:"submit"}),a.value?K((V(),W(N,{key:0,flat:"",label:"Schließen",color:"primary"},null,512)),[[Te]]):D("",!0)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),n.value&&!t.value?(V(),W(Dt,{key:0,rounded:"",align:"middle",color:"primary",class:"non-selectable"},{default:f(()=>[r(U,{name:"account_circle",size:"sm",left:""}),L(" "+Fe(p.value),1)]),_:1})):D("",!0),n.value&&t.value?(V(),W(U,{key:1,name:"account_circle",size:"md",left:"",color:"primary"},{default:f(()=>[r(ne,null,{default:f(()=>[L('Angemeldet als "'+Fe(p.value)+'"',1)]),_:1})]),_:1})):D("",!0),n.value?(V(),W(N,{key:2,icon:"logout",dense:"",flat:"",round:"",onClick:v[4]||(v[4]=s=>g.value=!0)},{default:f(()=>[r(ne,null,{default:f(()=>v[8]||(v[8]=[L("Abmelden",-1)])),_:1,__:[8]})]),_:1})):D("",!0),n.value?D("",!0):(V(),W(U,{key:3,name:"no_accounts",size:"md",left:""},{default:f(()=>[r(ne,null,{default:f(()=>v[9]||(v[9]=[L("Nicht angemeldet",-1)])),_:1,__:[9]})]),_:1})),n.value?D("",!0):(V(),W(N,{key:4,icon:"login",dense:"",flat:"",round:"",onClick:v[5]||(v[5]=s=>u.value=!0)},{default:f(()=>[r(ne,null,{default:f(()=>v[10]||(v[10]=[L("Anmelden",-1)])),_:1,__:[10]})]),_:1}))])):D("",!0)}}),al={key:0},ol={key:1},nl={key:2},rl=tt({name:"MainLayout",__name:"MainLayout",setup(e){const _=nt(),h=ot(),g=o(()=>_.accessSettingsAllowed),u=o(()=>_.accessStatusAllowed),m=o(()=>_.accessChargeLogAllowed),i=o(()=>_.accessChartAllowed),t=q(!1),S=q("auto"),C=a=>{S.value=a,a==="auto"?(localStorage.removeItem("theme"),h.dark.set("auto")):(h.dark.set(a==="dark"),localStorage.setItem("theme",a))};return ve(()=>{const a=localStorage.getItem("theme");a?(S.value=a,h.dark.set(a==="dark")):(S.value="auto",h.dark.set("auto"))}),(a,n)=>{const p=xt("router-view");return V(),W(Zt,{view:"hHh lpr lFf"},{default:f(()=>[r(Ut,{elevated:""},{default:f(()=>[r(Nt,null,{default:f(()=>[r(N,{dense:"",flat:"",round:"",icon:"menu",onClick:n[0]||(n[0]=d=>t.value=!t.value)}),r(jt,null,{default:f(()=>n[5]||(n[5]=[L("openWB",-1)])),_:1,__:[5]}),r(Ft),r(ll)]),_:1})]),_:1}),r(Jt,{modelValue:t.value,"onUpdate:modelValue":n[4]||(n[4]=d=>t.value=d),side:"left",overlay:"",elevated:"",breakpoint:500},{default:f(()=>[r(Xt,{class:"fit","horizontal-thumb-style":{opacity:"0"}},{default:f(()=>[r(Rt,{padding:""},{default:f(()=>[u.value?(V(),be("div",al,[K((V(),W(ue,{clickable:"",href:"/openWB/web/settings/#/Status"},{default:f(()=>[r(R,{avatar:""},{default:f(()=>[r(U,{name:"dashboard"})]),_:1}),r(R,null,{default:f(()=>n[6]||(n[6]=[L(" Status ",-1)])),_:1,__:[6]})]),_:1})),[[he]]),r(xe)])):D("",!0),m.value||i.value?(V(),be("div",ol,[r(Ae,{header:""},{default:f(()=>n[7]||(n[7]=[L("Auswertungen",-1)])),_:1,__:[7]}),m.value?K((V(),W(ue,{key:0,clickable:"",href:"/openWB/web/settings/#/Logging/ChargeLog"},{default:f(()=>[r(R,{avatar:""},{default:f(()=>[r(U,{name:"table_chart"})]),_:1}),r(R,null,{default:f(()=>n[8]||(n[8]=[L(" Ladeprotokoll ",-1)])),_:1,__:[8]})]),_:1})),[[he]]):D("",!0),i.value?K((V(),W(ue,{key:1,clickable:"",href:"/openWB/web/settings/#/Logging/Chart"},{default:f(()=>[r(R,{avatar:""},{default:f(()=>[r(U,{name:"area_chart"})]),_:1}),r(R,null,{default:f(()=>n[9]||(n[9]=[L(" Diagramme ",-1)])),_:1,__:[9]})]),_:1})),[[he]]):D("",!0),r(xe)])):D("",!0),g.value?(V(),be("div",nl,[K((V(),W(ue,{clickable:"",href:"/openWB/web/settings/"},{default:f(()=>[r(R,{avatar:""},{default:f(()=>[r(U,{name:"settings"})]),_:1}),r(R,null,{default:f(()=>n[10]||(n[10]=[L(" Einstellungen ",-1)])),_:1,__:[10]})]),_:1})),[[he]]),r(xe)])):D("",!0),r(Ae,{header:""},{default:f(()=>n[11]||(n[11]=[L("Anzeigeeinstellungen",-1)])),_:1,__:[11]}),r(ue,null,{default:f(()=>[r(R,{avatar:""},{default:f(()=>[r(U,{name:"light_mode"})]),_:1}),r(R,null,{default:f(()=>[r(Ae,null,{default:f(()=>n[12]||(n[12]=[L("Darstellungsmodus",-1)])),_:1,__:[12]})]),_:1}),r(R,{side:""},{default:f(()=>[r(Wt,{flat:""},{default:f(()=>[r(N,{flat:"",round:"",color:S.value==="light"?"primary":"",icon:"light_mode",onClick:n[1]||(n[1]=d=>C("light")),size:"sm",disable:S.value==="light","aria-label":"Light Mode"},{default:f(()=>[r(ne,null,{default:f(()=>n[13]||(n[13]=[L("Hell",-1)])),_:1,__:[13]})]),_:1},8,["color","disable"]),r(N,{flat:"",round:"",color:S.value==="dark"?"primary":"",icon:"dark_mode",onClick:n[2]||(n[2]=d=>C("dark")),size:"sm",disable:S.value==="dark","aria-label":"Dark Mode"},{default:f(()=>[r(ne,null,{default:f(()=>n[14]||(n[14]=[L("Dunkel",-1)])),_:1,__:[14]})]),_:1},8,["color","disable"]),r(N,{flat:"",round:"",color:S.value==="auto"?"primary":"",icon:"devices",onClick:n[3]||(n[3]=d=>C("auto")),size:"sm",disable:S.value==="auto","aria-label":"System Mode"},{default:f(()=>[r(ne,null,{default:f(()=>n[15]||(n[15]=[L("Systemeinstellung",-1)])),_:1,__:[15]})]),_:1},8,["color","disable"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),r(Yt,{class:"column flex centered-container"},{default:f(()=>[r(p)]),_:1})]),_:1})}}}),dl=Et(rl,[["__scopeId","data-v-2f32434e"]]);export{dl as default};
