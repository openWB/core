import{c as K,a as i,h as x,d as de,g as re,i as Ae,e as J,l as be,r as k,w as $,o as ge,f as gt,j as U,k as yt,m as ve,n as St,p as zt,q as Je,s as Ye,t as Ze,u as $e,v as Le,x as Pe,y as wt,z as _t,A as me,B as qt,C as kt,D as Qe,E as pt,F as et,G as Ct,H as Tt,I as oe,J as H,K as n,L as R,M as d,N as Ve,Q as Ie,O as j,P as He,R as N,S as L,T as De,U as xt,V as he}from"./index-D2JJxG9V.js";import{Q as ce,s as Bt,g as $t,a as At,b as Pt,u as tt,c as lt,d as X,e as qe,T as se,f as Fe,h as Mt,i as Ot,j as Lt,k as Qt,l as Vt,m as It,n as ke,o as Ht,p as Re,q as pe,r as We,t as Ee,v as je,w as Dt,x as ne,C as Ce,y as Ft,z as Rt,A as ue,B as F,D as Te,E as xe,F as Wt,_ as Et}from"./_plugin-vue_export-helper-0y1Cf4gg.js";import{a as at,u as jt}from"./mqtt-store-0N8TTns6.js";const Nt=K({name:"QToolbarTitle",props:{shrink:Boolean},setup(e,{slots:w}){const h=i(()=>"q-toolbar__title ellipsis"+(e.shrink===!0?" col-shrink":""));return()=>x("div",{class:h.value},de(w.default))}}),Ut=K({name:"QToolbar",props:{inset:Boolean},setup(e,{slots:w}){const h=i(()=>"q-toolbar row no-wrap items-center"+(e.inset===!0?" q-toolbar--inset":""));return()=>x("div",{class:h.value,role:"toolbar"},de(w.default))}}),Kt=K({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:w,emit:h}){const{proxy:{$q:f}}=re(),c=Ae(be,J);if(c===J)return console.error("QHeader needs to be child of QLayout"),J;const u=k(parseInt(e.heightHint,10)),t=k(!0),l=i(()=>e.reveal===!0||c.view.value.indexOf("H")!==-1||f.platform.is.ios&&c.isContainer.value===!0),_=i(()=>{if(e.modelValue!==!0)return 0;if(l.value===!0)return t.value===!0?u.value:0;const o=u.value-c.scroll.value.position;return o>0?o:0}),p=i(()=>e.modelValue!==!0||l.value===!0&&t.value!==!0),r=i(()=>e.modelValue===!0&&p.value===!0&&e.reveal===!0),B=i(()=>"q-header q-layout__section--marginal "+(l.value===!0?"fixed":"absolute")+"-top"+(e.bordered===!0?" q-header--bordered":"")+(p.value===!0?" q-header--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus":"")),S=i(()=>{const o=c.rows.value.top,m={};return o[0]==="l"&&c.left.space===!0&&(m[f.lang.rtl===!0?"right":"left"]=`${c.left.size}px`),o[2]==="r"&&c.right.space===!0&&(m[f.lang.rtl===!0?"left":"right"]=`${c.right.size}px`),m});function v(o,m){c.update("header",o,m)}function y(o,m){o.value!==m&&(o.value=m)}function O({height:o}){y(u,o),v("size",o)}function A(o){r.value===!0&&y(t,!0),h("focusin",o)}$(()=>e.modelValue,o=>{v("space",o),y(t,!0),c.animate()}),$(_,o=>{v("offset",o)}),$(()=>e.reveal,o=>{o===!1&&y(t,e.modelValue)}),$(t,o=>{c.animate(),h("reveal",o)}),$(c.scroll,o=>{e.reveal===!0&&y(t,o.direction==="up"||o.position<=e.revealOffset||o.position-o.inflectionPoint<100)});const z={};return c.instances.header=z,e.modelValue===!0&&v("size",u.value),v("space",e.modelValue),v("offset",_.value),ge(()=>{c.instances.header===z&&(c.instances.header=void 0,v("size",0),v("offset",0),v("space",!1))}),()=>{const o=gt(w.default,[]);return e.elevated===!0&&o.push(x("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),o.push(x(ce,{debounce:0,onResize:O})),x("header",{class:B.value,style:S.value,onFocusin:A},o)}}}),Gt=K({props:["store","barStyle","verticalBarStyle","horizontalBarStyle"],setup(e){return()=>[x("div",{class:e.store.scroll.vertical.barClass.value,style:[e.barStyle,e.verticalBarStyle],"aria-hidden":"true",onMousedown:e.store.onVerticalMousedown}),x("div",{class:e.store.scroll.horizontal.barClass.value,style:[e.barStyle,e.horizontalBarStyle],"aria-hidden":"true",onMousedown:e.store.onHorizontalMousedown}),U(x("div",{ref:e.store.scroll.vertical.ref,class:e.store.scroll.vertical.thumbClass.value,style:e.store.scroll.vertical.style.value,"aria-hidden":"true"}),e.store.thumbVertDir),U(x("div",{ref:e.store.scroll.horizontal.ref,class:e.store.scroll.horizontal.thumbClass.value,style:e.store.scroll.horizontal.style.value,"aria-hidden":"true"}),e.store.thumbHorizDir)]}}),{passive:Ne}=yt,Xt=["both","horizontal","vertical"],ot=K({name:"QScrollObserver",props:{axis:{type:String,validator:e=>Xt.includes(e),default:"vertical"},debounce:[String,Number],scrollTarget:Bt},emits:["scroll"],setup(e,{emit:w}){const h={position:{top:0,left:0},direction:"down",directionChanged:!1,delta:{top:0,left:0},inflectionPoint:{top:0,left:0}};let f=null,c,u;$(()=>e.scrollTarget,()=>{_(),l()});function t(){f?.();const B=Math.max(0,At(c)),S=Pt(c),v={top:B-h.position.top,left:S-h.position.left};if(e.axis==="vertical"&&v.top===0||e.axis==="horizontal"&&v.left===0)return;const y=Math.abs(v.top)>=Math.abs(v.left)?v.top<0?"up":"down":v.left<0?"left":"right";h.position={top:B,left:S},h.directionChanged=h.direction!==y,h.delta=v,h.directionChanged===!0&&(h.direction=y,h.inflectionPoint=h.position),w("scroll",{...h})}function l(){c=$t(u,e.scrollTarget),c.addEventListener("scroll",p,Ne),p(!0)}function _(){c!==void 0&&(c.removeEventListener("scroll",p,Ne),c=void 0)}function p(B){if(B===!0||e.debounce===0||e.debounce==="0")t();else if(f===null){const[S,v]=e.debounce?[setTimeout(t,e.debounce),clearTimeout]:[requestAnimationFrame(t),cancelAnimationFrame];f=()=>{v(S),f=null}}}const{proxy:r}=re();return $(()=>r.$q.lang.rtl,t),ve(()=>{u=r.$el.parentNode,l()}),ge(()=>{f?.(),_()}),Object.assign(r,{trigger:p,getPosition:()=>h}),St}}),Ue=["vertical","horizontal"],Be={vertical:{offset:"offsetY",scroll:"scrollTop",dir:"down",dist:"y"},horizontal:{offset:"offsetX",scroll:"scrollLeft",dir:"right",dist:"x"}},Ke={prevent:!0,mouse:!0,mouseAllDir:!0},Ge=e=>e>=250?50:Math.ceil(e/5),Jt=K({name:"QScrollArea",props:{...tt,thumbStyle:Object,verticalThumbStyle:Object,horizontalThumbStyle:Object,barStyle:[Array,String,Object],verticalBarStyle:[Array,String,Object],horizontalBarStyle:[Array,String,Object],verticalOffset:{type:Array,default:[0,0]},horizontalOffset:{type:Array,default:[0,0]},contentStyle:[Array,String,Object],contentActiveStyle:[Array,String,Object],delay:{type:[String,Number],default:1e3},visible:{type:Boolean,default:null},tabindex:[String,Number],onScroll:Function},setup(e,{slots:w,emit:h}){const f=k(!1),c=k(!1),u=k(!1),t={vertical:k(0),horizontal:k(0)},l={vertical:{ref:k(null),position:k(0),size:k(0)},horizontal:{ref:k(null),position:k(0),size:k(0)}},{proxy:_}=re(),p=lt(e,_.$q);let r=null,B;const S=k(null),v=i(()=>"q-scrollarea"+(p.value===!0?" q-scrollarea--dark":""));Object.assign(t,{verticalInner:i(()=>t.vertical.value-e.verticalOffset[0]-e.verticalOffset[1]),horizontalInner:i(()=>t.horizontal.value-e.horizontalOffset[0]-e.horizontalOffset[1])}),l.vertical.percentage=i(()=>{const s=l.vertical.size.value-t.vertical.value;if(s<=0)return 0;const b=X(l.vertical.position.value/s,0,1);return Math.round(b*1e4)/1e4}),l.vertical.thumbHidden=i(()=>(e.visible===null?u.value:e.visible)!==!0&&f.value===!1&&c.value===!1||l.vertical.size.value<=t.vertical.value+1),l.vertical.thumbStart=i(()=>e.verticalOffset[0]+l.vertical.percentage.value*(t.verticalInner.value-l.vertical.thumbSize.value)),l.vertical.thumbSize=i(()=>Math.round(X(t.verticalInner.value*t.verticalInner.value/l.vertical.size.value,Ge(t.verticalInner.value),t.verticalInner.value))),l.vertical.style=i(()=>({...e.thumbStyle,...e.verticalThumbStyle,top:`${l.vertical.thumbStart.value}px`,height:`${l.vertical.thumbSize.value}px`,right:`${e.horizontalOffset[1]}px`})),l.vertical.thumbClass=i(()=>"q-scrollarea__thumb q-scrollarea__thumb--v absolute-right"+(l.vertical.thumbHidden.value===!0?" q-scrollarea__thumb--invisible":"")),l.vertical.barClass=i(()=>"q-scrollarea__bar q-scrollarea__bar--v absolute-right"+(l.vertical.thumbHidden.value===!0?" q-scrollarea__bar--invisible":"")),l.horizontal.percentage=i(()=>{const s=l.horizontal.size.value-t.horizontal.value;if(s<=0)return 0;const b=X(Math.abs(l.horizontal.position.value)/s,0,1);return Math.round(b*1e4)/1e4}),l.horizontal.thumbHidden=i(()=>(e.visible===null?u.value:e.visible)!==!0&&f.value===!1&&c.value===!1||l.horizontal.size.value<=t.horizontal.value+1),l.horizontal.thumbStart=i(()=>e.horizontalOffset[0]+l.horizontal.percentage.value*(t.horizontalInner.value-l.horizontal.thumbSize.value)),l.horizontal.thumbSize=i(()=>Math.round(X(t.horizontalInner.value*t.horizontalInner.value/l.horizontal.size.value,Ge(t.horizontalInner.value),t.horizontalInner.value))),l.horizontal.style=i(()=>({...e.thumbStyle,...e.horizontalThumbStyle,[_.$q.lang.rtl===!0?"right":"left"]:`${l.horizontal.thumbStart.value}px`,width:`${l.horizontal.thumbSize.value}px`,bottom:`${e.verticalOffset[1]}px`})),l.horizontal.thumbClass=i(()=>"q-scrollarea__thumb q-scrollarea__thumb--h absolute-bottom"+(l.horizontal.thumbHidden.value===!0?" q-scrollarea__thumb--invisible":"")),l.horizontal.barClass=i(()=>"q-scrollarea__bar q-scrollarea__bar--h absolute-bottom"+(l.horizontal.thumbHidden.value===!0?" q-scrollarea__bar--invisible":""));const y=i(()=>l.vertical.thumbHidden.value===!0&&l.horizontal.thumbHidden.value===!0?e.contentStyle:e.contentActiveStyle);function O(){const s={};return Ue.forEach(b=>{const T=l[b];Object.assign(s,{[b+"Position"]:T.position.value,[b+"Percentage"]:T.percentage.value,[b+"Size"]:T.size.value,[b+"ContainerSize"]:t[b].value,[b+"ContainerInnerSize"]:t[b+"Inner"].value})}),s}const A=zt(()=>{const s=O();s.ref=_,h("scroll",s)},0);function z(s,b,T){if(Ue.includes(s)===!1){console.error("[QScrollArea]: wrong first param of setScrollPosition (vertical/horizontal)");return}(s==="vertical"?Fe:qe)(S.value,b,T)}function o({height:s,width:b}){let T=!1;t.vertical.value!==s&&(t.vertical.value=s,T=!0),t.horizontal.value!==b&&(t.horizontal.value=b,T=!0),T===!0&&M()}function m({position:s}){let b=!1;l.vertical.position.value!==s.top&&(l.vertical.position.value=s.top,b=!0),l.horizontal.position.value!==s.left&&(l.horizontal.position.value=s.left,b=!0),b===!0&&M()}function g({height:s,width:b}){l.horizontal.size.value!==b&&(l.horizontal.size.value=b,M()),l.vertical.size.value!==s&&(l.vertical.size.value=s,M())}function C(s,b){const T=l[b];if(s.isFirst===!0){if(T.thumbHidden.value===!0)return;B=T.position.value,c.value=!0}else if(c.value!==!0)return;s.isFinal===!0&&(c.value=!1);const W=Be[b],G=(T.size.value-t[b].value)/(t[b+"Inner"].value-T.thumbSize.value),E=s.distance[W.dist],ie=B+(s.direction===W.dir?1:-1)*E*G;Y(ie,b)}function P(s,b){const T=l[b];if(T.thumbHidden.value!==!0){const W=b==="vertical"?e.verticalOffset[0]:e.horizontalOffset[0],G=s[Be[b].offset]-W,E=T.thumbStart.value-W;if(G<E||G>E+T.thumbSize.value){const ie=G-T.thumbSize.value/2,ye=X(ie/(t[b+"Inner"].value-T.thumbSize.value),0,1);Y(ye*Math.max(0,T.size.value-t[b].value),b)}T.ref.value!==null&&T.ref.value.dispatchEvent(new MouseEvent(s.type,s))}}function M(){f.value=!0,r!==null&&clearTimeout(r),r=setTimeout(()=>{r=null,f.value=!1},e.delay),e.onScroll!==void 0&&A()}function Y(s,b){S.value[Be[b].scroll]=s}let Q=null;function D(){Q!==null&&clearTimeout(Q),Q=setTimeout(()=>{Q=null,u.value=!0},_.$q.platform.is.ios?50:0)}function Z(){Q!==null&&(clearTimeout(Q),Q=null),u.value=!1}let ae=null;$(()=>_.$q.lang.rtl,s=>{S.value!==null&&qe(S.value,Math.abs(l.horizontal.position.value)*(s===!0?-1:1))}),Je(()=>{ae={top:l.vertical.position.value,left:l.horizontal.position.value}}),Ye(()=>{if(ae===null)return;const s=S.value;s!==null&&(qe(s,ae.left),Fe(s,ae.top))}),ge(A.cancel),Object.assign(_,{getScrollTarget:()=>S.value,getScroll:O,getScrollPosition:()=>({top:l.vertical.position.value,left:l.horizontal.position.value}),getScrollPercentage:()=>({top:l.vertical.percentage.value,left:l.horizontal.percentage.value}),setScrollPosition:z,setScrollPercentage(s,b,T){z(s,b*(l[s].size.value-t[s].value)*(s==="horizontal"&&_.$q.lang.rtl===!0?-1:1),T)}});const ee={scroll:l,thumbVertDir:[[se,s=>{C(s,"vertical")},void 0,{vertical:!0,...Ke}]],thumbHorizDir:[[se,s=>{C(s,"horizontal")},void 0,{horizontal:!0,...Ke}]],onVerticalMousedown(s){P(s,"vertical")},onHorizontalMousedown(s){P(s,"horizontal")}};return()=>x("div",{class:v.value,onMouseenter:D,onMouseleave:Z},[x("div",{ref:S,class:"q-scrollarea__container scroll relative-position fit hide-scrollbar",tabindex:e.tabindex!==void 0?e.tabindex:void 0},[x("div",{class:"q-scrollarea__content absolute",style:y.value},Ze(w.default,[x(ce,{debounce:0,onResize:g})])),x(ot,{axis:"both",onScroll:m})]),x(ce,{debounce:0,onResize:o}),x(Gt,{store:ee,barStyle:e.barStyle,verticalBarStyle:e.verticalBarStyle,horizontalBarStyle:e.horizontalBarStyle})])}}),Xe=150,Yt=K({name:"QDrawer",inheritAttrs:!1,props:{...Ot,...tt,side:{type:String,default:"left",validator:e=>["left","right"].includes(e)},width:{type:Number,default:300},mini:Boolean,miniToOverlay:Boolean,miniWidth:{type:Number,default:57},noMiniAnimation:Boolean,breakpoint:{type:Number,default:1023},showIfAbove:Boolean,behavior:{type:String,validator:e=>["default","desktop","mobile"].includes(e),default:"default"},bordered:Boolean,elevated:Boolean,overlay:Boolean,persistent:Boolean,noSwipeOpen:Boolean,noSwipeClose:Boolean,noSwipeBackdrop:Boolean},emits:[...Mt,"onLayout","miniState"],setup(e,{slots:w,emit:h,attrs:f}){const c=re(),{proxy:{$q:u}}=c,t=lt(e,u),{preventBodyScroll:l}=It(),{registerTimeout:_,removeTimeout:p}=Lt(),r=Ae(be,J);if(r===J)return console.error("QDrawer needs to be child of QLayout"),J;let B,S=null,v;const y=k(e.behavior==="mobile"||e.behavior!=="desktop"&&r.totalWidth.value<=e.breakpoint),O=i(()=>e.mini===!0&&y.value!==!0),A=i(()=>O.value===!0?e.miniWidth:e.width),z=k(e.showIfAbove===!0&&y.value===!1?!0:e.modelValue===!0),o=i(()=>e.persistent!==!0&&(y.value===!0||ie.value===!0));function m(a,q){if(M(),a!==!1&&r.animate(),I(0),y.value===!0){const V=r.instances[T.value];V?.belowBreakpoint===!0&&V.hide(!1),te(1),r.isContainer.value!==!0&&l(!0)}else te(0),a!==!1&&ze(!1);_(()=>{a!==!1&&ze(!0),q!==!0&&h("show",a)},Xe)}function g(a,q){Y(),a!==!1&&r.animate(),te(0),I(Z.value*A.value),we(),q!==!0?_(()=>{h("hide",a)},Xe):p()}const{show:C,hide:P}=Qt({showing:z,hideOnRouteChange:o,handleShow:m,handleHide:g}),{addToHistory:M,removeFromHistory:Y}=Vt(z,P,o),Q={belowBreakpoint:y,hide:P},D=i(()=>e.side==="right"),Z=i(()=>(u.lang.rtl===!0?-1:1)*(D.value===!0?1:-1)),ae=k(0),ee=k(!1),s=k(!1),b=k(A.value*Z.value),T=i(()=>D.value===!0?"left":"right"),W=i(()=>z.value===!0&&y.value===!1&&e.overlay===!1?e.miniToOverlay===!0?e.miniWidth:A.value:0),G=i(()=>e.overlay===!0||e.miniToOverlay===!0||r.view.value.indexOf(D.value?"R":"L")!==-1||u.platform.is.ios===!0&&r.isContainer.value===!0),E=i(()=>e.overlay===!1&&z.value===!0&&y.value===!1),ie=i(()=>e.overlay===!0&&z.value===!0&&y.value===!1),ye=i(()=>"fullscreen q-drawer__backdrop"+(z.value===!1&&ee.value===!1?" hidden":"")),nt=i(()=>({backgroundColor:`rgba(0,0,0,${ae.value*.4})`})),Me=i(()=>D.value===!0?r.rows.value.top[2]==="r":r.rows.value.top[0]==="l"),rt=i(()=>D.value===!0?r.rows.value.bottom[2]==="r":r.rows.value.bottom[0]==="l"),it=i(()=>{const a={};return r.header.space===!0&&Me.value===!1&&(G.value===!0?a.top=`${r.header.offset}px`:r.header.space===!0&&(a.top=`${r.header.size}px`)),r.footer.space===!0&&rt.value===!1&&(G.value===!0?a.bottom=`${r.footer.offset}px`:r.footer.space===!0&&(a.bottom=`${r.footer.size}px`)),a}),ut=i(()=>{const a={width:`${A.value}px`,transform:`translateX(${b.value}px)`};return y.value===!0?a:Object.assign(a,it.value)}),st=i(()=>"q-drawer__content fit "+(r.isContainer.value!==!0?"scroll":"overflow-auto")),ct=i(()=>`q-drawer q-drawer--${e.side}`+(s.value===!0?" q-drawer--mini-animate":"")+(e.bordered===!0?" q-drawer--bordered":"")+(t.value===!0?" q-drawer--dark q-dark":"")+(ee.value===!0?" no-transition":z.value===!0?"":" q-layout--prevent-focus")+(y.value===!0?" fixed q-drawer--on-top q-drawer--mobile q-drawer--top-padding":` q-drawer--${O.value===!0?"mini":"standard"}`+(G.value===!0||E.value!==!0?" fixed":"")+(e.overlay===!0||e.miniToOverlay===!0?" q-drawer--on-top":"")+(Me.value===!0?" q-drawer--top-padding":""))),dt=i(()=>{const a=u.lang.rtl===!0?e.side:T.value;return[[se,ht,void 0,{[a]:!0,mouse:!0}]]}),vt=i(()=>{const a=u.lang.rtl===!0?T.value:e.side;return[[se,Oe,void 0,{[a]:!0,mouse:!0}]]}),ft=i(()=>{const a=u.lang.rtl===!0?T.value:e.side;return[[se,Oe,void 0,{[a]:!0,mouse:!0,mouseAllDir:!0}]]});function Se(){bt(y,e.behavior==="mobile"||e.behavior!=="desktop"&&r.totalWidth.value<=e.breakpoint)}$(y,a=>{a===!0?(B=z.value,z.value===!0&&P(!1)):e.overlay===!1&&e.behavior!=="mobile"&&B!==!1&&(z.value===!0?(I(0),te(0),we()):C(!1))}),$(()=>e.side,(a,q)=>{r.instances[q]===Q&&(r.instances[q]=void 0,r[q].space=!1,r[q].offset=0),r.instances[a]=Q,r[a].size=A.value,r[a].space=E.value,r[a].offset=W.value}),$(r.totalWidth,()=>{(r.isContainer.value===!0||document.qScrollPrevented!==!0)&&Se()}),$(()=>e.behavior+e.breakpoint,Se),$(r.isContainer,a=>{z.value===!0&&l(a!==!0),a===!0&&Se()}),$(r.scrollbarWidth,()=>{I(z.value===!0?0:void 0)}),$(W,a=>{le("offset",a)}),$(E,a=>{h("onLayout",a),le("space",a)}),$(D,()=>{I()}),$(A,a=>{I(),_e(e.miniToOverlay,a)}),$(()=>e.miniToOverlay,a=>{_e(a,A.value)}),$(()=>u.lang.rtl,()=>{I()}),$(()=>e.mini,()=>{e.noMiniAnimation||e.modelValue===!0&&(mt(),r.animate())}),$(O,a=>{h("miniState",a)});function I(a){a===void 0?$e(()=>{a=z.value===!0?0:A.value,I(Z.value*a)}):(r.isContainer.value===!0&&D.value===!0&&(y.value===!0||Math.abs(a)===A.value)&&(a+=Z.value*r.scrollbarWidth.value),b.value=a)}function te(a){ae.value=a}function ze(a){const q=a===!0?"remove":r.isContainer.value!==!0?"add":"";q!==""&&document.body.classList[q]("q-body--drawer-toggle")}function mt(){S!==null&&clearTimeout(S),c.proxy&&c.proxy.$el&&c.proxy.$el.classList.add("q-drawer--mini-animate"),s.value=!0,S=setTimeout(()=>{S=null,s.value=!1,c?.proxy?.$el?.classList.remove("q-drawer--mini-animate")},150)}function ht(a){if(z.value!==!1)return;const q=A.value,V=X(a.distance.x,0,q);if(a.isFinal===!0){V>=Math.min(75,q)===!0?C():(r.animate(),te(0),I(Z.value*q)),ee.value=!1;return}I((u.lang.rtl===!0?D.value!==!0:D.value)?Math.max(q-V,0):Math.min(0,V-q)),te(X(V/q,0,1)),a.isFirst===!0&&(ee.value=!0)}function Oe(a){if(z.value!==!0)return;const q=A.value,V=a.direction===e.side,fe=(u.lang.rtl===!0?V!==!0:V)?X(a.distance.x,0,q):0;if(a.isFinal===!0){Math.abs(fe)<Math.min(75,q)===!0?(r.animate(),te(1),I(0)):P(),ee.value=!1;return}I(Z.value*fe),te(X(1-fe/q,0,1)),a.isFirst===!0&&(ee.value=!0)}function we(){l(!1),ze(!0)}function le(a,q){r.update(e.side,a,q)}function bt(a,q){a.value!==q&&(a.value=q)}function _e(a,q){le("size",a===!0?e.miniWidth:q)}return r.instances[e.side]=Q,_e(e.miniToOverlay,A.value),le("space",E.value),le("offset",W.value),e.showIfAbove===!0&&e.modelValue!==!0&&z.value===!0&&e["onUpdate:modelValue"]!==void 0&&h("update:modelValue",!0),ve(()=>{h("onLayout",E.value),h("miniState",O.value),B=e.showIfAbove===!0;const a=()=>{(z.value===!0?m:g)(!1,!0)};if(r.totalWidth.value!==0){$e(a);return}v=$(r.totalWidth,()=>{v(),v=void 0,z.value===!1&&e.showIfAbove===!0&&y.value===!1?C(!1):a()})}),ge(()=>{v?.(),S!==null&&(clearTimeout(S),S=null),z.value===!0&&we(),r.instances[e.side]===Q&&(r.instances[e.side]=void 0,le("size",0),le("offset",0),le("space",!1))}),()=>{const a=[];y.value===!0&&(e.noSwipeOpen===!1&&a.push(U(x("div",{key:"open",class:`q-drawer__opener fixed-${e.side}`,"aria-hidden":"true"}),dt.value)),a.push(Le("div",{ref:"backdrop",class:ye.value,style:nt.value,"aria-hidden":"true",onClick:P},void 0,"backdrop",e.noSwipeBackdrop!==!0&&z.value===!0,()=>ft.value)));const q=O.value===!0&&w.mini!==void 0,V=[x("div",{...f,key:""+q,class:[st.value,f.class]},q===!0?w.mini():de(w.default))];return e.elevated===!0&&z.value===!0&&V.push(x("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),a.push(Le("aside",{ref:"content",class:ct.value,style:ut.value},V,"contentclose",e.noSwipeClose!==!0&&y.value===!0,()=>vt.value)),x("div",{class:"q-drawer-container"},a)}}}),Zt=K({name:"QPageContainer",setup(e,{slots:w}){const{proxy:{$q:h}}=re(),f=Ae(be,J);if(f===J)return console.error("QPageContainer needs to be child of QLayout"),J;Pe(wt,!0);const c=i(()=>{const u={};return f.header.space===!0&&(u.paddingTop=`${f.header.size}px`),f.right.space===!0&&(u[`padding${h.lang.rtl===!0?"Left":"Right"}`]=`${f.right.size}px`),f.footer.space===!0&&(u.paddingBottom=`${f.footer.size}px`),f.left.space===!0&&(u[`padding${h.lang.rtl===!0?"Right":"Left"}`]=`${f.left.size}px`),u});return()=>x("div",{class:"q-page-container",style:c.value},de(w.default))}}),el=K({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:e=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(e.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(e,{slots:w,emit:h}){const{proxy:{$q:f}}=re(),c=k(null),u=k(f.screen.height),t=k(e.container===!0?0:f.screen.width),l=k({position:0,direction:"down",inflectionPoint:0}),_=k(0),p=k(_t.value===!0?0:ke()),r=i(()=>"q-layout q-layout--"+(e.container===!0?"containerized":"standard")),B=i(()=>e.container===!1?{minHeight:f.screen.height+"px"}:null),S=i(()=>p.value!==0?{[f.lang.rtl===!0?"left":"right"]:`${p.value}px`}:null),v=i(()=>p.value!==0?{[f.lang.rtl===!0?"right":"left"]:0,[f.lang.rtl===!0?"left":"right"]:`-${p.value}px`,width:`calc(100% + ${p.value}px)`}:null);function y(g){if(e.container===!0||document.qScrollPrevented!==!0){const C={position:g.position.top,direction:g.direction,directionChanged:g.directionChanged,inflectionPoint:g.inflectionPoint.top,delta:g.delta.top};l.value=C,e.onScroll!==void 0&&h("scroll",C)}}function O(g){const{height:C,width:P}=g;let M=!1;u.value!==C&&(M=!0,u.value=C,e.onScrollHeight!==void 0&&h("scrollHeight",C),z()),t.value!==P&&(M=!0,t.value=P),M===!0&&e.onResize!==void 0&&h("resize",g)}function A({height:g}){_.value!==g&&(_.value=g,z())}function z(){if(e.container===!0){const g=u.value>_.value?ke():0;p.value!==g&&(p.value=g)}}let o=null;const m={instances:{},view:i(()=>e.view),isContainer:i(()=>e.container),rootRef:c,height:u,containerHeight:_,scrollbarWidth:p,totalWidth:i(()=>t.value+p.value),rows:i(()=>{const g=e.view.toLowerCase().split(" ");return{top:g[0].split(""),middle:g[1].split(""),bottom:g[2].split("")}}),header:me({size:0,offset:0,space:!1}),right:me({size:300,offset:0,space:!1}),footer:me({size:0,offset:0,space:!1}),left:me({size:300,offset:0,space:!1}),scroll:l,animate(){o!==null?clearTimeout(o):document.body.classList.add("q-body--layout-animate"),o=setTimeout(()=>{o=null,document.body.classList.remove("q-body--layout-animate")},155)},update(g,C,P){m[g][C]=P}};if(Pe(be,m),ke()>0){let g=function(){M=null,Y.classList.remove("hide-scrollbar")},C=function(){if(M===null){if(Y.scrollHeight>f.screen.height)return;Y.classList.add("hide-scrollbar")}else clearTimeout(M);M=setTimeout(g,300)},P=function(Q){M!==null&&Q==="remove"&&(clearTimeout(M),g()),window[`${Q}EventListener`]("resize",C)},M=null;const Y=document.body;$(()=>e.container!==!0?"add":"remove",P),e.container!==!0&&P("add"),qt(()=>{P("remove")})}return()=>{const g=Ze(w.default,[x(ot,{onScroll:y}),x(ce,{onResize:O})]),C=x("div",{class:r.value,style:B.value,ref:e.container===!0?void 0:c,tabindex:-1},g);return e.container===!0?x("div",{class:"q-layout-container overflow-hidden",ref:c},[x(ce,{onResize:A}),x("div",{class:"absolute-full",style:S.value},[x("div",{class:"scroll",style:v.value},[C])])]):C}}}),tl=K({name:"QForm",props:{autofocus:Boolean,noErrorFocus:Boolean,noResetFocus:Boolean,greedy:Boolean,onSubmit:Function},emits:["reset","validationSuccess","validationError"],setup(e,{slots:w,emit:h}){const f=re(),c=k(null);let u=0;const t=[];function l(v){const y=typeof v=="boolean"?v:e.noErrorFocus!==!0,O=++u,A=(m,g)=>{h(`validation${m===!0?"Success":"Error"}`,g)},z=m=>{const g=m.validate();return typeof g.then=="function"?g.then(C=>({valid:C,comp:m}),C=>({valid:!1,comp:m,err:C})):Promise.resolve({valid:g,comp:m})};return(e.greedy===!0?Promise.all(t.map(z)).then(m=>m.filter(g=>g.valid!==!0)):t.reduce((m,g)=>m.then(()=>z(g).then(C=>{if(C.valid===!1)return Promise.reject(C)})),Promise.resolve()).catch(m=>[m])).then(m=>{if(m===void 0||m.length===0)return O===u&&A(!0),!0;if(O===u){const{comp:g,err:C}=m[0];if(C!==void 0&&console.error(C),A(!1,g),y===!0){const P=m.find(({comp:M})=>typeof M.focus=="function"&&kt(M.$)===!1);P!==void 0&&P.comp.focus()}}return!1})}function _(){u++,t.forEach(v=>{typeof v.resetValidation=="function"&&v.resetValidation()})}function p(v){v!==void 0&&Qe(v);const y=u+1;l().then(O=>{y===u&&O===!0&&(e.onSubmit!==void 0?h("submit",v):v?.target!==void 0&&typeof v.target.submit=="function"&&v.target.submit())})}function r(v){v!==void 0&&Qe(v),h("reset"),$e(()=>{_(),e.autofocus===!0&&e.noResetFocus!==!0&&B()})}function B(){Ht(()=>{if(c.value===null)return;(c.value.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||c.value.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||c.value.querySelector("[autofocus], [data-autofocus]")||Array.prototype.find.call(c.value.querySelectorAll("[tabindex]"),y=>y.tabIndex!==-1))?.focus({preventScroll:!0})})}Pe(pt,{bindComponent(v){t.push(v)},unbindComponent(v){const y=t.indexOf(v);y!==-1&&t.splice(y,1)}});let S=!1;return Je(()=>{S=!0}),Ye(()=>{S===!0&&e.autofocus===!0&&B()}),ve(()=>{e.autofocus===!0&&B()}),Object.assign(f.proxy,{validate:l,resetValidation:_,submit:p,reset:r,focus:B,getValidationComponents:()=>t}),()=>x("form",{class:"q-form",ref:c,onSubmit:p,onReset:r},de(w.default))}}),ll={key:0,id:"user-indicator"},al=et({__name:"UserIndicator",setup(e){const w=at(),h=Ct(),f=jt(),c=k(!1),u=k(!1),t=k(""),l=k(""),_=i(()=>w.screen.lt.sm),p=i(()=>f.userManagementActive===!0),r=i(()=>f.accessAllowed===!0),B=i(()=>r.value&&!S.value),S=i(()=>w.cookies.has("mqtt")),v=i(()=>S.value?w.cookies.get("mqtt").split(":")[0]:""),y=()=>{w.cookies.getAll(),w.cookies.has("mqtt")&&(w.cookies.remove("mqtt",{path:"/"}),h.go(0))},O=()=>{if(t.value,!t.value||t.value.length===0){u.value=!1;return}const z=`${t.value}:${l.value}`;w.cookies.set("mqtt",z,{expires:"30d",path:"/",secure:!0,sameSite:"Lax"}),w.cookies.get("mqtt"),u.value=!1,h.go(0)},A=()=>{t.value="",l.value=""};return $(B,z=>{p.value,S.value,p.value&&!z&&!S.value?u.value=!0:u.value=!1}),ve(()=>{p.value,B.value,S.value,p.value&&!B.value&&!S.value&&(u.value=!0)}),(z,o)=>p.value?(H(),Tt("div",ll,[n(Ee,{modelValue:c.value,"onUpdate:modelValue":o[0]||(o[0]=m=>c.value=m),persistent:""},{default:d(()=>[n(Re,null,{default:d(()=>[n(pe,{class:"row items-center"},{default:d(()=>[n(Ie,{icon:"logout",color:"warning","text-color":"white"}),o[6]||(o[6]=Ve("span",{class:"q-ml-sm"},"Willst Du Dich wirklich abmelden?",-1))]),_:1,__:[6]}),n(We,{align:"right"},{default:d(()=>[U(n(j,{flat:"",label:"Abmelden",color:"negative",onClick:y},null,512),[[Ce]]),U(n(j,{flat:"",label:"Schließen",color:"primary"},null,512),[[Ce]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),n(Ee,{modelValue:u.value,"onUpdate:modelValue":o[3]||(o[3]=m=>u.value=m),persistent:"",onHide:A},{default:d(()=>[n(Re,null,{default:d(()=>[n(pe,{class:"row items-center"},{default:d(()=>[n(Ie,{icon:"logout",color:"warning","text-color":"white"}),o[7]||(o[7]=Ve("span",{class:"q-ml-sm"},"Gib Deine Anmeldedaten ein.",-1))]),_:1,__:[7]}),n(tl,{onSubmit:O},{default:d(()=>[n(pe,null,{default:d(()=>[n(He(je),{modelValue:t.value,"onUpdate:modelValue":o[1]||(o[1]=m=>t.value=m),label:"Benutzername",type:"text",dense:"",autofocus:"",rules:[m=>m&&m.length>0||"Benutzername erforderlich"]},{prepend:d(()=>[n(N,{name:"account_circle"})]),_:1},8,["modelValue","rules"]),n(He(je),{modelValue:l.value,"onUpdate:modelValue":o[2]||(o[2]=m=>l.value=m),label:"Passwort",type:"password",dense:"",rules:[m=>m&&m.length>0||"Passwort erforderlich"]},{prepend:d(()=>[n(N,{name:"key"})]),_:1},8,["modelValue","rules"])]),_:1}),n(We,{align:"right"},{default:d(()=>[n(j,{flat:"",label:"Anmelden",color:"positive",type:"submit"}),B.value?U((H(),R(j,{key:0,flat:"",label:"Schließen",color:"primary"},null,512)),[[Ce]]):oe("",!0)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),S.value&&!_.value?(H(),R(Dt,{key:0,rounded:"",align:"middle",color:"primary",class:"non-selectable"},{default:d(()=>[n(N,{name:"account_circle",size:"sm",left:""}),L(" "+De(v.value),1)]),_:1})):oe("",!0),S.value&&_.value?(H(),R(N,{key:1,name:"account_circle",size:"md",left:"",color:"primary"},{default:d(()=>[n(ne,null,{default:d(()=>[L('Angemeldet als "'+De(v.value)+'"',1)]),_:1})]),_:1})):oe("",!0),S.value?(H(),R(j,{key:2,icon:"logout",dense:"",flat:"",round:"",onClick:o[4]||(o[4]=m=>c.value=!0)},{default:d(()=>[n(ne,null,{default:d(()=>o[8]||(o[8]=[L("Abmelden",-1)])),_:1,__:[8]})]),_:1})):oe("",!0),S.value?oe("",!0):(H(),R(N,{key:3,name:"no_accounts",size:"md",left:""},{default:d(()=>[n(ne,null,{default:d(()=>o[9]||(o[9]=[L("Nicht angemeldet",-1)])),_:1,__:[9]})]),_:1})),S.value?oe("",!0):(H(),R(j,{key:4,icon:"login",dense:"",flat:"",round:"",onClick:o[5]||(o[5]=m=>u.value=!0)},{default:d(()=>[n(ne,null,{default:d(()=>o[10]||(o[10]=[L("Anmelden",-1)])),_:1,__:[10]})]),_:1}))])):oe("",!0)}}),ol=et({name:"MainLayout",__name:"MainLayout",setup(e){const w=at(),h=k(!1),f=k("auto"),c=u=>{f.value=u,u==="auto"?(localStorage.removeItem("theme"),w.dark.set("auto")):(w.dark.set(u==="dark"),localStorage.setItem("theme",u))};return ve(()=>{const u=localStorage.getItem("theme");u?(f.value=u,w.dark.set(u==="dark")):(f.value="auto",w.dark.set("auto"))}),(u,t)=>{const l=xt("router-view");return H(),R(el,{view:"hHh lpr lFf"},{default:d(()=>[n(Kt,{elevated:""},{default:d(()=>[n(Ut,null,{default:d(()=>[n(j,{dense:"",flat:"",round:"",icon:"menu",onClick:t[0]||(t[0]=_=>h.value=!h.value)}),n(Nt,null,{default:d(()=>t[5]||(t[5]=[L("openWB",-1)])),_:1,__:[5]}),n(Ft),n(al)]),_:1})]),_:1}),n(Yt,{modelValue:h.value,"onUpdate:modelValue":t[4]||(t[4]=_=>h.value=_),side:"left",overlay:"",elevated:"",breakpoint:500},{default:d(()=>[n(Jt,{class:"fit","horizontal-thumb-style":{opacity:"0"}},{default:d(()=>[n(Rt,{padding:""},{default:d(()=>[U((H(),R(ue,{clickable:"",href:"/openWB/web/settings/#/Status"},{default:d(()=>[n(F,{avatar:""},{default:d(()=>[n(N,{name:"dashboard"})]),_:1}),n(F,null,{default:d(()=>t[6]||(t[6]=[L(" Status ",-1)])),_:1,__:[6]})]),_:1})),[[he]]),n(Te),n(xe,{header:""},{default:d(()=>t[7]||(t[7]=[L("Auswertungen",-1)])),_:1,__:[7]}),U((H(),R(ue,{clickable:"",href:"/openWB/web/settings/#/Logging/ChargeLog"},{default:d(()=>[n(F,{avatar:""},{default:d(()=>[n(N,{name:"table_chart"})]),_:1}),n(F,null,{default:d(()=>t[8]||(t[8]=[L(" Ladeprotokoll ",-1)])),_:1,__:[8]})]),_:1})),[[he]]),U((H(),R(ue,{clickable:"",href:"/openWB/web/settings/#/Logging/Chart"},{default:d(()=>[n(F,{avatar:""},{default:d(()=>[n(N,{name:"area_chart"})]),_:1}),n(F,null,{default:d(()=>t[9]||(t[9]=[L(" Diagramme ",-1)])),_:1,__:[9]})]),_:1})),[[he]]),n(Te),U((H(),R(ue,{clickable:"",href:"/openWB/web/settings/"},{default:d(()=>[n(F,{avatar:""},{default:d(()=>[n(N,{name:"settings"})]),_:1}),n(F,null,{default:d(()=>t[10]||(t[10]=[L(" Einstellungen ",-1)])),_:1,__:[10]})]),_:1})),[[he]]),n(Te),n(xe,{header:""},{default:d(()=>t[11]||(t[11]=[L("Anzeigeeinstellungen",-1)])),_:1,__:[11]}),n(ue,null,{default:d(()=>[n(F,{avatar:""},{default:d(()=>[n(N,{name:"light_mode"})]),_:1}),n(F,null,{default:d(()=>[n(xe,null,{default:d(()=>t[12]||(t[12]=[L("Darstellungsmodus",-1)])),_:1,__:[12]})]),_:1}),n(F,{side:""},{default:d(()=>[n(Wt,{flat:""},{default:d(()=>[n(j,{flat:"",round:"",color:f.value==="light"?"primary":"",icon:"light_mode",onClick:t[1]||(t[1]=_=>c("light")),size:"sm",disable:f.value==="light","aria-label":"Light Mode"},{default:d(()=>[n(ne,null,{default:d(()=>t[13]||(t[13]=[L("Hell",-1)])),_:1,__:[13]})]),_:1},8,["color","disable"]),n(j,{flat:"",round:"",color:f.value==="dark"?"primary":"",icon:"dark_mode",onClick:t[2]||(t[2]=_=>c("dark")),size:"sm",disable:f.value==="dark","aria-label":"Dark Mode"},{default:d(()=>[n(ne,null,{default:d(()=>t[14]||(t[14]=[L("Dunkel",-1)])),_:1,__:[14]})]),_:1},8,["color","disable"]),n(j,{flat:"",round:"",color:f.value==="auto"?"primary":"",icon:"devices",onClick:t[3]||(t[3]=_=>c("auto")),size:"sm",disable:f.value==="auto","aria-label":"System Mode"},{default:d(()=>[n(ne,null,{default:d(()=>t[15]||(t[15]=[L("Systemeinstellung",-1)])),_:1,__:[15]})]),_:1},8,["color","disable"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),n(Zt,{class:"column flex centered-container"},{default:d(()=>[n(l)]),_:1})]),_:1})}}}),sl=Et(ol,[["__scopeId","data-v-c2c83c49"]]);export{sl as default};
