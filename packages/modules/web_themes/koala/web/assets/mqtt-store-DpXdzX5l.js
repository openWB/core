var bu=Object.defineProperty;var jo=f=>{throw TypeError(f)};var vu=(f,c,a)=>c in f?bu(f,c,{enumerable:!0,configurable:!0,writable:!0,value:a}):f[c]=a;var ot=(f,c,a)=>vu(f,typeof c!="symbol"?c+"":c,a),ln=(f,c,a)=>c.has(f)||jo("Cannot "+a);var W=(f,c,a)=>(ln(f,c,"read from private field"),a?a.call(f):c.get(f)),ze=(f,c,a)=>c.has(f)?jo("Cannot add the same private member more than once"):c instanceof WeakSet?c.add(f):c.set(f,a),Le=(f,c,a,l)=>(ln(f,c,"write to private field"),l?l.call(f,a):c.set(f,a),a),Be=(f,c,a)=>(ln(f,c,"access private method"),a);var Er=(f,c,a,l)=>({set _(h){Le(f,c,h,a)},get _(){return W(f,c,l)}});import{i as wu,aZ as _u,aj as Su,r as Mo,a as me}from"./index-CruHBXwK.js";function Eu(){return wu(_u)}var fo=Object.defineProperty,Au=Object.getOwnPropertyDescriptor,xu=Object.getOwnPropertyNames,Ou=Object.prototype.hasOwnProperty,vt=(f,c)=>()=>(f&&(c=f(f=0)),c),xe=(f,c)=>()=>(c||f((c={exports:{}}).exports,c),c.exports),ur=(f,c)=>{for(var a in c)fo(f,a,{get:c[a],enumerable:!0})},Iu=(f,c,a,l)=>{if(c&&typeof c=="object"||typeof c=="function")for(let h of xu(c))!Ou.call(f,h)&&h!==a&&fo(f,h,{get:()=>c[h],enumerable:!(l=Au(c,h))||l.enumerable});return f},He=f=>Iu(fo({},"__esModule",{value:!0}),f),be=vt(()=>{}),Qe={};ur(Qe,{_debugEnd:()=>zn,_debugProcess:()=>Vn,_events:()=>si,_eventsCount:()=>ai,_exiting:()=>Tn,_fatalExceptions:()=>Fn,_getActiveHandles:()=>Js,_getActiveRequests:()=>Ys,_kill:()=>jn,_linkedBinding:()=>Gs,_maxListeners:()=>oi,_preload_modules:()=>ni,_rawDebug:()=>In,_startProfilerIdleNotifier:()=>Kn,_stopProfilerIdleNotifier:()=>Hn,_tickCallback:()=>qn,abort:()=>Jn,addListener:()=>li,allowedNodeEnvironmentFlags:()=>Dn,arch:()=>pn,argv:()=>yn,argv0:()=>ri,assert:()=>Xs,binding:()=>_n,browser:()=>On,chdir:()=>An,config:()=>Cn,cpuUsage:()=>dr,cwd:()=>En,debugPort:()=>ti,default:()=>go,dlopen:()=>Qs,domain:()=>kn,emit:()=>pi,emitWarning:()=>wn,env:()=>gn,execArgv:()=>mn,execPath:()=>ei,exit:()=>Un,features:()=>Wn,hasUncaughtExceptionCaptureCallback:()=>Zs,hrtime:()=>Or,kill:()=>Nn,listeners:()=>ta,memoryUsage:()=>Bn,moduleLoadList:()=>Pn,nextTick:()=>Ks,off:()=>ci,on:()=>kt,once:()=>ui,openStdin:()=>Ln,pid:()=>Xn,platform:()=>dn,ppid:()=>Zn,prependListener:()=>di,prependOnceListener:()=>gi,reallyExit:()=>Rn,release:()=>xn,removeAllListeners:()=>fi,removeListener:()=>hi,resourceUsage:()=>Mn,setSourceMapsEnabled:()=>ii,setUncaughtExceptionCaptureCallback:()=>$n,stderr:()=>Qn,stdin:()=>Yn,stdout:()=>Gn,title:()=>fn,umask:()=>Sn,uptime:()=>ea,version:()=>bn,versions:()=>vn});function po(f){throw new Error("Node.js process "+f+" is not supported by JSPM core outside of Node.js")}function Pu(){!er||!Xt||(er=!1,Xt.length?Ot=Xt.concat(Ot):br=-1,Ot.length&&zs())}function zs(){if(!er){var f=setTimeout(Pu,0);er=!0;for(var c=Ot.length;c;){for(Xt=Ot,Ot=[];++br<c;)Xt&&Xt[br].run();br=-1,c=Ot.length}Xt=null,er=!1,clearTimeout(f)}}function Ks(f){var c=new Array(arguments.length-1);if(arguments.length>1)for(var a=1;a<arguments.length;a++)c[a-1]=arguments[a];Ot.push(new Hs(f,c)),Ot.length===1&&!er&&setTimeout(zs,0)}function Hs(f,c){this.fun=f,this.array=c}function pt(){}function Gs(f){po("_linkedBinding")}function Qs(f){po("dlopen")}function Ys(){return[]}function Js(){return[]}function Xs(f,c){if(!f)throw new Error(c||"assertion error")}function Zs(){return!1}function ea(){return Ct.now()/1e3}function Or(f){var c=Math.floor((Date.now()-Ct.now())*.001),a=Ct.now()*.001,l=Math.floor(a)+c,h=Math.floor(a%1*1e9);return f&&(l=l-f[0],h=h-f[1],h<0&&(l--,h+=Ir)),[l,h]}function kt(){return go}function ta(f){return[]}var Ot,er,Xt,br,fn,pn,dn,gn,yn,mn,bn,vn,wn,_n,Sn,En,An,xn,On,In,Pn,kn,Tn,Cn,Rn,jn,dr,Mn,Bn,Nn,Un,Ln,Dn,Wn,Fn,$n,qn,Vn,zn,Kn,Hn,Gn,Qn,Yn,Jn,Xn,Zn,ei,ti,ri,ni,ii,Ct,un,Ir,oi,si,ai,li,ui,ci,hi,fi,pi,di,gi,go,ku=vt(()=>{be(),we(),ve(),Ot=[],er=!1,br=-1,Hs.prototype.run=function(){this.fun.apply(null,this.array)},fn="browser",pn="x64",dn="browser",gn={PATH:"/usr/bin",LANG:typeof navigator<"u"?navigator.language+".UTF-8":void 0,PWD:"/",HOME:"/home",TMP:"/tmp"},yn=["/usr/bin/node"],mn=[],bn="v16.8.0",vn={},wn=function(f,c){console.warn((c?c+": ":"")+f)},_n=function(f){po("binding")},Sn=function(f){return 0},En=function(){return"/"},An=function(f){},xn={name:"node",sourceUrl:"",headersUrl:"",libUrl:""},On=!0,In=pt,Pn=[],kn={},Tn=!1,Cn={},Rn=pt,jn=pt,dr=function(){return{}},Mn=dr,Bn=dr,Nn=pt,Un=pt,Ln=pt,Dn={},Wn={inspector:!1,debug:!1,uv:!1,ipv6:!1,tls_alpn:!1,tls_sni:!1,tls_ocsp:!1,tls:!1,cached_builtins:!0},Fn=pt,$n=pt,qn=pt,Vn=pt,zn=pt,Kn=pt,Hn=pt,Gn=void 0,Qn=void 0,Yn=void 0,Jn=pt,Xn=2,Zn=1,ei="/bin/usr/node",ti=9229,ri="node",ni=[],ii=pt,Ct={now:typeof performance<"u"?performance.now.bind(performance):void 0,timing:typeof performance<"u"?performance.timing:void 0},Ct.now===void 0&&(un=Date.now(),Ct.timing&&Ct.timing.navigationStart&&(un=Ct.timing.navigationStart),Ct.now=()=>Date.now()-un),Ir=1e9,Or.bigint=function(f){var c=Or(f);return typeof BigInt>"u"?c[0]*Ir+c[1]:BigInt(c[0]*Ir)+BigInt(c[1])},oi=10,si={},ai=0,li=kt,ui=kt,ci=kt,hi=kt,fi=kt,pi=pt,di=kt,gi=kt,go={version:bn,versions:vn,arch:pn,platform:dn,browser:On,release:xn,_rawDebug:In,moduleLoadList:Pn,binding:_n,_linkedBinding:Gs,_events:si,_eventsCount:ai,_maxListeners:oi,on:kt,addListener:li,once:ui,off:ci,removeListener:hi,removeAllListeners:fi,emit:pi,prependListener:di,prependOnceListener:gi,listeners:ta,domain:kn,_exiting:Tn,config:Cn,dlopen:Qs,uptime:ea,_getActiveRequests:Ys,_getActiveHandles:Js,reallyExit:Rn,_kill:jn,cpuUsage:dr,resourceUsage:Mn,memoryUsage:Bn,kill:Nn,exit:Un,openStdin:Ln,allowedNodeEnvironmentFlags:Dn,assert:Xs,features:Wn,_fatalExceptions:Fn,setUncaughtExceptionCaptureCallback:$n,hasUncaughtExceptionCaptureCallback:Zs,emitWarning:wn,nextTick:Ks,_tickCallback:qn,_debugProcess:Vn,_debugEnd:zn,_startProfilerIdleNotifier:Kn,_stopProfilerIdleNotifier:Hn,stdout:Gn,stdin:Yn,stderr:Qn,abort:Jn,umask:Sn,chdir:An,cwd:En,env:gn,title:fn,argv:yn,execArgv:mn,pid:Xn,ppid:Zn,execPath:ei,debugPort:ti,hrtime:Or,argv0:ri,_preload_modules:ni,setSourceMapsEnabled:ii}}),ve=vt(()=>{ku()});function Tu(){if(yi)return sr;yi=!0,sr.byteLength=n,sr.toByteArray=i,sr.fromByteArray=p;for(var f=[],c=[],a=typeof Uint8Array<"u"?Uint8Array:Array,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",h=0,r=l.length;h<r;++h)f[h]=l[h],c[l.charCodeAt(h)]=h;c[45]=62,c[95]=63;function t(g){var v=g.length;if(v%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var E=g.indexOf("=");E===-1&&(E=v);var _=E===v?0:4-E%4;return[E,_]}function n(g){var v=t(g),E=v[0],_=v[1];return(E+_)*3/4-_}function e(g,v,E){return(v+E)*3/4-E}function i(g){var v,E=t(g),_=E[0],O=E[1],y=new a(e(g,_,O)),A=0,x=O>0?_-4:_,w;for(w=0;w<x;w+=4)v=c[g.charCodeAt(w)]<<18|c[g.charCodeAt(w+1)]<<12|c[g.charCodeAt(w+2)]<<6|c[g.charCodeAt(w+3)],y[A++]=v>>16&255,y[A++]=v>>8&255,y[A++]=v&255;return O===2&&(v=c[g.charCodeAt(w)]<<2|c[g.charCodeAt(w+1)]>>4,y[A++]=v&255),O===1&&(v=c[g.charCodeAt(w)]<<10|c[g.charCodeAt(w+1)]<<4|c[g.charCodeAt(w+2)]>>2,y[A++]=v>>8&255,y[A++]=v&255),y}function s(g){return f[g>>18&63]+f[g>>12&63]+f[g>>6&63]+f[g&63]}function d(g,v,E){for(var _,O=[],y=v;y<E;y+=3)_=(g[y]<<16&16711680)+(g[y+1]<<8&65280)+(g[y+2]&255),O.push(s(_));return O.join("")}function p(g){for(var v,E=g.length,_=E%3,O=[],y=16383,A=0,x=E-_;A<x;A+=y)O.push(d(g,A,A+y>x?x:A+y));return _===1?(v=g[E-1],O.push(f[v>>2]+f[v<<4&63]+"==")):_===2&&(v=(g[E-2]<<8)+g[E-1],O.push(f[v>>10]+f[v>>4&63]+f[v<<2&63]+"=")),O.join("")}return sr}function Cu(){return mi?gr:(mi=!0,gr.read=function(f,c,a,l,h){var r,t,n=h*8-l-1,e=(1<<n)-1,i=e>>1,s=-7,d=a?h-1:0,p=a?-1:1,g=f[c+d];for(d+=p,r=g&(1<<-s)-1,g>>=-s,s+=n;s>0;r=r*256+f[c+d],d+=p,s-=8);for(t=r&(1<<-s)-1,r>>=-s,s+=l;s>0;t=t*256+f[c+d],d+=p,s-=8);if(r===0)r=1-i;else{if(r===e)return t?NaN:(g?-1:1)*(1/0);t=t+Math.pow(2,l),r=r-i}return(g?-1:1)*t*Math.pow(2,r-l)},gr.write=function(f,c,a,l,h,r){var t,n,e,i=r*8-h-1,s=(1<<i)-1,d=s>>1,p=h===23?Math.pow(2,-24)-Math.pow(2,-77):0,g=l?0:r-1,v=l?1:-1,E=c<0||c===0&&1/c<0?1:0;for(c=Math.abs(c),isNaN(c)||c===1/0?(n=isNaN(c)?1:0,t=s):(t=Math.floor(Math.log(c)/Math.LN2),c*(e=Math.pow(2,-t))<1&&(t--,e*=2),t+d>=1?c+=p/e:c+=p*Math.pow(2,1-d),c*e>=2&&(t++,e/=2),t+d>=s?(n=0,t=s):t+d>=1?(n=(c*e-1)*Math.pow(2,h),t=t+d):(n=c*Math.pow(2,d-1)*Math.pow(2,h),t=0));h>=8;f[a+g]=n&255,g+=v,n/=256,h-=8);for(t=t<<h|n,i+=h;i>0;f[a+g]=t&255,g+=v,t/=256,i-=8);f[a+g-v]|=E*128},gr)}function Ru(){if(bi)return Wt;bi=!0;let f=Tu(),c=Cu(),a=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;Wt.Buffer=t,Wt.SlowBuffer=O,Wt.INSPECT_MAX_BYTES=50;let l=2147483647;Wt.kMaxLength=l,t.TYPED_ARRAY_SUPPORT=h(),!t.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function h(){try{let o=new Uint8Array(1),u={foo:function(){return 42}};return Object.setPrototypeOf(u,Uint8Array.prototype),Object.setPrototypeOf(o,u),o.foo()===42}catch{return!1}}Object.defineProperty(t.prototype,"parent",{enumerable:!0,get:function(){if(t.isBuffer(this))return this.buffer}}),Object.defineProperty(t.prototype,"offset",{enumerable:!0,get:function(){if(t.isBuffer(this))return this.byteOffset}});function r(o){if(o>l)throw new RangeError('The value "'+o+'" is invalid for option "size"');let u=new Uint8Array(o);return Object.setPrototypeOf(u,t.prototype),u}function t(o,u,m){if(typeof o=="number"){if(typeof u=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return s(o)}return n(o,u,m)}t.poolSize=8192;function n(o,u,m){if(typeof o=="string")return d(o,u);if(ArrayBuffer.isView(o))return g(o);if(o==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof o);if(Q(o,ArrayBuffer)||o&&Q(o.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Q(o,SharedArrayBuffer)||o&&Q(o.buffer,SharedArrayBuffer)))return v(o,u,m);if(typeof o=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let R=o.valueOf&&o.valueOf();if(R!=null&&R!==o)return t.from(R,u,m);let N=E(o);if(N)return N;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof o[Symbol.toPrimitive]=="function")return t.from(o[Symbol.toPrimitive]("string"),u,m);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof o)}t.from=function(o,u,m){return n(o,u,m)},Object.setPrototypeOf(t.prototype,Uint8Array.prototype),Object.setPrototypeOf(t,Uint8Array);function e(o){if(typeof o!="number")throw new TypeError('"size" argument must be of type number');if(o<0)throw new RangeError('The value "'+o+'" is invalid for option "size"')}function i(o,u,m){return e(o),o<=0?r(o):u!==void 0?typeof m=="string"?r(o).fill(u,m):r(o).fill(u):r(o)}t.alloc=function(o,u,m){return i(o,u,m)};function s(o){return e(o),r(o<0?0:_(o)|0)}t.allocUnsafe=function(o){return s(o)},t.allocUnsafeSlow=function(o){return s(o)};function d(o,u){if((typeof u!="string"||u==="")&&(u="utf8"),!t.isEncoding(u))throw new TypeError("Unknown encoding: "+u);let m=y(o,u)|0,R=r(m),N=R.write(o,u);return N!==m&&(R=R.slice(0,N)),R}function p(o){let u=o.length<0?0:_(o.length)|0,m=r(u);for(let R=0;R<u;R+=1)m[R]=o[R]&255;return m}function g(o){if(Q(o,Uint8Array)){let u=new Uint8Array(o);return v(u.buffer,u.byteOffset,u.byteLength)}return p(o)}function v(o,u,m){if(u<0||o.byteLength<u)throw new RangeError('"offset" is outside of buffer bounds');if(o.byteLength<u+(m||0))throw new RangeError('"length" is outside of buffer bounds');let R;return u===void 0&&m===void 0?R=new Uint8Array(o):m===void 0?R=new Uint8Array(o,u):R=new Uint8Array(o,u,m),Object.setPrototypeOf(R,t.prototype),R}function E(o){if(t.isBuffer(o)){let u=_(o.length)|0,m=r(u);return m.length===0||o.copy(m,0,0,u),m}if(o.length!==void 0)return typeof o.length!="number"||Ae(o.length)?r(0):p(o);if(o.type==="Buffer"&&Array.isArray(o.data))return p(o.data)}function _(o){if(o>=l)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+l.toString(16)+" bytes");return o|0}function O(o){return+o!=o&&(o=0),t.alloc(+o)}t.isBuffer=function(o){return o!=null&&o._isBuffer===!0&&o!==t.prototype},t.compare=function(o,u){if(Q(o,Uint8Array)&&(o=t.from(o,o.offset,o.byteLength)),Q(u,Uint8Array)&&(u=t.from(u,u.offset,u.byteLength)),!t.isBuffer(o)||!t.isBuffer(u))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(o===u)return 0;let m=o.length,R=u.length;for(let N=0,H=Math.min(m,R);N<H;++N)if(o[N]!==u[N]){m=o[N],R=u[N];break}return m<R?-1:R<m?1:0},t.isEncoding=function(o){switch(String(o).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},t.concat=function(o,u){if(!Array.isArray(o))throw new TypeError('"list" argument must be an Array of Buffers');if(o.length===0)return t.alloc(0);let m;if(u===void 0)for(u=0,m=0;m<o.length;++m)u+=o[m].length;let R=t.allocUnsafe(u),N=0;for(m=0;m<o.length;++m){let H=o[m];if(Q(H,Uint8Array))N+H.length>R.length?(t.isBuffer(H)||(H=t.from(H)),H.copy(R,N)):Uint8Array.prototype.set.call(R,H,N);else if(t.isBuffer(H))H.copy(R,N);else throw new TypeError('"list" argument must be an Array of Buffers');N+=H.length}return R};function y(o,u){if(t.isBuffer(o))return o.length;if(ArrayBuffer.isView(o)||Q(o,ArrayBuffer))return o.byteLength;if(typeof o!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof o);let m=o.length,R=arguments.length>2&&arguments[2]===!0;if(!R&&m===0)return 0;let N=!1;for(;;)switch(u){case"ascii":case"latin1":case"binary":return m;case"utf8":case"utf-8":return G(o).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return m*2;case"hex":return m>>>1;case"base64":return ye(o).length;default:if(N)return R?-1:G(o).length;u=(""+u).toLowerCase(),N=!0}}t.byteLength=y;function A(o,u,m){let R=!1;if((u===void 0||u<0)&&(u=0),u>this.length||((m===void 0||m>this.length)&&(m=this.length),m<=0)||(m>>>=0,u>>>=0,m<=u))return"";for(o||(o="utf8");;)switch(o){case"hex":return re(this,u,m);case"utf8":case"utf-8":return K(this,u,m);case"ascii":return he(this,u,m);case"latin1":case"binary":return ie(this,u,m);case"base64":return T(this,u,m);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ce(this,u,m);default:if(R)throw new TypeError("Unknown encoding: "+o);o=(o+"").toLowerCase(),R=!0}}t.prototype._isBuffer=!0;function x(o,u,m){let R=o[u];o[u]=o[m],o[m]=R}t.prototype.swap16=function(){let o=this.length;if(o%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let u=0;u<o;u+=2)x(this,u,u+1);return this},t.prototype.swap32=function(){let o=this.length;if(o%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let u=0;u<o;u+=4)x(this,u,u+3),x(this,u+1,u+2);return this},t.prototype.swap64=function(){let o=this.length;if(o%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let u=0;u<o;u+=8)x(this,u,u+7),x(this,u+1,u+6),x(this,u+2,u+5),x(this,u+3,u+4);return this},t.prototype.toString=function(){let o=this.length;return o===0?"":arguments.length===0?K(this,0,o):A.apply(this,arguments)},t.prototype.toLocaleString=t.prototype.toString,t.prototype.equals=function(o){if(!t.isBuffer(o))throw new TypeError("Argument must be a Buffer");return this===o?!0:t.compare(this,o)===0},t.prototype.inspect=function(){let o="",u=Wt.INSPECT_MAX_BYTES;return o=this.toString("hex",0,u).replace(/(.{2})/g,"$1 ").trim(),this.length>u&&(o+=" ... "),"<Buffer "+o+">"},a&&(t.prototype[a]=t.prototype.inspect),t.prototype.compare=function(o,u,m,R,N){if(Q(o,Uint8Array)&&(o=t.from(o,o.offset,o.byteLength)),!t.isBuffer(o))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof o);if(u===void 0&&(u=0),m===void 0&&(m=o?o.length:0),R===void 0&&(R=0),N===void 0&&(N=this.length),u<0||m>o.length||R<0||N>this.length)throw new RangeError("out of range index");if(R>=N&&u>=m)return 0;if(R>=N)return-1;if(u>=m)return 1;if(u>>>=0,m>>>=0,R>>>=0,N>>>=0,this===o)return 0;let H=N-R,ge=m-u,q=Math.min(H,ge),oe=this.slice(R,N),Re=o.slice(u,m);for(let Te=0;Te<q;++Te)if(oe[Te]!==Re[Te]){H=oe[Te],ge=Re[Te];break}return H<ge?-1:ge<H?1:0};function w(o,u,m,R,N){if(o.length===0)return-1;if(typeof m=="string"?(R=m,m=0):m>2147483647?m=2147483647:m<-2147483648&&(m=-2147483648),m=+m,Ae(m)&&(m=N?0:o.length-1),m<0&&(m=o.length+m),m>=o.length){if(N)return-1;m=o.length-1}else if(m<0)if(N)m=0;else return-1;if(typeof u=="string"&&(u=t.from(u,R)),t.isBuffer(u))return u.length===0?-1:P(o,u,m,R,N);if(typeof u=="number")return u=u&255,typeof Uint8Array.prototype.indexOf=="function"?N?Uint8Array.prototype.indexOf.call(o,u,m):Uint8Array.prototype.lastIndexOf.call(o,u,m):P(o,[u],m,R,N);throw new TypeError("val must be string, number or Buffer")}function P(o,u,m,R,N){let H=1,ge=o.length,q=u.length;if(R!==void 0&&(R=String(R).toLowerCase(),R==="ucs2"||R==="ucs-2"||R==="utf16le"||R==="utf-16le")){if(o.length<2||u.length<2)return-1;H=2,ge/=2,q/=2,m/=2}function oe(Te,Ne){return H===1?Te[Ne]:Te.readUInt16BE(Ne*H)}let Re;if(N){let Te=-1;for(Re=m;Re<ge;Re++)if(oe(o,Re)===oe(u,Te===-1?0:Re-Te)){if(Te===-1&&(Te=Re),Re-Te+1===q)return Te*H}else Te!==-1&&(Re-=Re-Te),Te=-1}else for(m+q>ge&&(m=ge-q),Re=m;Re>=0;Re--){let Te=!0;for(let Ne=0;Ne<q;Ne++)if(oe(o,Re+Ne)!==oe(u,Ne)){Te=!1;break}if(Te)return Re}return-1}t.prototype.includes=function(o,u,m){return this.indexOf(o,u,m)!==-1},t.prototype.indexOf=function(o,u,m){return w(this,o,u,m,!0)},t.prototype.lastIndexOf=function(o,u,m){return w(this,o,u,m,!1)};function b(o,u,m,R){m=Number(m)||0;let N=o.length-m;R?(R=Number(R),R>N&&(R=N)):R=N;let H=u.length;R>H/2&&(R=H/2);let ge;for(ge=0;ge<R;++ge){let q=parseInt(u.substr(ge*2,2),16);if(Ae(q))return ge;o[m+ge]=q}return ge}function k(o,u,m,R){return Oe(G(u,o.length-m),o,m,R)}function C(o,u,m,R){return Oe(le(u),o,m,R)}function M(o,u,m,R){return Oe(ye(u),o,m,R)}function D(o,u,m,R){return Oe(_e(u,o.length-m),o,m,R)}t.prototype.write=function(o,u,m,R){if(u===void 0)R="utf8",m=this.length,u=0;else if(m===void 0&&typeof u=="string")R=u,m=this.length,u=0;else if(isFinite(u))u=u>>>0,isFinite(m)?(m=m>>>0,R===void 0&&(R="utf8")):(R=m,m=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let N=this.length-u;if((m===void 0||m>N)&&(m=N),o.length>0&&(m<0||u<0)||u>this.length)throw new RangeError("Attempt to write outside buffer bounds");R||(R="utf8");let H=!1;for(;;)switch(R){case"hex":return b(this,o,u,m);case"utf8":case"utf-8":return k(this,o,u,m);case"ascii":case"latin1":case"binary":return C(this,o,u,m);case"base64":return M(this,o,u,m);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,o,u,m);default:if(H)throw new TypeError("Unknown encoding: "+R);R=(""+R).toLowerCase(),H=!0}},t.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function T(o,u,m){return u===0&&m===o.length?f.fromByteArray(o):f.fromByteArray(o.slice(u,m))}function K(o,u,m){m=Math.min(o.length,m);let R=[],N=u;for(;N<m;){let H=o[N],ge=null,q=H>239?4:H>223?3:H>191?2:1;if(N+q<=m){let oe,Re,Te,Ne;switch(q){case 1:H<128&&(ge=H);break;case 2:oe=o[N+1],(oe&192)===128&&(Ne=(H&31)<<6|oe&63,Ne>127&&(ge=Ne));break;case 3:oe=o[N+1],Re=o[N+2],(oe&192)===128&&(Re&192)===128&&(Ne=(H&15)<<12|(oe&63)<<6|Re&63,Ne>2047&&(Ne<55296||Ne>57343)&&(ge=Ne));break;case 4:oe=o[N+1],Re=o[N+2],Te=o[N+3],(oe&192)===128&&(Re&192)===128&&(Te&192)===128&&(Ne=(H&15)<<18|(oe&63)<<12|(Re&63)<<6|Te&63,Ne>65535&&Ne<1114112&&(ge=Ne))}}ge===null?(ge=65533,q=1):ge>65535&&(ge-=65536,R.push(ge>>>10&1023|55296),ge=56320|ge&1023),R.push(ge),N+=q}return V(R)}let Y=4096;function V(o){let u=o.length;if(u<=Y)return String.fromCharCode.apply(String,o);let m="",R=0;for(;R<u;)m+=String.fromCharCode.apply(String,o.slice(R,R+=Y));return m}function he(o,u,m){let R="";m=Math.min(o.length,m);for(let N=u;N<m;++N)R+=String.fromCharCode(o[N]&127);return R}function ie(o,u,m){let R="";m=Math.min(o.length,m);for(let N=u;N<m;++N)R+=String.fromCharCode(o[N]);return R}function re(o,u,m){let R=o.length;(!u||u<0)&&(u=0),(!m||m<0||m>R)&&(m=R);let N="";for(let H=u;H<m;++H)N+=Pe[o[H]];return N}function ce(o,u,m){let R=o.slice(u,m),N="";for(let H=0;H<R.length-1;H+=2)N+=String.fromCharCode(R[H]+R[H+1]*256);return N}t.prototype.slice=function(o,u){let m=this.length;o=~~o,u=u===void 0?m:~~u,o<0?(o+=m,o<0&&(o=0)):o>m&&(o=m),u<0?(u+=m,u<0&&(u=0)):u>m&&(u=m),u<o&&(u=o);let R=this.subarray(o,u);return Object.setPrototypeOf(R,t.prototype),R};function z(o,u,m){if(o%1!==0||o<0)throw new RangeError("offset is not uint");if(o+u>m)throw new RangeError("Trying to access beyond buffer length")}t.prototype.readUintLE=t.prototype.readUIntLE=function(o,u,m){o=o>>>0,u=u>>>0,m||z(o,u,this.length);let R=this[o],N=1,H=0;for(;++H<u&&(N*=256);)R+=this[o+H]*N;return R},t.prototype.readUintBE=t.prototype.readUIntBE=function(o,u,m){o=o>>>0,u=u>>>0,m||z(o,u,this.length);let R=this[o+--u],N=1;for(;u>0&&(N*=256);)R+=this[o+--u]*N;return R},t.prototype.readUint8=t.prototype.readUInt8=function(o,u){return o=o>>>0,u||z(o,1,this.length),this[o]},t.prototype.readUint16LE=t.prototype.readUInt16LE=function(o,u){return o=o>>>0,u||z(o,2,this.length),this[o]|this[o+1]<<8},t.prototype.readUint16BE=t.prototype.readUInt16BE=function(o,u){return o=o>>>0,u||z(o,2,this.length),this[o]<<8|this[o+1]},t.prototype.readUint32LE=t.prototype.readUInt32LE=function(o,u){return o=o>>>0,u||z(o,4,this.length),(this[o]|this[o+1]<<8|this[o+2]<<16)+this[o+3]*16777216},t.prototype.readUint32BE=t.prototype.readUInt32BE=function(o,u){return o=o>>>0,u||z(o,4,this.length),this[o]*16777216+(this[o+1]<<16|this[o+2]<<8|this[o+3])},t.prototype.readBigUInt64LE=pe(function(o){o=o>>>0,ne(o,"offset");let u=this[o],m=this[o+7];(u===void 0||m===void 0)&&Ee(o,this.length-8);let R=u+this[++o]*2**8+this[++o]*2**16+this[++o]*2**24,N=this[++o]+this[++o]*2**8+this[++o]*2**16+m*2**24;return BigInt(R)+(BigInt(N)<<BigInt(32))}),t.prototype.readBigUInt64BE=pe(function(o){o=o>>>0,ne(o,"offset");let u=this[o],m=this[o+7];(u===void 0||m===void 0)&&Ee(o,this.length-8);let R=u*2**24+this[++o]*2**16+this[++o]*2**8+this[++o],N=this[++o]*2**24+this[++o]*2**16+this[++o]*2**8+m;return(BigInt(R)<<BigInt(32))+BigInt(N)}),t.prototype.readIntLE=function(o,u,m){o=o>>>0,u=u>>>0,m||z(o,u,this.length);let R=this[o],N=1,H=0;for(;++H<u&&(N*=256);)R+=this[o+H]*N;return N*=128,R>=N&&(R-=Math.pow(2,8*u)),R},t.prototype.readIntBE=function(o,u,m){o=o>>>0,u=u>>>0,m||z(o,u,this.length);let R=u,N=1,H=this[o+--R];for(;R>0&&(N*=256);)H+=this[o+--R]*N;return N*=128,H>=N&&(H-=Math.pow(2,8*u)),H},t.prototype.readInt8=function(o,u){return o=o>>>0,u||z(o,1,this.length),this[o]&128?(255-this[o]+1)*-1:this[o]},t.prototype.readInt16LE=function(o,u){o=o>>>0,u||z(o,2,this.length);let m=this[o]|this[o+1]<<8;return m&32768?m|4294901760:m},t.prototype.readInt16BE=function(o,u){o=o>>>0,u||z(o,2,this.length);let m=this[o+1]|this[o]<<8;return m&32768?m|4294901760:m},t.prototype.readInt32LE=function(o,u){return o=o>>>0,u||z(o,4,this.length),this[o]|this[o+1]<<8|this[o+2]<<16|this[o+3]<<24},t.prototype.readInt32BE=function(o,u){return o=o>>>0,u||z(o,4,this.length),this[o]<<24|this[o+1]<<16|this[o+2]<<8|this[o+3]},t.prototype.readBigInt64LE=pe(function(o){o=o>>>0,ne(o,"offset");let u=this[o],m=this[o+7];(u===void 0||m===void 0)&&Ee(o,this.length-8);let R=this[o+4]+this[o+5]*2**8+this[o+6]*2**16+(m<<24);return(BigInt(R)<<BigInt(32))+BigInt(u+this[++o]*2**8+this[++o]*2**16+this[++o]*2**24)}),t.prototype.readBigInt64BE=pe(function(o){o=o>>>0,ne(o,"offset");let u=this[o],m=this[o+7];(u===void 0||m===void 0)&&Ee(o,this.length-8);let R=(u<<24)+this[++o]*2**16+this[++o]*2**8+this[++o];return(BigInt(R)<<BigInt(32))+BigInt(this[++o]*2**24+this[++o]*2**16+this[++o]*2**8+m)}),t.prototype.readFloatLE=function(o,u){return o=o>>>0,u||z(o,4,this.length),c.read(this,o,!0,23,4)},t.prototype.readFloatBE=function(o,u){return o=o>>>0,u||z(o,4,this.length),c.read(this,o,!1,23,4)},t.prototype.readDoubleLE=function(o,u){return o=o>>>0,u||z(o,8,this.length),c.read(this,o,!0,52,8)},t.prototype.readDoubleBE=function(o,u){return o=o>>>0,u||z(o,8,this.length),c.read(this,o,!1,52,8)};function ae(o,u,m,R,N,H){if(!t.isBuffer(o))throw new TypeError('"buffer" argument must be a Buffer instance');if(u>N||u<H)throw new RangeError('"value" argument is out of bounds');if(m+R>o.length)throw new RangeError("Index out of range")}t.prototype.writeUintLE=t.prototype.writeUIntLE=function(o,u,m,R){if(o=+o,u=u>>>0,m=m>>>0,!R){let ge=Math.pow(2,8*m)-1;ae(this,o,u,m,ge,0)}let N=1,H=0;for(this[u]=o&255;++H<m&&(N*=256);)this[u+H]=o/N&255;return u+m},t.prototype.writeUintBE=t.prototype.writeUIntBE=function(o,u,m,R){if(o=+o,u=u>>>0,m=m>>>0,!R){let ge=Math.pow(2,8*m)-1;ae(this,o,u,m,ge,0)}let N=m-1,H=1;for(this[u+N]=o&255;--N>=0&&(H*=256);)this[u+N]=o/H&255;return u+m},t.prototype.writeUint8=t.prototype.writeUInt8=function(o,u,m){return o=+o,u=u>>>0,m||ae(this,o,u,1,255,0),this[u]=o&255,u+1},t.prototype.writeUint16LE=t.prototype.writeUInt16LE=function(o,u,m){return o=+o,u=u>>>0,m||ae(this,o,u,2,65535,0),this[u]=o&255,this[u+1]=o>>>8,u+2},t.prototype.writeUint16BE=t.prototype.writeUInt16BE=function(o,u,m){return o=+o,u=u>>>0,m||ae(this,o,u,2,65535,0),this[u]=o>>>8,this[u+1]=o&255,u+2},t.prototype.writeUint32LE=t.prototype.writeUInt32LE=function(o,u,m){return o=+o,u=u>>>0,m||ae(this,o,u,4,4294967295,0),this[u+3]=o>>>24,this[u+2]=o>>>16,this[u+1]=o>>>8,this[u]=o&255,u+4},t.prototype.writeUint32BE=t.prototype.writeUInt32BE=function(o,u,m){return o=+o,u=u>>>0,m||ae(this,o,u,4,4294967295,0),this[u]=o>>>24,this[u+1]=o>>>16,this[u+2]=o>>>8,this[u+3]=o&255,u+4};function B(o,u,m,R,N){X(u,R,N,o,m,7);let H=Number(u&BigInt(4294967295));o[m++]=H,H=H>>8,o[m++]=H,H=H>>8,o[m++]=H,H=H>>8,o[m++]=H;let ge=Number(u>>BigInt(32)&BigInt(4294967295));return o[m++]=ge,ge=ge>>8,o[m++]=ge,ge=ge>>8,o[m++]=ge,ge=ge>>8,o[m++]=ge,m}function te(o,u,m,R,N){X(u,R,N,o,m,7);let H=Number(u&BigInt(4294967295));o[m+7]=H,H=H>>8,o[m+6]=H,H=H>>8,o[m+5]=H,H=H>>8,o[m+4]=H;let ge=Number(u>>BigInt(32)&BigInt(4294967295));return o[m+3]=ge,ge=ge>>8,o[m+2]=ge,ge=ge>>8,o[m+1]=ge,ge=ge>>8,o[m]=ge,m+8}t.prototype.writeBigUInt64LE=pe(function(o,u=0){return B(this,o,u,BigInt(0),BigInt("0xffffffffffffffff"))}),t.prototype.writeBigUInt64BE=pe(function(o,u=0){return te(this,o,u,BigInt(0),BigInt("0xffffffffffffffff"))}),t.prototype.writeIntLE=function(o,u,m,R){if(o=+o,u=u>>>0,!R){let q=Math.pow(2,8*m-1);ae(this,o,u,m,q-1,-q)}let N=0,H=1,ge=0;for(this[u]=o&255;++N<m&&(H*=256);)o<0&&ge===0&&this[u+N-1]!==0&&(ge=1),this[u+N]=(o/H>>0)-ge&255;return u+m},t.prototype.writeIntBE=function(o,u,m,R){if(o=+o,u=u>>>0,!R){let q=Math.pow(2,8*m-1);ae(this,o,u,m,q-1,-q)}let N=m-1,H=1,ge=0;for(this[u+N]=o&255;--N>=0&&(H*=256);)o<0&&ge===0&&this[u+N+1]!==0&&(ge=1),this[u+N]=(o/H>>0)-ge&255;return u+m},t.prototype.writeInt8=function(o,u,m){return o=+o,u=u>>>0,m||ae(this,o,u,1,127,-128),o<0&&(o=255+o+1),this[u]=o&255,u+1},t.prototype.writeInt16LE=function(o,u,m){return o=+o,u=u>>>0,m||ae(this,o,u,2,32767,-32768),this[u]=o&255,this[u+1]=o>>>8,u+2},t.prototype.writeInt16BE=function(o,u,m){return o=+o,u=u>>>0,m||ae(this,o,u,2,32767,-32768),this[u]=o>>>8,this[u+1]=o&255,u+2},t.prototype.writeInt32LE=function(o,u,m){return o=+o,u=u>>>0,m||ae(this,o,u,4,2147483647,-2147483648),this[u]=o&255,this[u+1]=o>>>8,this[u+2]=o>>>16,this[u+3]=o>>>24,u+4},t.prototype.writeInt32BE=function(o,u,m){return o=+o,u=u>>>0,m||ae(this,o,u,4,2147483647,-2147483648),o<0&&(o=4294967295+o+1),this[u]=o>>>24,this[u+1]=o>>>16,this[u+2]=o>>>8,this[u+3]=o&255,u+4},t.prototype.writeBigInt64LE=pe(function(o,u=0){return B(this,o,u,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),t.prototype.writeBigInt64BE=pe(function(o,u=0){return te(this,o,u,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Z(o,u,m,R,N,H){if(m+R>o.length)throw new RangeError("Index out of range");if(m<0)throw new RangeError("Index out of range")}function ue(o,u,m,R,N){return u=+u,m=m>>>0,N||Z(o,u,m,4),c.write(o,u,m,R,23,4),m+4}t.prototype.writeFloatLE=function(o,u,m){return ue(this,o,u,!0,m)},t.prototype.writeFloatBE=function(o,u,m){return ue(this,o,u,!1,m)};function Ie(o,u,m,R,N){return u=+u,m=m>>>0,N||Z(o,u,m,8),c.write(o,u,m,R,52,8),m+8}t.prototype.writeDoubleLE=function(o,u,m){return Ie(this,o,u,!0,m)},t.prototype.writeDoubleBE=function(o,u,m){return Ie(this,o,u,!1,m)},t.prototype.copy=function(o,u,m,R){if(!t.isBuffer(o))throw new TypeError("argument should be a Buffer");if(m||(m=0),!R&&R!==0&&(R=this.length),u>=o.length&&(u=o.length),u||(u=0),R>0&&R<m&&(R=m),R===m||o.length===0||this.length===0)return 0;if(u<0)throw new RangeError("targetStart out of bounds");if(m<0||m>=this.length)throw new RangeError("Index out of range");if(R<0)throw new RangeError("sourceEnd out of bounds");R>this.length&&(R=this.length),o.length-u<R-m&&(R=o.length-u+m);let N=R-m;return this===o&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(u,m,R):Uint8Array.prototype.set.call(o,this.subarray(m,R),u),N},t.prototype.fill=function(o,u,m,R){if(typeof o=="string"){if(typeof u=="string"?(R=u,u=0,m=this.length):typeof m=="string"&&(R=m,m=this.length),R!==void 0&&typeof R!="string")throw new TypeError("encoding must be a string");if(typeof R=="string"&&!t.isEncoding(R))throw new TypeError("Unknown encoding: "+R);if(o.length===1){let H=o.charCodeAt(0);(R==="utf8"&&H<128||R==="latin1")&&(o=H)}}else typeof o=="number"?o=o&255:typeof o=="boolean"&&(o=Number(o));if(u<0||this.length<u||this.length<m)throw new RangeError("Out of range index");if(m<=u)return this;u=u>>>0,m=m===void 0?this.length:m>>>0,o||(o=0);let N;if(typeof o=="number")for(N=u;N<m;++N)this[N]=o;else{let H=t.isBuffer(o)?o:t.from(o,R),ge=H.length;if(ge===0)throw new TypeError('The value "'+o+'" is invalid for argument "value"');for(N=0;N<m-u;++N)this[N+u]=H[N%ge]}return this};let J={};function $(o,u,m){J[o]=class extends m{constructor(){super(),Object.defineProperty(this,"message",{value:u.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${o}]`,this.stack,delete this.name}get code(){return o}set code(R){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:R,writable:!0})}toString(){return`${this.name} [${o}]: ${this.message}`}}}$("ERR_BUFFER_OUT_OF_BOUNDS",function(o){return o?`${o} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),$("ERR_INVALID_ARG_TYPE",function(o,u){return`The "${o}" argument must be of type number. Received type ${typeof u}`},TypeError),$("ERR_OUT_OF_RANGE",function(o,u,m){let R=`The value of "${o}" is out of range.`,N=m;return Number.isInteger(m)&&Math.abs(m)>2**32?N=se(String(m)):typeof m=="bigint"&&(N=String(m),(m>BigInt(2)**BigInt(32)||m<-(BigInt(2)**BigInt(32)))&&(N=se(N)),N+="n"),R+=` It must be ${u}. Received ${N}`,R},RangeError);function se(o){let u="",m=o.length,R=o[0]==="-"?1:0;for(;m>=R+4;m-=3)u=`_${o.slice(m-3,m)}${u}`;return`${o.slice(0,m)}${u}`}function ee(o,u,m){ne(u,"offset"),(o[u]===void 0||o[u+m]===void 0)&&Ee(u,o.length-(m+1))}function X(o,u,m,R,N,H){if(o>m||o<u){let ge=typeof u=="bigint"?"n":"",q;throw u===0||u===BigInt(0)?q=`>= 0${ge} and < 2${ge} ** ${(H+1)*8}${ge}`:q=`>= -(2${ge} ** ${(H+1)*8-1}${ge}) and < 2 ** ${(H+1)*8-1}${ge}`,new J.ERR_OUT_OF_RANGE("value",q,o)}ee(R,N,H)}function ne(o,u){if(typeof o!="number")throw new J.ERR_INVALID_ARG_TYPE(u,"number",o)}function Ee(o,u,m){throw Math.floor(o)!==o?(ne(o,m),new J.ERR_OUT_OF_RANGE("offset","an integer",o)):u<0?new J.ERR_BUFFER_OUT_OF_BOUNDS:new J.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${u}`,o)}let de=/[^+/0-9A-Za-z-_]/g;function L(o){if(o=o.split("=")[0],o=o.trim().replace(de,""),o.length<2)return"";for(;o.length%4!==0;)o=o+"=";return o}function G(o,u){u=u||1/0;let m,R=o.length,N=null,H=[];for(let ge=0;ge<R;++ge){if(m=o.charCodeAt(ge),m>55295&&m<57344){if(!N){if(m>56319){(u-=3)>-1&&H.push(239,191,189);continue}else if(ge+1===R){(u-=3)>-1&&H.push(239,191,189);continue}N=m;continue}if(m<56320){(u-=3)>-1&&H.push(239,191,189),N=m;continue}m=(N-55296<<10|m-56320)+65536}else N&&(u-=3)>-1&&H.push(239,191,189);if(N=null,m<128){if((u-=1)<0)break;H.push(m)}else if(m<2048){if((u-=2)<0)break;H.push(m>>6|192,m&63|128)}else if(m<65536){if((u-=3)<0)break;H.push(m>>12|224,m>>6&63|128,m&63|128)}else if(m<1114112){if((u-=4)<0)break;H.push(m>>18|240,m>>12&63|128,m>>6&63|128,m&63|128)}else throw new Error("Invalid code point")}return H}function le(o){let u=[];for(let m=0;m<o.length;++m)u.push(o.charCodeAt(m)&255);return u}function _e(o,u){let m,R,N,H=[];for(let ge=0;ge<o.length&&!((u-=2)<0);++ge)m=o.charCodeAt(ge),R=m>>8,N=m%256,H.push(N),H.push(R);return H}function ye(o){return f.toByteArray(L(o))}function Oe(o,u,m,R){let N;for(N=0;N<R&&!(N+m>=u.length||N>=o.length);++N)u[N+m]=o[N];return N}function Q(o,u){return o instanceof u||o!=null&&o.constructor!=null&&o.constructor.name!=null&&o.constructor.name===u.name}function Ae(o){return o!==o}let Pe=(function(){let o="0123456789abcdef",u=new Array(256);for(let m=0;m<16;++m){let R=m*16;for(let N=0;N<16;++N)u[R+N]=o[m]+o[N]}return u})();function pe(o){return typeof BigInt>"u"?Me:o}function Me(){throw new Error("BigInt not supported")}return Wt}var sr,yi,gr,mi,Wt,bi,ju=vt(()=>{be(),we(),ve(),sr={},yi=!1,gr={},mi=!1,Wt={},bi=!1}),st={};ur(st,{Buffer:()=>Zr,INSPECT_MAX_BYTES:()=>ra,default:()=>Tt,kMaxLength:()=>na});var Tt,Zr,ra,na,at=vt(()=>{be(),we(),ve(),ju(),Tt=Ru(),Tt.Buffer,Tt.SlowBuffer,Tt.INSPECT_MAX_BYTES,Tt.kMaxLength,Zr=Tt.Buffer,ra=Tt.INSPECT_MAX_BYTES,na=Tt.kMaxLength}),we=vt(()=>{at()}),Ze=xe((f,c)=>{be(),we(),ve();var a=class extends Error{constructor(l){if(!Array.isArray(l))throw new TypeError(`Expected input to be an Array, got ${typeof l}`);let h="";for(let r=0;r<l.length;r++)h+=`    ${l[r].stack}
`;super(h),this.name="AggregateError",this.errors=l}};c.exports={AggregateError:a,ArrayIsArray(l){return Array.isArray(l)},ArrayPrototypeIncludes(l,h){return l.includes(h)},ArrayPrototypeIndexOf(l,h){return l.indexOf(h)},ArrayPrototypeJoin(l,h){return l.join(h)},ArrayPrototypeMap(l,h){return l.map(h)},ArrayPrototypePop(l,h){return l.pop(h)},ArrayPrototypePush(l,h){return l.push(h)},ArrayPrototypeSlice(l,h,r){return l.slice(h,r)},Error,FunctionPrototypeCall(l,h,...r){return l.call(h,...r)},FunctionPrototypeSymbolHasInstance(l,h){return Function.prototype[Symbol.hasInstance].call(l,h)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(l,h){return Object.defineProperties(l,h)},ObjectDefineProperty(l,h,r){return Object.defineProperty(l,h,r)},ObjectGetOwnPropertyDescriptor(l,h){return Object.getOwnPropertyDescriptor(l,h)},ObjectKeys(l){return Object.keys(l)},ObjectSetPrototypeOf(l,h){return Object.setPrototypeOf(l,h)},Promise,PromisePrototypeCatch(l,h){return l.catch(h)},PromisePrototypeThen(l,h,r){return l.then(h,r)},PromiseReject(l){return Promise.reject(l)},PromiseResolve(l){return Promise.resolve(l)},ReflectApply:Reflect.apply,RegExpPrototypeTest(l,h){return l.test(h)},SafeSet:Set,String,StringPrototypeSlice(l,h,r){return l.slice(h,r)},StringPrototypeToLowerCase(l){return l.toLowerCase()},StringPrototypeToUpperCase(l){return l.toUpperCase()},StringPrototypeTrim(l){return l.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(l,h,r){return l.set(h,r)},Boolean,Uint8Array}}),ia=xe((f,c)=>{be(),we(),ve(),c.exports={format(a,...l){return a.replace(/%([sdifj])/g,function(...[h,r]){let t=l.shift();return r==="f"?t.toFixed(6):r==="j"?JSON.stringify(t):r==="s"&&typeof t=="object"?`${t.constructor!==Object?t.constructor.name:""} {}`.trim():t.toString()})},inspect(a){switch(typeof a){case"string":if(a.includes("'"))if(a.includes('"')){if(!a.includes("`")&&!a.includes("${"))return`\`${a}\``}else return`"${a}"`;return`'${a}'`;case"number":return isNaN(a)?"NaN":Object.is(a,-0)?String(a):a;case"bigint":return`${String(a)}n`;case"boolean":case"undefined":return String(a);case"object":return"{}"}}}}),yt=xe((f,c)=>{be(),we(),ve();var{format:a,inspect:l}=ia(),{AggregateError:h}=Ze(),r=globalThis.AggregateError||h,t=Symbol("kIsNodeError"),n=["string","function","number","object","Function","Object","boolean","bigint","symbol"],e=/^([A-Z][a-z0-9]*)+$/,i="__node_internal_",s={};function d(y,A){if(!y)throw new s.ERR_INTERNAL_ASSERTION(A)}function p(y){let A="",x=y.length,w=y[0]==="-"?1:0;for(;x>=w+4;x-=3)A=`_${y.slice(x-3,x)}${A}`;return`${y.slice(0,x)}${A}`}function g(y,A,x){if(typeof A=="function")return d(A.length<=x.length,`Code: ${y}; The provided arguments length (${x.length}) does not match the required ones (${A.length}).`),A(...x);let w=(A.match(/%[dfijoOs]/g)||[]).length;return d(w===x.length,`Code: ${y}; The provided arguments length (${x.length}) does not match the required ones (${w}).`),x.length===0?A:a(A,...x)}function v(y,A,x){x||(x=Error);class w extends x{constructor(...b){super(g(y,A,b))}toString(){return`${this.name} [${y}]: ${this.message}`}}Object.defineProperties(w.prototype,{name:{value:x.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${y}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),w.prototype.code=y,w.prototype[t]=!0,s[y]=w}function E(y){let A=i+y.name;return Object.defineProperty(y,"name",{value:A}),y}function _(y,A){if(y&&A&&y!==A){if(Array.isArray(A.errors))return A.errors.push(y),A;let x=new r([A,y],A.message);return x.code=A.code,x}return y||A}var O=class extends Error{constructor(y="The operation was aborted",A=void 0){if(A!==void 0&&typeof A!="object")throw new s.ERR_INVALID_ARG_TYPE("options","Object",A);super(y,A),this.code="ABORT_ERR",this.name="AbortError"}};v("ERR_ASSERTION","%s",Error),v("ERR_INVALID_ARG_TYPE",(y,A,x)=>{d(typeof y=="string","'name' must be a string"),Array.isArray(A)||(A=[A]);let w="The ";y.endsWith(" argument")?w+=`${y} `:w+=`"${y}" ${y.includes(".")?"property":"argument"} `,w+="must be ";let P=[],b=[],k=[];for(let M of A)d(typeof M=="string","All expected entries have to be of type string"),n.includes(M)?P.push(M.toLowerCase()):e.test(M)?b.push(M):(d(M!=="object",'The value "object" should be written as "Object"'),k.push(M));if(b.length>0){let M=P.indexOf("object");M!==-1&&(P.splice(P,M,1),b.push("Object"))}if(P.length>0){switch(P.length){case 1:w+=`of type ${P[0]}`;break;case 2:w+=`one of type ${P[0]} or ${P[1]}`;break;default:{let M=P.pop();w+=`one of type ${P.join(", ")}, or ${M}`}}(b.length>0||k.length>0)&&(w+=" or ")}if(b.length>0){switch(b.length){case 1:w+=`an instance of ${b[0]}`;break;case 2:w+=`an instance of ${b[0]} or ${b[1]}`;break;default:{let M=b.pop();w+=`an instance of ${b.join(", ")}, or ${M}`}}k.length>0&&(w+=" or ")}switch(k.length){case 0:break;case 1:k[0].toLowerCase()!==k[0]&&(w+="an "),w+=`${k[0]}`;break;case 2:w+=`one of ${k[0]} or ${k[1]}`;break;default:{let M=k.pop();w+=`one of ${k.join(", ")}, or ${M}`}}if(x==null)w+=`. Received ${x}`;else if(typeof x=="function"&&x.name)w+=`. Received function ${x.name}`;else if(typeof x=="object"){var C;if((C=x.constructor)!==null&&C!==void 0&&C.name)w+=`. Received an instance of ${x.constructor.name}`;else{let M=l(x,{depth:-1});w+=`. Received ${M}`}}else{let M=l(x,{colors:!1});M.length>25&&(M=`${M.slice(0,25)}...`),w+=`. Received type ${typeof x} (${M})`}return w},TypeError),v("ERR_INVALID_ARG_VALUE",(y,A,x="is invalid")=>{let w=l(A);return w.length>128&&(w=w.slice(0,128)+"..."),`The ${y.includes(".")?"property":"argument"} '${y}' ${x}. Received ${w}`},TypeError),v("ERR_INVALID_RETURN_VALUE",(y,A,x)=>{var w;let P=x!=null&&(w=x.constructor)!==null&&w!==void 0&&w.name?`instance of ${x.constructor.name}`:`type ${typeof x}`;return`Expected ${y} to be returned from the "${A}" function but got ${P}.`},TypeError),v("ERR_MISSING_ARGS",(...y)=>{d(y.length>0,"At least one arg needs to be specified");let A,x=y.length;switch(y=(Array.isArray(y)?y:[y]).map(w=>`"${w}"`).join(" or "),x){case 1:A+=`The ${y[0]} argument`;break;case 2:A+=`The ${y[0]} and ${y[1]} arguments`;break;default:{let w=y.pop();A+=`The ${y.join(", ")}, and ${w} arguments`}break}return`${A} must be specified`},TypeError),v("ERR_OUT_OF_RANGE",(y,A,x)=>{d(A,'Missing "range" argument');let w;if(Number.isInteger(x)&&Math.abs(x)>2**32)w=p(String(x));else if(typeof x=="bigint"){w=String(x);let P=BigInt(2)**BigInt(32);(x>P||x<-P)&&(w=p(w)),w+="n"}else w=l(x);return`The value of "${y}" is out of range. It must be ${A}. Received ${w}`},RangeError),v("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),v("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),v("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),v("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),v("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),v("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),v("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),v("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),v("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),v("ERR_STREAM_WRITE_AFTER_END","write after end",Error),v("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),c.exports={AbortError:O,aggregateTwoErrors:E(_),hideStackFrames:E,codes:s}}),wr=xe((f,c)=>{be(),we(),ve();var{AbortController:a,AbortSignal:l}=typeof self<"u"?self:typeof window<"u"?window:void 0;c.exports=a,c.exports.AbortSignal=l,c.exports.default=a}),Kt={};ur(Kt,{EventEmitter:()=>oa,default:()=>ar,defaultMaxListeners:()=>sa,init:()=>aa,listenerCount:()=>la,on:()=>ua,once:()=>ca});function Mu(){if(vi)return yr;vi=!0;var f=typeof Reflect=="object"?Reflect:null,c=f&&typeof f.apply=="function"?f.apply:function(x,w,P){return Function.prototype.apply.call(x,w,P)},a;f&&typeof f.ownKeys=="function"?a=f.ownKeys:Object.getOwnPropertySymbols?a=function(x){return Object.getOwnPropertyNames(x).concat(Object.getOwnPropertySymbols(x))}:a=function(x){return Object.getOwnPropertyNames(x)};function l(x){console&&console.warn&&console.warn(x)}var h=Number.isNaN||function(x){return x!==x};function r(){r.init.call(this)}yr=r,yr.once=O,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._eventsCount=0,r.prototype._maxListeners=void 0;var t=10;function n(x){if(typeof x!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof x)}Object.defineProperty(r,"defaultMaxListeners",{enumerable:!0,get:function(){return t},set:function(x){if(typeof x!="number"||x<0||h(x))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+x+".");t=x}}),r.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},r.prototype.setMaxListeners=function(x){if(typeof x!="number"||x<0||h(x))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+x+".");return this._maxListeners=x,this};function e(x){return x._maxListeners===void 0?r.defaultMaxListeners:x._maxListeners}r.prototype.getMaxListeners=function(){return e(this)},r.prototype.emit=function(x){for(var w=[],P=1;P<arguments.length;P++)w.push(arguments[P]);var b=x==="error",k=this._events;if(k!==void 0)b=b&&k.error===void 0;else if(!b)return!1;if(b){var C;if(w.length>0&&(C=w[0]),C instanceof Error)throw C;var M=new Error("Unhandled error."+(C?" ("+C.message+")":""));throw M.context=C,M}var D=k[x];if(D===void 0)return!1;if(typeof D=="function")c(D,this,w);else for(var T=D.length,K=v(D,T),P=0;P<T;++P)c(K[P],this,w);return!0};function i(x,w,P,b){var k,C,M;if(n(P),C=x._events,C===void 0?(C=x._events=Object.create(null),x._eventsCount=0):(C.newListener!==void 0&&(x.emit("newListener",w,P.listener?P.listener:P),C=x._events),M=C[w]),M===void 0)M=C[w]=P,++x._eventsCount;else if(typeof M=="function"?M=C[w]=b?[P,M]:[M,P]:b?M.unshift(P):M.push(P),k=e(x),k>0&&M.length>k&&!M.warned){M.warned=!0;var D=new Error("Possible EventEmitter memory leak detected. "+M.length+" "+String(w)+" listeners added. Use emitter.setMaxListeners() to increase limit");D.name="MaxListenersExceededWarning",D.emitter=x,D.type=w,D.count=M.length,l(D)}return x}r.prototype.addListener=function(x,w){return i(this,x,w,!1)},r.prototype.on=r.prototype.addListener,r.prototype.prependListener=function(x,w){return i(this,x,w,!0)};function s(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(x,w,P){var b={fired:!1,wrapFn:void 0,target:x,type:w,listener:P},k=s.bind(b);return k.listener=P,b.wrapFn=k,k}r.prototype.once=function(x,w){return n(w),this.on(x,d(this,x,w)),this},r.prototype.prependOnceListener=function(x,w){return n(w),this.prependListener(x,d(this,x,w)),this},r.prototype.removeListener=function(x,w){var P,b,k,C,M;if(n(w),b=this._events,b===void 0)return this;if(P=b[x],P===void 0)return this;if(P===w||P.listener===w)--this._eventsCount===0?this._events=Object.create(null):(delete b[x],b.removeListener&&this.emit("removeListener",x,P.listener||w));else if(typeof P!="function"){for(k=-1,C=P.length-1;C>=0;C--)if(P[C]===w||P[C].listener===w){M=P[C].listener,k=C;break}if(k<0)return this;k===0?P.shift():E(P,k),P.length===1&&(b[x]=P[0]),b.removeListener!==void 0&&this.emit("removeListener",x,M||w)}return this},r.prototype.off=r.prototype.removeListener,r.prototype.removeAllListeners=function(x){var w,P,b;if(P=this._events,P===void 0)return this;if(P.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):P[x]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete P[x]),this;if(arguments.length===0){var k=Object.keys(P),C;for(b=0;b<k.length;++b)C=k[b],C!=="removeListener"&&this.removeAllListeners(C);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(w=P[x],typeof w=="function")this.removeListener(x,w);else if(w!==void 0)for(b=w.length-1;b>=0;b--)this.removeListener(x,w[b]);return this};function p(x,w,P){var b=x._events;if(b===void 0)return[];var k=b[w];return k===void 0?[]:typeof k=="function"?P?[k.listener||k]:[k]:P?_(k):v(k,k.length)}r.prototype.listeners=function(x){return p(this,x,!0)},r.prototype.rawListeners=function(x){return p(this,x,!1)},r.listenerCount=function(x,w){return typeof x.listenerCount=="function"?x.listenerCount(w):g.call(x,w)},r.prototype.listenerCount=g;function g(x){var w=this._events;if(w!==void 0){var P=w[x];if(typeof P=="function")return 1;if(P!==void 0)return P.length}return 0}r.prototype.eventNames=function(){return this._eventsCount>0?a(this._events):[]};function v(x,w){for(var P=new Array(w),b=0;b<w;++b)P[b]=x[b];return P}function E(x,w){for(;w+1<x.length;w++)x[w]=x[w+1];x.pop()}function _(x){for(var w=new Array(x.length),P=0;P<w.length;++P)w[P]=x[P].listener||x[P];return w}function O(x,w){return new Promise(function(P,b){function k(M){x.removeListener(w,C),b(M)}function C(){typeof x.removeListener=="function"&&x.removeListener("error",k),P([].slice.call(arguments))}A(x,w,C,{once:!0}),w!=="error"&&y(x,k,{once:!0})})}function y(x,w,P){typeof x.on=="function"&&A(x,"error",w,P)}function A(x,w,P,b){if(typeof x.on=="function")b.once?x.once(w,P):x.on(w,P);else if(typeof x.addEventListener=="function")x.addEventListener(w,function k(C){b.once&&x.removeEventListener(w,k),P(C)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof x)}return yr}var yr,vi,ar,oa,sa,aa,la,ua,ca,rr=vt(()=>{be(),we(),ve(),yr={},vi=!1,ar=Mu(),ar.once,ar.once=function(f,c){return new Promise((a,l)=>{function h(...t){r!==void 0&&f.removeListener("error",r),a(t)}let r;c!=="error"&&(r=t=>{f.removeListener(name,h),l(t)},f.once("error",r)),f.once(c,h)})},ar.on=function(f,c){let a=[],l=[],h=null,r=!1,t={async next(){let i=a.shift();if(i)return createIterResult(i,!1);if(h){let s=Promise.reject(h);return h=null,s}return r?createIterResult(void 0,!0):new Promise((s,d)=>l.push({resolve:s,reject:d}))},async return(){f.removeListener(c,n),f.removeListener("error",e),r=!0;for(let i of l)i.resolve(createIterResult(void 0,!0));return createIterResult(void 0,!0)},throw(i){h=i,f.removeListener(c,n),f.removeListener("error",e)},[Symbol.asyncIterator](){return this}};return f.on(c,n),f.on("error",e),t;function n(...i){let s=l.shift();s?s.resolve(createIterResult(i,!1)):a.push(i)}function e(i){r=!0;let s=l.shift();s?s.reject(i):h=i,t.return()}},{EventEmitter:oa,defaultMaxListeners:sa,init:aa,listenerCount:la,on:ua,once:ca}=ar}),bt=xe((f,c)=>{be(),we(),ve();var a=(at(),He(st)),{format:l,inspect:h}=ia(),{codes:{ERR_INVALID_ARG_TYPE:r}}=yt(),{kResistStopPropagation:t,AggregateError:n,SymbolDispose:e}=Ze(),i=globalThis.AbortSignal||wr().AbortSignal,s=globalThis.AbortController||wr().AbortController,d=Object.getPrototypeOf(async function(){}).constructor,p=globalThis.Blob||a.Blob,g=typeof p<"u"?function(_){return _ instanceof p}:function(_){return!1},v=(_,O)=>{if(_!==void 0&&(_===null||typeof _!="object"||!("aborted"in _)))throw new r(O,"AbortSignal",_)},E=(_,O)=>{if(typeof _!="function")throw new r(O,"Function",_)};c.exports={AggregateError:n,kEmptyObject:Object.freeze({}),once(_){let O=!1;return function(...y){O||(O=!0,_.apply(this,y))}},createDeferredPromise:function(){let _,O;return{promise:new Promise((y,A)=>{_=y,O=A}),resolve:_,reject:O}},promisify(_){return new Promise((O,y)=>{_((A,...x)=>A?y(A):O(...x))})},debuglog(){return function(){}},format:l,inspect:h,types:{isAsyncFunction(_){return _ instanceof d},isArrayBufferView(_){return ArrayBuffer.isView(_)}},isBlob:g,deprecate(_,O){return _},addAbortListener:(rr(),He(Kt)).addAbortListener||function(_,O){if(_===void 0)throw new r("signal","AbortSignal",_);v(_,"signal"),E(O,"listener");let y;return _.aborted?queueMicrotask(()=>O()):(_.addEventListener("abort",O,{__proto__:null,once:!0,[t]:!0}),y=()=>{_.removeEventListener("abort",O)}),{__proto__:null,[e](){var A;(A=y)===null||A===void 0||A()}}},AbortSignalAny:i.any||function(_){if(_.length===1)return _[0];let O=new s,y=()=>O.abort();return _.forEach(A=>{v(A,"signals"),A.addEventListener("abort",y,{once:!0})}),O.signal.addEventListener("abort",()=>{_.forEach(A=>A.removeEventListener("abort",y))},{once:!0}),O.signal}},c.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")}),_r=xe((f,c)=>{be(),we(),ve();var{ArrayIsArray:a,ArrayPrototypeIncludes:l,ArrayPrototypeJoin:h,ArrayPrototypeMap:r,NumberIsInteger:t,NumberIsNaN:n,NumberMAX_SAFE_INTEGER:e,NumberMIN_SAFE_INTEGER:i,NumberParseInt:s,ObjectPrototypeHasOwnProperty:d,RegExpPrototypeExec:p,String:g,StringPrototypeToUpperCase:v,StringPrototypeTrim:E}=Ze(),{hideStackFrames:_,codes:{ERR_SOCKET_BAD_PORT:O,ERR_INVALID_ARG_TYPE:y,ERR_INVALID_ARG_VALUE:A,ERR_OUT_OF_RANGE:x,ERR_UNKNOWN_SIGNAL:w}}=yt(),{normalizeEncoding:P}=bt(),{isAsyncFunction:b,isArrayBufferView:k}=bt().types,C={};function M(Q){return Q===(Q|0)}function D(Q){return Q===Q>>>0}var T=/^[0-7]+$/,K="must be a 32-bit unsigned integer or an octal string";function Y(Q,Ae,Pe){if(typeof Q>"u"&&(Q=Pe),typeof Q=="string"){if(p(T,Q)===null)throw new A(Ae,Q,K);Q=s(Q,8)}return ie(Q,Ae),Q}var V=_((Q,Ae,Pe=i,pe=e)=>{if(typeof Q!="number")throw new y(Ae,"number",Q);if(!t(Q))throw new x(Ae,"an integer",Q);if(Q<Pe||Q>pe)throw new x(Ae,`>= ${Pe} && <= ${pe}`,Q)}),he=_((Q,Ae,Pe=-2147483648,pe=2147483647)=>{if(typeof Q!="number")throw new y(Ae,"number",Q);if(!t(Q))throw new x(Ae,"an integer",Q);if(Q<Pe||Q>pe)throw new x(Ae,`>= ${Pe} && <= ${pe}`,Q)}),ie=_((Q,Ae,Pe=!1)=>{if(typeof Q!="number")throw new y(Ae,"number",Q);if(!t(Q))throw new x(Ae,"an integer",Q);let pe=Pe?1:0,Me=4294967295;if(Q<pe||Q>Me)throw new x(Ae,`>= ${pe} && <= ${Me}`,Q)});function re(Q,Ae){if(typeof Q!="string")throw new y(Ae,"string",Q)}function ce(Q,Ae,Pe=void 0,pe){if(typeof Q!="number")throw new y(Ae,"number",Q);if(Pe!=null&&Q<Pe||pe!=null&&Q>pe||(Pe!=null||pe!=null)&&n(Q))throw new x(Ae,`${Pe!=null?`>= ${Pe}`:""}${Pe!=null&&pe!=null?" && ":""}${pe!=null?`<= ${pe}`:""}`,Q)}var z=_((Q,Ae,Pe)=>{if(!l(Pe,Q)){let pe="must be one of: "+h(r(Pe,Me=>typeof Me=="string"?`'${Me}'`:g(Me)),", ");throw new A(Ae,Q,pe)}});function ae(Q,Ae){if(typeof Q!="boolean")throw new y(Ae,"boolean",Q)}function B(Q,Ae,Pe){return Q==null||!d(Q,Ae)?Pe:Q[Ae]}var te=_((Q,Ae,Pe=null)=>{let pe=B(Pe,"allowArray",!1),Me=B(Pe,"allowFunction",!1);if(!B(Pe,"nullable",!1)&&Q===null||!pe&&a(Q)||typeof Q!="object"&&(!Me||typeof Q!="function"))throw new y(Ae,"Object",Q)}),Z=_((Q,Ae)=>{if(Q!=null&&typeof Q!="object"&&typeof Q!="function")throw new y(Ae,"a dictionary",Q)}),ue=_((Q,Ae,Pe=0)=>{if(!a(Q))throw new y(Ae,"Array",Q);if(Q.length<Pe){let pe=`must be longer than ${Pe}`;throw new A(Ae,Q,pe)}});function Ie(Q,Ae){ue(Q,Ae);for(let Pe=0;Pe<Q.length;Pe++)re(Q[Pe],`${Ae}[${Pe}]`)}function J(Q,Ae){ue(Q,Ae);for(let Pe=0;Pe<Q.length;Pe++)ae(Q[Pe],`${Ae}[${Pe}]`)}function $(Q,Ae){ue(Q,Ae);for(let Pe=0;Pe<Q.length;Pe++){let pe=Q[Pe],Me=`${Ae}[${Pe}]`;if(pe==null)throw new y(Me,"AbortSignal",pe);Ee(pe,Me)}}function se(Q,Ae="signal"){if(re(Q,Ae),C[Q]===void 0)throw C[v(Q)]!==void 0?new w(Q+" (signals must use all capital letters)"):new w(Q)}var ee=_((Q,Ae="buffer")=>{if(!k(Q))throw new y(Ae,["Buffer","TypedArray","DataView"],Q)});function X(Q,Ae){let Pe=P(Ae),pe=Q.length;if(Pe==="hex"&&pe%2!==0)throw new A("encoding",Ae,`is invalid for data of length ${pe}`)}function ne(Q,Ae="Port",Pe=!0){if(typeof Q!="number"&&typeof Q!="string"||typeof Q=="string"&&E(Q).length===0||+Q!==+Q>>>0||Q>65535||Q===0&&!Pe)throw new O(Ae,Q,Pe);return Q|0}var Ee=_((Q,Ae)=>{if(Q!==void 0&&(Q===null||typeof Q!="object"||!("aborted"in Q)))throw new y(Ae,"AbortSignal",Q)}),de=_((Q,Ae)=>{if(typeof Q!="function")throw new y(Ae,"Function",Q)}),L=_((Q,Ae)=>{if(typeof Q!="function"||b(Q))throw new y(Ae,"Function",Q)}),G=_((Q,Ae)=>{if(Q!==void 0)throw new y(Ae,"undefined",Q)});function le(Q,Ae,Pe){if(!l(Pe,Q))throw new y(Ae,`('${h(Pe,"|")}')`,Q)}var _e=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function ye(Q,Ae){if(typeof Q>"u"||!p(_e,Q))throw new A(Ae,Q,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function Oe(Q){if(typeof Q=="string")return ye(Q,"hints"),Q;if(a(Q)){let Ae=Q.length,Pe="";if(Ae===0)return Pe;for(let pe=0;pe<Ae;pe++){let Me=Q[pe];ye(Me,"hints"),Pe+=Me,pe!==Ae-1&&(Pe+=", ")}return Pe}throw new A("hints",Q,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}c.exports={isInt32:M,isUint32:D,parseFileMode:Y,validateArray:ue,validateStringArray:Ie,validateBooleanArray:J,validateAbortSignalArray:$,validateBoolean:ae,validateBuffer:ee,validateDictionary:Z,validateEncoding:X,validateFunction:de,validateInt32:he,validateInteger:V,validateNumber:ce,validateObject:te,validateOneOf:z,validatePlainFunction:L,validatePort:ne,validateSignalName:se,validateString:re,validateUint32:ie,validateUndefined:G,validateUnion:le,validateAbortSignal:Ee,validateLinkHeaderValue:Oe}}),nr=xe((f,c)=>{be(),we(),ve();var a=c.exports={},l,h;function r(){throw new Error("setTimeout has not been defined")}function t(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?l=setTimeout:l=r}catch{l=r}try{typeof clearTimeout=="function"?h=clearTimeout:h=t}catch{h=t}})();function n(O){if(l===setTimeout)return setTimeout(O,0);if((l===r||!l)&&setTimeout)return l=setTimeout,setTimeout(O,0);try{return l(O,0)}catch{try{return l.call(null,O,0)}catch{return l.call(this,O,0)}}}function e(O){if(h===clearTimeout)return clearTimeout(O);if((h===t||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(O);try{return h(O)}catch{try{return h.call(null,O)}catch{return h.call(this,O)}}}var i=[],s=!1,d,p=-1;function g(){!s||!d||(s=!1,d.length?i=d.concat(i):p=-1,i.length&&v())}function v(){if(!s){var O=n(g);s=!0;for(var y=i.length;y;){for(d=i,i=[];++p<y;)d&&d[p].run();p=-1,y=i.length}d=null,s=!1,e(O)}}a.nextTick=function(O){var y=new Array(arguments.length-1);if(arguments.length>1)for(var A=1;A<arguments.length;A++)y[A-1]=arguments[A];i.push(new E(O,y)),i.length===1&&!s&&n(v)};function E(O,y){this.fun=O,this.array=y}E.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={};function _(){}a.on=_,a.addListener=_,a.once=_,a.off=_,a.removeListener=_,a.removeAllListeners=_,a.emit=_,a.prependListener=_,a.prependOnceListener=_,a.listeners=function(O){return[]},a.binding=function(O){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(O){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}}),Bt=xe((f,c)=>{be(),we(),ve();var{SymbolAsyncIterator:a,SymbolIterator:l,SymbolFor:h}=Ze(),r=h("nodejs.stream.destroyed"),t=h("nodejs.stream.errored"),n=h("nodejs.stream.readable"),e=h("nodejs.stream.writable"),i=h("nodejs.stream.disturbed"),s=h("nodejs.webstream.isClosedPromise"),d=h("nodejs.webstream.controllerErrorFunction");function p(B,te=!1){var Z;return!!(B&&typeof B.pipe=="function"&&typeof B.on=="function"&&(!te||typeof B.pause=="function"&&typeof B.resume=="function")&&(!B._writableState||((Z=B._readableState)===null||Z===void 0?void 0:Z.readable)!==!1)&&(!B._writableState||B._readableState))}function g(B){var te;return!!(B&&typeof B.write=="function"&&typeof B.on=="function"&&(!B._readableState||((te=B._writableState)===null||te===void 0?void 0:te.writable)!==!1))}function v(B){return!!(B&&typeof B.pipe=="function"&&B._readableState&&typeof B.on=="function"&&typeof B.write=="function")}function E(B){return B&&(B._readableState||B._writableState||typeof B.write=="function"&&typeof B.on=="function"||typeof B.pipe=="function"&&typeof B.on=="function")}function _(B){return!!(B&&!E(B)&&typeof B.pipeThrough=="function"&&typeof B.getReader=="function"&&typeof B.cancel=="function")}function O(B){return!!(B&&!E(B)&&typeof B.getWriter=="function"&&typeof B.abort=="function")}function y(B){return!!(B&&!E(B)&&typeof B.readable=="object"&&typeof B.writable=="object")}function A(B){return _(B)||O(B)||y(B)}function x(B,te){return B==null?!1:te===!0?typeof B[a]=="function":te===!1?typeof B[l]=="function":typeof B[a]=="function"||typeof B[l]=="function"}function w(B){if(!E(B))return null;let te=B._writableState,Z=B._readableState,ue=te||Z;return!!(B.destroyed||B[r]||ue!=null&&ue.destroyed)}function P(B){if(!g(B))return null;if(B.writableEnded===!0)return!0;let te=B._writableState;return te!=null&&te.errored?!1:typeof te?.ended!="boolean"?null:te.ended}function b(B,te){if(!g(B))return null;if(B.writableFinished===!0)return!0;let Z=B._writableState;return Z!=null&&Z.errored?!1:typeof Z?.finished!="boolean"?null:!!(Z.finished||te===!1&&Z.ended===!0&&Z.length===0)}function k(B){if(!p(B))return null;if(B.readableEnded===!0)return!0;let te=B._readableState;return!te||te.errored?!1:typeof te?.ended!="boolean"?null:te.ended}function C(B,te){if(!p(B))return null;let Z=B._readableState;return Z!=null&&Z.errored?!1:typeof Z?.endEmitted!="boolean"?null:!!(Z.endEmitted||te===!1&&Z.ended===!0&&Z.length===0)}function M(B){return B&&B[n]!=null?B[n]:typeof B?.readable!="boolean"?null:w(B)?!1:p(B)&&B.readable&&!C(B)}function D(B){return B&&B[e]!=null?B[e]:typeof B?.writable!="boolean"?null:w(B)?!1:g(B)&&B.writable&&!P(B)}function T(B,te){return E(B)?w(B)?!0:!(te?.readable!==!1&&M(B)||te?.writable!==!1&&D(B)):null}function K(B){var te,Z;return E(B)?B.writableErrored?B.writableErrored:(te=(Z=B._writableState)===null||Z===void 0?void 0:Z.errored)!==null&&te!==void 0?te:null:null}function Y(B){var te,Z;return E(B)?B.readableErrored?B.readableErrored:(te=(Z=B._readableState)===null||Z===void 0?void 0:Z.errored)!==null&&te!==void 0?te:null:null}function V(B){if(!E(B))return null;if(typeof B.closed=="boolean")return B.closed;let te=B._writableState,Z=B._readableState;return typeof te?.closed=="boolean"||typeof Z?.closed=="boolean"?te?.closed||Z?.closed:typeof B._closed=="boolean"&&he(B)?B._closed:null}function he(B){return typeof B._closed=="boolean"&&typeof B._defaultKeepAlive=="boolean"&&typeof B._removedConnection=="boolean"&&typeof B._removedContLen=="boolean"}function ie(B){return typeof B._sent100=="boolean"&&he(B)}function re(B){var te;return typeof B._consuming=="boolean"&&typeof B._dumped=="boolean"&&((te=B.req)===null||te===void 0?void 0:te.upgradeOrConnect)===void 0}function ce(B){if(!E(B))return null;let te=B._writableState,Z=B._readableState,ue=te||Z;return!ue&&ie(B)||!!(ue&&ue.autoDestroy&&ue.emitClose&&ue.closed===!1)}function z(B){var te;return!!(B&&((te=B[i])!==null&&te!==void 0?te:B.readableDidRead||B.readableAborted))}function ae(B){var te,Z,ue,Ie,J,$,se,ee,X,ne;return!!(B&&((te=(Z=(ue=(Ie=(J=($=B[t])!==null&&$!==void 0?$:B.readableErrored)!==null&&J!==void 0?J:B.writableErrored)!==null&&Ie!==void 0?Ie:(se=B._readableState)===null||se===void 0?void 0:se.errorEmitted)!==null&&ue!==void 0?ue:(ee=B._writableState)===null||ee===void 0?void 0:ee.errorEmitted)!==null&&Z!==void 0?Z:(X=B._readableState)===null||X===void 0?void 0:X.errored)!==null&&te!==void 0?te:!((ne=B._writableState)===null||ne===void 0)&&ne.errored))}c.exports={isDestroyed:w,kIsDestroyed:r,isDisturbed:z,kIsDisturbed:i,isErrored:ae,kIsErrored:t,isReadable:M,kIsReadable:n,kIsClosedPromise:s,kControllerErrorFunction:d,kIsWritable:e,isClosed:V,isDuplexNodeStream:v,isFinished:T,isIterable:x,isReadableNodeStream:p,isReadableStream:_,isReadableEnded:k,isReadableFinished:C,isReadableErrored:Y,isNodeStream:E,isWebStream:A,isWritable:D,isWritableNodeStream:g,isWritableStream:O,isWritableEnded:P,isWritableFinished:b,isWritableErrored:K,isServerRequest:re,isServerResponse:ie,willEmitClose:ce,isTransformStream:y}}),Ht=xe((f,c)=>{be(),we(),ve();var a=nr(),{AbortError:l,codes:h}=yt(),{ERR_INVALID_ARG_TYPE:r,ERR_STREAM_PREMATURE_CLOSE:t}=h,{kEmptyObject:n,once:e}=bt(),{validateAbortSignal:i,validateFunction:s,validateObject:d,validateBoolean:p}=_r(),{Promise:g,PromisePrototypeThen:v,SymbolDispose:E}=Ze(),{isClosed:_,isReadable:O,isReadableNodeStream:y,isReadableStream:A,isReadableFinished:x,isReadableErrored:w,isWritable:P,isWritableNodeStream:b,isWritableStream:k,isWritableFinished:C,isWritableErrored:M,isNodeStream:D,willEmitClose:T,kIsClosedPromise:K}=Bt(),Y;function V(z){return z.setHeader&&typeof z.abort=="function"}var he=()=>{};function ie(z,ae,B){var te,Z;if(arguments.length===2?(B=ae,ae=n):ae==null?ae=n:d(ae,"options"),s(B,"callback"),i(ae.signal,"options.signal"),B=e(B),A(z)||k(z))return re(z,ae,B);if(!D(z))throw new r("stream",["ReadableStream","WritableStream","Stream"],z);let ue=(te=ae.readable)!==null&&te!==void 0?te:y(z),Ie=(Z=ae.writable)!==null&&Z!==void 0?Z:b(z),J=z._writableState,$=z._readableState,se=()=>{z.writable||ne()},ee=T(z)&&y(z)===ue&&b(z)===Ie,X=C(z,!1),ne=()=>{X=!0,z.destroyed&&(ee=!1),!(ee&&(!z.readable||ue))&&(!ue||Ee)&&B.call(z)},Ee=x(z,!1),de=()=>{Ee=!0,z.destroyed&&(ee=!1),!(ee&&(!z.writable||Ie))&&(!Ie||X)&&B.call(z)},L=Q=>{B.call(z,Q)},G=_(z),le=()=>{G=!0;let Q=M(z)||w(z);if(Q&&typeof Q!="boolean")return B.call(z,Q);if(ue&&!Ee&&y(z,!0)&&!x(z,!1))return B.call(z,new t);if(Ie&&!X&&!C(z,!1))return B.call(z,new t);B.call(z)},_e=()=>{G=!0;let Q=M(z)||w(z);if(Q&&typeof Q!="boolean")return B.call(z,Q);B.call(z)},ye=()=>{z.req.on("finish",ne)};V(z)?(z.on("complete",ne),ee||z.on("abort",le),z.req?ye():z.on("request",ye)):Ie&&!J&&(z.on("end",se),z.on("close",se)),!ee&&typeof z.aborted=="boolean"&&z.on("aborted",le),z.on("end",de),z.on("finish",ne),ae.error!==!1&&z.on("error",L),z.on("close",le),G?a.nextTick(le):J!=null&&J.errorEmitted||$!=null&&$.errorEmitted?ee||a.nextTick(_e):(!ue&&(!ee||O(z))&&(X||P(z)===!1)||!Ie&&(!ee||P(z))&&(Ee||O(z)===!1)||$&&z.req&&z.aborted)&&a.nextTick(_e);let Oe=()=>{B=he,z.removeListener("aborted",le),z.removeListener("complete",ne),z.removeListener("abort",le),z.removeListener("request",ye),z.req&&z.req.removeListener("finish",ne),z.removeListener("end",se),z.removeListener("close",se),z.removeListener("finish",ne),z.removeListener("end",de),z.removeListener("error",L),z.removeListener("close",le)};if(ae.signal&&!G){let Q=()=>{let Ae=B;Oe(),Ae.call(z,new l(void 0,{cause:ae.signal.reason}))};if(ae.signal.aborted)a.nextTick(Q);else{Y=Y||bt().addAbortListener;let Ae=Y(ae.signal,Q),Pe=B;B=e((...pe)=>{Ae[E](),Pe.apply(z,pe)})}}return Oe}function re(z,ae,B){let te=!1,Z=he;if(ae.signal)if(Z=()=>{te=!0,B.call(z,new l(void 0,{cause:ae.signal.reason}))},ae.signal.aborted)a.nextTick(Z);else{Y=Y||bt().addAbortListener;let Ie=Y(ae.signal,Z),J=B;B=e((...$)=>{Ie[E](),J.apply(z,$)})}let ue=(...Ie)=>{te||a.nextTick(()=>B.apply(z,Ie))};return v(z[K].promise,ue,ue),he}function ce(z,ae){var B;let te=!1;return ae===null&&(ae=n),(B=ae)!==null&&B!==void 0&&B.cleanup&&(p(ae.cleanup,"cleanup"),te=ae.cleanup),new g((Z,ue)=>{let Ie=ie(z,ae,J=>{te&&Ie(),J?ue(J):Z()})})}c.exports=ie,c.exports.finished=ce}),cr=xe((f,c)=>{be(),we(),ve();var a=nr(),{aggregateTwoErrors:l,codes:{ERR_MULTIPLE_CALLBACK:h},AbortError:r}=yt(),{Symbol:t}=Ze(),{kIsDestroyed:n,isDestroyed:e,isFinished:i,isServerRequest:s}=Bt(),d=t("kDestroy"),p=t("kConstruct");function g(T,K,Y){T&&(T.stack,K&&!K.errored&&(K.errored=T),Y&&!Y.errored&&(Y.errored=T))}function v(T,K){let Y=this._readableState,V=this._writableState,he=V||Y;return V!=null&&V.destroyed||Y!=null&&Y.destroyed?(typeof K=="function"&&K(),this):(g(T,V,Y),V&&(V.destroyed=!0),Y&&(Y.destroyed=!0),he.constructed?E(this,T,K):this.once(d,function(ie){E(this,l(ie,T),K)}),this)}function E(T,K,Y){let V=!1;function he(ie){if(V)return;V=!0;let re=T._readableState,ce=T._writableState;g(ie,ce,re),ce&&(ce.closed=!0),re&&(re.closed=!0),typeof Y=="function"&&Y(ie),ie?a.nextTick(_,T,ie):a.nextTick(O,T)}try{T._destroy(K||null,he)}catch(ie){he(ie)}}function _(T,K){y(T,K),O(T)}function O(T){let K=T._readableState,Y=T._writableState;Y&&(Y.closeEmitted=!0),K&&(K.closeEmitted=!0),(Y!=null&&Y.emitClose||K!=null&&K.emitClose)&&T.emit("close")}function y(T,K){let Y=T._readableState,V=T._writableState;V!=null&&V.errorEmitted||Y!=null&&Y.errorEmitted||(V&&(V.errorEmitted=!0),Y&&(Y.errorEmitted=!0),T.emit("error",K))}function A(){let T=this._readableState,K=this._writableState;T&&(T.constructed=!0,T.closed=!1,T.closeEmitted=!1,T.destroyed=!1,T.errored=null,T.errorEmitted=!1,T.reading=!1,T.ended=T.readable===!1,T.endEmitted=T.readable===!1),K&&(K.constructed=!0,K.destroyed=!1,K.closed=!1,K.closeEmitted=!1,K.errored=null,K.errorEmitted=!1,K.finalCalled=!1,K.prefinished=!1,K.ended=K.writable===!1,K.ending=K.writable===!1,K.finished=K.writable===!1)}function x(T,K,Y){let V=T._readableState,he=T._writableState;if(he!=null&&he.destroyed||V!=null&&V.destroyed)return this;V!=null&&V.autoDestroy||he!=null&&he.autoDestroy?T.destroy(K):K&&(K.stack,he&&!he.errored&&(he.errored=K),V&&!V.errored&&(V.errored=K),Y?a.nextTick(y,T,K):y(T,K))}function w(T,K){if(typeof T._construct!="function")return;let Y=T._readableState,V=T._writableState;Y&&(Y.constructed=!1),V&&(V.constructed=!1),T.once(p,K),!(T.listenerCount(p)>1)&&a.nextTick(P,T)}function P(T){let K=!1;function Y(V){if(K){x(T,V??new h);return}K=!0;let he=T._readableState,ie=T._writableState,re=ie||he;he&&(he.constructed=!0),ie&&(ie.constructed=!0),re.destroyed?T.emit(d,V):V?x(T,V,!0):a.nextTick(b,T)}try{T._construct(V=>{a.nextTick(Y,V)})}catch(V){a.nextTick(Y,V)}}function b(T){T.emit(p)}function k(T){return T?.setHeader&&typeof T.abort=="function"}function C(T){T.emit("close")}function M(T,K){T.emit("error",K),a.nextTick(C,T)}function D(T,K){!T||e(T)||(!K&&!i(T)&&(K=new r),s(T)?(T.socket=null,T.destroy(K)):k(T)?T.abort():k(T.req)?T.req.abort():typeof T.destroy=="function"?T.destroy(K):typeof T.close=="function"?T.close():K?a.nextTick(M,T,K):a.nextTick(C,T),T.destroyed||(T[n]=!0))}c.exports={construct:w,destroyer:D,destroy:v,undestroy:A,errorOrDestroy:x}}),yo=xe((f,c)=>{be(),we(),ve();var{ArrayIsArray:a,ObjectSetPrototypeOf:l}=Ze(),{EventEmitter:h}=(rr(),He(Kt));function r(n){h.call(this,n)}l(r.prototype,h.prototype),l(r,h),r.prototype.pipe=function(n,e){let i=this;function s(O){n.writable&&n.write(O)===!1&&i.pause&&i.pause()}i.on("data",s);function d(){i.readable&&i.resume&&i.resume()}n.on("drain",d),!n._isStdio&&(!e||e.end!==!1)&&(i.on("end",g),i.on("close",v));let p=!1;function g(){p||(p=!0,n.end())}function v(){p||(p=!0,typeof n.destroy=="function"&&n.destroy())}function E(O){_(),h.listenerCount(this,"error")===0&&this.emit("error",O)}t(i,"error",E),t(n,"error",E);function _(){i.removeListener("data",s),n.removeListener("drain",d),i.removeListener("end",g),i.removeListener("close",v),i.removeListener("error",E),n.removeListener("error",E),i.removeListener("end",_),i.removeListener("close",_),n.removeListener("close",_)}return i.on("end",_),i.on("close",_),n.on("close",_),n.emit("pipe",i),n};function t(n,e,i){if(typeof n.prependListener=="function")return n.prependListener(e,i);!n._events||!n._events[e]?n.on(e,i):a(n._events[e])?n._events[e].unshift(i):n._events[e]=[i,n._events[e]]}c.exports={Stream:r,prependListener:t}}),tn=xe((f,c)=>{be(),we(),ve();var{SymbolDispose:a}=Ze(),{AbortError:l,codes:h}=yt(),{isNodeStream:r,isWebStream:t,kControllerErrorFunction:n}=Bt(),e=Ht(),{ERR_INVALID_ARG_TYPE:i}=h,s,d=(p,g)=>{if(typeof p!="object"||!("aborted"in p))throw new i(g,"AbortSignal",p)};c.exports.addAbortSignal=function(p,g){if(d(p,"signal"),!r(g)&&!t(g))throw new i("stream",["ReadableStream","WritableStream","Stream"],g);return c.exports.addAbortSignalNoValidate(p,g)},c.exports.addAbortSignalNoValidate=function(p,g){if(typeof p!="object"||!("aborted"in p))return g;let v=r(g)?()=>{g.destroy(new l(void 0,{cause:p.reason}))}:()=>{g[n](new l(void 0,{cause:p.reason}))};if(p.aborted)v();else{s=s||bt().addAbortListener;let E=s(p,v);e(g,E[a])}return g}}),Bu=xe((f,c)=>{be(),we(),ve();var{StringPrototypeSlice:a,SymbolIterator:l,TypedArrayPrototypeSet:h,Uint8Array:r}=Ze(),{Buffer:t}=(at(),He(st)),{inspect:n}=bt();c.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(e){let i={data:e,next:null};this.length>0?this.tail.next=i:this.head=i,this.tail=i,++this.length}unshift(e){let i={data:e,next:this.head};this.length===0&&(this.tail=i),this.head=i,++this.length}shift(){if(this.length===0)return;let e=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,e}clear(){this.head=this.tail=null,this.length=0}join(e){if(this.length===0)return"";let i=this.head,s=""+i.data;for(;(i=i.next)!==null;)s+=e+i.data;return s}concat(e){if(this.length===0)return t.alloc(0);let i=t.allocUnsafe(e>>>0),s=this.head,d=0;for(;s;)h(i,s.data,d),d+=s.data.length,s=s.next;return i}consume(e,i){let s=this.head.data;if(e<s.length){let d=s.slice(0,e);return this.head.data=s.slice(e),d}return e===s.length?this.shift():i?this._getString(e):this._getBuffer(e)}first(){return this.head.data}*[l](){for(let e=this.head;e;e=e.next)yield e.data}_getString(e){let i="",s=this.head,d=0;do{let p=s.data;if(e>p.length)i+=p,e-=p.length;else{e===p.length?(i+=p,++d,s.next?this.head=s.next:this.head=this.tail=null):(i+=a(p,0,e),this.head=s,s.data=a(p,e));break}++d}while((s=s.next)!==null);return this.length-=d,i}_getBuffer(e){let i=t.allocUnsafe(e),s=e,d=this.head,p=0;do{let g=d.data;if(e>g.length)h(i,g,s-e),e-=g.length;else{e===g.length?(h(i,g,s-e),++p,d.next?this.head=d.next:this.head=this.tail=null):(h(i,new r(g.buffer,g.byteOffset,e),s-e),this.head=d,d.data=g.slice(e));break}++p}while((d=d.next)!==null);return this.length-=p,i}[Symbol.for("nodejs.util.inspect.custom")](e,i){return n(this,{...i,depth:0,customInspect:!1})}}}),rn=xe((f,c)=>{be(),we(),ve();var{MathFloor:a,NumberIsInteger:l}=Ze(),{validateInteger:h}=_r(),{ERR_INVALID_ARG_VALUE:r}=yt().codes,t=16*1024,n=16;function e(p,g,v){return p.highWaterMark!=null?p.highWaterMark:g?p[v]:null}function i(p){return p?n:t}function s(p,g){h(g,"value",0),p?n=g:t=g}function d(p,g,v,E){let _=e(g,E,v);if(_!=null){if(!l(_)||_<0){let O=E?`options.${v}`:"options.highWaterMark";throw new r(O,_)}return a(_)}return i(p.objectMode)}c.exports={getHighWaterMark:d,getDefaultHighWaterMark:i,setDefaultHighWaterMark:s}}),Nu=xe((f,c)=>{be(),we(),ve();var a=(at(),He(st)),l=a.Buffer;function h(t,n){for(var e in t)n[e]=t[e]}l.from&&l.alloc&&l.allocUnsafe&&l.allocUnsafeSlow?c.exports=a:(h(a,f),f.Buffer=r);function r(t,n,e){return l(t,n,e)}r.prototype=Object.create(l.prototype),h(l,r),r.from=function(t,n,e){if(typeof t=="number")throw new TypeError("Argument must not be a number");return l(t,n,e)},r.alloc=function(t,n,e){if(typeof t!="number")throw new TypeError("Argument must be a number");var i=l(t);return n!==void 0?typeof e=="string"?i.fill(n,e):i.fill(n):i.fill(0),i},r.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return l(t)},r.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return a.SlowBuffer(t)}}),Uu=xe(f=>{be(),we(),ve();var c=Nu().Buffer,a=c.isEncoding||function(y){switch(y=""+y,y&&y.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function l(y){if(!y)return"utf8";for(var A;;)switch(y){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return y;default:if(A)return;y=(""+y).toLowerCase(),A=!0}}function h(y){var A=l(y);if(typeof A!="string"&&(c.isEncoding===a||!a(y)))throw new Error("Unknown encoding: "+y);return A||y}f.StringDecoder=r;function r(y){this.encoding=h(y);var A;switch(this.encoding){case"utf16le":this.text=p,this.end=g,A=4;break;case"utf8":this.fillLast=i,A=4;break;case"base64":this.text=v,this.end=E,A=3;break;default:this.write=_,this.end=O;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=c.allocUnsafe(A)}r.prototype.write=function(y){if(y.length===0)return"";var A,x;if(this.lastNeed){if(A=this.fillLast(y),A===void 0)return"";x=this.lastNeed,this.lastNeed=0}else x=0;return x<y.length?A?A+this.text(y,x):this.text(y,x):A||""},r.prototype.end=d,r.prototype.text=s,r.prototype.fillLast=function(y){if(this.lastNeed<=y.length)return y.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);y.copy(this.lastChar,this.lastTotal-this.lastNeed,0,y.length),this.lastNeed-=y.length};function t(y){return y<=127?0:y>>5===6?2:y>>4===14?3:y>>3===30?4:y>>6===2?-1:-2}function n(y,A,x){var w=A.length-1;if(w<x)return 0;var P=t(A[w]);return P>=0?(P>0&&(y.lastNeed=P-1),P):--w<x||P===-2?0:(P=t(A[w]),P>=0?(P>0&&(y.lastNeed=P-2),P):--w<x||P===-2?0:(P=t(A[w]),P>=0?(P>0&&(P===2?P=0:y.lastNeed=P-3),P):0))}function e(y,A,x){if((A[0]&192)!==128)return y.lastNeed=0,"";if(y.lastNeed>1&&A.length>1){if((A[1]&192)!==128)return y.lastNeed=1,"";if(y.lastNeed>2&&A.length>2&&(A[2]&192)!==128)return y.lastNeed=2,""}}function i(y){var A=this.lastTotal-this.lastNeed,x=e(this,y);if(x!==void 0)return x;if(this.lastNeed<=y.length)return y.copy(this.lastChar,A,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);y.copy(this.lastChar,A,0,y.length),this.lastNeed-=y.length}function s(y,A){var x=n(this,y,A);if(!this.lastNeed)return y.toString("utf8",A);this.lastTotal=x;var w=y.length-(x-this.lastNeed);return y.copy(this.lastChar,0,w),y.toString("utf8",A,w)}function d(y){var A=y&&y.length?this.write(y):"";return this.lastNeed?A+"":A}function p(y,A){if((y.length-A)%2===0){var x=y.toString("utf16le",A);if(x){var w=x.charCodeAt(x.length-1);if(w>=55296&&w<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=y[y.length-2],this.lastChar[1]=y[y.length-1],x.slice(0,-1)}return x}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=y[y.length-1],y.toString("utf16le",A,y.length-1)}function g(y){var A=y&&y.length?this.write(y):"";if(this.lastNeed){var x=this.lastTotal-this.lastNeed;return A+this.lastChar.toString("utf16le",0,x)}return A}function v(y,A){var x=(y.length-A)%3;return x===0?y.toString("base64",A):(this.lastNeed=3-x,this.lastTotal=3,x===1?this.lastChar[0]=y[y.length-1]:(this.lastChar[0]=y[y.length-2],this.lastChar[1]=y[y.length-1]),y.toString("base64",A,y.length-x))}function E(y){var A=y&&y.length?this.write(y):"";return this.lastNeed?A+this.lastChar.toString("base64",0,3-this.lastNeed):A}function _(y){return y.toString(this.encoding)}function O(y){return y&&y.length?this.write(y):""}}),ha=xe((f,c)=>{be(),we(),ve();var a=nr(),{PromisePrototypeThen:l,SymbolAsyncIterator:h,SymbolIterator:r}=Ze(),{Buffer:t}=(at(),He(st)),{ERR_INVALID_ARG_TYPE:n,ERR_STREAM_NULL_VALUES:e}=yt().codes;function i(s,d,p){let g;if(typeof d=="string"||d instanceof t)return new s({objectMode:!0,...p,read(){this.push(d),this.push(null)}});let v;if(d&&d[h])v=!0,g=d[h]();else if(d&&d[r])v=!1,g=d[r]();else throw new n("iterable",["Iterable"],d);let E=new s({objectMode:!0,highWaterMark:1,...p}),_=!1;E._read=function(){_||(_=!0,y())},E._destroy=function(A,x){l(O(A),()=>a.nextTick(x,A),w=>a.nextTick(x,w||A))};async function O(A){let x=A!=null,w=typeof g.throw=="function";if(x&&w){let{value:P,done:b}=await g.throw(A);if(await P,b)return}if(typeof g.return=="function"){let{value:P}=await g.return();await P}}async function y(){for(;;){try{let{value:A,done:x}=v?await g.next():g.next();if(x)E.push(null);else{let w=A&&typeof A.then=="function"?await A:A;if(w===null)throw _=!1,new e;if(E.push(w))continue;_=!1}}catch(A){E.destroy(A)}break}}return E}c.exports=i}),nn=xe((f,c)=>{be(),we(),ve();var a=nr(),{ArrayPrototypeIndexOf:l,NumberIsInteger:h,NumberIsNaN:r,NumberParseInt:t,ObjectDefineProperties:n,ObjectKeys:e,ObjectSetPrototypeOf:i,Promise:s,SafeSet:d,SymbolAsyncDispose:p,SymbolAsyncIterator:g,Symbol:v}=Ze();c.exports=pe,pe.ReadableState=Pe;var{EventEmitter:E}=(rr(),He(Kt)),{Stream:_,prependListener:O}=yo(),{Buffer:y}=(at(),He(st)),{addAbortSignal:A}=tn(),x=Ht(),w=bt().debuglog("stream",j=>{w=j}),P=Bu(),b=cr(),{getHighWaterMark:k,getDefaultHighWaterMark:C}=rn(),{aggregateTwoErrors:M,codes:{ERR_INVALID_ARG_TYPE:D,ERR_METHOD_NOT_IMPLEMENTED:T,ERR_OUT_OF_RANGE:K,ERR_STREAM_PUSH_AFTER_EOF:Y,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:V},AbortError:he}=yt(),{validateObject:ie}=_r(),re=v("kPaused"),{StringDecoder:ce}=Uu(),z=ha();i(pe.prototype,_.prototype),i(pe,_);var ae=()=>{},{errorOrDestroy:B}=b,te=1,Z=2,ue=4,Ie=8,J=16,$=32,se=64,ee=128,X=256,ne=512,Ee=1024,de=2048,L=4096,G=8192,le=16384,_e=32768,ye=65536,Oe=1<<17,Q=1<<18;function Ae(j){return{enumerable:!1,get(){return(this.state&j)!==0},set(U){U?this.state|=j:this.state&=~j}}}n(Pe.prototype,{objectMode:Ae(te),ended:Ae(Z),endEmitted:Ae(ue),reading:Ae(Ie),constructed:Ae(J),sync:Ae($),needReadable:Ae(se),emittedReadable:Ae(ee),readableListening:Ae(X),resumeScheduled:Ae(ne),errorEmitted:Ae(Ee),emitClose:Ae(de),autoDestroy:Ae(L),destroyed:Ae(G),closed:Ae(le),closeEmitted:Ae(_e),multiAwaitDrain:Ae(ye),readingMore:Ae(Oe),dataEmitted:Ae(Q)});function Pe(j,U,ke){typeof ke!="boolean"&&(ke=U instanceof jt()),this.state=de|L|J|$,j&&j.objectMode&&(this.state|=te),ke&&j&&j.readableObjectMode&&(this.state|=te),this.highWaterMark=j?k(this,j,"readableHighWaterMark",ke):C(!1),this.buffer=new P,this.length=0,this.pipes=[],this.flowing=null,this[re]=null,j&&j.emitClose===!1&&(this.state&=~de),j&&j.autoDestroy===!1&&(this.state&=~L),this.errored=null,this.defaultEncoding=j&&j.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,j&&j.encoding&&(this.decoder=new ce(j.encoding),this.encoding=j.encoding)}function pe(j){if(!(this instanceof pe))return new pe(j);let U=this instanceof jt();this._readableState=new Pe(j,this,U),j&&(typeof j.read=="function"&&(this._read=j.read),typeof j.destroy=="function"&&(this._destroy=j.destroy),typeof j.construct=="function"&&(this._construct=j.construct),j.signal&&!U&&A(j.signal,this)),_.call(this,j),b.construct(this,()=>{this._readableState.needReadable&&q(this,this._readableState)})}pe.prototype.destroy=b.destroy,pe.prototype._undestroy=b.undestroy,pe.prototype._destroy=function(j,U){U(j)},pe.prototype[E.captureRejectionSymbol]=function(j){this.destroy(j)},pe.prototype[p]=function(){let j;return this.destroyed||(j=this.readableEnded?null:new he,this.destroy(j)),new s((U,ke)=>x(this,Ce=>Ce&&Ce!==j?ke(Ce):U(null)))},pe.prototype.push=function(j,U){return Me(this,j,U,!1)},pe.prototype.unshift=function(j,U){return Me(this,j,U,!0)};function Me(j,U,ke,Ce){w("readableAddChunk",U);let je=j._readableState,tt;if((je.state&te)===0&&(typeof U=="string"?(ke=ke||je.defaultEncoding,je.encoding!==ke&&(Ce&&je.encoding?U=y.from(U,ke).toString(je.encoding):(U=y.from(U,ke),ke=""))):U instanceof y?ke="":_._isUint8Array(U)?(U=_._uint8ArrayToBuffer(U),ke=""):U!=null&&(tt=new D("chunk",["string","Buffer","Uint8Array"],U))),tt)B(j,tt);else if(U===null)je.state&=~Ie,N(j,je);else if((je.state&te)!==0||U&&U.length>0)if(Ce)if((je.state&ue)!==0)B(j,new V);else{if(je.destroyed||je.errored)return!1;o(j,je,U,!0)}else if(je.ended)B(j,new Y);else{if(je.destroyed||je.errored)return!1;je.state&=~Ie,je.decoder&&!ke?(U=je.decoder.write(U),je.objectMode||U.length!==0?o(j,je,U,!1):q(j,je)):o(j,je,U,!1)}else Ce||(je.state&=~Ie,q(j,je));return!je.ended&&(je.length<je.highWaterMark||je.length===0)}function o(j,U,ke,Ce){U.flowing&&U.length===0&&!U.sync&&j.listenerCount("data")>0?((U.state&ye)!==0?U.awaitDrainWriters.clear():U.awaitDrainWriters=null,U.dataEmitted=!0,j.emit("data",ke)):(U.length+=U.objectMode?1:ke.length,Ce?U.buffer.unshift(ke):U.buffer.push(ke),(U.state&se)!==0&&H(j)),q(j,U)}pe.prototype.isPaused=function(){let j=this._readableState;return j[re]===!0||j.flowing===!1},pe.prototype.setEncoding=function(j){let U=new ce(j);this._readableState.decoder=U,this._readableState.encoding=this._readableState.decoder.encoding;let ke=this._readableState.buffer,Ce="";for(let je of ke)Ce+=U.write(je);return ke.clear(),Ce!==""&&ke.push(Ce),this._readableState.length=Ce.length,this};var u=1073741824;function m(j){if(j>u)throw new K("size","<= 1GiB",j);return j--,j|=j>>>1,j|=j>>>2,j|=j>>>4,j|=j>>>8,j|=j>>>16,j++,j}function R(j,U){return j<=0||U.length===0&&U.ended?0:(U.state&te)!==0?1:r(j)?U.flowing&&U.length?U.buffer.first().length:U.length:j<=U.length?j:U.ended?U.length:0}pe.prototype.read=function(j){w("read",j),j===void 0?j=NaN:h(j)||(j=t(j,10));let U=this._readableState,ke=j;if(j>U.highWaterMark&&(U.highWaterMark=m(j)),j!==0&&(U.state&=~ee),j===0&&U.needReadable&&((U.highWaterMark!==0?U.length>=U.highWaterMark:U.length>0)||U.ended))return w("read: emitReadable",U.length,U.ended),U.length===0&&U.ended?Ge(this):H(this),null;if(j=R(j,U),j===0&&U.ended)return U.length===0&&Ge(this),null;let Ce=(U.state&se)!==0;if(w("need readable",Ce),(U.length===0||U.length-j<U.highWaterMark)&&(Ce=!0,w("length less than watermark",Ce)),U.ended||U.reading||U.destroyed||U.errored||!U.constructed)Ce=!1,w("reading, ended or constructing",Ce);else if(Ce){w("do read"),U.state|=Ie|$,U.length===0&&(U.state|=se);try{this._read(U.highWaterMark)}catch(tt){B(this,tt)}U.state&=~$,U.reading||(j=R(ke,U))}let je;return j>0?je=et(j,U):je=null,je===null?(U.needReadable=U.length<=U.highWaterMark,j=0):(U.length-=j,U.multiAwaitDrain?U.awaitDrainWriters.clear():U.awaitDrainWriters=null),U.length===0&&(U.ended||(U.needReadable=!0),ke!==j&&U.ended&&Ge(this)),je!==null&&!U.errorEmitted&&!U.closeEmitted&&(U.dataEmitted=!0,this.emit("data",je)),je};function N(j,U){if(w("onEofChunk"),!U.ended){if(U.decoder){let ke=U.decoder.end();ke&&ke.length&&(U.buffer.push(ke),U.length+=U.objectMode?1:ke.length)}U.ended=!0,U.sync?H(j):(U.needReadable=!1,U.emittedReadable=!0,ge(j))}}function H(j){let U=j._readableState;w("emitReadable",U.needReadable,U.emittedReadable),U.needReadable=!1,U.emittedReadable||(w("emitReadable",U.flowing),U.emittedReadable=!0,a.nextTick(ge,j))}function ge(j){let U=j._readableState;w("emitReadable_",U.destroyed,U.length,U.ended),!U.destroyed&&!U.errored&&(U.length||U.ended)&&(j.emit("readable"),U.emittedReadable=!1),U.needReadable=!U.flowing&&!U.ended&&U.length<=U.highWaterMark,We(j)}function q(j,U){!U.readingMore&&U.constructed&&(U.readingMore=!0,a.nextTick(oe,j,U))}function oe(j,U){for(;!U.reading&&!U.ended&&(U.length<U.highWaterMark||U.flowing&&U.length===0);){let ke=U.length;if(w("maybeReadMore read 0"),j.read(0),ke===U.length)break}U.readingMore=!1}pe.prototype._read=function(j){throw new T("_read()")},pe.prototype.pipe=function(j,U){let ke=this,Ce=this._readableState;Ce.pipes.length===1&&(Ce.multiAwaitDrain||(Ce.multiAwaitDrain=!0,Ce.awaitDrainWriters=new d(Ce.awaitDrainWriters?[Ce.awaitDrainWriters]:[]))),Ce.pipes.push(j),w("pipe count=%d opts=%j",Ce.pipes.length,U);let je=(!U||U.end!==!1)&&j!==a.stdout&&j!==a.stderr?lt:_t;Ce.endEmitted?a.nextTick(je):ke.once("end",je),j.on("unpipe",tt);function tt(Et,At){w("onunpipe"),Et===ke&&At&&At.hasUnpiped===!1&&(At.hasUnpiped=!0,Qt())}function lt(){w("onend"),j.end()}let wt,Gt=!1;function Qt(){w("cleanup"),j.removeListener("close",St),j.removeListener("finish",xt),wt&&j.removeListener("drain",wt),j.removeListener("error",Pt),j.removeListener("unpipe",tt),ke.removeListener("end",lt),ke.removeListener("end",_t),ke.removeListener("data",or),Gt=!0,wt&&Ce.awaitDrainWriters&&(!j._writableState||j._writableState.needDrain)&&wt()}function Yt(){Gt||(Ce.pipes.length===1&&Ce.pipes[0]===j?(w("false write response, pause",0),Ce.awaitDrainWriters=j,Ce.multiAwaitDrain=!1):Ce.pipes.length>1&&Ce.pipes.includes(j)&&(w("false write response, pause",Ce.awaitDrainWriters.size),Ce.awaitDrainWriters.add(j)),ke.pause()),wt||(wt=Re(ke,j),j.on("drain",wt))}ke.on("data",or);function or(Et){w("ondata");let At=j.write(Et);w("dest.write",At),At===!1&&Yt()}function Pt(Et){if(w("onerror",Et),_t(),j.removeListener("error",Pt),j.listenerCount("error")===0){let At=j._writableState||j._readableState;At&&!At.errorEmitted?B(j,Et):j.emit("error",Et)}}O(j,"error",Pt);function St(){j.removeListener("finish",xt),_t()}j.once("close",St);function xt(){w("onfinish"),j.removeListener("close",St),_t()}j.once("finish",xt);function _t(){w("unpipe"),ke.unpipe(j)}return j.emit("pipe",ke),j.writableNeedDrain===!0?Yt():Ce.flowing||(w("pipe resume"),ke.resume()),j};function Re(j,U){return function(){let ke=j._readableState;ke.awaitDrainWriters===U?(w("pipeOnDrain",1),ke.awaitDrainWriters=null):ke.multiAwaitDrain&&(w("pipeOnDrain",ke.awaitDrainWriters.size),ke.awaitDrainWriters.delete(U)),(!ke.awaitDrainWriters||ke.awaitDrainWriters.size===0)&&j.listenerCount("data")&&j.resume()}}pe.prototype.unpipe=function(j){let U=this._readableState,ke={hasUnpiped:!1};if(U.pipes.length===0)return this;if(!j){let je=U.pipes;U.pipes=[],this.pause();for(let tt=0;tt<je.length;tt++)je[tt].emit("unpipe",this,{hasUnpiped:!1});return this}let Ce=l(U.pipes,j);return Ce===-1?this:(U.pipes.splice(Ce,1),U.pipes.length===0&&this.pause(),j.emit("unpipe",this,ke),this)},pe.prototype.on=function(j,U){let ke=_.prototype.on.call(this,j,U),Ce=this._readableState;return j==="data"?(Ce.readableListening=this.listenerCount("readable")>0,Ce.flowing!==!1&&this.resume()):j==="readable"&&!Ce.endEmitted&&!Ce.readableListening&&(Ce.readableListening=Ce.needReadable=!0,Ce.flowing=!1,Ce.emittedReadable=!1,w("on readable",Ce.length,Ce.reading),Ce.length?H(this):Ce.reading||a.nextTick(Ne,this)),ke},pe.prototype.addListener=pe.prototype.on,pe.prototype.removeListener=function(j,U){let ke=_.prototype.removeListener.call(this,j,U);return j==="readable"&&a.nextTick(Te,this),ke},pe.prototype.off=pe.prototype.removeListener,pe.prototype.removeAllListeners=function(j){let U=_.prototype.removeAllListeners.apply(this,arguments);return(j==="readable"||j===void 0)&&a.nextTick(Te,this),U};function Te(j){let U=j._readableState;U.readableListening=j.listenerCount("readable")>0,U.resumeScheduled&&U[re]===!1?U.flowing=!0:j.listenerCount("data")>0?j.resume():U.readableListening||(U.flowing=null)}function Ne(j){w("readable nexttick read 0"),j.read(0)}pe.prototype.resume=function(){let j=this._readableState;return j.flowing||(w("resume"),j.flowing=!j.readableListening,Ue(this,j)),j[re]=!1,this};function Ue(j,U){U.resumeScheduled||(U.resumeScheduled=!0,a.nextTick(Xe,j,U))}function Xe(j,U){w("resume",U.reading),U.reading||j.read(0),U.resumeScheduled=!1,j.emit("resume"),We(j),U.flowing&&!U.reading&&j.read(0)}pe.prototype.pause=function(){return w("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(w("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[re]=!0,this};function We(j){let U=j._readableState;for(w("flow",U.flowing);U.flowing&&j.read()!==null;);}pe.prototype.wrap=function(j){let U=!1;j.on("data",Ce=>{!this.push(Ce)&&j.pause&&(U=!0,j.pause())}),j.on("end",()=>{this.push(null)}),j.on("error",Ce=>{B(this,Ce)}),j.on("close",()=>{this.destroy()}),j.on("destroy",()=>{this.destroy()}),this._read=()=>{U&&j.resume&&(U=!1,j.resume())};let ke=e(j);for(let Ce=1;Ce<ke.length;Ce++){let je=ke[Ce];this[je]===void 0&&typeof j[je]=="function"&&(this[je]=j[je].bind(j))}return this},pe.prototype[g]=function(){return $e(this)},pe.prototype.iterator=function(j){return j!==void 0&&ie(j,"options"),$e(this,j)};function $e(j,U){typeof j.read!="function"&&(j=pe.wrap(j,{objectMode:!0}));let ke=Fe(j,U);return ke.stream=j,ke}async function*Fe(j,U){let ke=ae;function Ce(lt){this===j?(ke(),ke=ae):ke=lt}j.on("readable",Ce);let je,tt=x(j,{writable:!1},lt=>{je=lt?M(je,lt):null,ke(),ke=ae});try{for(;;){let lt=j.destroyed?null:j.read();if(lt!==null)yield lt;else{if(je)throw je;if(je===null)return;await new s(Ce)}}}catch(lt){throw je=M(je,lt),je}finally{(je||U?.destroyOnReturn!==!1)&&(je===void 0||j._readableState.autoDestroy)?b.destroyer(j,null):(j.off("readable",Ce),tt())}}n(pe.prototype,{readable:{__proto__:null,get(){let j=this._readableState;return!!j&&j.readable!==!1&&!j.destroyed&&!j.errorEmitted&&!j.endEmitted},set(j){this._readableState&&(this._readableState.readable=!!j)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(j){this._readableState&&(this._readableState.flowing=j)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(j){this._readableState&&(this._readableState.destroyed=j)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),n(Pe.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[re]!==!1},set(j){this[re]=!!j}}}),pe._fromList=et;function et(j,U){if(U.length===0)return null;let ke;return U.objectMode?ke=U.buffer.shift():!j||j>=U.length?(U.decoder?ke=U.buffer.join(""):U.buffer.length===1?ke=U.buffer.first():ke=U.buffer.concat(U.length),U.buffer.clear()):ke=U.buffer.consume(j,U.decoder),ke}function Ge(j){let U=j._readableState;w("endReadable",U.endEmitted),U.endEmitted||(U.ended=!0,a.nextTick(Ve,U,j))}function Ve(j,U){if(w("endReadableNT",j.endEmitted,j.length),!j.errored&&!j.closeEmitted&&!j.endEmitted&&j.length===0){if(j.endEmitted=!0,U.emit("end"),U.writable&&U.allowHalfOpen===!1)a.nextTick(nt,U);else if(j.autoDestroy){let ke=U._writableState;(!ke||ke.autoDestroy&&(ke.finished||ke.writable===!1))&&U.destroy()}}}function nt(j){j.writable&&!j.writableEnded&&!j.destroyed&&j.end()}pe.from=function(j,U){return z(pe,j,U)};var mt;function ht(){return mt===void 0&&(mt={}),mt}pe.fromWeb=function(j,U){return ht().newStreamReadableFromReadableStream(j,U)},pe.toWeb=function(j,U){return ht().newReadableStreamFromStreamReadable(j,U)},pe.wrap=function(j,U){var ke,Ce;return new pe({objectMode:(ke=(Ce=j.readableObjectMode)!==null&&Ce!==void 0?Ce:j.objectMode)!==null&&ke!==void 0?ke:!0,...U,destroy(je,tt){b.destroyer(j,je),tt(je)}}).wrap(j)}}),mo=xe((f,c)=>{be(),we(),ve();var a=nr(),{ArrayPrototypeSlice:l,Error:h,FunctionPrototypeSymbolHasInstance:r,ObjectDefineProperty:t,ObjectDefineProperties:n,ObjectSetPrototypeOf:e,StringPrototypeToLowerCase:i,Symbol:s,SymbolHasInstance:d}=Ze();c.exports=ie,ie.WritableState=V;var{EventEmitter:p}=(rr(),He(Kt)),g=yo().Stream,{Buffer:v}=(at(),He(st)),E=cr(),{addAbortSignal:_}=tn(),{getHighWaterMark:O,getDefaultHighWaterMark:y}=rn(),{ERR_INVALID_ARG_TYPE:A,ERR_METHOD_NOT_IMPLEMENTED:x,ERR_MULTIPLE_CALLBACK:w,ERR_STREAM_CANNOT_PIPE:P,ERR_STREAM_DESTROYED:b,ERR_STREAM_ALREADY_FINISHED:k,ERR_STREAM_NULL_VALUES:C,ERR_STREAM_WRITE_AFTER_END:M,ERR_UNKNOWN_ENCODING:D}=yt().codes,{errorOrDestroy:T}=E;e(ie.prototype,g.prototype),e(ie,g);function K(){}var Y=s("kOnFinished");function V(L,G,le){typeof le!="boolean"&&(le=G instanceof jt()),this.objectMode=!!(L&&L.objectMode),le&&(this.objectMode=this.objectMode||!!(L&&L.writableObjectMode)),this.highWaterMark=L?O(this,L,"writableHighWaterMark",le):y(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let _e=!!(L&&L.decodeStrings===!1);this.decodeStrings=!_e,this.defaultEncoding=L&&L.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=B.bind(void 0,G),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,he(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!L||L.emitClose!==!1,this.autoDestroy=!L||L.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[Y]=[]}function he(L){L.buffered=[],L.bufferedIndex=0,L.allBuffers=!0,L.allNoop=!0}V.prototype.getBuffer=function(){return l(this.buffered,this.bufferedIndex)},t(V.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function ie(L){let G=this instanceof jt();if(!G&&!r(ie,this))return new ie(L);this._writableState=new V(L,this,G),L&&(typeof L.write=="function"&&(this._write=L.write),typeof L.writev=="function"&&(this._writev=L.writev),typeof L.destroy=="function"&&(this._destroy=L.destroy),typeof L.final=="function"&&(this._final=L.final),typeof L.construct=="function"&&(this._construct=L.construct),L.signal&&_(L.signal,this)),g.call(this,L),E.construct(this,()=>{let le=this._writableState;le.writing||Ie(this,le),ee(this,le)})}t(ie,d,{__proto__:null,value:function(L){return r(this,L)?!0:this!==ie?!1:L&&L._writableState instanceof V}}),ie.prototype.pipe=function(){T(this,new P)};function re(L,G,le,_e){let ye=L._writableState;if(typeof le=="function")_e=le,le=ye.defaultEncoding;else{if(!le)le=ye.defaultEncoding;else if(le!=="buffer"&&!v.isEncoding(le))throw new D(le);typeof _e!="function"&&(_e=K)}if(G===null)throw new C;if(!ye.objectMode)if(typeof G=="string")ye.decodeStrings!==!1&&(G=v.from(G,le),le="buffer");else if(G instanceof v)le="buffer";else if(g._isUint8Array(G))G=g._uint8ArrayToBuffer(G),le="buffer";else throw new A("chunk",["string","Buffer","Uint8Array"],G);let Oe;return ye.ending?Oe=new M:ye.destroyed&&(Oe=new b("write")),Oe?(a.nextTick(_e,Oe),T(L,Oe,!0),Oe):(ye.pendingcb++,ce(L,ye,G,le,_e))}ie.prototype.write=function(L,G,le){return re(this,L,G,le)===!0},ie.prototype.cork=function(){this._writableState.corked++},ie.prototype.uncork=function(){let L=this._writableState;L.corked&&(L.corked--,L.writing||Ie(this,L))},ie.prototype.setDefaultEncoding=function(L){if(typeof L=="string"&&(L=i(L)),!v.isEncoding(L))throw new D(L);return this._writableState.defaultEncoding=L,this};function ce(L,G,le,_e,ye){let Oe=G.objectMode?1:le.length;G.length+=Oe;let Q=G.length<G.highWaterMark;return Q||(G.needDrain=!0),G.writing||G.corked||G.errored||!G.constructed?(G.buffered.push({chunk:le,encoding:_e,callback:ye}),G.allBuffers&&_e!=="buffer"&&(G.allBuffers=!1),G.allNoop&&ye!==K&&(G.allNoop=!1)):(G.writelen=Oe,G.writecb=ye,G.writing=!0,G.sync=!0,L._write(le,_e,G.onwrite),G.sync=!1),Q&&!G.errored&&!G.destroyed}function z(L,G,le,_e,ye,Oe,Q){G.writelen=_e,G.writecb=Q,G.writing=!0,G.sync=!0,G.destroyed?G.onwrite(new b("write")):le?L._writev(ye,G.onwrite):L._write(ye,Oe,G.onwrite),G.sync=!1}function ae(L,G,le,_e){--G.pendingcb,_e(le),ue(G),T(L,le)}function B(L,G){let le=L._writableState,_e=le.sync,ye=le.writecb;if(typeof ye!="function"){T(L,new w);return}le.writing=!1,le.writecb=null,le.length-=le.writelen,le.writelen=0,G?(G.stack,le.errored||(le.errored=G),L._readableState&&!L._readableState.errored&&(L._readableState.errored=G),_e?a.nextTick(ae,L,le,G,ye):ae(L,le,G,ye)):(le.buffered.length>le.bufferedIndex&&Ie(L,le),_e?le.afterWriteTickInfo!==null&&le.afterWriteTickInfo.cb===ye?le.afterWriteTickInfo.count++:(le.afterWriteTickInfo={count:1,cb:ye,stream:L,state:le},a.nextTick(te,le.afterWriteTickInfo)):Z(L,le,1,ye))}function te({stream:L,state:G,count:le,cb:_e}){return G.afterWriteTickInfo=null,Z(L,G,le,_e)}function Z(L,G,le,_e){for(!G.ending&&!L.destroyed&&G.length===0&&G.needDrain&&(G.needDrain=!1,L.emit("drain"));le-- >0;)G.pendingcb--,_e();G.destroyed&&ue(G),ee(L,G)}function ue(L){if(L.writing)return;for(let ye=L.bufferedIndex;ye<L.buffered.length;++ye){var G;let{chunk:Oe,callback:Q}=L.buffered[ye],Ae=L.objectMode?1:Oe.length;L.length-=Ae,Q((G=L.errored)!==null&&G!==void 0?G:new b("write"))}let le=L[Y].splice(0);for(let ye=0;ye<le.length;ye++){var _e;le[ye]((_e=L.errored)!==null&&_e!==void 0?_e:new b("end"))}he(L)}function Ie(L,G){if(G.corked||G.bufferProcessing||G.destroyed||!G.constructed)return;let{buffered:le,bufferedIndex:_e,objectMode:ye}=G,Oe=le.length-_e;if(!Oe)return;let Q=_e;if(G.bufferProcessing=!0,Oe>1&&L._writev){G.pendingcb-=Oe-1;let Ae=G.allNoop?K:pe=>{for(let Me=Q;Me<le.length;++Me)le[Me].callback(pe)},Pe=G.allNoop&&Q===0?le:l(le,Q);Pe.allBuffers=G.allBuffers,z(L,G,!0,G.length,Pe,"",Ae),he(G)}else{do{let{chunk:Ae,encoding:Pe,callback:pe}=le[Q];le[Q++]=null;let Me=ye?1:Ae.length;z(L,G,!1,Me,Ae,Pe,pe)}while(Q<le.length&&!G.writing);Q===le.length?he(G):Q>256?(le.splice(0,Q),G.bufferedIndex=0):G.bufferedIndex=Q}G.bufferProcessing=!1}ie.prototype._write=function(L,G,le){if(this._writev)this._writev([{chunk:L,encoding:G}],le);else throw new x("_write()")},ie.prototype._writev=null,ie.prototype.end=function(L,G,le){let _e=this._writableState;typeof L=="function"?(le=L,L=null,G=null):typeof G=="function"&&(le=G,G=null);let ye;if(L!=null){let Oe=re(this,L,G);Oe instanceof h&&(ye=Oe)}return _e.corked&&(_e.corked=1,this.uncork()),ye||(!_e.errored&&!_e.ending?(_e.ending=!0,ee(this,_e,!0),_e.ended=!0):_e.finished?ye=new k("end"):_e.destroyed&&(ye=new b("end"))),typeof le=="function"&&(ye||_e.finished?a.nextTick(le,ye):_e[Y].push(le)),this};function J(L){return L.ending&&!L.destroyed&&L.constructed&&L.length===0&&!L.errored&&L.buffered.length===0&&!L.finished&&!L.writing&&!L.errorEmitted&&!L.closeEmitted}function $(L,G){let le=!1;function _e(ye){if(le){T(L,ye??w());return}if(le=!0,G.pendingcb--,ye){let Oe=G[Y].splice(0);for(let Q=0;Q<Oe.length;Q++)Oe[Q](ye);T(L,ye,G.sync)}else J(G)&&(G.prefinished=!0,L.emit("prefinish"),G.pendingcb++,a.nextTick(X,L,G))}G.sync=!0,G.pendingcb++;try{L._final(_e)}catch(ye){_e(ye)}G.sync=!1}function se(L,G){!G.prefinished&&!G.finalCalled&&(typeof L._final=="function"&&!G.destroyed?(G.finalCalled=!0,$(L,G)):(G.prefinished=!0,L.emit("prefinish")))}function ee(L,G,le){J(G)&&(se(L,G),G.pendingcb===0&&(le?(G.pendingcb++,a.nextTick((_e,ye)=>{J(ye)?X(_e,ye):ye.pendingcb--},L,G)):J(G)&&(G.pendingcb++,X(L,G))))}function X(L,G){G.pendingcb--,G.finished=!0;let le=G[Y].splice(0);for(let _e=0;_e<le.length;_e++)le[_e]();if(L.emit("finish"),G.autoDestroy){let _e=L._readableState;(!_e||_e.autoDestroy&&(_e.endEmitted||_e.readable===!1))&&L.destroy()}}n(ie.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(L){this._writableState&&(this._writableState.destroyed=L)}},writable:{__proto__:null,get(){let L=this._writableState;return!!L&&L.writable!==!1&&!L.destroyed&&!L.errored&&!L.ending&&!L.ended},set(L){this._writableState&&(this._writableState.writable=!!L)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let L=this._writableState;return L?!L.destroyed&&!L.ending&&L.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var ne=E.destroy;ie.prototype.destroy=function(L,G){let le=this._writableState;return!le.destroyed&&(le.bufferedIndex<le.buffered.length||le[Y].length)&&a.nextTick(ue,le),ne.call(this,L,G),this},ie.prototype._undestroy=E.undestroy,ie.prototype._destroy=function(L,G){G(L)},ie.prototype[p.captureRejectionSymbol]=function(L){this.destroy(L)};var Ee;function de(){return Ee===void 0&&(Ee={}),Ee}ie.fromWeb=function(L,G){return de().newStreamWritableFromWritableStream(L,G)},ie.toWeb=function(L){return de().newWritableStreamFromStreamWritable(L)}}),Lu=xe((f,c)=>{be(),we(),ve();var a=nr(),l=(at(),He(st)),{isReadable:h,isWritable:r,isIterable:t,isNodeStream:n,isReadableNodeStream:e,isWritableNodeStream:i,isDuplexNodeStream:s,isReadableStream:d,isWritableStream:p}=Bt(),g=Ht(),{AbortError:v,codes:{ERR_INVALID_ARG_TYPE:E,ERR_INVALID_RETURN_VALUE:_}}=yt(),{destroyer:O}=cr(),y=jt(),A=nn(),x=mo(),{createDeferredPromise:w}=bt(),P=ha(),b=globalThis.Blob||l.Blob,k=typeof b<"u"?function(Y){return Y instanceof b}:function(Y){return!1},C=globalThis.AbortController||wr().AbortController,{FunctionPrototypeCall:M}=Ze(),D=class extends y{constructor(Y){super(Y),Y?.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),Y?.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}};c.exports=function Y(V,he){if(s(V))return V;if(e(V))return K({readable:V});if(i(V))return K({writable:V});if(n(V))return K({writable:!1,readable:!1});if(d(V))return K({readable:A.fromWeb(V)});if(p(V))return K({writable:x.fromWeb(V)});if(typeof V=="function"){let{value:re,write:ce,final:z,destroy:ae}=T(V);if(t(re))return P(D,re,{objectMode:!0,write:ce,final:z,destroy:ae});let B=re?.then;if(typeof B=="function"){let te,Z=M(B,re,ue=>{if(ue!=null)throw new _("nully","body",ue)},ue=>{O(te,ue)});return te=new D({objectMode:!0,readable:!1,write:ce,final(ue){z(async()=>{try{await Z,a.nextTick(ue,null)}catch(Ie){a.nextTick(ue,Ie)}})},destroy:ae})}throw new _("Iterable, AsyncIterable or AsyncFunction",he,re)}if(k(V))return Y(V.arrayBuffer());if(t(V))return P(D,V,{objectMode:!0,writable:!1});if(d(V?.readable)&&p(V?.writable))return D.fromWeb(V);if(typeof V?.writable=="object"||typeof V?.readable=="object"){let re=V!=null&&V.readable?e(V?.readable)?V?.readable:Y(V.readable):void 0,ce=V!=null&&V.writable?i(V?.writable)?V?.writable:Y(V.writable):void 0;return K({readable:re,writable:ce})}let ie=V?.then;if(typeof ie=="function"){let re;return M(ie,V,ce=>{ce!=null&&re.push(ce),re.push(null)},ce=>{O(re,ce)}),re=new D({objectMode:!0,writable:!1,read(){}})}throw new E(he,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],V)};function T(Y){let{promise:V,resolve:he}=w(),ie=new C,re=ie.signal;return{value:Y((async function*(){for(;;){let ce=V;V=null;let{chunk:z,done:ae,cb:B}=await ce;if(a.nextTick(B),ae)return;if(re.aborted)throw new v(void 0,{cause:re.reason});({promise:V,resolve:he}=w()),yield z}})(),{signal:re}),write(ce,z,ae){let B=he;he=null,B({chunk:ce,done:!1,cb:ae})},final(ce){let z=he;he=null,z({done:!0,cb:ce})},destroy(ce,z){ie.abort(),z(ce)}}}function K(Y){let V=Y.readable&&typeof Y.readable.read!="function"?A.wrap(Y.readable):Y.readable,he=Y.writable,ie=!!h(V),re=!!r(he),ce,z,ae,B,te;function Z(ue){let Ie=B;B=null,Ie?Ie(ue):ue&&te.destroy(ue)}return te=new D({readableObjectMode:!!(V!=null&&V.readableObjectMode),writableObjectMode:!!(he!=null&&he.writableObjectMode),readable:ie,writable:re}),re&&(g(he,ue=>{re=!1,ue&&O(V,ue),Z(ue)}),te._write=function(ue,Ie,J){he.write(ue,Ie)?J():ce=J},te._final=function(ue){he.end(),z=ue},he.on("drain",function(){if(ce){let ue=ce;ce=null,ue()}}),he.on("finish",function(){if(z){let ue=z;z=null,ue()}})),ie&&(g(V,ue=>{ie=!1,ue&&O(V,ue),Z(ue)}),V.on("readable",function(){if(ae){let ue=ae;ae=null,ue()}}),V.on("end",function(){te.push(null)}),te._read=function(){for(;;){let ue=V.read();if(ue===null){ae=te._read;return}if(!te.push(ue))return}}),te._destroy=function(ue,Ie){!ue&&B!==null&&(ue=new v),ae=null,ce=null,z=null,B===null?Ie(ue):(B=Ie,O(he,ue),O(V,ue))},te}}),jt=xe((f,c)=>{be(),we(),ve();var{ObjectDefineProperties:a,ObjectGetOwnPropertyDescriptor:l,ObjectKeys:h,ObjectSetPrototypeOf:r}=Ze();c.exports=e;var t=nn(),n=mo();r(e.prototype,t.prototype),r(e,t);{let p=h(n.prototype);for(let g=0;g<p.length;g++){let v=p[g];e.prototype[v]||(e.prototype[v]=n.prototype[v])}}function e(p){if(!(this instanceof e))return new e(p);t.call(this,p),n.call(this,p),p?(this.allowHalfOpen=p.allowHalfOpen!==!1,p.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),p.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}a(e.prototype,{writable:{__proto__:null,...l(n.prototype,"writable")},writableHighWaterMark:{__proto__:null,...l(n.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...l(n.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...l(n.prototype,"writableBuffer")},writableLength:{__proto__:null,...l(n.prototype,"writableLength")},writableFinished:{__proto__:null,...l(n.prototype,"writableFinished")},writableCorked:{__proto__:null,...l(n.prototype,"writableCorked")},writableEnded:{__proto__:null,...l(n.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...l(n.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(p){this._readableState&&this._writableState&&(this._readableState.destroyed=p,this._writableState.destroyed=p)}}});var i;function s(){return i===void 0&&(i={}),i}e.fromWeb=function(p,g){return s().newStreamDuplexFromReadableWritablePair(p,g)},e.toWeb=function(p){return s().newReadableWritablePairFromDuplex(p)};var d;e.from=function(p){return d||(d=Lu()),d(p,"body")}}),fa=xe((f,c)=>{be(),we(),ve();var{ObjectSetPrototypeOf:a,Symbol:l}=Ze();c.exports=e;var{ERR_METHOD_NOT_IMPLEMENTED:h}=yt().codes,r=jt(),{getHighWaterMark:t}=rn();a(e.prototype,r.prototype),a(e,r);var n=l("kCallback");function e(d){if(!(this instanceof e))return new e(d);let p=d?t(this,d,"readableHighWaterMark",!0):null;p===0&&(d={...d,highWaterMark:null,readableHighWaterMark:p,writableHighWaterMark:d.writableHighWaterMark||0}),r.call(this,d),this._readableState.sync=!1,this[n]=null,d&&(typeof d.transform=="function"&&(this._transform=d.transform),typeof d.flush=="function"&&(this._flush=d.flush)),this.on("prefinish",s)}function i(d){typeof this._flush=="function"&&!this.destroyed?this._flush((p,g)=>{if(p){d?d(p):this.destroy(p);return}g!=null&&this.push(g),this.push(null),d&&d()}):(this.push(null),d&&d())}function s(){this._final!==i&&i.call(this)}e.prototype._final=i,e.prototype._transform=function(d,p,g){throw new h("_transform()")},e.prototype._write=function(d,p,g){let v=this._readableState,E=this._writableState,_=v.length;this._transform(d,p,(O,y)=>{if(O){g(O);return}y!=null&&this.push(y),E.ended||_===v.length||v.length<v.highWaterMark?g():this[n]=g})},e.prototype._read=function(){if(this[n]){let d=this[n];this[n]=null,d()}}}),pa=xe((f,c)=>{be(),we(),ve();var{ObjectSetPrototypeOf:a}=Ze();c.exports=h;var l=fa();a(h.prototype,l.prototype),a(h,l);function h(r){if(!(this instanceof h))return new h(r);l.call(this,r)}h.prototype._transform=function(r,t,n){n(null,r)}}),bo=xe((f,c)=>{be(),we(),ve();var a=nr(),{ArrayIsArray:l,Promise:h,SymbolAsyncIterator:r,SymbolDispose:t}=Ze(),n=Ht(),{once:e}=bt(),i=cr(),s=jt(),{aggregateTwoErrors:d,codes:{ERR_INVALID_ARG_TYPE:p,ERR_INVALID_RETURN_VALUE:g,ERR_MISSING_ARGS:v,ERR_STREAM_DESTROYED:E,ERR_STREAM_PREMATURE_CLOSE:_},AbortError:O}=yt(),{validateFunction:y,validateAbortSignal:A}=_r(),{isIterable:x,isReadable:w,isReadableNodeStream:P,isNodeStream:b,isTransformStream:k,isWebStream:C,isReadableStream:M,isReadableFinished:D}=Bt(),T=globalThis.AbortController||wr().AbortController,K,Y,V;function he(ue,Ie,J){let $=!1;ue.on("close",()=>{$=!0});let se=n(ue,{readable:Ie,writable:J},ee=>{$=!ee});return{destroy:ee=>{$||($=!0,i.destroyer(ue,ee||new E("pipe")))},cleanup:se}}function ie(ue){return y(ue[ue.length-1],"streams[stream.length - 1]"),ue.pop()}function re(ue){if(x(ue))return ue;if(P(ue))return ce(ue);throw new p("val",["Readable","Iterable","AsyncIterable"],ue)}async function*ce(ue){Y||(Y=nn()),yield*Y.prototype[r].call(ue)}async function z(ue,Ie,J,{end:$}){let se,ee=null,X=de=>{if(de&&(se=de),ee){let L=ee;ee=null,L()}},ne=()=>new h((de,L)=>{se?L(se):ee=()=>{se?L(se):de()}});Ie.on("drain",X);let Ee=n(Ie,{readable:!1},X);try{Ie.writableNeedDrain&&await ne();for await(let de of ue)Ie.write(de)||await ne();$&&(Ie.end(),await ne()),J()}catch(de){J(se!==de?d(se,de):de)}finally{Ee(),Ie.off("drain",X)}}async function ae(ue,Ie,J,{end:$}){k(Ie)&&(Ie=Ie.writable);let se=Ie.getWriter();try{for await(let ee of ue)await se.ready,se.write(ee).catch(()=>{});await se.ready,$&&await se.close(),J()}catch(ee){try{await se.abort(ee),J(ee)}catch(X){J(X)}}}function B(...ue){return te(ue,e(ie(ue)))}function te(ue,Ie,J){if(ue.length===1&&l(ue[0])&&(ue=ue[0]),ue.length<2)throw new v("streams");let $=new T,se=$.signal,ee=J?.signal,X=[];A(ee,"options.signal");function ne(){ye(new O)}V=V||bt().addAbortListener;let Ee;ee&&(Ee=V(ee,ne));let de,L,G=[],le=0;function _e(Pe){ye(Pe,--le===0)}function ye(Pe,pe){var Me;if(Pe&&(!de||de.code==="ERR_STREAM_PREMATURE_CLOSE")&&(de=Pe),!(!de&&!pe)){for(;G.length;)G.shift()(de);(Me=Ee)===null||Me===void 0||Me[t](),$.abort(),pe&&(de||X.forEach(o=>o()),a.nextTick(Ie,de,L))}}let Oe;for(let Pe=0;Pe<ue.length;Pe++){let pe=ue[Pe],Me=Pe<ue.length-1,o=Pe>0,u=Me||J?.end!==!1,m=Pe===ue.length-1;if(b(pe)){let R=function(N){N&&N.name!=="AbortError"&&N.code!=="ERR_STREAM_PREMATURE_CLOSE"&&_e(N)};if(u){let{destroy:N,cleanup:H}=he(pe,Me,o);G.push(N),w(pe)&&m&&X.push(H)}pe.on("error",R),w(pe)&&m&&X.push(()=>{pe.removeListener("error",R)})}if(Pe===0)if(typeof pe=="function"){if(Oe=pe({signal:se}),!x(Oe))throw new g("Iterable, AsyncIterable or Stream","source",Oe)}else x(pe)||P(pe)||k(pe)?Oe=pe:Oe=s.from(pe);else if(typeof pe=="function"){if(k(Oe)){var Q;Oe=re((Q=Oe)===null||Q===void 0?void 0:Q.readable)}else Oe=re(Oe);if(Oe=pe(Oe,{signal:se}),Me){if(!x(Oe,!0))throw new g("AsyncIterable",`transform[${Pe-1}]`,Oe)}else{var Ae;K||(K=pa());let R=new K({objectMode:!0}),N=(Ae=Oe)===null||Ae===void 0?void 0:Ae.then;if(typeof N=="function")le++,N.call(Oe,q=>{L=q,q!=null&&R.write(q),u&&R.end(),a.nextTick(_e)},q=>{R.destroy(q),a.nextTick(_e,q)});else if(x(Oe,!0))le++,z(Oe,R,_e,{end:u});else if(M(Oe)||k(Oe)){let q=Oe.readable||Oe;le++,z(q,R,_e,{end:u})}else throw new g("AsyncIterable or Promise","destination",Oe);Oe=R;let{destroy:H,cleanup:ge}=he(Oe,!1,!0);G.push(H),m&&X.push(ge)}}else if(b(pe)){if(P(Oe)){le+=2;let R=Z(Oe,pe,_e,{end:u});w(pe)&&m&&X.push(R)}else if(k(Oe)||M(Oe)){let R=Oe.readable||Oe;le++,z(R,pe,_e,{end:u})}else if(x(Oe))le++,z(Oe,pe,_e,{end:u});else throw new p("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],Oe);Oe=pe}else if(C(pe)){if(P(Oe))le++,ae(re(Oe),pe,_e,{end:u});else if(M(Oe)||x(Oe))le++,ae(Oe,pe,_e,{end:u});else if(k(Oe))le++,ae(Oe.readable,pe,_e,{end:u});else throw new p("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],Oe);Oe=pe}else Oe=s.from(pe)}return(se!=null&&se.aborted||ee!=null&&ee.aborted)&&a.nextTick(ne),Oe}function Z(ue,Ie,J,{end:$}){let se=!1;if(Ie.on("close",()=>{se||J(new _)}),ue.pipe(Ie,{end:!1}),$){let ee=function(){se=!0,Ie.end()};D(ue)?a.nextTick(ee):ue.once("end",ee)}else J();return n(ue,{readable:!0,writable:!1},ee=>{let X=ue._readableState;ee&&ee.code==="ERR_STREAM_PREMATURE_CLOSE"&&X&&X.ended&&!X.errored&&!X.errorEmitted?ue.once("end",J).once("error",J):J(ee)}),n(Ie,{readable:!1,writable:!0},J)}c.exports={pipelineImpl:te,pipeline:B}}),da=xe((f,c)=>{be(),we(),ve();var{pipeline:a}=bo(),l=jt(),{destroyer:h}=cr(),{isNodeStream:r,isReadable:t,isWritable:n,isWebStream:e,isTransformStream:i,isWritableStream:s,isReadableStream:d}=Bt(),{AbortError:p,codes:{ERR_INVALID_ARG_VALUE:g,ERR_MISSING_ARGS:v}}=yt(),E=Ht();c.exports=function(..._){if(_.length===0)throw new v("streams");if(_.length===1)return l.from(_[0]);let O=[..._];if(typeof _[0]=="function"&&(_[0]=l.from(_[0])),typeof _[_.length-1]=="function"){let T=_.length-1;_[T]=l.from(_[T])}for(let T=0;T<_.length;++T)if(!(!r(_[T])&&!e(_[T]))){if(T<_.length-1&&!(t(_[T])||d(_[T])||i(_[T])))throw new g(`streams[${T}]`,O[T],"must be readable");if(T>0&&!(n(_[T])||s(_[T])||i(_[T])))throw new g(`streams[${T}]`,O[T],"must be writable")}let y,A,x,w,P;function b(T){let K=w;w=null,K?K(T):T?P.destroy(T):!D&&!M&&P.destroy()}let k=_[0],C=a(_,b),M=!!(n(k)||s(k)||i(k)),D=!!(t(C)||d(C)||i(C));if(P=new l({writableObjectMode:!!(k!=null&&k.writableObjectMode),readableObjectMode:!!(C!=null&&C.readableObjectMode),writable:M,readable:D}),M){if(r(k))P._write=function(K,Y,V){k.write(K,Y)?V():y=V},P._final=function(K){k.end(),A=K},k.on("drain",function(){if(y){let K=y;y=null,K()}});else if(e(k)){let K=(i(k)?k.writable:k).getWriter();P._write=async function(Y,V,he){try{await K.ready,K.write(Y).catch(()=>{}),he()}catch(ie){he(ie)}},P._final=async function(Y){try{await K.ready,K.close().catch(()=>{}),A=Y}catch(V){Y(V)}}}let T=i(C)?C.readable:C;E(T,()=>{if(A){let K=A;A=null,K()}})}if(D){if(r(C))C.on("readable",function(){if(x){let T=x;x=null,T()}}),C.on("end",function(){P.push(null)}),P._read=function(){for(;;){let T=C.read();if(T===null){x=P._read;return}if(!P.push(T))return}};else if(e(C)){let T=(i(C)?C.readable:C).getReader();P._read=async function(){for(;;)try{let{value:K,done:Y}=await T.read();if(!P.push(K))return;if(Y){P.push(null);return}}catch{return}}}}return P._destroy=function(T,K){!T&&w!==null&&(T=new p),x=null,y=null,A=null,w===null?K(T):(w=K,r(C)&&h(C,T))},P}}),Du=xe((f,c)=>{be(),we(),ve();var a=globalThis.AbortController||wr().AbortController,{codes:{ERR_INVALID_ARG_VALUE:l,ERR_INVALID_ARG_TYPE:h,ERR_MISSING_ARGS:r,ERR_OUT_OF_RANGE:t},AbortError:n}=yt(),{validateAbortSignal:e,validateInteger:i,validateObject:s}=_r(),d=Ze().Symbol("kWeak"),p=Ze().Symbol("kResistStopPropagation"),{finished:g}=Ht(),v=da(),{addAbortSignalNoValidate:E}=tn(),{isWritable:_,isNodeStream:O}=Bt(),{deprecate:y}=bt(),{ArrayPrototypePush:A,Boolean:x,MathFloor:w,Number:P,NumberIsNaN:b,Promise:k,PromiseReject:C,PromiseResolve:M,PromisePrototypeThen:D,Symbol:T}=Ze(),K=T("kEmpty"),Y=T("kEof");function V(ee,X){if(X!=null&&s(X,"options"),X?.signal!=null&&e(X.signal,"options.signal"),O(ee)&&!_(ee))throw new l("stream",ee,"must be writable");let ne=v(this,ee);return X!=null&&X.signal&&E(X.signal,ne),ne}function he(ee,X){if(typeof ee!="function")throw new h("fn",["Function","AsyncFunction"],ee);X!=null&&s(X,"options"),X?.signal!=null&&e(X.signal,"options.signal");let ne=1;X?.concurrency!=null&&(ne=w(X.concurrency));let Ee=ne-1;return X?.highWaterMark!=null&&(Ee=w(X.highWaterMark)),i(ne,"options.concurrency",1),i(Ee,"options.highWaterMark",0),Ee+=ne,(async function*(){let de=bt().AbortSignalAny([X?.signal].filter(x)),L=this,G=[],le={signal:de},_e,ye,Oe=!1,Q=0;function Ae(){Oe=!0,Pe()}function Pe(){Q-=1,pe()}function pe(){ye&&!Oe&&Q<ne&&G.length<Ee&&(ye(),ye=null)}async function Me(){try{for await(let o of L){if(Oe)return;if(de.aborted)throw new n;try{if(o=ee(o,le),o===K)continue;o=M(o)}catch(u){o=C(u)}Q+=1,D(o,Pe,Ae),G.push(o),_e&&(_e(),_e=null),!Oe&&(G.length>=Ee||Q>=ne)&&await new k(u=>{ye=u})}G.push(Y)}catch(o){let u=C(o);D(u,Pe,Ae),G.push(u)}finally{Oe=!0,_e&&(_e(),_e=null)}}Me();try{for(;;){for(;G.length>0;){let o=await G[0];if(o===Y)return;if(de.aborted)throw new n;o!==K&&(yield o),G.shift(),pe()}await new k(o=>{_e=o})}}finally{Oe=!0,ye&&(ye(),ye=null)}}).call(this)}function ie(ee=void 0){return ee!=null&&s(ee,"options"),ee?.signal!=null&&e(ee.signal,"options.signal"),(async function*(){let X=0;for await(let Ee of this){var ne;if(ee!=null&&(ne=ee.signal)!==null&&ne!==void 0&&ne.aborted)throw new n({cause:ee.signal.reason});yield[X++,Ee]}}).call(this)}async function re(ee,X=void 0){for await(let ne of B.call(this,ee,X))return!0;return!1}async function ce(ee,X=void 0){if(typeof ee!="function")throw new h("fn",["Function","AsyncFunction"],ee);return!await re.call(this,async(...ne)=>!await ee(...ne),X)}async function z(ee,X){for await(let ne of B.call(this,ee,X))return ne}async function ae(ee,X){if(typeof ee!="function")throw new h("fn",["Function","AsyncFunction"],ee);async function ne(Ee,de){return await ee(Ee,de),K}for await(let Ee of he.call(this,ne,X));}function B(ee,X){if(typeof ee!="function")throw new h("fn",["Function","AsyncFunction"],ee);async function ne(Ee,de){return await ee(Ee,de)?Ee:K}return he.call(this,ne,X)}var te=class extends r{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};async function Z(ee,X,ne){var Ee;if(typeof ee!="function")throw new h("reducer",["Function","AsyncFunction"],ee);ne!=null&&s(ne,"options"),ne?.signal!=null&&e(ne.signal,"options.signal");let de=arguments.length>1;if(ne!=null&&(Ee=ne.signal)!==null&&Ee!==void 0&&Ee.aborted){let ye=new n(void 0,{cause:ne.signal.reason});throw this.once("error",()=>{}),await g(this.destroy(ye)),ye}let L=new a,G=L.signal;if(ne!=null&&ne.signal){let ye={once:!0,[d]:this,[p]:!0};ne.signal.addEventListener("abort",()=>L.abort(),ye)}let le=!1;try{for await(let ye of this){var _e;if(le=!0,ne!=null&&(_e=ne.signal)!==null&&_e!==void 0&&_e.aborted)throw new n;de?X=await ee(X,ye,{signal:G}):(X=ye,de=!0)}if(!le&&!de)throw new te}finally{L.abort()}return X}async function ue(ee){ee!=null&&s(ee,"options"),ee?.signal!=null&&e(ee.signal,"options.signal");let X=[];for await(let Ee of this){var ne;if(ee!=null&&(ne=ee.signal)!==null&&ne!==void 0&&ne.aborted)throw new n(void 0,{cause:ee.signal.reason});A(X,Ee)}return X}function Ie(ee,X){let ne=he.call(this,ee,X);return(async function*(){for await(let Ee of ne)yield*Ee}).call(this)}function J(ee){if(ee=P(ee),b(ee))return 0;if(ee<0)throw new t("number",">= 0",ee);return ee}function $(ee,X=void 0){return X!=null&&s(X,"options"),X?.signal!=null&&e(X.signal,"options.signal"),ee=J(ee),(async function*(){var ne;if(X!=null&&(ne=X.signal)!==null&&ne!==void 0&&ne.aborted)throw new n;for await(let de of this){var Ee;if(X!=null&&(Ee=X.signal)!==null&&Ee!==void 0&&Ee.aborted)throw new n;ee--<=0&&(yield de)}}).call(this)}function se(ee,X=void 0){return X!=null&&s(X,"options"),X?.signal!=null&&e(X.signal,"options.signal"),ee=J(ee),(async function*(){var ne;if(X!=null&&(ne=X.signal)!==null&&ne!==void 0&&ne.aborted)throw new n;for await(let de of this){var Ee;if(X!=null&&(Ee=X.signal)!==null&&Ee!==void 0&&Ee.aborted)throw new n;if(ee-- >0&&(yield de),ee<=0)return}}).call(this)}c.exports.streamReturningOperators={asIndexedPairs:y(ie,"readable.asIndexedPairs will be removed in a future version."),drop:$,filter:B,flatMap:Ie,map:he,take:se,compose:V},c.exports.promiseReturningOperators={every:ce,forEach:ae,reduce:Z,toArray:ue,some:re,find:z}}),ga=xe((f,c)=>{be(),we(),ve();var{ArrayPrototypePop:a,Promise:l}=Ze(),{isIterable:h,isNodeStream:r,isWebStream:t}=Bt(),{pipelineImpl:n}=bo(),{finished:e}=Ht();ya();function i(...s){return new l((d,p)=>{let g,v,E=s[s.length-1];if(E&&typeof E=="object"&&!r(E)&&!h(E)&&!t(E)){let _=a(s);g=_.signal,v=_.end}n(s,(_,O)=>{_?p(_):d(O)},{signal:g,end:v})})}c.exports={finished:e,pipeline:i}}),ya=xe((f,c)=>{be(),we(),ve();var{Buffer:a}=(at(),He(st)),{ObjectDefineProperty:l,ObjectKeys:h,ReflectApply:r}=Ze(),{promisify:{custom:t}}=bt(),{streamReturningOperators:n,promiseReturningOperators:e}=Du(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:i}}=yt(),s=da(),{setDefaultHighWaterMark:d,getDefaultHighWaterMark:p}=rn(),{pipeline:g}=bo(),{destroyer:v}=cr(),E=Ht(),_=ga(),O=Bt(),y=c.exports=yo().Stream;y.isDestroyed=O.isDestroyed,y.isDisturbed=O.isDisturbed,y.isErrored=O.isErrored,y.isReadable=O.isReadable,y.isWritable=O.isWritable,y.Readable=nn();for(let x of h(n)){let w=function(...b){if(new.target)throw i();return y.Readable.from(r(P,this,b))},P=n[x];l(w,"name",{__proto__:null,value:P.name}),l(w,"length",{__proto__:null,value:P.length}),l(y.Readable.prototype,x,{__proto__:null,value:w,enumerable:!1,configurable:!0,writable:!0})}for(let x of h(e)){let w=function(...b){if(new.target)throw i();return r(P,this,b)},P=e[x];l(w,"name",{__proto__:null,value:P.name}),l(w,"length",{__proto__:null,value:P.length}),l(y.Readable.prototype,x,{__proto__:null,value:w,enumerable:!1,configurable:!0,writable:!0})}y.Writable=mo(),y.Duplex=jt(),y.Transform=fa(),y.PassThrough=pa(),y.pipeline=g;var{addAbortSignal:A}=tn();y.addAbortSignal=A,y.finished=E,y.destroy=v,y.compose=s,y.setDefaultHighWaterMark=d,y.getDefaultHighWaterMark=p,l(y,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return _}}),l(g,t,{__proto__:null,enumerable:!0,get(){return _.pipeline}}),l(E,t,{__proto__:null,enumerable:!0,get(){return _.finished}}),y.Stream=y,y._isUint8Array=function(x){return x instanceof Uint8Array},y._uint8ArrayToBuffer=function(x){return a.from(x.buffer,x.byteOffset,x.byteLength)}}),ir=xe((f,c)=>{be(),we(),ve();var a=ya(),l=ga(),h=a.Readable.destroy;c.exports=a.Readable,c.exports._uint8ArrayToBuffer=a._uint8ArrayToBuffer,c.exports._isUint8Array=a._isUint8Array,c.exports.isDisturbed=a.isDisturbed,c.exports.isErrored=a.isErrored,c.exports.isReadable=a.isReadable,c.exports.Readable=a.Readable,c.exports.Writable=a.Writable,c.exports.Duplex=a.Duplex,c.exports.Transform=a.Transform,c.exports.PassThrough=a.PassThrough,c.exports.addAbortSignal=a.addAbortSignal,c.exports.finished=a.finished,c.exports.destroy=a.destroy,c.exports.destroy=h,c.exports.pipeline=a.pipeline,c.exports.compose=a.compose,Object.defineProperty(a,"promises",{configurable:!0,enumerable:!0,get(){return l}}),c.exports.Stream=a.Stream,c.exports.default=c.exports}),Wu=xe((f,c)=>{be(),we(),ve(),typeof Object.create=="function"?c.exports=function(a,l){l&&(a.super_=l,a.prototype=Object.create(l.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}))}:c.exports=function(a,l){if(l){a.super_=l;var h=function(){};h.prototype=l.prototype,a.prototype=new h,a.prototype.constructor=a}}}),Fu=xe((f,c)=>{be(),we(),ve();var{Buffer:a}=(at(),He(st)),l=Symbol.for("BufferList");function h(r){if(!(this instanceof h))return new h(r);h._init.call(this,r)}h._init=function(r){Object.defineProperty(this,l,{value:!0}),this._bufs=[],this.length=0,r&&this.append(r)},h.prototype._new=function(r){return new h(r)},h.prototype._offset=function(r){if(r===0)return[0,0];let t=0;for(let n=0;n<this._bufs.length;n++){let e=t+this._bufs[n].length;if(r<e||n===this._bufs.length-1)return[n,r-t];t=e}},h.prototype._reverseOffset=function(r){let t=r[0],n=r[1];for(let e=0;e<t;e++)n+=this._bufs[e].length;return n},h.prototype.getBuffers=function(){return this._bufs},h.prototype.get=function(r){if(r>this.length||r<0)return;let t=this._offset(r);return this._bufs[t[0]][t[1]]},h.prototype.slice=function(r,t){return typeof r=="number"&&r<0&&(r+=this.length),typeof t=="number"&&t<0&&(t+=this.length),this.copy(null,0,r,t)},h.prototype.copy=function(r,t,n,e){if((typeof n!="number"||n<0)&&(n=0),(typeof e!="number"||e>this.length)&&(e=this.length),n>=this.length||e<=0)return r||a.alloc(0);let i=!!r,s=this._offset(n),d=e-n,p=d,g=i&&t||0,v=s[1];if(n===0&&e===this.length){if(!i)return this._bufs.length===1?this._bufs[0]:a.concat(this._bufs,this.length);for(let E=0;E<this._bufs.length;E++)this._bufs[E].copy(r,g),g+=this._bufs[E].length;return r}if(p<=this._bufs[s[0]].length-v)return i?this._bufs[s[0]].copy(r,t,v,v+p):this._bufs[s[0]].slice(v,v+p);i||(r=a.allocUnsafe(d));for(let E=s[0];E<this._bufs.length;E++){let _=this._bufs[E].length-v;if(p>_)this._bufs[E].copy(r,g,v),g+=_;else{this._bufs[E].copy(r,g,v,v+p),g+=_;break}p-=_,v&&(v=0)}return r.length>g?r.slice(0,g):r},h.prototype.shallowSlice=function(r,t){if(r=r||0,t=typeof t!="number"?this.length:t,r<0&&(r+=this.length),t<0&&(t+=this.length),r===t)return this._new();let n=this._offset(r),e=this._offset(t),i=this._bufs.slice(n[0],e[0]+1);return e[1]===0?i.pop():i[i.length-1]=i[i.length-1].slice(0,e[1]),n[1]!==0&&(i[0]=i[0].slice(n[1])),this._new(i)},h.prototype.toString=function(r,t,n){return this.slice(t,n).toString(r)},h.prototype.consume=function(r){if(r=Math.trunc(r),Number.isNaN(r)||r<=0)return this;for(;this._bufs.length;)if(r>=this._bufs[0].length)r-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift();else{this._bufs[0]=this._bufs[0].slice(r),this.length-=r;break}return this},h.prototype.duplicate=function(){let r=this._new();for(let t=0;t<this._bufs.length;t++)r.append(this._bufs[t]);return r},h.prototype.append=function(r){return this._attach(r,h.prototype._appendBuffer)},h.prototype.prepend=function(r){return this._attach(r,h.prototype._prependBuffer,!0)},h.prototype._attach=function(r,t,n){if(r==null)return this;if(r.buffer)t.call(this,a.from(r.buffer,r.byteOffset,r.byteLength));else if(Array.isArray(r)){let[e,i]=n?[r.length-1,-1]:[0,1];for(let s=e;s>=0&&s<r.length;s+=i)this._attach(r[s],t,n)}else if(this._isBufferList(r)){let[e,i]=n?[r._bufs.length-1,-1]:[0,1];for(let s=e;s>=0&&s<r._bufs.length;s+=i)this._attach(r._bufs[s],t,n)}else typeof r=="number"&&(r=r.toString()),t.call(this,a.from(r));return this},h.prototype._appendBuffer=function(r){this._bufs.push(r),this.length+=r.length},h.prototype._prependBuffer=function(r){this._bufs.unshift(r),this.length+=r.length},h.prototype.indexOf=function(r,t,n){if(n===void 0&&typeof t=="string"&&(n=t,t=void 0),typeof r=="function"||Array.isArray(r))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if(typeof r=="number"?r=a.from([r]):typeof r=="string"?r=a.from(r,n):this._isBufferList(r)?r=r.slice():Array.isArray(r.buffer)?r=a.from(r.buffer,r.byteOffset,r.byteLength):a.isBuffer(r)||(r=a.from(r)),t=Number(t||0),isNaN(t)&&(t=0),t<0&&(t=this.length+t),t<0&&(t=0),r.length===0)return t>this.length?this.length:t;let e=this._offset(t),i=e[0],s=e[1];for(;i<this._bufs.length;i++){let d=this._bufs[i];for(;s<d.length;)if(d.length-s>=r.length){let p=d.indexOf(r,s);if(p!==-1)return this._reverseOffset([i,p]);s=d.length-r.length+1}else{let p=this._reverseOffset([i,s]);if(this._match(p,r))return p;s++}s=0}return-1},h.prototype._match=function(r,t){if(this.length-r<t.length)return!1;for(let n=0;n<t.length;n++)if(this.get(r+n)!==t[n])return!1;return!0},(function(){let r={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readBigInt64BE:8,readBigInt64LE:8,readBigUInt64BE:8,readBigUInt64LE:8,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(let t in r)(function(n){r[n]===null?h.prototype[n]=function(e,i){return this.slice(e,e+i)[n](0,i)}:h.prototype[n]=function(e=0){return this.slice(e,e+r[n])[n](0)}})(t)})(),h.prototype._isBufferList=function(r){return r instanceof h||h.isBufferList(r)},h.isBufferList=function(r){return r!=null&&r[l]},c.exports=h}),$u=xe((f,c)=>{be(),we(),ve();var a=ir().Duplex,l=Wu(),h=Fu();function r(t){if(!(this instanceof r))return new r(t);if(typeof t=="function"){this._callback=t;let n=(function(e){this._callback&&(this._callback(e),this._callback=null)}).bind(this);this.on("pipe",function(e){e.on("error",n)}),this.on("unpipe",function(e){e.removeListener("error",n)}),t=null}h._init.call(this,t),a.call(this)}l(r,a),Object.assign(r.prototype,h.prototype),r.prototype._new=function(t){return new r(t)},r.prototype._write=function(t,n,e){this._appendBuffer(t),typeof e=="function"&&e()},r.prototype._read=function(t){if(!this.length)return this.push(null);t=Math.min(t,this.length),this.push(this.slice(0,t)),this.consume(t)},r.prototype.end=function(t){a.prototype.end.call(this,t),this._callback&&(this._callback(null,this.slice()),this._callback=null)},r.prototype._destroy=function(t,n){this._bufs.length=0,this.length=0,n(t)},r.prototype._isBufferList=function(t){return t instanceof r||t instanceof h||r.isBufferList(t)},r.isBufferList=h.isBufferList,c.exports=r,c.exports.BufferListStream=r,c.exports.BufferList=h}),qu=xe((f,c)=>{be(),we(),ve();var a=class{constructor(){this.cmd=null,this.retain=!1,this.qos=0,this.dup=!1,this.length=-1,this.topic=null,this.payload=null}};c.exports=a}),ma=xe((f,c)=>{be(),we(),ve();var a=c.exports,{Buffer:l}=(at(),He(st));a.types={0:"reserved",1:"connect",2:"connack",3:"publish",4:"puback",5:"pubrec",6:"pubrel",7:"pubcomp",8:"subscribe",9:"suback",10:"unsubscribe",11:"unsuback",12:"pingreq",13:"pingresp",14:"disconnect",15:"auth"},a.requiredHeaderFlags={1:0,2:0,4:0,5:0,6:2,7:0,8:2,9:0,10:2,11:0,12:0,13:0,14:0,15:0},a.requiredHeaderFlagsErrors={};for(let r in a.requiredHeaderFlags){let t=a.requiredHeaderFlags[r];a.requiredHeaderFlagsErrors[r]="Invalid header flag bits, must be 0x"+t.toString(16)+" for "+a.types[r]+" packet"}a.codes={};for(let r in a.types){let t=a.types[r];a.codes[t]=r}a.CMD_SHIFT=4,a.CMD_MASK=240,a.DUP_MASK=8,a.QOS_MASK=3,a.QOS_SHIFT=1,a.RETAIN_MASK=1,a.VARBYTEINT_MASK=127,a.VARBYTEINT_FIN_MASK=128,a.VARBYTEINT_MAX=268435455,a.SESSIONPRESENT_MASK=1,a.SESSIONPRESENT_HEADER=l.from([a.SESSIONPRESENT_MASK]),a.CONNACK_HEADER=l.from([a.codes.connack<<a.CMD_SHIFT]),a.USERNAME_MASK=128,a.PASSWORD_MASK=64,a.WILL_RETAIN_MASK=32,a.WILL_QOS_MASK=24,a.WILL_QOS_SHIFT=3,a.WILL_FLAG_MASK=4,a.CLEAN_SESSION_MASK=2,a.CONNECT_HEADER=l.from([a.codes.connect<<a.CMD_SHIFT]),a.properties={sessionExpiryInterval:17,willDelayInterval:24,receiveMaximum:33,maximumPacketSize:39,topicAliasMaximum:34,requestResponseInformation:25,requestProblemInformation:23,userProperties:38,authenticationMethod:21,authenticationData:22,payloadFormatIndicator:1,messageExpiryInterval:2,contentType:3,responseTopic:8,correlationData:9,maximumQoS:36,retainAvailable:37,assignedClientIdentifier:18,reasonString:31,wildcardSubscriptionAvailable:40,subscriptionIdentifiersAvailable:41,sharedSubscriptionAvailable:42,serverKeepAlive:19,responseInformation:26,serverReference:28,topicAlias:35,subscriptionIdentifier:11},a.propertiesCodes={};for(let r in a.properties){let t=a.properties[r];a.propertiesCodes[t]=r}a.propertiesTypes={sessionExpiryInterval:"int32",willDelayInterval:"int32",receiveMaximum:"int16",maximumPacketSize:"int32",topicAliasMaximum:"int16",requestResponseInformation:"byte",requestProblemInformation:"byte",userProperties:"pair",authenticationMethod:"string",authenticationData:"binary",payloadFormatIndicator:"byte",messageExpiryInterval:"int32",contentType:"string",responseTopic:"string",correlationData:"binary",maximumQoS:"int8",retainAvailable:"byte",assignedClientIdentifier:"string",reasonString:"string",wildcardSubscriptionAvailable:"byte",subscriptionIdentifiersAvailable:"byte",sharedSubscriptionAvailable:"byte",serverKeepAlive:"int16",responseInformation:"string",serverReference:"string",topicAlias:"int16",subscriptionIdentifier:"var"};function h(r){return[0,1,2].map(t=>[0,1].map(n=>[0,1].map(e=>{let i=l.alloc(1);return i.writeUInt8(a.codes[r]<<a.CMD_SHIFT|(n?a.DUP_MASK:0)|t<<a.QOS_SHIFT|e,0,!0),i})))}a.PUBLISH_HEADER=h("publish"),a.SUBSCRIBE_HEADER=h("subscribe"),a.SUBSCRIBE_OPTIONS_QOS_MASK=3,a.SUBSCRIBE_OPTIONS_NL_MASK=1,a.SUBSCRIBE_OPTIONS_NL_SHIFT=2,a.SUBSCRIBE_OPTIONS_RAP_MASK=1,a.SUBSCRIBE_OPTIONS_RAP_SHIFT=3,a.SUBSCRIBE_OPTIONS_RH_MASK=3,a.SUBSCRIBE_OPTIONS_RH_SHIFT=4,a.SUBSCRIBE_OPTIONS_RH=[0,16,32],a.SUBSCRIBE_OPTIONS_NL=4,a.SUBSCRIBE_OPTIONS_RAP=8,a.SUBSCRIBE_OPTIONS_QOS=[0,1,2],a.UNSUBSCRIBE_HEADER=h("unsubscribe"),a.ACKS={unsuback:h("unsuback"),puback:h("puback"),pubcomp:h("pubcomp"),pubrel:h("pubrel"),pubrec:h("pubrec")},a.SUBACK_HEADER=l.from([a.codes.suback<<a.CMD_SHIFT]),a.VERSION3=l.from([3]),a.VERSION4=l.from([4]),a.VERSION5=l.from([5]),a.VERSION131=l.from([131]),a.VERSION132=l.from([132]),a.QOS=[0,1,2].map(r=>l.from([r])),a.EMPTY={pingreq:l.from([a.codes.pingreq<<4,0]),pingresp:l.from([a.codes.pingresp<<4,0]),disconnect:l.from([a.codes.disconnect<<4,0])},a.MQTT5_PUBACK_PUBREC_CODES={0:"Success",16:"No matching subscribers",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",144:"Topic Name invalid",145:"Packet identifier in use",151:"Quota exceeded",153:"Payload format invalid"},a.MQTT5_PUBREL_PUBCOMP_CODES={0:"Success",146:"Packet Identifier not found"},a.MQTT5_SUBACK_CODES={0:"Granted QoS 0",1:"Granted QoS 1",2:"Granted QoS 2",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",143:"Topic Filter invalid",145:"Packet Identifier in use",151:"Quota exceeded",158:"Shared Subscriptions not supported",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"},a.MQTT5_UNSUBACK_CODES={0:"Success",17:"No subscription existed",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",143:"Topic Filter invalid",145:"Packet Identifier in use"},a.MQTT5_DISCONNECT_CODES={0:"Normal disconnection",4:"Disconnect with Will Message",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",135:"Not authorized",137:"Server busy",139:"Server shutting down",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"},a.MQTT5_AUTH_CODES={0:"Success",24:"Continue authentication",25:"Re-authenticate"}}),Vu=xe((f,c)=>{be(),we(),ve();var a=1e3,l=a*60,h=l*60,r=h*24,t=r*7,n=r*365.25;c.exports=function(p,g){g=g||{};var v=typeof p;if(v==="string"&&p.length>0)return e(p);if(v==="number"&&isFinite(p))return g.long?s(p):i(p);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(p))};function e(p){if(p=String(p),!(p.length>100)){var g=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(p);if(g){var v=parseFloat(g[1]),E=(g[2]||"ms").toLowerCase();switch(E){case"years":case"year":case"yrs":case"yr":case"y":return v*n;case"weeks":case"week":case"w":return v*t;case"days":case"day":case"d":return v*r;case"hours":case"hour":case"hrs":case"hr":case"h":return v*h;case"minutes":case"minute":case"mins":case"min":case"m":return v*l;case"seconds":case"second":case"secs":case"sec":case"s":return v*a;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return v;default:return}}}}function i(p){var g=Math.abs(p);return g>=r?Math.round(p/r)+"d":g>=h?Math.round(p/h)+"h":g>=l?Math.round(p/l)+"m":g>=a?Math.round(p/a)+"s":p+"ms"}function s(p){var g=Math.abs(p);return g>=r?d(p,g,r,"day"):g>=h?d(p,g,h,"hour"):g>=l?d(p,g,l,"minute"):g>=a?d(p,g,a,"second"):p+" ms"}function d(p,g,v,E){var _=g>=v*1.5;return Math.round(p/v)+" "+E+(_?"s":"")}}),zu=xe((f,c)=>{be(),we(),ve();function a(l){r.debug=r,r.default=r,r.coerce=d,r.disable=i,r.enable=n,r.enabled=s,r.humanize=Vu(),r.destroy=p,Object.keys(l).forEach(g=>{r[g]=l[g]}),r.names=[],r.skips=[],r.formatters={};function h(g){let v=0;for(let E=0;E<g.length;E++)v=(v<<5)-v+g.charCodeAt(E),v|=0;return r.colors[Math.abs(v)%r.colors.length]}r.selectColor=h;function r(g){let v,E=null,_,O;function y(...A){if(!y.enabled)return;let x=y,w=Number(new Date),P=w-(v||w);x.diff=P,x.prev=v,x.curr=w,v=w,A[0]=r.coerce(A[0]),typeof A[0]!="string"&&A.unshift("%O");let b=0;A[0]=A[0].replace(/%([a-zA-Z%])/g,(k,C)=>{if(k==="%%")return"%";b++;let M=r.formatters[C];if(typeof M=="function"){let D=A[b];k=M.call(x,D),A.splice(b,1),b--}return k}),r.formatArgs.call(x,A),(x.log||r.log).apply(x,A)}return y.namespace=g,y.useColors=r.useColors(),y.color=r.selectColor(g),y.extend=t,y.destroy=r.destroy,Object.defineProperty(y,"enabled",{enumerable:!0,configurable:!1,get:()=>E!==null?E:(_!==r.namespaces&&(_=r.namespaces,O=r.enabled(g)),O),set:A=>{E=A}}),typeof r.init=="function"&&r.init(y),y}function t(g,v){let E=r(this.namespace+(typeof v>"u"?":":v)+g);return E.log=this.log,E}function n(g){r.save(g),r.namespaces=g,r.names=[],r.skips=[];let v=(typeof g=="string"?g:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(let E of v)E[0]==="-"?r.skips.push(E.slice(1)):r.names.push(E)}function e(g,v){let E=0,_=0,O=-1,y=0;for(;E<g.length;)if(_<v.length&&(v[_]===g[E]||v[_]==="*"))v[_]==="*"?(O=_,y=E,_++):(E++,_++);else if(O!==-1)_=O+1,y++,E=y;else return!1;for(;_<v.length&&v[_]==="*";)_++;return _===v.length}function i(){let g=[...r.names,...r.skips.map(v=>"-"+v)].join(",");return r.enable(""),g}function s(g){for(let v of r.skips)if(e(g,v))return!1;for(let v of r.names)if(e(g,v))return!0;return!1}function d(g){return g instanceof Error?g.stack||g.message:g}function p(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}c.exports=a}),Mt=xe((f,c)=>{be(),we(),ve(),f.formatArgs=l,f.save=h,f.load=r,f.useColors=a,f.storage=t(),f.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),f.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function a(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let e;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(e=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(e[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function l(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+c.exports.humanize(this.diff),!this.useColors)return;let i="color: "+this.color;e.splice(1,0,i,"color: inherit");let s=0,d=0;e[0].replace(/%[a-zA-Z%]/g,p=>{p!=="%%"&&(s++,p==="%c"&&(d=s))}),e.splice(d,0,i)}f.log=console.debug||console.log||(()=>{});function h(e){try{e?f.storage.setItem("debug",e):f.storage.removeItem("debug")}catch{}}function r(){let e;try{e=f.storage.getItem("debug")||f.storage.getItem("DEBUG")}catch{}return!e&&typeof Qe<"u"&&"env"in Qe&&(e=Qe.env.DEBUG),e}function t(){try{return localStorage}catch{}}c.exports=zu()(f);var{formatters:n}=c.exports;n.j=function(e){try{return JSON.stringify(e)}catch(i){return"[UnexpectedJSONParseError]: "+i.message}}}),Ku=xe((f,c)=>{be(),we(),ve();var a=$u(),{EventEmitter:l}=(rr(),He(Kt)),h=qu(),r=ma(),t=Mt()("mqtt-packet:parser"),n=class wi extends l{constructor(){super(),this.parser=this.constructor.parser}static parser(i){return this instanceof wi?(this.settings=i||{},this._states=["_parseHeader","_parseLength","_parsePayload","_newPacket"],this._resetState(),this):new wi().parser(i)}_resetState(){t("_resetState: resetting packet, error, _list, and _stateCounter"),this.packet=new h,this.error=null,this._list=a(),this._stateCounter=0}parse(i){for(this.error&&this._resetState(),this._list.append(i),t("parse: current state: %s",this._states[this._stateCounter]);(this.packet.length!==-1||this._list.length>0)&&this[this._states[this._stateCounter]]()&&!this.error;)this._stateCounter++,t("parse: state complete. _stateCounter is now: %d",this._stateCounter),t("parse: packet.length: %d, buffer list length: %d",this.packet.length,this._list.length),this._stateCounter>=this._states.length&&(this._stateCounter=0);return t("parse: exited while loop. packet: %d, buffer list length: %d",this.packet.length,this._list.length),this._list.length}_parseHeader(){let i=this._list.readUInt8(0),s=i>>r.CMD_SHIFT;this.packet.cmd=r.types[s];let d=i&15,p=r.requiredHeaderFlags[s];return p!=null&&d!==p?this._emitError(new Error(r.requiredHeaderFlagsErrors[s])):(this.packet.retain=(i&r.RETAIN_MASK)!==0,this.packet.qos=i>>r.QOS_SHIFT&r.QOS_MASK,this.packet.qos>2?this._emitError(new Error("Packet must not have both QoS bits set to 1")):(this.packet.dup=(i&r.DUP_MASK)!==0,t("_parseHeader: packet: %o",this.packet),this._list.consume(1),!0))}_parseLength(){let i=this._parseVarByteNum(!0);return i&&(this.packet.length=i.value,this._list.consume(i.bytes)),t("_parseLength %d",i.value),!!i}_parsePayload(){t("_parsePayload: payload %O",this._list);let i=!1;if(this.packet.length===0||this._list.length>=this.packet.length){switch(this._pos=0,this.packet.cmd){case"connect":this._parseConnect();break;case"connack":this._parseConnack();break;case"publish":this._parsePublish();break;case"puback":case"pubrec":case"pubrel":case"pubcomp":this._parseConfirmation();break;case"subscribe":this._parseSubscribe();break;case"suback":this._parseSuback();break;case"unsubscribe":this._parseUnsubscribe();break;case"unsuback":this._parseUnsuback();break;case"pingreq":case"pingresp":break;case"disconnect":this._parseDisconnect();break;case"auth":this._parseAuth();break;default:this._emitError(new Error("Not supported"))}i=!0}return t("_parsePayload complete result: %s",i),i}_parseConnect(){t("_parseConnect");let i,s,d,p,g={},v=this.packet,E=this._parseString();if(E===null)return this._emitError(new Error("Cannot parse protocolId"));if(E!=="MQTT"&&E!=="MQIsdp")return this._emitError(new Error("Invalid protocolId"));if(v.protocolId=E,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(v.protocolVersion=this._list.readUInt8(this._pos),v.protocolVersion>=128&&(v.bridgeMode=!0,v.protocolVersion=v.protocolVersion-128),v.protocolVersion!==3&&v.protocolVersion!==4&&v.protocolVersion!==5)return this._emitError(new Error("Invalid protocol version"));if(this._pos++,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(this._list.readUInt8(this._pos)&1)return this._emitError(new Error("Connect flag bit 0 must be 0, but got 1"));g.username=this._list.readUInt8(this._pos)&r.USERNAME_MASK,g.password=this._list.readUInt8(this._pos)&r.PASSWORD_MASK,g.will=this._list.readUInt8(this._pos)&r.WILL_FLAG_MASK;let _=!!(this._list.readUInt8(this._pos)&r.WILL_RETAIN_MASK),O=(this._list.readUInt8(this._pos)&r.WILL_QOS_MASK)>>r.WILL_QOS_SHIFT;if(g.will)v.will={},v.will.retain=_,v.will.qos=O;else{if(_)return this._emitError(new Error("Will Retain Flag must be set to zero when Will Flag is set to 0"));if(O)return this._emitError(new Error("Will QoS must be set to zero when Will Flag is set to 0"))}if(v.clean=(this._list.readUInt8(this._pos)&r.CLEAN_SESSION_MASK)!==0,this._pos++,v.keepalive=this._parseNum(),v.keepalive===-1)return this._emitError(new Error("Packet too short"));if(v.protocolVersion===5){let A=this._parseProperties();Object.getOwnPropertyNames(A).length&&(v.properties=A)}let y=this._parseString();if(y===null)return this._emitError(new Error("Packet too short"));if(v.clientId=y,t("_parseConnect: packet.clientId: %s",v.clientId),g.will){if(v.protocolVersion===5){let A=this._parseProperties();Object.getOwnPropertyNames(A).length&&(v.will.properties=A)}if(i=this._parseString(),i===null)return this._emitError(new Error("Cannot parse will topic"));if(v.will.topic=i,t("_parseConnect: packet.will.topic: %s",v.will.topic),s=this._parseBuffer(),s===null)return this._emitError(new Error("Cannot parse will payload"));v.will.payload=s,t("_parseConnect: packet.will.paylaod: %s",v.will.payload)}if(g.username){if(p=this._parseString(),p===null)return this._emitError(new Error("Cannot parse username"));v.username=p,t("_parseConnect: packet.username: %s",v.username)}if(g.password){if(d=this._parseBuffer(),d===null)return this._emitError(new Error("Cannot parse password"));v.password=d}return this.settings=v,t("_parseConnect: complete"),v}_parseConnack(){t("_parseConnack");let i=this.packet;if(this._list.length<1)return null;let s=this._list.readUInt8(this._pos++);if(s>1)return this._emitError(new Error("Invalid connack flags, bits 7-1 must be set to 0"));if(i.sessionPresent=!!(s&r.SESSIONPRESENT_MASK),this.settings.protocolVersion===5)this._list.length>=2?i.reasonCode=this._list.readUInt8(this._pos++):i.reasonCode=0;else{if(this._list.length<2)return null;i.returnCode=this._list.readUInt8(this._pos++)}if(i.returnCode===-1||i.reasonCode===-1)return this._emitError(new Error("Cannot parse return code"));if(this.settings.protocolVersion===5){let d=this._parseProperties();Object.getOwnPropertyNames(d).length&&(i.properties=d)}t("_parseConnack: complete")}_parsePublish(){t("_parsePublish");let i=this.packet;if(i.topic=this._parseString(),i.topic===null)return this._emitError(new Error("Cannot parse topic"));if(!(i.qos>0&&!this._parseMessageId())){if(this.settings.protocolVersion===5){let s=this._parseProperties();Object.getOwnPropertyNames(s).length&&(i.properties=s)}i.payload=this._list.slice(this._pos,i.length),t("_parsePublish: payload from buffer list: %o",i.payload)}}_parseSubscribe(){t("_parseSubscribe");let i=this.packet,s,d,p,g,v,E,_;if(i.subscriptions=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let O=this._parseProperties();Object.getOwnPropertyNames(O).length&&(i.properties=O)}if(i.length<=0)return this._emitError(new Error("Malformed subscribe, no payload specified"));for(;this._pos<i.length;){if(s=this._parseString(),s===null)return this._emitError(new Error("Cannot parse topic"));if(this._pos>=i.length)return this._emitError(new Error("Malformed Subscribe Payload"));if(d=this._parseByte(),this.settings.protocolVersion===5){if(d&192)return this._emitError(new Error("Invalid subscribe topic flag bits, bits 7-6 must be 0"))}else if(d&252)return this._emitError(new Error("Invalid subscribe topic flag bits, bits 7-2 must be 0"));if(p=d&r.SUBSCRIBE_OPTIONS_QOS_MASK,p>2)return this._emitError(new Error("Invalid subscribe QoS, must be <= 2"));if(E=(d>>r.SUBSCRIBE_OPTIONS_NL_SHIFT&r.SUBSCRIBE_OPTIONS_NL_MASK)!==0,v=(d>>r.SUBSCRIBE_OPTIONS_RAP_SHIFT&r.SUBSCRIBE_OPTIONS_RAP_MASK)!==0,g=d>>r.SUBSCRIBE_OPTIONS_RH_SHIFT&r.SUBSCRIBE_OPTIONS_RH_MASK,g>2)return this._emitError(new Error("Invalid retain handling, must be <= 2"));_={topic:s,qos:p},this.settings.protocolVersion===5?(_.nl=E,_.rap=v,_.rh=g):this.settings.bridgeMode&&(_.rh=0,_.rap=!0,_.nl=!0),t("_parseSubscribe: push subscription `%s` to subscription",_),i.subscriptions.push(_)}}}_parseSuback(){t("_parseSuback");let i=this.packet;if(this.packet.granted=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let s=this._parseProperties();Object.getOwnPropertyNames(s).length&&(i.properties=s)}if(i.length<=0)return this._emitError(new Error("Malformed suback, no payload specified"));for(;this._pos<this.packet.length;){let s=this._list.readUInt8(this._pos++);if(this.settings.protocolVersion===5){if(!r.MQTT5_SUBACK_CODES[s])return this._emitError(new Error("Invalid suback code"))}else if(s>2&&s!==128)return this._emitError(new Error("Invalid suback QoS, must be 0, 1, 2 or 128"));this.packet.granted.push(s)}}}_parseUnsubscribe(){t("_parseUnsubscribe");let i=this.packet;if(i.unsubscriptions=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let s=this._parseProperties();Object.getOwnPropertyNames(s).length&&(i.properties=s)}if(i.length<=0)return this._emitError(new Error("Malformed unsubscribe, no payload specified"));for(;this._pos<i.length;){let s=this._parseString();if(s===null)return this._emitError(new Error("Cannot parse topic"));t("_parseUnsubscribe: push topic `%s` to unsubscriptions",s),i.unsubscriptions.push(s)}}}_parseUnsuback(){t("_parseUnsuback");let i=this.packet;if(!this._parseMessageId())return this._emitError(new Error("Cannot parse messageId"));if((this.settings.protocolVersion===3||this.settings.protocolVersion===4)&&i.length!==2)return this._emitError(new Error("Malformed unsuback, payload length must be 2"));if(i.length<=0)return this._emitError(new Error("Malformed unsuback, no payload specified"));if(this.settings.protocolVersion===5){let s=this._parseProperties();for(Object.getOwnPropertyNames(s).length&&(i.properties=s),i.granted=[];this._pos<this.packet.length;){let d=this._list.readUInt8(this._pos++);if(!r.MQTT5_UNSUBACK_CODES[d])return this._emitError(new Error("Invalid unsuback code"));this.packet.granted.push(d)}}}_parseConfirmation(){t("_parseConfirmation: packet.cmd: `%s`",this.packet.cmd);let i=this.packet;if(this._parseMessageId(),this.settings.protocolVersion===5){if(i.length>2){switch(i.reasonCode=this._parseByte(),this.packet.cmd){case"puback":case"pubrec":if(!r.MQTT5_PUBACK_PUBREC_CODES[i.reasonCode])return this._emitError(new Error("Invalid "+this.packet.cmd+" reason code"));break;case"pubrel":case"pubcomp":if(!r.MQTT5_PUBREL_PUBCOMP_CODES[i.reasonCode])return this._emitError(new Error("Invalid "+this.packet.cmd+" reason code"));break}t("_parseConfirmation: packet.reasonCode `%d`",i.reasonCode)}else i.reasonCode=0;if(i.length>3){let s=this._parseProperties();Object.getOwnPropertyNames(s).length&&(i.properties=s)}}return!0}_parseDisconnect(){let i=this.packet;if(t("_parseDisconnect"),this.settings.protocolVersion===5){this._list.length>0?(i.reasonCode=this._parseByte(),r.MQTT5_DISCONNECT_CODES[i.reasonCode]||this._emitError(new Error("Invalid disconnect reason code"))):i.reasonCode=0;let s=this._parseProperties();Object.getOwnPropertyNames(s).length&&(i.properties=s)}return t("_parseDisconnect result: true"),!0}_parseAuth(){t("_parseAuth");let i=this.packet;if(this.settings.protocolVersion!==5)return this._emitError(new Error("Not supported auth packet for this version MQTT"));if(i.reasonCode=this._parseByte(),!r.MQTT5_AUTH_CODES[i.reasonCode])return this._emitError(new Error("Invalid auth reason code"));let s=this._parseProperties();return Object.getOwnPropertyNames(s).length&&(i.properties=s),t("_parseAuth: result: true"),!0}_parseMessageId(){let i=this.packet;return i.messageId=this._parseNum(),i.messageId===null?(this._emitError(new Error("Cannot parse messageId")),!1):(t("_parseMessageId: packet.messageId %d",i.messageId),!0)}_parseString(i){let s=this._parseNum(),d=s+this._pos;if(s===-1||d>this._list.length||d>this.packet.length)return null;let p=this._list.toString("utf8",this._pos,d);return this._pos+=s,t("_parseString: result: %s",p),p}_parseStringPair(){return t("_parseStringPair"),{name:this._parseString(),value:this._parseString()}}_parseBuffer(){let i=this._parseNum(),s=i+this._pos;if(i===-1||s>this._list.length||s>this.packet.length)return null;let d=this._list.slice(this._pos,s);return this._pos+=i,t("_parseBuffer: result: %o",d),d}_parseNum(){if(this._list.length-this._pos<2)return-1;let i=this._list.readUInt16BE(this._pos);return this._pos+=2,t("_parseNum: result: %s",i),i}_parse4ByteNum(){if(this._list.length-this._pos<4)return-1;let i=this._list.readUInt32BE(this._pos);return this._pos+=4,t("_parse4ByteNum: result: %s",i),i}_parseVarByteNum(i){t("_parseVarByteNum");let s=4,d=0,p=1,g=0,v=!1,E,_=this._pos?this._pos:0;for(;d<s&&_+d<this._list.length;){if(E=this._list.readUInt8(_+d++),g+=p*(E&r.VARBYTEINT_MASK),p*=128,(E&r.VARBYTEINT_FIN_MASK)===0){v=!0;break}if(this._list.length<=d)break}return!v&&d===s&&this._list.length>=d&&this._emitError(new Error("Invalid variable byte integer")),_&&(this._pos+=d),v?i?v={bytes:d,value:g}:v=g:v=!1,t("_parseVarByteNum: result: %o",v),v}_parseByte(){let i;return this._pos<this._list.length&&(i=this._list.readUInt8(this._pos),this._pos++),t("_parseByte: result: %o",i),i}_parseByType(i){switch(t("_parseByType: type: %s",i),i){case"byte":return this._parseByte()!==0;case"int8":return this._parseByte();case"int16":return this._parseNum();case"int32":return this._parse4ByteNum();case"var":return this._parseVarByteNum();case"string":return this._parseString();case"pair":return this._parseStringPair();case"binary":return this._parseBuffer()}}_parseProperties(){t("_parseProperties");let i=this._parseVarByteNum(),s=this._pos+i,d={};for(;this._pos<s;){let p=this._parseByte();if(!p)return this._emitError(new Error("Cannot parse property code type")),!1;let g=r.propertiesCodes[p];if(!g)return this._emitError(new Error("Unknown property")),!1;if(g==="userProperties"){d[g]||(d[g]=Object.create(null));let v=this._parseByType(r.propertiesTypes[g]);if(d[g][v.name])if(Array.isArray(d[g][v.name]))d[g][v.name].push(v.value);else{let E=d[g][v.name];d[g][v.name]=[E],d[g][v.name].push(v.value)}else d[g][v.name]=v.value;continue}d[g]?Array.isArray(d[g])?d[g].push(this._parseByType(r.propertiesTypes[g])):(d[g]=[d[g]],d[g].push(this._parseByType(r.propertiesTypes[g]))):d[g]=this._parseByType(r.propertiesTypes[g])}return d}_newPacket(){return t("_newPacket"),this.packet&&(this._list.consume(this.packet.length),t("_newPacket: parser emit packet: packet.cmd: %s, packet.payload: %s, packet.length: %d",this.packet.cmd,this.packet.payload,this.packet.length),this.emit("packet",this.packet)),t("_newPacket: new packet"),this.packet=new h,this._pos=0,!0}_emitError(i){t("_emitError",i),this.error=i,this.emit("error",i)}};c.exports=n}),Hu=xe((f,c)=>{be(),we(),ve();var{Buffer:a}=(at(),He(st)),l=65536,h={},r=a.isBuffer(a.from([1,2]).subarray(0,1));function t(s){let d=a.allocUnsafe(2);return d.writeUInt8(s>>8,0),d.writeUInt8(s&255,1),d}function n(){for(let s=0;s<l;s++)h[s]=t(s)}function e(s){let d=0,p=0,g=a.allocUnsafe(4);do d=s%128|0,s=s/128|0,s>0&&(d=d|128),g.writeUInt8(d,p++);while(s>0&&p<4);return s>0&&(p=0),r?g.subarray(0,p):g.slice(0,p)}function i(s){let d=a.allocUnsafe(4);return d.writeUInt32BE(s,0),d}c.exports={cache:h,generateCache:n,generateNumber:t,genBufVariableByteInt:e,generate4ByteBuffer:i}}),Gu=xe((f,c)=>{be(),we(),ve(),typeof Qe>"u"||!Qe.version||Qe.version.indexOf("v0.")===0||Qe.version.indexOf("v1.")===0&&Qe.version.indexOf("v1.8.")!==0?c.exports={nextTick:a}:c.exports=Qe;function a(l,h,r,t){if(typeof l!="function")throw new TypeError('"callback" argument must be a function');var n=arguments.length,e,i;switch(n){case 0:case 1:return Qe.nextTick(l);case 2:return Qe.nextTick(function(){l.call(null,h)});case 3:return Qe.nextTick(function(){l.call(null,h,r)});case 4:return Qe.nextTick(function(){l.call(null,h,r,t)});default:for(e=new Array(n-1),i=0;i<e.length;)e[i++]=arguments[i];return Qe.nextTick(function(){l.apply(null,e)})}}}),ba=xe((f,c)=>{be(),we(),ve();var a=ma(),{Buffer:l}=(at(),He(st)),h=l.allocUnsafe(0),r=l.from([0]),t=Hu(),n=Gu().nextTick,e=Mt()("mqtt-packet:writeToStream"),i=t.cache,s=t.generateNumber,d=t.generateCache,p=t.genBufVariableByteInt,g=t.generate4ByteBuffer,v=ie,E=!0;function _(J,$,se){switch(e("generate called"),$.cork&&($.cork(),n(O,$)),E&&(E=!1,d()),e("generate: packet.cmd: %s",J.cmd),J.cmd){case"connect":return y(J,$);case"connack":return A(J,$,se);case"publish":return x(J,$,se);case"puback":case"pubrec":case"pubrel":case"pubcomp":return w(J,$,se);case"subscribe":return P(J,$,se);case"suback":return b(J,$,se);case"unsubscribe":return k(J,$,se);case"unsuback":return C(J,$,se);case"pingreq":case"pingresp":return M(J,$);case"disconnect":return D(J,$,se);case"auth":return T(J,$,se);default:return $.destroy(new Error("Unknown command")),!1}}Object.defineProperty(_,"cacheNumbers",{get(){return v===ie},set(J){J?((!i||Object.keys(i).length===0)&&(E=!0),v=ie):(E=!1,v=re)}});function O(J){J.uncork()}function y(J,$,se){let ee=J||{},X=ee.protocolId||"MQTT",ne=ee.protocolVersion||4,Ee=ee.will,de=ee.clean,L=ee.keepalive||0,G=ee.clientId||"",le=ee.username,_e=ee.password,ye=ee.properties;de===void 0&&(de=!0);let Oe=0;if(typeof X!="string"&&!l.isBuffer(X))return $.destroy(new Error("Invalid protocolId")),!1;if(Oe+=X.length+2,ne!==3&&ne!==4&&ne!==5)return $.destroy(new Error("Invalid protocol version")),!1;if(Oe+=1,(typeof G=="string"||l.isBuffer(G))&&(G||ne>=4)&&(G||de))Oe+=l.byteLength(G)+2;else{if(ne<4)return $.destroy(new Error("clientId must be supplied before 3.1.1")),!1;if(de*1===0)return $.destroy(new Error("clientId must be given if cleanSession set to 0")),!1}if(typeof L!="number"||L<0||L>65535||L%1!==0)return $.destroy(new Error("Invalid keepalive")),!1;Oe+=2,Oe+=1;let Q,Ae;if(ne===5){if(Q=ae($,ye),!Q)return!1;Oe+=Q.length}if(Ee){if(typeof Ee!="object")return $.destroy(new Error("Invalid will")),!1;if(!Ee.topic||typeof Ee.topic!="string")return $.destroy(new Error("Invalid will topic")),!1;if(Oe+=l.byteLength(Ee.topic)+2,Oe+=2,Ee.payload)if(Ee.payload.length>=0)typeof Ee.payload=="string"?Oe+=l.byteLength(Ee.payload):Oe+=Ee.payload.length;else return $.destroy(new Error("Invalid will payload")),!1;if(Ae={},ne===5){if(Ae=ae($,Ee.properties),!Ae)return!1;Oe+=Ae.length}}let Pe=!1;if(le!=null)if(Ie(le))Pe=!0,Oe+=l.byteLength(le)+2;else return $.destroy(new Error("Invalid username")),!1;if(_e!=null){if(!Pe)return $.destroy(new Error("Username is required to use password")),!1;if(Ie(_e))Oe+=ue(_e)+2;else return $.destroy(new Error("Invalid password")),!1}$.write(a.CONNECT_HEADER),Y($,Oe),z($,X),ee.bridgeMode&&(ne+=128),$.write(ne===131?a.VERSION131:ne===132?a.VERSION132:ne===4?a.VERSION4:ne===5?a.VERSION5:a.VERSION3);let pe=0;return pe|=le!=null?a.USERNAME_MASK:0,pe|=_e!=null?a.PASSWORD_MASK:0,pe|=Ee&&Ee.retain?a.WILL_RETAIN_MASK:0,pe|=Ee&&Ee.qos?Ee.qos<<a.WILL_QOS_SHIFT:0,pe|=Ee?a.WILL_FLAG_MASK:0,pe|=de?a.CLEAN_SESSION_MASK:0,$.write(l.from([pe])),v($,L),ne===5&&Q.write(),z($,G),Ee&&(ne===5&&Ae.write(),V($,Ee.topic),z($,Ee.payload)),le!=null&&z($,le),_e!=null&&z($,_e),!0}function A(J,$,se){let ee=se?se.protocolVersion:4,X=J||{},ne=ee===5?X.reasonCode:X.returnCode,Ee=X.properties,de=2;if(typeof ne!="number")return $.destroy(new Error("Invalid return code")),!1;let L=null;if(ee===5){if(L=ae($,Ee),!L)return!1;de+=L.length}return $.write(a.CONNACK_HEADER),Y($,de),$.write(X.sessionPresent?a.SESSIONPRESENT_HEADER:r),$.write(l.from([ne])),L?.write(),!0}function x(J,$,se){e("publish: packet: %o",J);let ee=se?se.protocolVersion:4,X=J||{},ne=X.qos||0,Ee=X.retain?a.RETAIN_MASK:0,de=X.topic,L=X.payload||h,G=X.messageId,le=X.properties,_e=0;if(typeof de=="string")_e+=l.byteLength(de)+2;else if(l.isBuffer(de))_e+=de.length+2;else return $.destroy(new Error("Invalid topic")),!1;if(l.isBuffer(L)?_e+=L.length:_e+=l.byteLength(L),ne&&typeof G!="number")return $.destroy(new Error("Invalid messageId")),!1;ne&&(_e+=2);let ye=null;if(ee===5){if(ye=ae($,le),!ye)return!1;_e+=ye.length}return $.write(a.PUBLISH_HEADER[ne][X.dup?1:0][Ee?1:0]),Y($,_e),v($,ue(de)),$.write(de),ne>0&&v($,G),ye?.write(),e("publish: payload: %o",L),$.write(L)}function w(J,$,se){let ee=se?se.protocolVersion:4,X=J||{},ne=X.cmd||"puback",Ee=X.messageId,de=X.dup&&ne==="pubrel"?a.DUP_MASK:0,L=0,G=X.reasonCode,le=X.properties,_e=ee===5?3:2;if(ne==="pubrel"&&(L=1),typeof Ee!="number")return $.destroy(new Error("Invalid messageId")),!1;let ye=null;if(ee===5&&typeof le=="object"){if(ye=B($,le,se,_e),!ye)return!1;_e+=ye.length}return $.write(a.ACKS[ne][L][de][0]),_e===3&&(_e+=G!==0?1:-1),Y($,_e),v($,Ee),ee===5&&_e!==2&&$.write(l.from([G])),ye!==null?ye.write():_e===4&&$.write(l.from([0])),!0}function P(J,$,se){e("subscribe: packet: ");let ee=se?se.protocolVersion:4,X=J||{},ne=X.dup?a.DUP_MASK:0,Ee=X.messageId,de=X.subscriptions,L=X.properties,G=0;if(typeof Ee!="number")return $.destroy(new Error("Invalid messageId")),!1;G+=2;let le=null;if(ee===5){if(le=ae($,L),!le)return!1;G+=le.length}if(typeof de=="object"&&de.length)for(let ye=0;ye<de.length;ye+=1){let Oe=de[ye].topic,Q=de[ye].qos;if(typeof Oe!="string")return $.destroy(new Error("Invalid subscriptions - invalid topic")),!1;if(typeof Q!="number")return $.destroy(new Error("Invalid subscriptions - invalid qos")),!1;if(ee===5){if(typeof(de[ye].nl||!1)!="boolean")return $.destroy(new Error("Invalid subscriptions - invalid No Local")),!1;if(typeof(de[ye].rap||!1)!="boolean")return $.destroy(new Error("Invalid subscriptions - invalid Retain as Published")),!1;let Ae=de[ye].rh||0;if(typeof Ae!="number"||Ae>2)return $.destroy(new Error("Invalid subscriptions - invalid Retain Handling")),!1}G+=l.byteLength(Oe)+2+1}else return $.destroy(new Error("Invalid subscriptions")),!1;e("subscribe: writing to stream: %o",a.SUBSCRIBE_HEADER),$.write(a.SUBSCRIBE_HEADER[1][ne?1:0][0]),Y($,G),v($,Ee),le!==null&&le.write();let _e=!0;for(let ye of de){let Oe=ye.topic,Q=ye.qos,Ae=+ye.nl,Pe=+ye.rap,pe=ye.rh,Me;V($,Oe),Me=a.SUBSCRIBE_OPTIONS_QOS[Q],ee===5&&(Me|=Ae?a.SUBSCRIBE_OPTIONS_NL:0,Me|=Pe?a.SUBSCRIBE_OPTIONS_RAP:0,Me|=pe?a.SUBSCRIBE_OPTIONS_RH[pe]:0),_e=$.write(l.from([Me]))}return _e}function b(J,$,se){let ee=se?se.protocolVersion:4,X=J||{},ne=X.messageId,Ee=X.granted,de=X.properties,L=0;if(typeof ne!="number")return $.destroy(new Error("Invalid messageId")),!1;if(L+=2,typeof Ee=="object"&&Ee.length)for(let le=0;le<Ee.length;le+=1){if(typeof Ee[le]!="number")return $.destroy(new Error("Invalid qos vector")),!1;L+=1}else return $.destroy(new Error("Invalid qos vector")),!1;let G=null;if(ee===5){if(G=B($,de,se,L),!G)return!1;L+=G.length}return $.write(a.SUBACK_HEADER),Y($,L),v($,ne),G!==null&&G.write(),$.write(l.from(Ee))}function k(J,$,se){let ee=se?se.protocolVersion:4,X=J||{},ne=X.messageId,Ee=X.dup?a.DUP_MASK:0,de=X.unsubscriptions,L=X.properties,G=0;if(typeof ne!="number")return $.destroy(new Error("Invalid messageId")),!1;if(G+=2,typeof de=="object"&&de.length)for(let ye=0;ye<de.length;ye+=1){if(typeof de[ye]!="string")return $.destroy(new Error("Invalid unsubscriptions")),!1;G+=l.byteLength(de[ye])+2}else return $.destroy(new Error("Invalid unsubscriptions")),!1;let le=null;if(ee===5){if(le=ae($,L),!le)return!1;G+=le.length}$.write(a.UNSUBSCRIBE_HEADER[1][Ee?1:0][0]),Y($,G),v($,ne),le!==null&&le.write();let _e=!0;for(let ye=0;ye<de.length;ye++)_e=V($,de[ye]);return _e}function C(J,$,se){let ee=se?se.protocolVersion:4,X=J||{},ne=X.messageId,Ee=X.dup?a.DUP_MASK:0,de=X.granted,L=X.properties,G=X.cmd,le=0,_e=2;if(typeof ne!="number")return $.destroy(new Error("Invalid messageId")),!1;if(ee===5)if(typeof de=="object"&&de.length)for(let Oe=0;Oe<de.length;Oe+=1){if(typeof de[Oe]!="number")return $.destroy(new Error("Invalid qos vector")),!1;_e+=1}else return $.destroy(new Error("Invalid qos vector")),!1;let ye=null;if(ee===5){if(ye=B($,L,se,_e),!ye)return!1;_e+=ye.length}return $.write(a.ACKS[G][le][Ee][0]),Y($,_e),v($,ne),ye!==null&&ye.write(),ee===5&&$.write(l.from(de)),!0}function M(J,$,se){return $.write(a.EMPTY[J.cmd])}function D(J,$,se){let ee=se?se.protocolVersion:4,X=J||{},ne=X.reasonCode,Ee=X.properties,de=ee===5?1:0,L=null;if(ee===5){if(L=B($,Ee,se,de),!L)return!1;de+=L.length}return $.write(l.from([a.codes.disconnect<<4])),Y($,de),ee===5&&$.write(l.from([ne])),L!==null&&L.write(),!0}function T(J,$,se){let ee=se?se.protocolVersion:4,X=J||{},ne=X.reasonCode,Ee=X.properties,de=ee===5?1:0;ee!==5&&$.destroy(new Error("Invalid mqtt version for auth packet"));let L=B($,Ee,se,de);return L?(de+=L.length,$.write(l.from([a.codes.auth<<4])),Y($,de),$.write(l.from([ne])),L!==null&&L.write(),!0):!1}var K={};function Y(J,$){if($>a.VARBYTEINT_MAX)return J.destroy(new Error(`Invalid variable byte integer: ${$}`)),!1;let se=K[$];return se||(se=p($),$<16384&&(K[$]=se)),e("writeVarByteInt: writing to stream: %o",se),J.write(se)}function V(J,$){let se=l.byteLength($);return v(J,se),e("writeString: %s",$),J.write($,"utf8")}function he(J,$,se){V(J,$),V(J,se)}function ie(J,$){return e("writeNumberCached: number: %d",$),e("writeNumberCached: %o",i[$]),J.write(i[$])}function re(J,$){let se=s($);return e("writeNumberGenerated: %o",se),J.write(se)}function ce(J,$){let se=g($);return e("write4ByteNumber: %o",se),J.write(se)}function z(J,$){typeof $=="string"?V(J,$):$?(v(J,$.length),J.write($)):v(J,0)}function ae(J,$){if(typeof $!="object"||$.length!=null)return{length:1,write(){Z(J,{},0)}};let se=0;function ee(X,ne){let Ee=a.propertiesTypes[X],de=0;switch(Ee){case"byte":{if(typeof ne!="boolean")return J.destroy(new Error(`Invalid ${X}: ${ne}`)),!1;de+=2;break}case"int8":{if(typeof ne!="number"||ne<0||ne>255)return J.destroy(new Error(`Invalid ${X}: ${ne}`)),!1;de+=2;break}case"binary":{if(ne&&ne===null)return J.destroy(new Error(`Invalid ${X}: ${ne}`)),!1;de+=1+l.byteLength(ne)+2;break}case"int16":{if(typeof ne!="number"||ne<0||ne>65535)return J.destroy(new Error(`Invalid ${X}: ${ne}`)),!1;de+=3;break}case"int32":{if(typeof ne!="number"||ne<0||ne>4294967295)return J.destroy(new Error(`Invalid ${X}: ${ne}`)),!1;de+=5;break}case"var":{if(typeof ne!="number"||ne<0||ne>268435455)return J.destroy(new Error(`Invalid ${X}: ${ne}`)),!1;de+=1+l.byteLength(p(ne));break}case"string":{if(typeof ne!="string")return J.destroy(new Error(`Invalid ${X}: ${ne}`)),!1;de+=3+l.byteLength(ne.toString());break}case"pair":{if(typeof ne!="object")return J.destroy(new Error(`Invalid ${X}: ${ne}`)),!1;de+=Object.getOwnPropertyNames(ne).reduce((L,G)=>{let le=ne[G];return Array.isArray(le)?L+=le.reduce((_e,ye)=>(_e+=3+l.byteLength(G.toString())+2+l.byteLength(ye.toString()),_e),0):L+=3+l.byteLength(G.toString())+2+l.byteLength(ne[G].toString()),L},0);break}default:return J.destroy(new Error(`Invalid property ${X}: ${ne}`)),!1}return de}if($)for(let X in $){let ne=0,Ee=0,de=$[X];if(de!==void 0){if(Array.isArray(de))for(let L=0;L<de.length;L++){if(Ee=ee(X,de[L]),!Ee)return!1;ne+=Ee}else{if(Ee=ee(X,de),!Ee)return!1;ne=Ee}if(!ne)return!1;se+=ne}}return{length:l.byteLength(p(se))+se,write(){Z(J,$,se)}}}function B(J,$,se,ee){let X=["reasonString","userProperties"],ne=se&&se.properties&&se.properties.maximumPacketSize?se.properties.maximumPacketSize:0,Ee=ae(J,$);if(ne)for(;ee+Ee.length>ne;){let de=X.shift();if(de&&$[de])delete $[de],Ee=ae(J,$);else return!1}return Ee}function te(J,$,se){switch(a.propertiesTypes[$]){case"byte":{J.write(l.from([a.properties[$]])),J.write(l.from([+se]));break}case"int8":{J.write(l.from([a.properties[$]])),J.write(l.from([se]));break}case"binary":{J.write(l.from([a.properties[$]])),z(J,se);break}case"int16":{J.write(l.from([a.properties[$]])),v(J,se);break}case"int32":{J.write(l.from([a.properties[$]])),ce(J,se);break}case"var":{J.write(l.from([a.properties[$]])),Y(J,se);break}case"string":{J.write(l.from([a.properties[$]])),V(J,se);break}case"pair":{Object.getOwnPropertyNames(se).forEach(ee=>{let X=se[ee];Array.isArray(X)?X.forEach(ne=>{J.write(l.from([a.properties[$]])),he(J,ee.toString(),ne.toString())}):(J.write(l.from([a.properties[$]])),he(J,ee.toString(),X.toString()))});break}default:return J.destroy(new Error(`Invalid property ${$} value: ${se}`)),!1}}function Z(J,$,se){Y(J,se);for(let ee in $)if(Object.prototype.hasOwnProperty.call($,ee)&&$[ee]!=null){let X=$[ee];if(Array.isArray(X))for(let ne=0;ne<X.length;ne++)te(J,ee,X[ne]);else te(J,ee,X)}}function ue(J){return J?J instanceof l?J.length:l.byteLength(J):0}function Ie(J){return typeof J=="string"||J instanceof l}c.exports=_}),Qu=xe((f,c)=>{be(),we(),ve();var a=ba(),{EventEmitter:l}=(rr(),He(Kt)),{Buffer:h}=(at(),He(st));function r(n,e){let i=new t;return a(n,i,e),i.concat()}var t=class extends l{constructor(){super(),this._array=new Array(20),this._i=0}write(n){return this._array[this._i++]=n,!0}concat(){let n=0,e=new Array(this._array.length),i=this._array,s=0,d;for(d=0;d<i.length&&i[d]!==void 0;d++)typeof i[d]!="string"?e[d]=i[d].length:e[d]=h.byteLength(i[d]),n+=e[d];let p=h.allocUnsafe(n);for(d=0;d<i.length&&i[d]!==void 0;d++)typeof i[d]!="string"?(i[d].copy(p,s),s+=e[d]):(p.write(i[d],s),s+=e[d]);return p}destroy(n){n&&this.emit("error",n)}};c.exports=r}),Yu=xe(f=>{be(),we(),ve(),f.parser=Ku().parser,f.generate=Qu(),f.writeToStream=ba()}),Ju=xe((f,c)=>{be(),we(),ve(),c.exports=l;function a(r){return r instanceof Zr?Zr.from(r):new r.constructor(r.buffer.slice(),r.byteOffset,r.length)}function l(r){if(r=r||{},r.circles)return h(r);let t=new Map;if(t.set(Date,d=>new Date(d)),t.set(Map,(d,p)=>new Map(e(Array.from(d),p))),t.set(Set,(d,p)=>new Set(e(Array.from(d),p))),r.constructorHandlers)for(let d of r.constructorHandlers)t.set(d[0],d[1]);let n=null;return r.proto?s:i;function e(d,p){let g=Object.keys(d),v=new Array(g.length);for(let E=0;E<g.length;E++){let _=g[E],O=d[_];typeof O!="object"||O===null?v[_]=O:O.constructor!==Object&&(n=t.get(O.constructor))?v[_]=n(O,p):ArrayBuffer.isView(O)?v[_]=a(O):v[_]=p(O)}return v}function i(d){if(typeof d!="object"||d===null)return d;if(Array.isArray(d))return e(d,i);if(d.constructor!==Object&&(n=t.get(d.constructor)))return n(d,i);let p={};for(let g in d){if(Object.hasOwnProperty.call(d,g)===!1)continue;let v=d[g];typeof v!="object"||v===null?p[g]=v:v.constructor!==Object&&(n=t.get(v.constructor))?p[g]=n(v,i):ArrayBuffer.isView(v)?p[g]=a(v):p[g]=i(v)}return p}function s(d){if(typeof d!="object"||d===null)return d;if(Array.isArray(d))return e(d,s);if(d.constructor!==Object&&(n=t.get(d.constructor)))return n(d,s);let p={};for(let g in d){let v=d[g];typeof v!="object"||v===null?p[g]=v:v.constructor!==Object&&(n=t.get(v.constructor))?p[g]=n(v,s):ArrayBuffer.isView(v)?p[g]=a(v):p[g]=s(v)}return p}}function h(r){let t=[],n=[],e=new Map;if(e.set(Date,g=>new Date(g)),e.set(Map,(g,v)=>new Map(s(Array.from(g),v))),e.set(Set,(g,v)=>new Set(s(Array.from(g),v))),r.constructorHandlers)for(let g of r.constructorHandlers)e.set(g[0],g[1]);let i=null;return r.proto?p:d;function s(g,v){let E=Object.keys(g),_=new Array(E.length);for(let O=0;O<E.length;O++){let y=E[O],A=g[y];if(typeof A!="object"||A===null)_[y]=A;else if(A.constructor!==Object&&(i=e.get(A.constructor)))_[y]=i(A,v);else if(ArrayBuffer.isView(A))_[y]=a(A);else{let x=t.indexOf(A);x!==-1?_[y]=n[x]:_[y]=v(A)}}return _}function d(g){if(typeof g!="object"||g===null)return g;if(Array.isArray(g))return s(g,d);if(g.constructor!==Object&&(i=e.get(g.constructor)))return i(g,d);let v={};t.push(g),n.push(v);for(let E in g){if(Object.hasOwnProperty.call(g,E)===!1)continue;let _=g[E];if(typeof _!="object"||_===null)v[E]=_;else if(_.constructor!==Object&&(i=e.get(_.constructor)))v[E]=i(_,d);else if(ArrayBuffer.isView(_))v[E]=a(_);else{let O=t.indexOf(_);O!==-1?v[E]=n[O]:v[E]=d(_)}}return t.pop(),n.pop(),v}function p(g){if(typeof g!="object"||g===null)return g;if(Array.isArray(g))return s(g,p);if(g.constructor!==Object&&(i=e.get(g.constructor)))return i(g,p);let v={};t.push(g),n.push(v);for(let E in g){let _=g[E];if(typeof _!="object"||_===null)v[E]=_;else if(_.constructor!==Object&&(i=e.get(_.constructor)))v[E]=i(_,p);else if(ArrayBuffer.isView(_))v[E]=a(_);else{let O=t.indexOf(_);O!==-1?v[E]=n[O]:v[E]=p(_)}}return t.pop(),n.pop(),v}}}),Xu=xe((f,c)=>{be(),we(),ve(),c.exports=Ju()()}),Zu=xe(f=>{be(),we(),ve(),Object.defineProperty(f,"__esModule",{value:!0}),f.validateTopic=c,f.validateTopics=a;function c(l){let h=l.split("/");for(let r=0;r<h.length;r++)if(h[r]!=="+"){if(h[r]==="#")return r===h.length-1;if(h[r].indexOf("+")!==-1||h[r].indexOf("#")!==-1)return!1}return!0}function a(l){if(l.length===0)return"empty_topic_list";for(let h=0;h<l.length;h++)if(!c(l[h]))return l[h];return null}}),va=xe(f=>{be(),we(),ve(),Object.defineProperty(f,"__esModule",{value:!0});var c=ir(),a={objectMode:!0},l={clean:!0},h=class{options;_inflights;constructor(r){this.options=r||{},this.options={...l,...r},this._inflights=new Map}put(r,t){return this._inflights.set(r.messageId,r),t&&t(),this}createStream(){let r=new c.Readable(a),t=[],n=!1,e=0;return this._inflights.forEach((i,s)=>{t.push(i)}),r._read=()=>{!n&&e<t.length?r.push(t[e++]):r.push(null)},r.destroy=i=>{if(!n)return n=!0,setTimeout(()=>{r.emit("close")},0),r},r}del(r,t){let n=this._inflights.get(r.messageId);return n?(this._inflights.delete(r.messageId),t(null,n)):t&&t(new Error("missing packet")),this}get(r,t){let n=this._inflights.get(r.messageId);return n?t(null,n):t&&t(new Error("missing packet")),this}close(r){this.options.clean&&(this._inflights=null),r&&r()}};f.default=h}),ec=xe(f=>{be(),we(),ve(),Object.defineProperty(f,"__esModule",{value:!0});var c=[0,16,128,131,135,144,145,151,153],a=(l,h,r)=>{l.log("handlePublish: packet %o",h),r=typeof r<"u"?r:l.noop;let t=h.topic.toString(),n=h.payload,{qos:e}=h,{messageId:i}=h,{options:s}=l;if(l.options.protocolVersion===5){let d;if(h.properties&&(d=h.properties.topicAlias),typeof d<"u")if(t.length===0)if(d>0&&d<=65535){let p=l.topicAliasRecv.getTopicByAlias(d);if(p)t=p,l.log("handlePublish :: topic complemented by alias. topic: %s - alias: %d",t,d);else{l.log("handlePublish :: unregistered topic alias. alias: %d",d),l.emit("error",new Error("Received unregistered Topic Alias"));return}}else{l.log("handlePublish :: topic alias out of range. alias: %d",d),l.emit("error",new Error("Received Topic Alias is out of range"));return}else if(l.topicAliasRecv.put(t,d))l.log("handlePublish :: registered topic: %s - alias: %d",t,d);else{l.log("handlePublish :: topic alias out of range. alias: %d",d),l.emit("error",new Error("Received Topic Alias is out of range"));return}}switch(l.log("handlePublish: qos %d",e),e){case 2:{s.customHandleAcks(t,n,h,(d,p)=>{if(typeof d=="number"&&(p=d,d=null),d)return l.emit("error",d);if(c.indexOf(p)===-1)return l.emit("error",new Error("Wrong reason code for pubrec"));p?l._sendPacket({cmd:"pubrec",messageId:i,reasonCode:p},r):l.incomingStore.put(h,()=>{l._sendPacket({cmd:"pubrec",messageId:i},r)})});break}case 1:{s.customHandleAcks(t,n,h,(d,p)=>{if(typeof d=="number"&&(p=d,d=null),d)return l.emit("error",d);if(c.indexOf(p)===-1)return l.emit("error",new Error("Wrong reason code for puback"));p||l.emit("message",t,n,h),l.handleMessage(h,g=>{if(g)return r&&r(g);l._sendPacket({cmd:"puback",messageId:i,reasonCode:p},r)})});break}case 0:l.emit("message",t,n,h),l.handleMessage(h,r);break;default:l.log("handlePublish: unknown QoS. Doing nothing.");break}};f.default=a}),tc=xe((f,c)=>{c.exports={version:"5.14.0"}}),hr=xe(f=>{be(),we(),ve(),Object.defineProperty(f,"__esModule",{value:!0}),f.MQTTJS_VERSION=f.nextTick=f.ErrorWithSubackPacket=f.ErrorWithReasonCode=void 0,f.applyMixin=l;var c=class wa extends Error{code;constructor(r,t){super(r),this.code=t,Object.setPrototypeOf(this,wa.prototype),Object.getPrototypeOf(this).name="ErrorWithReasonCode"}};f.ErrorWithReasonCode=c;var a=class _a extends Error{packet;constructor(r,t){super(r),this.packet=t,Object.setPrototypeOf(this,_a.prototype),Object.getPrototypeOf(this).name="ErrorWithSubackPacket"}};f.ErrorWithSubackPacket=a;function l(h,r,t=!1){let n=[r];for(;;){let e=n[0],i=Object.getPrototypeOf(e);if(i?.prototype)n.unshift(i);else break}for(let e of n)for(let i of Object.getOwnPropertyNames(e.prototype))(t||i!=="constructor")&&Object.defineProperty(h.prototype,i,Object.getOwnPropertyDescriptor(e.prototype,i)??Object.create(null))}f.nextTick=typeof Qe?.nextTick=="function"?Qe.nextTick:h=>{setTimeout(h,0)},f.MQTTJS_VERSION=tc().version}),on=xe(f=>{be(),we(),ve(),Object.defineProperty(f,"__esModule",{value:!0}),f.ReasonCodes=void 0;var c=hr();f.ReasonCodes={0:"",1:"Unacceptable protocol version",2:"Identifier rejected",3:"Server unavailable",4:"Bad username or password",5:"Not authorized",16:"No matching subscribers",17:"No subscription existed",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",132:"Unsupported Protocol Version",133:"Client Identifier not valid",134:"Bad User Name or Password",135:"Not authorized",136:"Server unavailable",137:"Server busy",138:"Banned",139:"Server shutting down",140:"Bad authentication method",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",145:"Packet identifier in use",146:"Packet Identifier not found",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"};var a=(l,h)=>{let{messageId:r}=h,t=h.cmd,n=null,e=l.outgoing[r]?l.outgoing[r].cb:null,i=null;if(!e){l.log("_handleAck :: Server sent an ack in error. Ignoring.");return}switch(l.log("_handleAck :: packet type",t),t){case"pubcomp":case"puback":{let s=h.reasonCode;s&&s>0&&s!==16?(i=new c.ErrorWithReasonCode(`Publish error: ${f.ReasonCodes[s]}`,s),l._removeOutgoingAndStoreMessage(r,()=>{e(i,h)})):l._removeOutgoingAndStoreMessage(r,e);break}case"pubrec":{n={cmd:"pubrel",qos:2,messageId:r};let s=h.reasonCode;s&&s>0&&s!==16?(i=new c.ErrorWithReasonCode(`Publish error: ${f.ReasonCodes[s]}`,s),l._removeOutgoingAndStoreMessage(r,()=>{e(i,h)})):l._sendPacket(n);break}case"suback":{delete l.outgoing[r],l.messageIdProvider.deallocate(r);let s=h.granted;for(let d=0;d<s.length;d++){let p=s[d];if((p&128)!==0){i=new Error(`Subscribe error: ${f.ReasonCodes[p]}`),i.code=p;let g=l.messageIdToTopic[r];g&&g.forEach(v=>{delete l._resubscribeTopics[v]})}}delete l.messageIdToTopic[r],l._invokeStoreProcessingQueue(),e(i,h);break}case"unsuback":{delete l.outgoing[r],l.messageIdProvider.deallocate(r),l._invokeStoreProcessingQueue(),e(null,h);break}default:l.emit("error",new Error("unrecognized packet type"))}l.disconnecting&&Object.keys(l.outgoing).length===0&&l.emit("outgoingEmpty")};f.default=a}),rc=xe(f=>{be(),we(),ve(),Object.defineProperty(f,"__esModule",{value:!0});var c=hr(),a=on(),l=(h,r)=>{let{options:t}=h,n=t.protocolVersion,e=n===5?r.reasonCode:r.returnCode;if(n!==5){let i=new c.ErrorWithReasonCode(`Protocol error: Auth packets are only supported in MQTT 5. Your version:${n}`,e);h.emit("error",i);return}h.handleAuth(r,(i,s)=>{if(i){h.emit("error",i);return}if(e===24)h.reconnecting=!1,h._sendPacket(s);else{let d=new c.ErrorWithReasonCode(`Connection refused: ${a.ReasonCodes[e]}`,e);h.emit("error",d)}})};f.default=l}),nc=xe(f=>{var g,v,E,_,O,y,A,x,w,P,b,k,C,M,D,T,K,Y,V,he,ie,re,ce,z,ae,B,te,Z,_i,Ie,J,$,se,Sa,X,ne,Ee,Ft,$t,Si,Pr,kr,Ye,Ei,mr,qt,Ai,pe;be(),we(),ve(),Object.defineProperty(f,"__esModule",{value:!0}),f.LRUCache=void 0;var c=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,a=new Set,l=typeof Qe=="object"&&Qe?Qe:{},h=(Me,o,u,m)=>{typeof l.emitWarning=="function"?l.emitWarning(Me,o,u,m):console.error(`[${u}] ${o}: ${Me}`)},r=globalThis.AbortController,t=globalThis.AbortSignal;if(typeof r>"u"){t=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(u,m){this._onabort.push(m)}},r=class{constructor(){o()}signal=new t;abort(u){if(!this.signal.aborted){this.signal.reason=u,this.signal.aborted=!0;for(let m of this.signal._onabort)m(u);this.signal.onabort?.(u)}}};let Me=l.env?.LRU_CACHE_IGNORE_AC_WARNING!=="1",o=()=>{Me&&(Me=!1,h("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",o))}}var n=Me=>!a.has(Me),e=Me=>Me&&Me===Math.floor(Me)&&Me>0&&isFinite(Me),i=Me=>e(Me)?Me<=Math.pow(2,8)?Uint8Array:Me<=Math.pow(2,16)?Uint16Array:Me<=Math.pow(2,32)?Uint32Array:Me<=Number.MAX_SAFE_INTEGER?s:null:null,s=class extends Array{constructor(Me){super(Me),this.fill(0)}},d=(g=class{heap;length;static create(o){let u=i(o);if(!u)return[];Le(g,v,!0);let m=new g(o,u);return Le(g,v,!1),m}constructor(o,u){if(!W(g,v))throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new u(o),this.length=0}push(o){this.heap[this.length++]=o}pop(){return this.heap[--this.length]}},v=new WeakMap,ze(g,v,!1),g),p=(pe=class{constructor(o){ze(this,Z);ze(this,O);ze(this,y);ze(this,A);ze(this,x);ze(this,w);ze(this,P);ot(this,"ttl");ot(this,"ttlResolution");ot(this,"ttlAutopurge");ot(this,"updateAgeOnGet");ot(this,"updateAgeOnHas");ot(this,"allowStale");ot(this,"noDisposeOnSet");ot(this,"noUpdateTTL");ot(this,"maxEntrySize");ot(this,"sizeCalculation");ot(this,"noDeleteOnFetchRejection");ot(this,"noDeleteOnStaleGet");ot(this,"allowStaleOnFetchAbort");ot(this,"allowStaleOnFetchRejection");ot(this,"ignoreFetchAbort");ze(this,b);ze(this,k);ze(this,C);ze(this,M);ze(this,D);ze(this,T);ze(this,K);ze(this,Y);ze(this,V);ze(this,he);ze(this,ie);ze(this,re);ze(this,ce);ze(this,z);ze(this,ae);ze(this,B);ze(this,te);ze(this,Ie,()=>{});ze(this,J,()=>{});ze(this,$,()=>{});ze(this,se,()=>!1);ze(this,X,o=>{});ze(this,ne,(o,u,m)=>{});ze(this,Ee,(o,u,m,R)=>{if(m||R)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0});ot(this,E,"LRUCache");let{max:u=0,ttl:m,ttlResolution:R=1,ttlAutopurge:N,updateAgeOnGet:H,updateAgeOnHas:ge,allowStale:q,dispose:oe,disposeAfter:Re,noDisposeOnSet:Te,noUpdateTTL:Ne,maxSize:Ue=0,maxEntrySize:Xe=0,sizeCalculation:We,fetchMethod:$e,memoMethod:Fe,noDeleteOnFetchRejection:et,noDeleteOnStaleGet:Ge,allowStaleOnFetchRejection:Ve,allowStaleOnFetchAbort:nt,ignoreFetchAbort:mt}=o;if(u!==0&&!e(u))throw new TypeError("max option must be a nonnegative integer");let ht=u?i(u):Array;if(!ht)throw new Error("invalid max value: "+u);if(Le(this,O,u),Le(this,y,Ue),this.maxEntrySize=Xe||W(this,y),this.sizeCalculation=We,this.sizeCalculation){if(!W(this,y)&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(Fe!==void 0&&typeof Fe!="function")throw new TypeError("memoMethod must be a function if defined");if(Le(this,P,Fe),$e!==void 0&&typeof $e!="function")throw new TypeError("fetchMethod must be a function if specified");if(Le(this,w,$e),Le(this,B,!!$e),Le(this,C,new Map),Le(this,M,new Array(u).fill(void 0)),Le(this,D,new Array(u).fill(void 0)),Le(this,T,new ht(u)),Le(this,K,new ht(u)),Le(this,Y,0),Le(this,V,0),Le(this,he,d.create(u)),Le(this,b,0),Le(this,k,0),typeof oe=="function"&&Le(this,A,oe),typeof Re=="function"?(Le(this,x,Re),Le(this,ie,[])):(Le(this,x,void 0),Le(this,ie,void 0)),Le(this,ae,!!W(this,A)),Le(this,te,!!W(this,x)),this.noDisposeOnSet=!!Te,this.noUpdateTTL=!!Ne,this.noDeleteOnFetchRejection=!!et,this.allowStaleOnFetchRejection=!!Ve,this.allowStaleOnFetchAbort=!!nt,this.ignoreFetchAbort=!!mt,this.maxEntrySize!==0){if(W(this,y)!==0&&!e(W(this,y)))throw new TypeError("maxSize must be a positive integer if specified");if(!e(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");Be(this,Z,Sa).call(this)}if(this.allowStale=!!q,this.noDeleteOnStaleGet=!!Ge,this.updateAgeOnGet=!!H,this.updateAgeOnHas=!!ge,this.ttlResolution=e(R)||R===0?R:1,this.ttlAutopurge=!!N,this.ttl=m||0,this.ttl){if(!e(this.ttl))throw new TypeError("ttl must be a positive integer if specified");Be(this,Z,_i).call(this)}if(W(this,O)===0&&this.ttl===0&&W(this,y)===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!W(this,O)&&!W(this,y)){let j="LRU_CACHE_UNBOUNDED";n(j)&&(a.add(j),h("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",j,pe))}}static unsafeExposeInternals(o){return{starts:W(o,ce),ttls:W(o,z),sizes:W(o,re),keyMap:W(o,C),keyList:W(o,M),valList:W(o,D),next:W(o,T),prev:W(o,K),get head(){return W(o,Y)},get tail(){return W(o,V)},free:W(o,he),isBackgroundFetch:u=>{var m;return Be(m=o,Z,Ye).call(m,u)},backgroundFetch:(u,m,R,N)=>{var H;return Be(H=o,Z,kr).call(H,u,m,R,N)},moveToTail:u=>{var m;return Be(m=o,Z,mr).call(m,u)},indexes:u=>{var m;return Be(m=o,Z,Ft).call(m,u)},rindexes:u=>{var m;return Be(m=o,Z,$t).call(m,u)},isStale:u=>{var m;return W(m=o,se).call(m,u)}}}get max(){return W(this,O)}get maxSize(){return W(this,y)}get calculatedSize(){return W(this,k)}get size(){return W(this,b)}get fetchMethod(){return W(this,w)}get memoMethod(){return W(this,P)}get dispose(){return W(this,A)}get disposeAfter(){return W(this,x)}getRemainingTTL(o){return W(this,C).has(o)?1/0:0}*entries(){for(let o of Be(this,Z,Ft).call(this))W(this,D)[o]!==void 0&&W(this,M)[o]!==void 0&&!Be(this,Z,Ye).call(this,W(this,D)[o])&&(yield[W(this,M)[o],W(this,D)[o]])}*rentries(){for(let o of Be(this,Z,$t).call(this))W(this,D)[o]!==void 0&&W(this,M)[o]!==void 0&&!Be(this,Z,Ye).call(this,W(this,D)[o])&&(yield[W(this,M)[o],W(this,D)[o]])}*keys(){for(let o of Be(this,Z,Ft).call(this)){let u=W(this,M)[o];u!==void 0&&!Be(this,Z,Ye).call(this,W(this,D)[o])&&(yield u)}}*rkeys(){for(let o of Be(this,Z,$t).call(this)){let u=W(this,M)[o];u!==void 0&&!Be(this,Z,Ye).call(this,W(this,D)[o])&&(yield u)}}*values(){for(let o of Be(this,Z,Ft).call(this))W(this,D)[o]!==void 0&&!Be(this,Z,Ye).call(this,W(this,D)[o])&&(yield W(this,D)[o])}*rvalues(){for(let o of Be(this,Z,$t).call(this))W(this,D)[o]!==void 0&&!Be(this,Z,Ye).call(this,W(this,D)[o])&&(yield W(this,D)[o])}[(_=Symbol.iterator,E=Symbol.toStringTag,_)](){return this.entries()}find(o,u={}){for(let m of Be(this,Z,Ft).call(this)){let R=W(this,D)[m],N=Be(this,Z,Ye).call(this,R)?R.__staleWhileFetching:R;if(N!==void 0&&o(N,W(this,M)[m],this))return this.get(W(this,M)[m],u)}}forEach(o,u=this){for(let m of Be(this,Z,Ft).call(this)){let R=W(this,D)[m],N=Be(this,Z,Ye).call(this,R)?R.__staleWhileFetching:R;N!==void 0&&o.call(u,N,W(this,M)[m],this)}}rforEach(o,u=this){for(let m of Be(this,Z,$t).call(this)){let R=W(this,D)[m],N=Be(this,Z,Ye).call(this,R)?R.__staleWhileFetching:R;N!==void 0&&o.call(u,N,W(this,M)[m],this)}}purgeStale(){let o=!1;for(let u of Be(this,Z,$t).call(this,{allowStale:!0}))W(this,se).call(this,u)&&(Be(this,Z,qt).call(this,W(this,M)[u],"expire"),o=!0);return o}info(o){let u=W(this,C).get(o);if(u===void 0)return;let m=W(this,D)[u],R=Be(this,Z,Ye).call(this,m)?m.__staleWhileFetching:m;if(R===void 0)return;let N={value:R};if(W(this,z)&&W(this,ce)){let H=W(this,z)[u],ge=W(this,ce)[u];if(H&&ge){let q=H-(c.now()-ge);N.ttl=q,N.start=Date.now()}}return W(this,re)&&(N.size=W(this,re)[u]),N}dump(){let o=[];for(let u of Be(this,Z,Ft).call(this,{allowStale:!0})){let m=W(this,M)[u],R=W(this,D)[u],N=Be(this,Z,Ye).call(this,R)?R.__staleWhileFetching:R;if(N===void 0||m===void 0)continue;let H={value:N};if(W(this,z)&&W(this,ce)){H.ttl=W(this,z)[u];let ge=c.now()-W(this,ce)[u];H.start=Math.floor(Date.now()-ge)}W(this,re)&&(H.size=W(this,re)[u]),o.unshift([m,H])}return o}load(o){this.clear();for(let[u,m]of o){if(m.start){let R=Date.now()-m.start;m.start=c.now()-R}this.set(u,m.value,m)}}set(o,u,m={}){var Ne,Ue,Xe;if(u===void 0)return this.delete(o),this;let{ttl:R=this.ttl,start:N,noDisposeOnSet:H=this.noDisposeOnSet,sizeCalculation:ge=this.sizeCalculation,status:q}=m,{noUpdateTTL:oe=this.noUpdateTTL}=m,Re=W(this,Ee).call(this,o,u,m.size||0,ge);if(this.maxEntrySize&&Re>this.maxEntrySize)return q&&(q.set="miss",q.maxEntrySizeExceeded=!0),Be(this,Z,qt).call(this,o,"set"),this;let Te=W(this,b)===0?void 0:W(this,C).get(o);if(Te===void 0)Te=W(this,b)===0?W(this,V):W(this,he).length!==0?W(this,he).pop():W(this,b)===W(this,O)?Be(this,Z,Pr).call(this,!1):W(this,b),W(this,M)[Te]=o,W(this,D)[Te]=u,W(this,C).set(o,Te),W(this,T)[W(this,V)]=Te,W(this,K)[Te]=W(this,V),Le(this,V,Te),Er(this,b)._++,W(this,ne).call(this,Te,Re,q),q&&(q.set="add"),oe=!1;else{Be(this,Z,mr).call(this,Te);let We=W(this,D)[Te];if(u!==We){if(W(this,B)&&Be(this,Z,Ye).call(this,We)){We.__abortController.abort(new Error("replaced"));let{__staleWhileFetching:$e}=We;$e!==void 0&&!H&&(W(this,ae)&&((Ne=W(this,A))==null||Ne.call(this,$e,o,"set")),W(this,te)&&W(this,ie)?.push([$e,o,"set"]))}else H||(W(this,ae)&&((Ue=W(this,A))==null||Ue.call(this,We,o,"set")),W(this,te)&&W(this,ie)?.push([We,o,"set"]));if(W(this,X).call(this,Te),W(this,ne).call(this,Te,Re,q),W(this,D)[Te]=u,q){q.set="replace";let $e=We&&Be(this,Z,Ye).call(this,We)?We.__staleWhileFetching:We;$e!==void 0&&(q.oldValue=$e)}}else q&&(q.set="update")}if(R!==0&&!W(this,z)&&Be(this,Z,_i).call(this),W(this,z)&&(oe||W(this,$).call(this,Te,R,N),q&&W(this,J).call(this,q,Te)),!H&&W(this,te)&&W(this,ie)){let We=W(this,ie),$e;for(;$e=We?.shift();)(Xe=W(this,x))==null||Xe.call(this,...$e)}return this}pop(){var o;try{for(;W(this,b);){let u=W(this,D)[W(this,Y)];if(Be(this,Z,Pr).call(this,!0),Be(this,Z,Ye).call(this,u)){if(u.__staleWhileFetching)return u.__staleWhileFetching}else if(u!==void 0)return u}}finally{if(W(this,te)&&W(this,ie)){let u=W(this,ie),m;for(;m=u?.shift();)(o=W(this,x))==null||o.call(this,...m)}}}has(o,u={}){let{updateAgeOnHas:m=this.updateAgeOnHas,status:R}=u,N=W(this,C).get(o);if(N!==void 0){let H=W(this,D)[N];if(Be(this,Z,Ye).call(this,H)&&H.__staleWhileFetching===void 0)return!1;if(W(this,se).call(this,N))R&&(R.has="stale",W(this,J).call(this,R,N));else return m&&W(this,Ie).call(this,N),R&&(R.has="hit",W(this,J).call(this,R,N)),!0}else R&&(R.has="miss");return!1}peek(o,u={}){let{allowStale:m=this.allowStale}=u,R=W(this,C).get(o);if(R===void 0||!m&&W(this,se).call(this,R))return;let N=W(this,D)[R];return Be(this,Z,Ye).call(this,N)?N.__staleWhileFetching:N}async fetch(o,u={}){let{allowStale:m=this.allowStale,updateAgeOnGet:R=this.updateAgeOnGet,noDeleteOnStaleGet:N=this.noDeleteOnStaleGet,ttl:H=this.ttl,noDisposeOnSet:ge=this.noDisposeOnSet,size:q=0,sizeCalculation:oe=this.sizeCalculation,noUpdateTTL:Re=this.noUpdateTTL,noDeleteOnFetchRejection:Te=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:Ne=this.allowStaleOnFetchRejection,ignoreFetchAbort:Ue=this.ignoreFetchAbort,allowStaleOnFetchAbort:Xe=this.allowStaleOnFetchAbort,context:We,forceRefresh:$e=!1,status:Fe,signal:et}=u;if(!W(this,B))return Fe&&(Fe.fetch="get"),this.get(o,{allowStale:m,updateAgeOnGet:R,noDeleteOnStaleGet:N,status:Fe});let Ge={allowStale:m,updateAgeOnGet:R,noDeleteOnStaleGet:N,ttl:H,noDisposeOnSet:ge,size:q,sizeCalculation:oe,noUpdateTTL:Re,noDeleteOnFetchRejection:Te,allowStaleOnFetchRejection:Ne,allowStaleOnFetchAbort:Xe,ignoreFetchAbort:Ue,status:Fe,signal:et},Ve=W(this,C).get(o);if(Ve===void 0){Fe&&(Fe.fetch="miss");let nt=Be(this,Z,kr).call(this,o,Ve,Ge,We);return nt.__returned=nt}else{let nt=W(this,D)[Ve];if(Be(this,Z,Ye).call(this,nt)){let U=m&&nt.__staleWhileFetching!==void 0;return Fe&&(Fe.fetch="inflight",U&&(Fe.returnedStale=!0)),U?nt.__staleWhileFetching:nt.__returned=nt}let mt=W(this,se).call(this,Ve);if(!$e&&!mt)return Fe&&(Fe.fetch="hit"),Be(this,Z,mr).call(this,Ve),R&&W(this,Ie).call(this,Ve),Fe&&W(this,J).call(this,Fe,Ve),nt;let ht=Be(this,Z,kr).call(this,o,Ve,Ge,We),j=ht.__staleWhileFetching!==void 0&&m;return Fe&&(Fe.fetch=mt?"stale":"refresh",j&&mt&&(Fe.returnedStale=!0)),j?ht.__staleWhileFetching:ht.__returned=ht}}async forceFetch(o,u={}){let m=await this.fetch(o,u);if(m===void 0)throw new Error("fetch() returned undefined");return m}memo(o,u={}){let m=W(this,P);if(!m)throw new Error("no memoMethod provided to constructor");let{context:R,forceRefresh:N,...H}=u,ge=this.get(o,H);if(!N&&ge!==void 0)return ge;let q=m(o,ge,{options:H,context:R});return this.set(o,q,H),q}get(o,u={}){let{allowStale:m=this.allowStale,updateAgeOnGet:R=this.updateAgeOnGet,noDeleteOnStaleGet:N=this.noDeleteOnStaleGet,status:H}=u,ge=W(this,C).get(o);if(ge!==void 0){let q=W(this,D)[ge],oe=Be(this,Z,Ye).call(this,q);return H&&W(this,J).call(this,H,ge),W(this,se).call(this,ge)?(H&&(H.get="stale"),oe?(H&&m&&q.__staleWhileFetching!==void 0&&(H.returnedStale=!0),m?q.__staleWhileFetching:void 0):(N||Be(this,Z,qt).call(this,o,"expire"),H&&m&&(H.returnedStale=!0),m?q:void 0)):(H&&(H.get="hit"),oe?q.__staleWhileFetching:(Be(this,Z,mr).call(this,ge),R&&W(this,Ie).call(this,ge),q))}else H&&(H.get="miss")}delete(o){return Be(this,Z,qt).call(this,o,"delete")}clear(){return Be(this,Z,Ai).call(this,"delete")}},O=new WeakMap,y=new WeakMap,A=new WeakMap,x=new WeakMap,w=new WeakMap,P=new WeakMap,b=new WeakMap,k=new WeakMap,C=new WeakMap,M=new WeakMap,D=new WeakMap,T=new WeakMap,K=new WeakMap,Y=new WeakMap,V=new WeakMap,he=new WeakMap,ie=new WeakMap,re=new WeakMap,ce=new WeakMap,z=new WeakMap,ae=new WeakMap,B=new WeakMap,te=new WeakMap,Z=new WeakSet,_i=function(){let o=new s(W(this,O)),u=new s(W(this,O));Le(this,z,o),Le(this,ce,u),Le(this,$,(N,H,ge=c.now())=>{if(u[N]=H!==0?ge:0,o[N]=H,H!==0&&this.ttlAutopurge){let q=setTimeout(()=>{W(this,se).call(this,N)&&Be(this,Z,qt).call(this,W(this,M)[N],"expire")},H+1);q.unref&&q.unref()}}),Le(this,Ie,N=>{u[N]=o[N]!==0?c.now():0}),Le(this,J,(N,H)=>{if(o[H]){let ge=o[H],q=u[H];if(!ge||!q)return;N.ttl=ge,N.start=q,N.now=m||R();let oe=N.now-q;N.remainingTTL=ge-oe}});let m=0,R=()=>{let N=c.now();if(this.ttlResolution>0){m=N;let H=setTimeout(()=>m=0,this.ttlResolution);H.unref&&H.unref()}return N};this.getRemainingTTL=N=>{let H=W(this,C).get(N);if(H===void 0)return 0;let ge=o[H],q=u[H];if(!ge||!q)return 1/0;let oe=(m||R())-q;return ge-oe},Le(this,se,N=>{let H=u[N],ge=o[N];return!!ge&&!!H&&(m||R())-H>ge})},Ie=new WeakMap,J=new WeakMap,$=new WeakMap,se=new WeakMap,Sa=function(){let o=new s(W(this,O));Le(this,k,0),Le(this,re,o),Le(this,X,u=>{Le(this,k,W(this,k)-o[u]),o[u]=0}),Le(this,Ee,(u,m,R,N)=>{if(Be(this,Z,Ye).call(this,m))return 0;if(!e(R))if(N){if(typeof N!="function")throw new TypeError("sizeCalculation must be a function");if(R=N(m,u),!e(R))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return R}),Le(this,ne,(u,m,R)=>{if(o[u]=m,W(this,y)){let N=W(this,y)-o[u];for(;W(this,k)>N;)Be(this,Z,Pr).call(this,!0)}Le(this,k,W(this,k)+o[u]),R&&(R.entrySize=m,R.totalCalculatedSize=W(this,k))})},X=new WeakMap,ne=new WeakMap,Ee=new WeakMap,Ft=function*({allowStale:o=this.allowStale}={}){if(W(this,b))for(let u=W(this,V);!(!Be(this,Z,Si).call(this,u)||((o||!W(this,se).call(this,u))&&(yield u),u===W(this,Y)));)u=W(this,K)[u]},$t=function*({allowStale:o=this.allowStale}={}){if(W(this,b))for(let u=W(this,Y);!(!Be(this,Z,Si).call(this,u)||((o||!W(this,se).call(this,u))&&(yield u),u===W(this,V)));)u=W(this,T)[u]},Si=function(o){return o!==void 0&&W(this,C).get(W(this,M)[o])===o},Pr=function(o){var N;let u=W(this,Y),m=W(this,M)[u],R=W(this,D)[u];return W(this,B)&&Be(this,Z,Ye).call(this,R)?R.__abortController.abort(new Error("evicted")):(W(this,ae)||W(this,te))&&(W(this,ae)&&((N=W(this,A))==null||N.call(this,R,m,"evict")),W(this,te)&&W(this,ie)?.push([R,m,"evict"])),W(this,X).call(this,u),o&&(W(this,M)[u]=void 0,W(this,D)[u]=void 0,W(this,he).push(u)),W(this,b)===1?(Le(this,Y,Le(this,V,0)),W(this,he).length=0):Le(this,Y,W(this,T)[u]),W(this,C).delete(m),Er(this,b)._--,u},kr=function(o,u,m,R){let N=u===void 0?void 0:W(this,D)[u];if(Be(this,Z,Ye).call(this,N))return N;let H=new r,{signal:ge}=m;ge?.addEventListener("abort",()=>H.abort(ge.reason),{signal:H.signal});let q={signal:H.signal,options:m,context:R},oe=(We,$e=!1)=>{let{aborted:Fe}=H.signal,et=m.ignoreFetchAbort&&We!==void 0;if(m.status&&(Fe&&!$e?(m.status.fetchAborted=!0,m.status.fetchError=H.signal.reason,et&&(m.status.fetchAbortIgnored=!0)):m.status.fetchResolved=!0),Fe&&!et&&!$e)return Te(H.signal.reason);let Ge=Ue;return W(this,D)[u]===Ue&&(We===void 0?Ge.__staleWhileFetching?W(this,D)[u]=Ge.__staleWhileFetching:Be(this,Z,qt).call(this,o,"fetch"):(m.status&&(m.status.fetchUpdated=!0),this.set(o,We,q.options))),We},Re=We=>(m.status&&(m.status.fetchRejected=!0,m.status.fetchError=We),Te(We)),Te=We=>{let{aborted:$e}=H.signal,Fe=$e&&m.allowStaleOnFetchAbort,et=Fe||m.allowStaleOnFetchRejection,Ge=et||m.noDeleteOnFetchRejection,Ve=Ue;if(W(this,D)[u]===Ue&&(!Ge||Ve.__staleWhileFetching===void 0?Be(this,Z,qt).call(this,o,"fetch"):Fe||(W(this,D)[u]=Ve.__staleWhileFetching)),et)return m.status&&Ve.__staleWhileFetching!==void 0&&(m.status.returnedStale=!0),Ve.__staleWhileFetching;if(Ve.__returned===Ve)throw We},Ne=(We,$e)=>{var et;let Fe=(et=W(this,w))==null?void 0:et.call(this,o,N,q);Fe&&Fe instanceof Promise&&Fe.then(Ge=>We(Ge===void 0?void 0:Ge),$e),H.signal.addEventListener("abort",()=>{(!m.ignoreFetchAbort||m.allowStaleOnFetchAbort)&&(We(void 0),m.allowStaleOnFetchAbort&&(We=Ge=>oe(Ge,!0)))})};m.status&&(m.status.fetchDispatched=!0);let Ue=new Promise(Ne).then(oe,Re),Xe=Object.assign(Ue,{__abortController:H,__staleWhileFetching:N,__returned:void 0});return u===void 0?(this.set(o,Xe,{...q.options,status:void 0}),u=W(this,C).get(o)):W(this,D)[u]=Xe,Xe},Ye=function(o){if(!W(this,B))return!1;let u=o;return!!u&&u instanceof Promise&&u.hasOwnProperty("__staleWhileFetching")&&u.__abortController instanceof r},Ei=function(o,u){W(this,K)[u]=o,W(this,T)[o]=u},mr=function(o){o!==W(this,V)&&(o===W(this,Y)?Le(this,Y,W(this,T)[o]):Be(this,Z,Ei).call(this,W(this,K)[o],W(this,T)[o]),Be(this,Z,Ei).call(this,W(this,V),o),Le(this,V,o))},qt=function(o,u){var R,N;let m=!1;if(W(this,b)!==0){let H=W(this,C).get(o);if(H!==void 0)if(m=!0,W(this,b)===1)Be(this,Z,Ai).call(this,u);else{W(this,X).call(this,H);let ge=W(this,D)[H];if(Be(this,Z,Ye).call(this,ge)?ge.__abortController.abort(new Error("deleted")):(W(this,ae)||W(this,te))&&(W(this,ae)&&((R=W(this,A))==null||R.call(this,ge,o,u)),W(this,te)&&W(this,ie)?.push([ge,o,u])),W(this,C).delete(o),W(this,M)[H]=void 0,W(this,D)[H]=void 0,H===W(this,V))Le(this,V,W(this,K)[H]);else if(H===W(this,Y))Le(this,Y,W(this,T)[H]);else{let q=W(this,K)[H];W(this,T)[q]=W(this,T)[H];let oe=W(this,T)[H];W(this,K)[oe]=W(this,K)[H]}Er(this,b)._--,W(this,he).push(H)}}if(W(this,te)&&W(this,ie)?.length){let H=W(this,ie),ge;for(;ge=H?.shift();)(N=W(this,x))==null||N.call(this,...ge)}return m},Ai=function(o){var u,m;for(let R of Be(this,Z,$t).call(this,{allowStale:!0})){let N=W(this,D)[R];if(Be(this,Z,Ye).call(this,N))N.__abortController.abort(new Error("deleted"));else{let H=W(this,M)[R];W(this,ae)&&((u=W(this,A))==null||u.call(this,N,H,o)),W(this,te)&&W(this,ie)?.push([N,H,o])}}if(W(this,C).clear(),W(this,D).fill(void 0),W(this,M).fill(void 0),W(this,z)&&W(this,ce)&&(W(this,z).fill(0),W(this,ce).fill(0)),W(this,re)&&W(this,re).fill(0),Le(this,Y,0),Le(this,V,0),W(this,he).length=0,Le(this,k,0),Le(this,b,0),W(this,te)&&W(this,ie)){let R=W(this,ie),N;for(;N=R?.shift();)(m=W(this,x))==null||m.call(this,...N)}},pe);f.LRUCache=p}),Nt=xe(f=>{be(),we(),ve(),Object.defineProperty(f,"t",{value:!0}),f.ContainerIterator=f.Container=f.Base=void 0;var c=class{constructor(h=0){this.iteratorType=h}equals(h){return this.o===h.o}};f.ContainerIterator=c;var a=class{constructor(){this.i=0}get length(){return this.i}size(){return this.i}empty(){return this.i===0}};f.Base=a;var l=class extends a{};f.Container=l}),ic=xe(f=>{be(),we(),ve(),Object.defineProperty(f,"t",{value:!0}),f.default=void 0;var c=Nt(),a=class extends c.Base{constructor(h=[]){super(),this.S=[];let r=this;h.forEach(function(t){r.push(t)})}clear(){this.i=0,this.S=[]}push(h){return this.S.push(h),this.i+=1,this.i}pop(){if(this.i!==0)return this.i-=1,this.S.pop()}top(){return this.S[this.i-1]}},l=a;f.default=l}),oc=xe(f=>{be(),we(),ve(),Object.defineProperty(f,"t",{value:!0}),f.default=void 0;var c=Nt(),a=class extends c.Base{constructor(h=[]){super(),this.j=0,this.q=[];let r=this;h.forEach(function(t){r.push(t)})}clear(){this.q=[],this.i=this.j=0}push(h){let r=this.q.length;if(this.j/r>.5&&this.j+this.i>=r&&r>4096){let t=this.i;for(let n=0;n<t;++n)this.q[n]=this.q[this.j+n];this.j=0,this.q[this.i]=h}else this.q[this.j+this.i]=h;return++this.i}pop(){if(this.i===0)return;let h=this.q[this.j++];return this.i-=1,h}front(){if(this.i!==0)return this.q[this.j]}},l=a;f.default=l}),sc=xe(f=>{be(),we(),ve(),Object.defineProperty(f,"t",{value:!0}),f.default=void 0;var c=Nt(),a=class extends c.Base{constructor(h=[],r=function(n,e){return n>e?-1:n<e?1:0},t=!0){if(super(),this.v=r,Array.isArray(h))this.C=t?[...h]:h;else{this.C=[];let e=this;h.forEach(function(i){e.C.push(i)})}this.i=this.C.length;let n=this.i>>1;for(let e=this.i-1>>1;e>=0;--e)this.k(e,n)}m(h){let r=this.C[h];for(;h>0;){let t=h-1>>1,n=this.C[t];if(this.v(n,r)<=0)break;this.C[h]=n,h=t}this.C[h]=r}k(h,r){let t=this.C[h];for(;h<r;){let n=h<<1|1,e=n+1,i=this.C[n];if(e<this.i&&this.v(i,this.C[e])>0&&(n=e,i=this.C[e]),this.v(i,t)>=0)break;this.C[h]=i,h=n}this.C[h]=t}clear(){this.i=0,this.C.length=0}push(h){this.C.push(h),this.m(this.i),this.i+=1}pop(){if(this.i===0)return;let h=this.C[0],r=this.C.pop();return this.i-=1,this.i&&(this.C[0]=r,this.k(0,this.i>>1)),h}top(){return this.C[0]}find(h){return this.C.indexOf(h)>=0}remove(h){let r=this.C.indexOf(h);return r<0?!1:(r===0?this.pop():r===this.i-1?(this.C.pop(),this.i-=1):(this.C.splice(r,1,this.C.pop()),this.i-=1,this.m(r),this.k(r,this.i>>1)),!0)}updateItem(h){let r=this.C.indexOf(h);return r<0?!1:(this.m(r),this.k(r,this.i>>1),!0)}toArray(){return[...this.C]}},l=a;f.default=l}),vo=xe(f=>{be(),we(),ve(),Object.defineProperty(f,"t",{value:!0}),f.default=void 0;var c=Nt(),a=class extends c.Container{},l=a;f.default=l}),Ut=xe(f=>{be(),we(),ve(),Object.defineProperty(f,"t",{value:!0}),f.throwIteratorAccessError=c;function c(){throw new RangeError("Iterator access denied!")}}),Ea=xe(f=>{be(),we(),ve(),Object.defineProperty(f,"t",{value:!0}),f.RandomIterator=void 0;var c=Nt(),a=Ut(),l=class extends c.ContainerIterator{constructor(h,r){super(r),this.o=h,this.iteratorType===0?(this.pre=function(){return this.o===0&&(0,a.throwIteratorAccessError)(),this.o-=1,this},this.next=function(){return this.o===this.container.size()&&(0,a.throwIteratorAccessError)(),this.o+=1,this}):(this.pre=function(){return this.o===this.container.size()-1&&(0,a.throwIteratorAccessError)(),this.o+=1,this},this.next=function(){return this.o===-1&&(0,a.throwIteratorAccessError)(),this.o-=1,this})}get pointer(){return this.container.getElementByPos(this.o)}set pointer(h){this.container.setElementByPos(this.o,h)}};f.RandomIterator=l}),ac=xe(f=>{be(),we(),ve(),Object.defineProperty(f,"t",{value:!0}),f.default=void 0;var c=l(vo()),a=Ea();function l(n){return n&&n.t?n:{default:n}}var h=class Aa extends a.RandomIterator{constructor(e,i,s){super(e,s),this.container=i}copy(){return new Aa(this.o,this.container,this.iteratorType)}},r=class extends c.default{constructor(n=[],e=!0){if(super(),Array.isArray(n))this.J=e?[...n]:n,this.i=n.length;else{this.J=[];let i=this;n.forEach(function(s){i.pushBack(s)})}}clear(){this.i=0,this.J.length=0}begin(){return new h(0,this)}end(){return new h(this.i,this)}rBegin(){return new h(this.i-1,this,1)}rEnd(){return new h(-1,this,1)}front(){return this.J[0]}back(){return this.J[this.i-1]}getElementByPos(n){if(n<0||n>this.i-1)throw new RangeError;return this.J[n]}eraseElementByPos(n){if(n<0||n>this.i-1)throw new RangeError;return this.J.splice(n,1),this.i-=1,this.i}eraseElementByValue(n){let e=0;for(let i=0;i<this.i;++i)this.J[i]!==n&&(this.J[e++]=this.J[i]);return this.i=this.J.length=e,this.i}eraseElementByIterator(n){let e=n.o;return n=n.next(),this.eraseElementByPos(e),n}pushBack(n){return this.J.push(n),this.i+=1,this.i}popBack(){if(this.i!==0)return this.i-=1,this.J.pop()}setElementByPos(n,e){if(n<0||n>this.i-1)throw new RangeError;this.J[n]=e}insert(n,e,i=1){if(n<0||n>this.i)throw new RangeError;return this.J.splice(n,0,...new Array(i).fill(e)),this.i+=i,this.i}find(n){for(let e=0;e<this.i;++e)if(this.J[e]===n)return new h(e,this);return this.end()}reverse(){this.J.reverse()}unique(){let n=1;for(let e=1;e<this.i;++e)this.J[e]!==this.J[e-1]&&(this.J[n++]=this.J[e]);return this.i=this.J.length=n,this.i}sort(n){this.J.sort(n)}forEach(n){for(let e=0;e<this.i;++e)n(this.J[e],e,this)}[Symbol.iterator](){return(function*(){yield*this.J}).bind(this)()}},t=r;f.default=t}),lc=xe(f=>{be(),we(),ve(),Object.defineProperty(f,"t",{value:!0}),f.default=void 0;var c=h(vo()),a=Nt(),l=Ut();function h(e){return e&&e.t?e:{default:e}}var r=class xa extends a.ContainerIterator{constructor(i,s,d,p){super(p),this.o=i,this.h=s,this.container=d,this.iteratorType===0?(this.pre=function(){return this.o.L===this.h&&(0,l.throwIteratorAccessError)(),this.o=this.o.L,this},this.next=function(){return this.o===this.h&&(0,l.throwIteratorAccessError)(),this.o=this.o.B,this}):(this.pre=function(){return this.o.B===this.h&&(0,l.throwIteratorAccessError)(),this.o=this.o.B,this},this.next=function(){return this.o===this.h&&(0,l.throwIteratorAccessError)(),this.o=this.o.L,this})}get pointer(){return this.o===this.h&&(0,l.throwIteratorAccessError)(),this.o.l}set pointer(i){this.o===this.h&&(0,l.throwIteratorAccessError)(),this.o.l=i}copy(){return new xa(this.o,this.h,this.container,this.iteratorType)}},t=class extends c.default{constructor(e=[]){super(),this.h={},this.p=this._=this.h.L=this.h.B=this.h;let i=this;e.forEach(function(s){i.pushBack(s)})}V(e){let{L:i,B:s}=e;i.B=s,s.L=i,e===this.p&&(this.p=s),e===this._&&(this._=i),this.i-=1}G(e,i){let s=i.B,d={l:e,L:i,B:s};i.B=d,s.L=d,i===this.h&&(this.p=d),s===this.h&&(this._=d),this.i+=1}clear(){this.i=0,this.p=this._=this.h.L=this.h.B=this.h}begin(){return new r(this.p,this.h,this)}end(){return new r(this.h,this.h,this)}rBegin(){return new r(this._,this.h,this,1)}rEnd(){return new r(this.h,this.h,this,1)}front(){return this.p.l}back(){return this._.l}getElementByPos(e){if(e<0||e>this.i-1)throw new RangeError;let i=this.p;for(;e--;)i=i.B;return i.l}eraseElementByPos(e){if(e<0||e>this.i-1)throw new RangeError;let i=this.p;for(;e--;)i=i.B;return this.V(i),this.i}eraseElementByValue(e){let i=this.p;for(;i!==this.h;)i.l===e&&this.V(i),i=i.B;return this.i}eraseElementByIterator(e){let i=e.o;return i===this.h&&(0,l.throwIteratorAccessError)(),e=e.next(),this.V(i),e}pushBack(e){return this.G(e,this._),this.i}popBack(){if(this.i===0)return;let e=this._.l;return this.V(this._),e}pushFront(e){return this.G(e,this.h),this.i}popFront(){if(this.i===0)return;let e=this.p.l;return this.V(this.p),e}setElementByPos(e,i){if(e<0||e>this.i-1)throw new RangeError;let s=this.p;for(;e--;)s=s.B;s.l=i}insert(e,i,s=1){if(e<0||e>this.i)throw new RangeError;if(s<=0)return this.i;if(e===0)for(;s--;)this.pushFront(i);else if(e===this.i)for(;s--;)this.pushBack(i);else{let d=this.p;for(let g=1;g<e;++g)d=d.B;let p=d.B;for(this.i+=s;s--;)d.B={l:i,L:d},d.B.L=d,d=d.B;d.B=p,p.L=d}return this.i}find(e){let i=this.p;for(;i!==this.h;){if(i.l===e)return new r(i,this.h,this);i=i.B}return this.end()}reverse(){if(this.i<=1)return;let e=this.p,i=this._,s=0;for(;s<<1<this.i;){let d=e.l;e.l=i.l,i.l=d,e=e.B,i=i.L,s+=1}}unique(){if(this.i<=1)return this.i;let e=this.p;for(;e!==this.h;){let i=e;for(;i.B!==this.h&&i.l===i.B.l;)i=i.B,this.i-=1;e.B=i.B,e.B.L=e,e=e.B}return this.i}sort(e){if(this.i<=1)return;let i=[];this.forEach(function(d){i.push(d)}),i.sort(e);let s=this.p;i.forEach(function(d){s.l=d,s=s.B})}merge(e){let i=this;if(this.i===0)e.forEach(function(s){i.pushBack(s)});else{let s=this.p;e.forEach(function(d){for(;s!==i.h&&s.l<=d;)s=s.B;i.G(d,s.L)})}return this.i}forEach(e){let i=this.p,s=0;for(;i!==this.h;)e(i.l,s++,this),i=i.B}[Symbol.iterator](){return(function*(){if(this.i===0)return;let e=this.p;for(;e!==this.h;)yield e.l,e=e.B}).bind(this)()}},n=t;f.default=n}),uc=xe(f=>{be(),we(),ve(),Object.defineProperty(f,"t",{value:!0}),f.default=void 0;var c=l(vo()),a=Ea();function l(n){return n&&n.t?n:{default:n}}var h=class Oa extends a.RandomIterator{constructor(e,i,s){super(e,s),this.container=i}copy(){return new Oa(this.o,this.container,this.iteratorType)}},r=class extends c.default{constructor(n=[],e=4096){super(),this.j=0,this.D=0,this.R=0,this.N=0,this.P=0,this.A=[];let i=(()=>{if(typeof n.length=="number")return n.length;if(typeof n.size=="number")return n.size;if(typeof n.size=="function")return n.size();throw new TypeError("Cannot get the length or size of the container")})();this.F=e,this.P=Math.max(Math.ceil(i/this.F),1);for(let p=0;p<this.P;++p)this.A.push(new Array(this.F));let s=Math.ceil(i/this.F);this.j=this.R=(this.P>>1)-(s>>1),this.D=this.N=this.F-i%this.F>>1;let d=this;n.forEach(function(p){d.pushBack(p)})}T(){let n=[],e=Math.max(this.P>>1,1);for(let i=0;i<e;++i)n[i]=new Array(this.F);for(let i=this.j;i<this.P;++i)n[n.length]=this.A[i];for(let i=0;i<this.R;++i)n[n.length]=this.A[i];n[n.length]=[...this.A[this.R]],this.j=e,this.R=n.length-1;for(let i=0;i<e;++i)n[n.length]=new Array(this.F);this.A=n,this.P=n.length}O(n){let e=this.D+n+1,i=e%this.F,s=i-1,d=this.j+(e-i)/this.F;return i===0&&(d-=1),d%=this.P,s<0&&(s+=this.F),{curNodeBucketIndex:d,curNodePointerIndex:s}}clear(){this.A=[new Array(this.F)],this.P=1,this.j=this.R=this.i=0,this.D=this.N=this.F>>1}begin(){return new h(0,this)}end(){return new h(this.i,this)}rBegin(){return new h(this.i-1,this,1)}rEnd(){return new h(-1,this,1)}front(){if(this.i!==0)return this.A[this.j][this.D]}back(){if(this.i!==0)return this.A[this.R][this.N]}pushBack(n){return this.i&&(this.N<this.F-1?this.N+=1:this.R<this.P-1?(this.R+=1,this.N=0):(this.R=0,this.N=0),this.R===this.j&&this.N===this.D&&this.T()),this.i+=1,this.A[this.R][this.N]=n,this.i}popBack(){if(this.i===0)return;let n=this.A[this.R][this.N];return this.i!==1&&(this.N>0?this.N-=1:this.R>0?(this.R-=1,this.N=this.F-1):(this.R=this.P-1,this.N=this.F-1)),this.i-=1,n}pushFront(n){return this.i&&(this.D>0?this.D-=1:this.j>0?(this.j-=1,this.D=this.F-1):(this.j=this.P-1,this.D=this.F-1),this.j===this.R&&this.D===this.N&&this.T()),this.i+=1,this.A[this.j][this.D]=n,this.i}popFront(){if(this.i===0)return;let n=this.A[this.j][this.D];return this.i!==1&&(this.D<this.F-1?this.D+=1:this.j<this.P-1?(this.j+=1,this.D=0):(this.j=0,this.D=0)),this.i-=1,n}getElementByPos(n){if(n<0||n>this.i-1)throw new RangeError;let{curNodeBucketIndex:e,curNodePointerIndex:i}=this.O(n);return this.A[e][i]}setElementByPos(n,e){if(n<0||n>this.i-1)throw new RangeError;let{curNodeBucketIndex:i,curNodePointerIndex:s}=this.O(n);this.A[i][s]=e}insert(n,e,i=1){if(n<0||n>this.i)throw new RangeError;if(n===0)for(;i--;)this.pushFront(e);else if(n===this.i)for(;i--;)this.pushBack(e);else{let s=[];for(let d=n;d<this.i;++d)s.push(this.getElementByPos(d));this.cut(n-1);for(let d=0;d<i;++d)this.pushBack(e);for(let d=0;d<s.length;++d)this.pushBack(s[d])}return this.i}cut(n){if(n<0)return this.clear(),0;let{curNodeBucketIndex:e,curNodePointerIndex:i}=this.O(n);return this.R=e,this.N=i,this.i=n+1,this.i}eraseElementByPos(n){if(n<0||n>this.i-1)throw new RangeError;if(n===0)this.popFront();else if(n===this.i-1)this.popBack();else{let e=[];for(let s=n+1;s<this.i;++s)e.push(this.getElementByPos(s));this.cut(n),this.popBack();let i=this;e.forEach(function(s){i.pushBack(s)})}return this.i}eraseElementByValue(n){if(this.i===0)return 0;let e=[];for(let s=0;s<this.i;++s){let d=this.getElementByPos(s);d!==n&&e.push(d)}let i=e.length;for(let s=0;s<i;++s)this.setElementByPos(s,e[s]);return this.cut(i-1)}eraseElementByIterator(n){let e=n.o;return this.eraseElementByPos(e),n=n.next(),n}find(n){for(let e=0;e<this.i;++e)if(this.getElementByPos(e)===n)return new h(e,this);return this.end()}reverse(){let n=0,e=this.i-1;for(;n<e;){let i=this.getElementByPos(n);this.setElementByPos(n,this.getElementByPos(e)),this.setElementByPos(e,i),n+=1,e-=1}}unique(){if(this.i<=1)return this.i;let n=1,e=this.getElementByPos(0);for(let i=1;i<this.i;++i){let s=this.getElementByPos(i);s!==e&&(e=s,this.setElementByPos(n++,s))}for(;this.i>n;)this.popBack();return this.i}sort(n){let e=[];for(let i=0;i<this.i;++i)e.push(this.getElementByPos(i));e.sort(n);for(let i=0;i<this.i;++i)this.setElementByPos(i,e[i])}shrinkToFit(){if(this.i===0)return;let n=[];this.forEach(function(e){n.push(e)}),this.P=Math.max(Math.ceil(this.i/this.F),1),this.i=this.j=this.R=this.D=this.N=0,this.A=[];for(let e=0;e<this.P;++e)this.A.push(new Array(this.F));for(let e=0;e<n.length;++e)this.pushBack(n[e])}forEach(n){for(let e=0;e<this.i;++e)n(this.getElementByPos(e),e,this)}[Symbol.iterator](){return(function*(){for(let n=0;n<this.i;++n)yield this.getElementByPos(n)}).bind(this)()}},t=r;f.default=t}),cc=xe(f=>{be(),we(),ve(),Object.defineProperty(f,"t",{value:!0}),f.TreeNodeEnableIndex=f.TreeNode=void 0;var c=class{constructor(l,h){this.ee=1,this.u=void 0,this.l=void 0,this.U=void 0,this.W=void 0,this.tt=void 0,this.u=l,this.l=h}L(){let l=this;if(l.ee===1&&l.tt.tt===l)l=l.W;else if(l.U)for(l=l.U;l.W;)l=l.W;else{let h=l.tt;for(;h.U===l;)l=h,h=l.tt;l=h}return l}B(){let l=this;if(l.W){for(l=l.W;l.U;)l=l.U;return l}else{let h=l.tt;for(;h.W===l;)l=h,h=l.tt;return l.W!==h?h:l}}te(){let l=this.tt,h=this.W,r=h.U;return l.tt===this?l.tt=h:l.U===this?l.U=h:l.W=h,h.tt=l,h.U=this,this.tt=h,this.W=r,r&&(r.tt=this),h}se(){let l=this.tt,h=this.U,r=h.W;return l.tt===this?l.tt=h:l.U===this?l.U=h:l.W=h,h.tt=l,h.W=this,this.tt=h,this.U=r,r&&(r.tt=this),h}};f.TreeNode=c;var a=class extends c{constructor(){super(...arguments),this.rt=1}te(){let l=super.te();return this.ie(),l.ie(),l}se(){let l=super.se();return this.ie(),l.ie(),l}ie(){this.rt=1,this.U&&(this.rt+=this.U.rt),this.W&&(this.rt+=this.W.rt)}};f.TreeNodeEnableIndex=a}),Ia=xe(f=>{be(),we(),ve(),Object.defineProperty(f,"t",{value:!0}),f.default=void 0;var c=cc(),a=Nt(),l=Ut(),h=class extends a.Container{constructor(t=function(e,i){return e<i?-1:e>i?1:0},n=!1){super(),this.Y=void 0,this.v=t,n?(this.re=c.TreeNodeEnableIndex,this.M=function(e,i,s){let d=this.ne(e,i,s);if(d){let p=d.tt;for(;p!==this.h;)p.rt+=1,p=p.tt;let g=this.he(d);if(g){let{parentNode:v,grandParent:E,curNode:_}=g;v.ie(),E.ie(),_.ie()}}return this.i},this.V=function(e){let i=this.fe(e);for(;i!==this.h;)i.rt-=1,i=i.tt}):(this.re=c.TreeNode,this.M=function(e,i,s){let d=this.ne(e,i,s);return d&&this.he(d),this.i},this.V=this.fe),this.h=new this.re}X(t,n){let e=this.h;for(;t;){let i=this.v(t.u,n);if(i<0)t=t.W;else if(i>0)e=t,t=t.U;else return t}return e}Z(t,n){let e=this.h;for(;t;)this.v(t.u,n)<=0?t=t.W:(e=t,t=t.U);return e}$(t,n){let e=this.h;for(;t;){let i=this.v(t.u,n);if(i<0)e=t,t=t.W;else if(i>0)t=t.U;else return t}return e}rr(t,n){let e=this.h;for(;t;)this.v(t.u,n)<0?(e=t,t=t.W):t=t.U;return e}ue(t){for(;;){let n=t.tt;if(n===this.h)return;if(t.ee===1){t.ee=0;return}if(t===n.U){let e=n.W;if(e.ee===1)e.ee=0,n.ee=1,n===this.Y?this.Y=n.te():n.te();else if(e.W&&e.W.ee===1){e.ee=n.ee,n.ee=0,e.W.ee=0,n===this.Y?this.Y=n.te():n.te();return}else e.U&&e.U.ee===1?(e.ee=1,e.U.ee=0,e.se()):(e.ee=1,t=n)}else{let e=n.U;if(e.ee===1)e.ee=0,n.ee=1,n===this.Y?this.Y=n.se():n.se();else if(e.U&&e.U.ee===1){e.ee=n.ee,n.ee=0,e.U.ee=0,n===this.Y?this.Y=n.se():n.se();return}else e.W&&e.W.ee===1?(e.ee=1,e.W.ee=0,e.te()):(e.ee=1,t=n)}}}fe(t){if(this.i===1)return this.clear(),this.h;let n=t;for(;n.U||n.W;){if(n.W)for(n=n.W;n.U;)n=n.U;else n=n.U;[t.u,n.u]=[n.u,t.u],[t.l,n.l]=[n.l,t.l],t=n}this.h.U===n?this.h.U=n.tt:this.h.W===n&&(this.h.W=n.tt),this.ue(n);let e=n.tt;return n===e.U?e.U=void 0:e.W=void 0,this.i-=1,this.Y.ee=0,e}oe(t,n){return t===void 0?!1:this.oe(t.U,n)||n(t)?!0:this.oe(t.W,n)}he(t){for(;;){let n=t.tt;if(n.ee===0)return;let e=n.tt;if(n===e.U){let i=e.W;if(i&&i.ee===1){if(i.ee=n.ee=0,e===this.Y)return;e.ee=1,t=e;continue}else if(t===n.W){if(t.ee=0,t.U&&(t.U.tt=n),t.W&&(t.W.tt=e),n.W=t.U,e.U=t.W,t.U=n,t.W=e,e===this.Y)this.Y=t,this.h.tt=t;else{let s=e.tt;s.U===e?s.U=t:s.W=t}return t.tt=e.tt,n.tt=t,e.tt=t,e.ee=1,{parentNode:n,grandParent:e,curNode:t}}else n.ee=0,e===this.Y?this.Y=e.se():e.se(),e.ee=1}else{let i=e.U;if(i&&i.ee===1){if(i.ee=n.ee=0,e===this.Y)return;e.ee=1,t=e;continue}else if(t===n.U){if(t.ee=0,t.U&&(t.U.tt=e),t.W&&(t.W.tt=n),e.W=t.U,n.U=t.W,t.U=e,t.W=n,e===this.Y)this.Y=t,this.h.tt=t;else{let s=e.tt;s.U===e?s.U=t:s.W=t}return t.tt=e.tt,n.tt=t,e.tt=t,e.ee=1,{parentNode:n,grandParent:e,curNode:t}}else n.ee=0,e===this.Y?this.Y=e.te():e.te(),e.ee=1}return}}ne(t,n,e){if(this.Y===void 0){this.i+=1,this.Y=new this.re(t,n),this.Y.ee=0,this.Y.tt=this.h,this.h.tt=this.Y,this.h.U=this.Y,this.h.W=this.Y;return}let i,s=this.h.U,d=this.v(s.u,t);if(d===0){s.l=n;return}else if(d>0)s.U=new this.re(t,n),s.U.tt=s,i=s.U,this.h.U=i;else{let p=this.h.W,g=this.v(p.u,t);if(g===0){p.l=n;return}else if(g<0)p.W=new this.re(t,n),p.W.tt=p,i=p.W,this.h.W=i;else{if(e!==void 0){let v=e.o;if(v!==this.h){let E=this.v(v.u,t);if(E===0){v.l=n;return}else if(E>0){let _=v.L(),O=this.v(_.u,t);if(O===0){_.l=n;return}else O<0&&(i=new this.re(t,n),_.W===void 0?(_.W=i,i.tt=_):(v.U=i,i.tt=v))}}}if(i===void 0)for(i=this.Y;;){let v=this.v(i.u,t);if(v>0){if(i.U===void 0){i.U=new this.re(t,n),i.U.tt=i,i=i.U;break}i=i.U}else if(v<0){if(i.W===void 0){i.W=new this.re(t,n),i.W.tt=i,i=i.W;break}i=i.W}else{i.l=n;return}}}}return this.i+=1,i}I(t,n){for(;t;){let e=this.v(t.u,n);if(e<0)t=t.W;else if(e>0)t=t.U;else return t}return t||this.h}clear(){this.i=0,this.Y=void 0,this.h.tt=void 0,this.h.U=this.h.W=void 0}updateKeyByIterator(t,n){let e=t.o;if(e===this.h&&(0,l.throwIteratorAccessError)(),this.i===1)return e.u=n,!0;if(e===this.h.U)return this.v(e.B().u,n)>0?(e.u=n,!0):!1;if(e===this.h.W)return this.v(e.L().u,n)<0?(e.u=n,!0):!1;let i=e.L().u;if(this.v(i,n)>=0)return!1;let s=e.B().u;return this.v(s,n)<=0?!1:(e.u=n,!0)}eraseElementByPos(t){if(t<0||t>this.i-1)throw new RangeError;let n=0,e=this;return this.oe(this.Y,function(i){return t===n?(e.V(i),!0):(n+=1,!1)}),this.i}eraseElementByKey(t){if(this.i===0)return!1;let n=this.I(this.Y,t);return n===this.h?!1:(this.V(n),!0)}eraseElementByIterator(t){let n=t.o;n===this.h&&(0,l.throwIteratorAccessError)();let e=n.W===void 0;return t.iteratorType===0?e&&t.next():(!e||n.U===void 0)&&t.next(),this.V(n),t}forEach(t){let n=0;for(let e of this)t(e,n++,this)}getElementByPos(t){if(t<0||t>this.i-1)throw new RangeError;let n,e=0;for(let i of this){if(e===t){n=i;break}e+=1}return n}getHeight(){if(this.i===0)return 0;let t=function(n){return n?Math.max(t(n.U),t(n.W))+1:0};return t(this.Y)}},r=h;f.default=r}),Pa=xe(f=>{be(),we(),ve(),Object.defineProperty(f,"t",{value:!0}),f.default=void 0;var c=Nt(),a=Ut(),l=class extends c.ContainerIterator{constructor(r,t,n){super(n),this.o=r,this.h=t,this.iteratorType===0?(this.pre=function(){return this.o===this.h.U&&(0,a.throwIteratorAccessError)(),this.o=this.o.L(),this},this.next=function(){return this.o===this.h&&(0,a.throwIteratorAccessError)(),this.o=this.o.B(),this}):(this.pre=function(){return this.o===this.h.W&&(0,a.throwIteratorAccessError)(),this.o=this.o.B(),this},this.next=function(){return this.o===this.h&&(0,a.throwIteratorAccessError)(),this.o=this.o.L(),this})}get index(){let r=this.o,t=this.h.tt;if(r===this.h)return t?t.rt-1:0;let n=0;for(r.U&&(n+=r.U.rt);r!==t;){let e=r.tt;r===e.W&&(n+=1,e.U&&(n+=e.U.rt)),r=e}return n}},h=l;f.default=h}),hc=xe(f=>{be(),we(),ve(),Object.defineProperty(f,"t",{value:!0}),f.default=void 0;var c=h(Ia()),a=h(Pa()),l=Ut();function h(e){return e&&e.t?e:{default:e}}var r=class ka extends a.default{constructor(i,s,d,p){super(i,s,p),this.container=d}get pointer(){return this.o===this.h&&(0,l.throwIteratorAccessError)(),this.o.u}copy(){return new ka(this.o,this.h,this.container,this.iteratorType)}},t=class extends c.default{constructor(e=[],i,s){super(i,s);let d=this;e.forEach(function(p){d.insert(p)})}*K(e){e!==void 0&&(yield*this.K(e.U),yield e.u,yield*this.K(e.W))}begin(){return new r(this.h.U||this.h,this.h,this)}end(){return new r(this.h,this.h,this)}rBegin(){return new r(this.h.W||this.h,this.h,this,1)}rEnd(){return new r(this.h,this.h,this,1)}front(){return this.h.U?this.h.U.u:void 0}back(){return this.h.W?this.h.W.u:void 0}insert(e,i){return this.M(e,void 0,i)}find(e){let i=this.I(this.Y,e);return new r(i,this.h,this)}lowerBound(e){let i=this.X(this.Y,e);return new r(i,this.h,this)}upperBound(e){let i=this.Z(this.Y,e);return new r(i,this.h,this)}reverseLowerBound(e){let i=this.$(this.Y,e);return new r(i,this.h,this)}reverseUpperBound(e){let i=this.rr(this.Y,e);return new r(i,this.h,this)}union(e){let i=this;return e.forEach(function(s){i.insert(s)}),this.i}[Symbol.iterator](){return this.K(this.Y)}},n=t;f.default=n}),fc=xe(f=>{be(),we(),ve(),Object.defineProperty(f,"t",{value:!0}),f.default=void 0;var c=h(Ia()),a=h(Pa()),l=Ut();function h(e){return e&&e.t?e:{default:e}}var r=class Ta extends a.default{constructor(i,s,d,p){super(i,s,p),this.container=d}get pointer(){this.o===this.h&&(0,l.throwIteratorAccessError)();let i=this;return new Proxy([],{get(s,d){if(d==="0")return i.o.u;if(d==="1")return i.o.l},set(s,d,p){if(d!=="1")throw new TypeError("props must be 1");return i.o.l=p,!0}})}copy(){return new Ta(this.o,this.h,this.container,this.iteratorType)}},t=class extends c.default{constructor(e=[],i,s){super(i,s);let d=this;e.forEach(function(p){d.setElement(p[0],p[1])})}*K(e){e!==void 0&&(yield*this.K(e.U),yield[e.u,e.l],yield*this.K(e.W))}begin(){return new r(this.h.U||this.h,this.h,this)}end(){return new r(this.h,this.h,this)}rBegin(){return new r(this.h.W||this.h,this.h,this,1)}rEnd(){return new r(this.h,this.h,this,1)}front(){if(this.i===0)return;let e=this.h.U;return[e.u,e.l]}back(){if(this.i===0)return;let e=this.h.W;return[e.u,e.l]}lowerBound(e){let i=this.X(this.Y,e);return new r(i,this.h,this)}upperBound(e){let i=this.Z(this.Y,e);return new r(i,this.h,this)}reverseLowerBound(e){let i=this.$(this.Y,e);return new r(i,this.h,this)}reverseUpperBound(e){let i=this.rr(this.Y,e);return new r(i,this.h,this)}setElement(e,i,s){return this.M(e,i,s)}find(e){let i=this.I(this.Y,e);return new r(i,this.h,this)}getElementByKey(e){return this.I(this.Y,e).l}union(e){let i=this;return e.forEach(function(s){i.setElement(s[0],s[1])}),this.i}[Symbol.iterator](){return this.K(this.Y)}},n=t;f.default=n}),Ca=xe(f=>{be(),we(),ve(),Object.defineProperty(f,"t",{value:!0}),f.default=c;function c(a){let l=typeof a;return l==="object"&&a!==null||l==="function"}}),Ra=xe(f=>{be(),we(),ve(),Object.defineProperty(f,"t",{value:!0}),f.HashContainerIterator=f.HashContainer=void 0;var c=Nt(),a=h(Ca()),l=Ut();function h(n){return n&&n.t?n:{default:n}}var r=class extends c.ContainerIterator{constructor(n,e,i){super(i),this.o=n,this.h=e,this.iteratorType===0?(this.pre=function(){return this.o.L===this.h&&(0,l.throwIteratorAccessError)(),this.o=this.o.L,this},this.next=function(){return this.o===this.h&&(0,l.throwIteratorAccessError)(),this.o=this.o.B,this}):(this.pre=function(){return this.o.B===this.h&&(0,l.throwIteratorAccessError)(),this.o=this.o.B,this},this.next=function(){return this.o===this.h&&(0,l.throwIteratorAccessError)(),this.o=this.o.L,this})}};f.HashContainerIterator=r;var t=class extends c.Container{constructor(){super(),this.H=[],this.g={},this.HASH_TAG=Symbol("@@HASH_TAG"),Object.setPrototypeOf(this.g,null),this.h={},this.h.L=this.h.B=this.p=this._=this.h}V(n){let{L:e,B:i}=n;e.B=i,i.L=e,n===this.p&&(this.p=i),n===this._&&(this._=e),this.i-=1}M(n,e,i){i===void 0&&(i=(0,a.default)(n));let s;if(i){let d=n[this.HASH_TAG];if(d!==void 0)return this.H[d].l=e,this.i;Object.defineProperty(n,this.HASH_TAG,{value:this.H.length,configurable:!0}),s={u:n,l:e,L:this._,B:this.h},this.H.push(s)}else{let d=this.g[n];if(d)return d.l=e,this.i;s={u:n,l:e,L:this._,B:this.h},this.g[n]=s}return this.i===0?(this.p=s,this.h.B=s):this._.B=s,this._=s,this.h.L=s,++this.i}I(n,e){if(e===void 0&&(e=(0,a.default)(n)),e){let i=n[this.HASH_TAG];return i===void 0?this.h:this.H[i]}else return this.g[n]||this.h}clear(){let n=this.HASH_TAG;this.H.forEach(function(e){delete e.u[n]}),this.H=[],this.g={},Object.setPrototypeOf(this.g,null),this.i=0,this.p=this._=this.h.L=this.h.B=this.h}eraseElementByKey(n,e){let i;if(e===void 0&&(e=(0,a.default)(n)),e){let s=n[this.HASH_TAG];if(s===void 0)return!1;delete n[this.HASH_TAG],i=this.H[s],delete this.H[s]}else{if(i=this.g[n],i===void 0)return!1;delete this.g[n]}return this.V(i),!0}eraseElementByIterator(n){let e=n.o;return e===this.h&&(0,l.throwIteratorAccessError)(),this.V(e),n.next()}eraseElementByPos(n){if(n<0||n>this.i-1)throw new RangeError;let e=this.p;for(;n--;)e=e.B;return this.V(e),this.i}};f.HashContainer=t}),pc=xe(f=>{be(),we(),ve(),Object.defineProperty(f,"t",{value:!0}),f.default=void 0;var c=Ra(),a=Ut(),l=class ja extends c.HashContainerIterator{constructor(n,e,i,s){super(n,e,s),this.container=i}get pointer(){return this.o===this.h&&(0,a.throwIteratorAccessError)(),this.o.u}copy(){return new ja(this.o,this.h,this.container,this.iteratorType)}},h=class extends c.HashContainer{constructor(t=[]){super();let n=this;t.forEach(function(e){n.insert(e)})}begin(){return new l(this.p,this.h,this)}end(){return new l(this.h,this.h,this)}rBegin(){return new l(this._,this.h,this,1)}rEnd(){return new l(this.h,this.h,this,1)}front(){return this.p.u}back(){return this._.u}insert(t,n){return this.M(t,void 0,n)}getElementByPos(t){if(t<0||t>this.i-1)throw new RangeError;let n=this.p;for(;t--;)n=n.B;return n.u}find(t,n){let e=this.I(t,n);return new l(e,this.h,this)}forEach(t){let n=0,e=this.p;for(;e!==this.h;)t(e.u,n++,this),e=e.B}[Symbol.iterator](){return(function*(){let t=this.p;for(;t!==this.h;)yield t.u,t=t.B}).bind(this)()}},r=h;f.default=r}),dc=xe(f=>{be(),we(),ve(),Object.defineProperty(f,"t",{value:!0}),f.default=void 0;var c=Ra(),a=h(Ca()),l=Ut();function h(e){return e&&e.t?e:{default:e}}var r=class Ma extends c.HashContainerIterator{constructor(i,s,d,p){super(i,s,p),this.container=d}get pointer(){this.o===this.h&&(0,l.throwIteratorAccessError)();let i=this;return new Proxy([],{get(s,d){if(d==="0")return i.o.u;if(d==="1")return i.o.l},set(s,d,p){if(d!=="1")throw new TypeError("props must be 1");return i.o.l=p,!0}})}copy(){return new Ma(this.o,this.h,this.container,this.iteratorType)}},t=class extends c.HashContainer{constructor(e=[]){super();let i=this;e.forEach(function(s){i.setElement(s[0],s[1])})}begin(){return new r(this.p,this.h,this)}end(){return new r(this.h,this.h,this)}rBegin(){return new r(this._,this.h,this,1)}rEnd(){return new r(this.h,this.h,this,1)}front(){if(this.i!==0)return[this.p.u,this.p.l]}back(){if(this.i!==0)return[this._.u,this._.l]}setElement(e,i,s){return this.M(e,i,s)}getElementByKey(e,i){if(i===void 0&&(i=(0,a.default)(e)),i){let d=e[this.HASH_TAG];return d!==void 0?this.H[d].l:void 0}let s=this.g[e];return s?s.l:void 0}getElementByPos(e){if(e<0||e>this.i-1)throw new RangeError;let i=this.p;for(;e--;)i=i.B;return[i.u,i.l]}find(e,i){let s=this.I(e,i);return new r(s,this.h,this)}forEach(e){let i=0,s=this.p;for(;s!==this.h;)e([s.u,s.l],i++,this),s=s.B}[Symbol.iterator](){return(function*(){let e=this.p;for(;e!==this.h;)yield[e.u,e.l],e=e.B}).bind(this)()}},n=t;f.default=n}),gc=xe(f=>{be(),we(),ve(),Object.defineProperty(f,"t",{value:!0}),Object.defineProperty(f,"Deque",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(f,"HashMap",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(f,"HashSet",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(f,"LinkList",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(f,"OrderedMap",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(f,"OrderedSet",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(f,"PriorityQueue",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(f,"Queue",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(f,"Stack",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(f,"Vector",{enumerable:!0,get:function(){return h.default}});var c=d(ic()),a=d(oc()),l=d(sc()),h=d(ac()),r=d(lc()),t=d(uc()),n=d(hc()),e=d(fc()),i=d(pc()),s=d(dc());function d(p){return p&&p.t?p:{default:p}}}),yc=xe((f,c)=>{be(),we(),ve();var a=gc().OrderedSet,l=Mt()("number-allocator:trace"),h=Mt()("number-allocator:error");function r(n,e){this.low=n,this.high=e}r.prototype.equals=function(n){return this.low===n.low&&this.high===n.high},r.prototype.compare=function(n){return this.low<n.low&&this.high<n.low?-1:n.low<this.low&&n.high<this.low?1:0};function t(n,e){if(!(this instanceof t))return new t(n,e);this.min=n,this.max=e,this.ss=new a([],(i,s)=>i.compare(s)),l("Create"),this.clear()}t.prototype.firstVacant=function(){return this.ss.size()===0?null:this.ss.front().low},t.prototype.alloc=function(){if(this.ss.size()===0)return l("alloc():empty"),null;let n=this.ss.begin(),e=n.pointer.low,i=n.pointer.high,s=e;return s+1<=i?this.ss.updateKeyByIterator(n,new r(e+1,i)):this.ss.eraseElementByPos(0),l("alloc():"+s),s},t.prototype.use=function(n){let e=new r(n,n),i=this.ss.lowerBound(e);if(!i.equals(this.ss.end())){let s=i.pointer.low,d=i.pointer.high;return i.pointer.equals(e)?(this.ss.eraseElementByIterator(i),l("use():"+n),!0):s>n?!1:s===n?(this.ss.updateKeyByIterator(i,new r(s+1,d)),l("use():"+n),!0):d===n?(this.ss.updateKeyByIterator(i,new r(s,d-1)),l("use():"+n),!0):(this.ss.updateKeyByIterator(i,new r(n+1,d)),this.ss.insert(new r(s,n-1)),l("use():"+n),!0)}return l("use():failed"),!1},t.prototype.free=function(n){if(n<this.min||n>this.max){h("free():"+n+" is out of range");return}let e=new r(n,n),i=this.ss.upperBound(e);if(i.equals(this.ss.end())){if(i.equals(this.ss.begin())){this.ss.insert(e);return}i.pre();let s=i.pointer.high;i.pointer.high+1===n?this.ss.updateKeyByIterator(i,new r(s,n)):this.ss.insert(e)}else if(i.equals(this.ss.begin()))if(n+1===i.pointer.low){let s=i.pointer.high;this.ss.updateKeyByIterator(i,new r(n,s))}else this.ss.insert(e);else{let s=i.pointer.low,d=i.pointer.high;i.pre();let p=i.pointer.low;i.pointer.high+1===n?n+1===s?(this.ss.eraseElementByIterator(i),this.ss.updateKeyByIterator(i,new r(p,d))):this.ss.updateKeyByIterator(i,new r(p,n)):n+1===s?(this.ss.eraseElementByIterator(i.next()),this.ss.insert(new r(n,d))):this.ss.insert(e)}l("free():"+n)},t.prototype.clear=function(){l("clear()"),this.ss.clear(),this.ss.insert(new r(this.min,this.max))},t.prototype.intervalCount=function(){return this.ss.size()},t.prototype.dump=function(){""+this.ss.size();for(let n of this.ss);},c.exports=t}),Ba=xe((f,c)=>{be(),we(),ve();var a=yc();c.exports.NumberAllocator=a}),mc=xe(f=>{be(),we(),ve(),Object.defineProperty(f,"__esModule",{value:!0});var c=nc(),a=Ba(),l=class{aliasToTopic;topicToAlias;max;numberAllocator;length;constructor(h){h>0&&(this.aliasToTopic=new c.LRUCache({max:h}),this.topicToAlias={},this.numberAllocator=new a.NumberAllocator(1,h),this.max=h,this.length=0)}put(h,r){if(r===0||r>this.max)return!1;let t=this.aliasToTopic.get(r);return t&&delete this.topicToAlias[t],this.aliasToTopic.set(r,h),this.topicToAlias[h]=r,this.numberAllocator.use(r),this.length=this.aliasToTopic.size,!0}getTopicByAlias(h){return this.aliasToTopic.get(h)}getAliasByTopic(h){let r=this.topicToAlias[h];return typeof r<"u"&&this.aliasToTopic.get(r),r}clear(){this.aliasToTopic.clear(),this.topicToAlias={},this.numberAllocator.clear(),this.length=0}getLruAlias(){return this.numberAllocator.firstVacant()||[...this.aliasToTopic.keys()][this.aliasToTopic.size-1]}};f.default=l}),bc=xe(f=>{be(),we(),ve();var c=f&&f.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(f,"__esModule",{value:!0});var a=on(),l=c(mc()),h=hr(),r=(t,n)=>{t.log("_handleConnack");let{options:e}=t,i=e.protocolVersion===5?n.reasonCode:n.returnCode;if(clearTimeout(t.connackTimer),delete t.topicAliasSend,n.properties){if(n.properties.topicAliasMaximum){if(n.properties.topicAliasMaximum>65535){t.emit("error",new Error("topicAliasMaximum from broker is out of range"));return}n.properties.topicAliasMaximum>0&&(t.topicAliasSend=new l.default(n.properties.topicAliasMaximum))}n.properties.serverKeepAlive&&e.keepalive&&(e.keepalive=n.properties.serverKeepAlive),n.properties.maximumPacketSize&&(e.properties||(e.properties={}),e.properties.maximumPacketSize=n.properties.maximumPacketSize)}if(i===0)t.reconnecting=!1,t._onConnect(n);else if(i>0){let s=new h.ErrorWithReasonCode(`Connection refused: ${a.ReasonCodes[i]}`,i);t.emit("error",s),t.options.reconnectOnConnackError&&t._cleanUp(!0)}};f.default=r}),vc=xe(f=>{be(),we(),ve(),Object.defineProperty(f,"__esModule",{value:!0});var c=(a,l,h)=>{a.log("handling pubrel packet");let r=typeof h<"u"?h:a.noop,{messageId:t}=l,n={cmd:"pubcomp",messageId:t};a.incomingStore.get(l,(e,i)=>{e?a._sendPacket(n,r):(a.emit("message",i.topic,i.payload,i),a.handleMessage(i,s=>{if(s)return r(s);a.incomingStore.del(i,a.noop),a._sendPacket(n,r)}))})};f.default=c}),wc=xe(f=>{be(),we(),ve();var c=f&&f.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(f,"__esModule",{value:!0});var a=c(ec()),l=c(rc()),h=c(bc()),r=c(on()),t=c(vc()),n=(e,i,s)=>{let{options:d}=e;if(d.protocolVersion===5&&d.properties&&d.properties.maximumPacketSize&&d.properties.maximumPacketSize<i.length)return e.emit("error",new Error(`exceeding packets size ${i.cmd}`)),e.end({reasonCode:149,properties:{reasonString:"Maximum packet size was exceeded"}}),e;switch(e.log("_handlePacket :: emitting packetreceive"),e.emit("packetreceive",i),i.cmd){case"publish":(0,a.default)(e,i,s);break;case"puback":case"pubrec":case"pubcomp":case"suback":case"unsuback":e.reschedulePing(),(0,r.default)(e,i),s();break;case"pubrel":e.reschedulePing(),(0,t.default)(e,i,s);break;case"connack":(0,h.default)(e,i),s();break;case"auth":e.reschedulePing(),(0,l.default)(e,i),s();break;case"pingresp":e.log("_handlePacket :: received pingresp"),e.reschedulePing(!0),s();break;case"disconnect":e.emit("disconnect",i),s();break;default:e.log("_handlePacket :: unknown command"),s();break}};f.default=n}),Na=xe(f=>{be(),we(),ve(),Object.defineProperty(f,"__esModule",{value:!0});var c=class{nextId;constructor(){this.nextId=Math.max(1,Math.floor(Math.random()*65535))}allocate(){let a=this.nextId++;return this.nextId===65536&&(this.nextId=1),a}getLastAllocated(){return this.nextId===1?65535:this.nextId-1}register(a){return!0}deallocate(a){}clear(){}};f.default=c}),_c=xe(f=>{be(),we(),ve(),Object.defineProperty(f,"__esModule",{value:!0});var c=class{aliasToTopic;max;length;constructor(a){this.aliasToTopic={},this.max=a}put(a,l){return l===0||l>this.max?!1:(this.aliasToTopic[l]=a,this.length=Object.keys(this.aliasToTopic).length,!0)}getTopicByAlias(a){return this.aliasToTopic[a]}clear(){this.aliasToTopic={}}};f.default=c}),Sc=xe(f=>{be(),we(),ve();var c=f&&f.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(f,"__esModule",{value:!0}),f.TypedEventEmitter=void 0;var a=c((rr(),He(Kt))),l=hr(),h=class{};f.TypedEventEmitter=h,(0,l.applyMixin)(h,a.default)}),sn=xe((f,c)=>{be(),we(),ve();function a(l){"@babel/helpers - typeof";return c.exports=a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},c.exports.__esModule=!0,c.exports.default=c.exports,a(l)}c.exports=a,c.exports.__esModule=!0,c.exports.default=c.exports}),Ec=xe((f,c)=>{be(),we(),ve();var a=sn().default;function l(h,r){if(a(h)!="object"||!h)return h;var t=h[Symbol.toPrimitive];if(t!==void 0){var n=t.call(h,r||"default");if(a(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(h)}c.exports=l,c.exports.__esModule=!0,c.exports.default=c.exports}),Ac=xe((f,c)=>{be(),we(),ve();var a=sn().default,l=Ec();function h(r){var t=l(r,"string");return a(t)=="symbol"?t:t+""}c.exports=h,c.exports.__esModule=!0,c.exports.default=c.exports}),xc=xe((f,c)=>{be(),we(),ve();var a=Ac();function l(h,r,t){return(r=a(r))in h?Object.defineProperty(h,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):h[r]=t,h}c.exports=l,c.exports.__esModule=!0,c.exports.default=c.exports}),Oc=xe((f,c)=>{be(),we(),ve();function a(l){if(Array.isArray(l))return l}c.exports=a,c.exports.__esModule=!0,c.exports.default=c.exports}),Ic=xe((f,c)=>{be(),we(),ve();function a(l,h){var r=l==null?null:typeof Symbol<"u"&&l[Symbol.iterator]||l["@@iterator"];if(r!=null){var t,n,e,i,s=[],d=!0,p=!1;try{if(e=(r=r.call(l)).next,h===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(t=e.call(r)).done)&&(s.push(t.value),s.length!==h);d=!0);}catch(g){p=!0,n=g}finally{try{if(!d&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(p)throw n}}return s}}c.exports=a,c.exports.__esModule=!0,c.exports.default=c.exports}),Pc=xe((f,c)=>{be(),we(),ve();function a(l,h){(h==null||h>l.length)&&(h=l.length);for(var r=0,t=Array(h);r<h;r++)t[r]=l[r];return t}c.exports=a,c.exports.__esModule=!0,c.exports.default=c.exports}),kc=xe((f,c)=>{be(),we(),ve();var a=Pc();function l(h,r){if(h){if(typeof h=="string")return a(h,r);var t={}.toString.call(h).slice(8,-1);return t==="Object"&&h.constructor&&(t=h.constructor.name),t==="Map"||t==="Set"?Array.from(h):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?a(h,r):void 0}}c.exports=l,c.exports.__esModule=!0,c.exports.default=c.exports}),Tc=xe((f,c)=>{be(),we(),ve();function a(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}c.exports=a,c.exports.__esModule=!0,c.exports.default=c.exports}),Cc=xe((f,c)=>{be(),we(),ve();var a=Oc(),l=Ic(),h=kc(),r=Tc();function t(n,e){return a(n)||l(n,e)||h(n,e)||r()}c.exports=t,c.exports.__esModule=!0,c.exports.default=c.exports}),Ua=xe((f,c)=>{be(),we(),ve(),(function(a,l){typeof f=="object"&&typeof c<"u"?l(f):typeof define=="function"&&define.amd?define(["exports"],l):(a=typeof globalThis<"u"?globalThis:a||self,l(a.fastUniqueNumbers={}))})(f,function(a){var l=function(g){return function(v){var E=g(v);return v.add(E),E}},h=function(g){return function(v,E){return g.set(v,E),E}},r=Number.MAX_SAFE_INTEGER===void 0?9007199254740991:Number.MAX_SAFE_INTEGER,t=536870912,n=t*2,e=function(g,v){return function(E){var _=v.get(E),O=_===void 0?E.size:_<n?_+1:0;if(!E.has(O))return g(E,O);if(E.size<t){for(;E.has(O);)O=Math.floor(Math.random()*n);return g(E,O)}if(E.size>r)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;E.has(O);)O=Math.floor(Math.random()*r);return g(E,O)}},i=new WeakMap,s=h(i),d=e(s,i),p=l(d);a.addUniqueNumber=p,a.generateUniqueNumber=d})}),Rc=xe((f,c)=>{be(),we(),ve();function a(h,r,t,n,e,i,s){try{var d=h[i](s),p=d.value}catch(g){return void t(g)}d.done?r(p):Promise.resolve(p).then(n,e)}function l(h){return function(){var r=this,t=arguments;return new Promise(function(n,e){var i=h.apply(r,t);function s(p){a(i,n,e,s,d,"next",p)}function d(p){a(i,n,e,s,d,"throw",p)}s(void 0)})}}c.exports=l,c.exports.__esModule=!0,c.exports.default=c.exports}),La=xe((f,c)=>{be(),we(),ve();function a(l,h){this.v=l,this.k=h}c.exports=a,c.exports.__esModule=!0,c.exports.default=c.exports}),Da=xe((f,c)=>{be(),we(),ve();function a(l,h,r,t){var n=Object.defineProperty;try{n({},"",{})}catch{n=0}c.exports=a=function(e,i,s,d){function p(g,v){a(e,g,function(E){return this._invoke(g,v,E)})}i?n?n(e,i,{value:s,enumerable:!d,configurable:!d,writable:!d}):e[i]=s:(p("next",0),p("throw",1),p("return",2))},c.exports.__esModule=!0,c.exports.default=c.exports,a(l,h,r,t)}c.exports=a,c.exports.__esModule=!0,c.exports.default=c.exports}),Wa=xe((f,c)=>{be(),we(),ve();var a=Da();function l(){var h,r,t=typeof Symbol=="function"?Symbol:{},n=t.iterator||"@@iterator",e=t.toStringTag||"@@toStringTag";function i(O,y,A,x){var w=y&&y.prototype instanceof d?y:d,P=Object.create(w.prototype);return a(P,"_invoke",(function(b,k,C){var M,D,T,K=0,Y=C||[],V=!1,he={p:0,n:0,v:h,a:ie,f:ie.bind(h,4),d:function(re,ce){return M=re,D=0,T=h,he.n=ce,s}};function ie(re,ce){for(D=re,T=ce,r=0;!V&&K&&!z&&r<Y.length;r++){var z,ae=Y[r],B=he.p,te=ae[2];re>3?(z=te===ce)&&(T=ae[(D=ae[4])?5:(D=3,3)],ae[4]=ae[5]=h):ae[0]<=B&&((z=re<2&&B<ae[1])?(D=0,he.v=ce,he.n=ae[1]):B<te&&(z=re<3||ae[0]>ce||ce>te)&&(ae[4]=re,ae[5]=ce,he.n=te,D=0))}if(z||re>1)return s;throw V=!0,ce}return function(re,ce,z){if(K>1)throw TypeError("Generator is already running");for(V&&ce===1&&ie(ce,z),D=ce,T=z;(r=D<2?h:T)||!V;){M||(D?D<3?(D>1&&(he.n=-1),ie(D,T)):he.n=T:he.v=T);try{if(K=2,M){if(D||(re="next"),r=M[re]){if(!(r=r.call(M,T)))throw TypeError("iterator result is not an object");if(!r.done)return r;T=r.value,D<2&&(D=0)}else D===1&&(r=M.return)&&r.call(M),D<2&&(T=TypeError("The iterator does not provide a '"+re+"' method"),D=1);M=h}else if((r=(V=he.n<0)?T:b.call(k,he))!==s)break}catch(ae){M=h,D=1,T=ae}finally{K=1}}return{value:r,done:V}}})(O,A,x),!0),P}var s={};function d(){}function p(){}function g(){}r=Object.getPrototypeOf;var v=[][n]?r(r([][n]())):(a(r={},n,function(){return this}),r),E=g.prototype=d.prototype=Object.create(v);function _(O){return Object.setPrototypeOf?Object.setPrototypeOf(O,g):(O.__proto__=g,a(O,e,"GeneratorFunction")),O.prototype=Object.create(E),O}return p.prototype=g,a(E,"constructor",g),a(g,"constructor",p),p.displayName="GeneratorFunction",a(g,e,"GeneratorFunction"),a(E),a(E,e,"Generator"),a(E,n,function(){return this}),a(E,"toString",function(){return"[object Generator]"}),(c.exports=l=function(){return{w:i,m:_}},c.exports.__esModule=!0,c.exports.default=c.exports)()}c.exports=l,c.exports.__esModule=!0,c.exports.default=c.exports}),Fa=xe((f,c)=>{be(),we(),ve();var a=La(),l=Da();function h(r,t){function n(i,s,d,p){try{var g=r[i](s),v=g.value;return v instanceof a?t.resolve(v.v).then(function(E){n("next",E,d,p)},function(E){n("throw",E,d,p)}):t.resolve(v).then(function(E){g.value=E,d(g)},function(E){return n("throw",E,d,p)})}catch(E){p(E)}}var e;this.next||(l(h.prototype),l(h.prototype,typeof Symbol=="function"&&Symbol.asyncIterator||"@asyncIterator",function(){return this})),l(this,"_invoke",function(i,s,d){function p(){return new t(function(g,v){n(i,d,g,v)})}return e=e?e.then(p,p):p()},!0)}c.exports=h,c.exports.__esModule=!0,c.exports.default=c.exports}),$a=xe((f,c)=>{be(),we(),ve();var a=Wa(),l=Fa();function h(r,t,n,e,i){return new l(a().w(r,t,n,e),i||Promise)}c.exports=h,c.exports.__esModule=!0,c.exports.default=c.exports}),jc=xe((f,c)=>{be(),we(),ve();var a=$a();function l(h,r,t,n,e){var i=a(h,r,t,n,e);return i.next().then(function(s){return s.done?s.value:i.next()})}c.exports=l,c.exports.__esModule=!0,c.exports.default=c.exports}),Mc=xe((f,c)=>{be(),we(),ve();function a(l){var h=Object(l),r=[];for(var t in h)r.unshift(t);return function n(){for(;r.length;)if((t=r.pop())in h)return n.value=t,n.done=!1,n;return n.done=!0,n}}c.exports=a,c.exports.__esModule=!0,c.exports.default=c.exports}),Bc=xe((f,c)=>{be(),we(),ve();var a=sn().default;function l(h){if(h!=null){var r=h[typeof Symbol=="function"&&Symbol.iterator||"@@iterator"],t=0;if(r)return r.call(h);if(typeof h.next=="function")return h;if(!isNaN(h.length))return{next:function(){return h&&t>=h.length&&(h=void 0),{value:h&&h[t++],done:!h}}}}throw new TypeError(a(h)+" is not iterable")}c.exports=l,c.exports.__esModule=!0,c.exports.default=c.exports}),Nc=xe((f,c)=>{be(),we(),ve();var a=La(),l=Wa(),h=jc(),r=$a(),t=Fa(),n=Mc(),e=Bc();function i(){var s=l(),d=s.m(i),p=(Object.getPrototypeOf?Object.getPrototypeOf(d):d.__proto__).constructor;function g(_){var O=typeof _=="function"&&_.constructor;return!!O&&(O===p||(O.displayName||O.name)==="GeneratorFunction")}var v={throw:1,return:2,break:3,continue:3};function E(_){var O,y;return function(A){O||(O={stop:function(){return y(A.a,2)},catch:function(){return A.v},abrupt:function(x,w){return y(A.a,v[x],w)},delegateYield:function(x,w,P){return O.resultName=w,y(A.d,e(x),P)},finish:function(x){return y(A.f,x)}},y=function(x,w,P){A.p=O.prev,A.n=O.next;try{return x(w,P)}finally{O.next=A.n}}),O.resultName&&(O[O.resultName]=A.v,O.resultName=void 0),O.sent=A.v,O.next=A.n;try{return _.call(this,O)}finally{A.p=O.prev,A.n=O.next}}}return(c.exports=i=function(){return{wrap:function(_,O,y,A){return s.w(E(_),O,y,A&&A.reverse())},isGeneratorFunction:g,mark:s.m,awrap:function(_,O){return new a(_,O)},AsyncIterator:t,async:function(_,O,y,A,x){return(g(O)?r:h)(E(_),O,y,A,x)},keys:n,values:e}},c.exports.__esModule=!0,c.exports.default=c.exports)()}c.exports=i,c.exports.__esModule=!0,c.exports.default=c.exports}),Uc=xe((f,c)=>{be(),we(),ve();var a=Nc()();c.exports=a;try{regeneratorRuntime=a}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=a:Function("r","regeneratorRuntime = r")(a)}}),Lc=xe((f,c)=>{be(),we(),ve(),(function(a,l){typeof f=="object"&&typeof c<"u"?l(f,xc(),Cc(),Ua(),Rc(),Uc()):typeof define=="function"&&define.amd?define(["exports","@babel/runtime/helpers/defineProperty","@babel/runtime/helpers/slicedToArray","fast-unique-numbers","@babel/runtime/helpers/asyncToGenerator","@babel/runtime/regenerator"],l):(a=typeof globalThis<"u"?globalThis:a||self,l(a.brokerFactory={},a._defineProperty,a._slicedToArray,a.fastUniqueNumbers,a._asyncToGenerator,a._regeneratorRuntime))})(f,function(a,l,h,r,t,n){var e=function(y){return typeof y.start=="function"},i=new WeakMap;function s(y,A){var x=Object.keys(y);if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(y);A&&(w=w.filter(function(P){return Object.getOwnPropertyDescriptor(y,P).enumerable})),x.push.apply(x,w)}return x}function d(y){for(var A=1;A<arguments.length;A++){var x=arguments[A]!=null?arguments[A]:{};A%2?s(Object(x),!0).forEach(function(w){l(y,w,x[w])}):Object.getOwnPropertyDescriptors?Object.defineProperties(y,Object.getOwnPropertyDescriptors(x)):s(Object(x)).forEach(function(w){Object.defineProperty(y,w,Object.getOwnPropertyDescriptor(x,w))})}return y}var p=function(y){return d(d({},y),{},{connect:function(A){var x=A.call;return t(n.mark(function w(){var P,b,k,C;return n.wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return P=new MessageChannel,b=P.port1,k=P.port2,M.next=1,x("connect",{port:b},[b]);case 1:return C=M.sent,i.set(k,C),M.abrupt("return",k);case 2:case"end":return M.stop()}},w)}))},disconnect:function(A){var x=A.call;return(function(){var w=t(n.mark(function P(b){var k;return n.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:if(k=i.get(b),k!==void 0){C.next=1;break}throw new Error("The given port is not connected.");case 1:return C.next=2,x("disconnect",{portId:k});case 2:case"end":return C.stop()}},P)}));return function(P){return w.apply(this,arguments)}})()},isSupported:function(A){var x=A.call;return function(){return x("isSupported")}}})};function g(y,A){var x=Object.keys(y);if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(y);A&&(w=w.filter(function(P){return Object.getOwnPropertyDescriptor(y,P).enumerable})),x.push.apply(x,w)}return x}function v(y){for(var A=1;A<arguments.length;A++){var x=arguments[A]!=null?arguments[A]:{};A%2?g(Object(x),!0).forEach(function(w){l(y,w,x[w])}):Object.getOwnPropertyDescriptors?Object.defineProperties(y,Object.getOwnPropertyDescriptors(x)):g(Object(x)).forEach(function(w){Object.defineProperty(y,w,Object.getOwnPropertyDescriptor(x,w))})}return y}var E=new WeakMap,_=function(y){if(E.has(y))return E.get(y);var A=new Map;return E.set(y,A),A},O=function(y){var A=p(y);return function(x){var w=_(x);x.addEventListener("message",function(Y){var V=Y.data,he=V.id;if(he!==null&&w.has(he)){var ie=w.get(he),re=ie.reject,ce=ie.resolve;w.delete(he),V.error===void 0?ce(V.result):re(new Error(V.error.message))}}),e(x)&&x.start();for(var P=function(Y){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,he=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];return new Promise(function(ie,re){var ce=r.generateUniqueNumber(w);w.set(ce,{reject:re,resolve:ie}),V===null?x.postMessage({id:ce,method:Y},he):x.postMessage({id:ce,method:Y,params:V},he)})},b=function(Y,V){var he=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];x.postMessage({id:null,method:Y,params:V},he)},k={},C=0,M=Object.entries(A);C<M.length;C++){var D=h(M[C],2),T=D[0],K=D[1];k=v(v({},k),{},l({},T,K({call:P,notify:b})))}return v({},k)}};a.createBroker=O})}),Dc=xe((f,c)=>{be(),we(),ve(),(function(a,l){typeof f=="object"&&typeof c<"u"?l(f,sn(),Lc(),Ua()):typeof define=="function"&&define.amd?define(["exports","@babel/runtime/helpers/typeof","broker-factory","fast-unique-numbers"],l):(a=typeof globalThis<"u"?globalThis:a||self,l(a.workerTimersBroker={},a._typeof,a.brokerFactory,a.fastUniqueNumbers))})(f,function(a,l,h,r){var t=new Map([[0,null]]),n=new Map([[0,null]]),e=h.createBroker({clearInterval:function(s){var d=s.call;return function(p){l(t.get(p))==="symbol"&&(t.set(p,null),d("clear",{timerId:p,timerType:"interval"}).then(function(){t.delete(p)}))}},clearTimeout:function(s){var d=s.call;return function(p){l(n.get(p))==="symbol"&&(n.set(p,null),d("clear",{timerId:p,timerType:"timeout"}).then(function(){n.delete(p)}))}},setInterval:function(s){var d=s.call;return function(p){for(var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,v=arguments.length,E=new Array(v>2?v-2:0),_=2;_<v;_++)E[_-2]=arguments[_];var O=Symbol(),y=r.generateUniqueNumber(t);t.set(y,O);var A=function(){return d("set",{delay:g,now:performance.timeOrigin+performance.now(),timerId:y,timerType:"interval"}).then(function(){var x=t.get(y);if(x===void 0)throw new Error("The timer is in an undefined state.");x===O&&(p.apply(void 0,E),t.get(y)===O&&A())})};return A(),y}},setTimeout:function(s){var d=s.call;return function(p){for(var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,v=arguments.length,E=new Array(v>2?v-2:0),_=2;_<v;_++)E[_-2]=arguments[_];var O=Symbol(),y=r.generateUniqueNumber(n);return n.set(y,O),d("set",{delay:g,now:performance.timeOrigin+performance.now(),timerId:y,timerType:"timeout"}).then(function(){var A=n.get(y);if(A===void 0)throw new Error("The timer is in an undefined state.");A===O&&(n.delete(y),p.apply(void 0,E))}),y}}}),i=function(s){var d=new Worker(s);return e(d)};a.load=i,a.wrap=e})}),Wc=xe((f,c)=>{be(),we(),ve(),(function(a,l){typeof f=="object"&&typeof c<"u"?l(f,Dc()):typeof define=="function"&&define.amd?define(["exports","worker-timers-broker"],l):(a=typeof globalThis<"u"?globalThis:a||self,l(a.workerTimers={},a.workerTimersBroker))})(f,function(a,l){var h=function(d,p){var g=null;return function(){if(g!==null)return g;var v=new Blob([p],{type:"application/javascript; charset=utf-8"}),E=URL.createObjectURL(v);return g=d(E),setTimeout(function(){return URL.revokeObjectURL(E)}),g}},r=`(()=>{var e={45:(e,t,r)=>{var n=r(738).default;e.exports=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},79:e=>{e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n},e.exports.__esModule=!0,e.exports.default=e.exports},122:(e,t,r)=>{var n=r(79);e.exports=function(e,t){if(e){if("string"==typeof e)return n(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},156:e=>{e.exports=function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,u,a,i=[],s=!0,c=!1;try{if(u=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=u.call(r)).done)&&(i.push(n.value),i.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return i}},e.exports.__esModule=!0,e.exports.default=e.exports},172:e=>{e.exports=function(e,t){this.v=e,this.k=t},e.exports.__esModule=!0,e.exports.default=e.exports},293:e=>{function t(e,t,r,n,o,u,a){try{var i=e[u](a),s=i.value}catch(e){return void r(e)}i.done?t(s):Promise.resolve(s).then(n,o)}e.exports=function(e){return function(){var r=this,n=arguments;return new Promise((function(o,u){var a=e.apply(r,n);function i(e){t(a,o,u,i,s,"next",e)}function s(e){t(a,o,u,i,s,"throw",e)}i(void 0)}))}},e.exports.__esModule=!0,e.exports.default=e.exports},373:e=>{e.exports=function(e){var t=Object(e),r=[];for(var n in t)r.unshift(n);return function e(){for(;r.length;)if((n=r.pop())in t)return e.value=n,e.done=!1,e;return e.done=!0,e}},e.exports.__esModule=!0,e.exports.default=e.exports},389:function(e,t){!function(e){"use strict";var t=function(e){return function(t){var r=e(t);return t.add(r),r}},r=function(e){return function(t,r){return e.set(t,r),r}},n=void 0===Number.MAX_SAFE_INTEGER?9007199254740991:Number.MAX_SAFE_INTEGER,o=536870912,u=2*o,a=function(e,t){return function(r){var a=t.get(r),i=void 0===a?r.size:a<u?a+1:0;if(!r.has(i))return e(r,i);if(r.size<o){for(;r.has(i);)i=Math.floor(Math.random()*u);return e(r,i)}if(r.size>n)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;r.has(i);)i=Math.floor(Math.random()*n);return e(r,i)}},i=new WeakMap,s=r(i),c=a(s,i),f=t(c);e.addUniqueNumber=f,e.generateUniqueNumber=c}(t)},472:function(e,t,r){!function(e,t,r,n){"use strict";var o=function(e,t){return function(r){var o=t.get(r);if(void 0===o)return Promise.resolve(!1);var u=n(o,2),a=u[0],i=u[1];return e(a),t.delete(r),i(!1),Promise.resolve(!0)}},u=function(e,t){var r=function(n,o,u,a){var i=n-e.now();i>0?o.set(a,[t(r,i,n,o,u,a),u]):(o.delete(a),u(!0))};return r},a=function(e,t,r,n){return function(o,u,a){var i=o+u-t.timeOrigin,s=i-t.now();return new Promise((function(t){e.set(a,[r(n,s,i,e,t,a),t])}))}},i=new Map,s=o(globalThis.clearTimeout,i),c=new Map,f=o(globalThis.clearTimeout,c),l=u(performance,globalThis.setTimeout),p=a(i,performance,globalThis.setTimeout,l),d=a(c,performance,globalThis.setTimeout,l);r.createWorker(self,{clear:function(){var r=e(t.mark((function e(r){var n,o,u;return t.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.timerId,o=r.timerType,e.next=1,"interval"===o?s(n):f(n);case 1:return u=e.sent,e.abrupt("return",{result:u});case 2:case"end":return e.stop()}}),e)})));function n(e){return r.apply(this,arguments)}return n}(),set:function(){var r=e(t.mark((function e(r){var n,o,u,a,i;return t.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.delay,o=r.now,u=r.timerId,a=r.timerType,e.next=1,("interval"===a?p:d)(n,o,u);case 1:return i=e.sent,e.abrupt("return",{result:i});case 2:case"end":return e.stop()}}),e)})));function n(e){return r.apply(this,arguments)}return n}()})}(r(293),r(756),r(623),r(715))},546:e=>{function t(r,n,o,u){var a=Object.defineProperty;try{a({},"",{})}catch(r){a=0}e.exports=t=function(e,r,n,o){if(r)a?a(e,r,{value:n,enumerable:!o,configurable:!o,writable:!o}):e[r]=n;else{var u=function(r,n){t(e,r,(function(e){return this._invoke(r,n,e)}))};u("next",0),u("throw",1),u("return",2)}},e.exports.__esModule=!0,e.exports.default=e.exports,t(r,n,o,u)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},579:(e,t,r)=>{var n=r(738).default;e.exports=function(e){if(null!=e){var t=e["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],r=0;if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}}throw new TypeError(n(e)+" is not iterable")},e.exports.__esModule=!0,e.exports.default=e.exports},623:function(e,t,r){!function(e,t,r,n,o){"use strict";var u={INTERNAL_ERROR:-32603,INVALID_PARAMS:-32602,METHOD_NOT_FOUND:-32601},a=function(e,t){return Object.assign(new Error(e),{status:t})},i=function(e){return a('The requested method called "'.concat(e,'" is not supported.'),u.METHOD_NOT_FOUND)},s=function(e){return a('The handler of the method called "'.concat(e,'" returned no required result.'),u.INTERNAL_ERROR)},c=function(e){return a('The handler of the method called "'.concat(e,'" returned an unexpected result.'),u.INTERNAL_ERROR)},f=function(e){return a('The specified parameter called "portId" with the given value "'.concat(e,'" does not identify a port connected to this worker.'),u.INVALID_PARAMS)},l=function(e,n){return function(){var o=t(r.mark((function t(o){var u,a,f,l,p,d,v,x,y,b,h,m,_,g,w;return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(u=o.data,a=u.id,f=u.method,l=u.params,p=n[f],t.prev=1,void 0!==p){t.next=2;break}throw i(f);case 2:if(void 0!==(d=void 0===l?p():p(l))){t.next=3;break}throw s(f);case 3:if(!(d instanceof Promise)){t.next=5;break}return t.next=4,d;case 4:g=t.sent,t.next=6;break;case 5:g=d;case 6:if(v=g,null!==a){t.next=8;break}if(void 0===v.result){t.next=7;break}throw c(f);case 7:t.next=10;break;case 8:if(void 0!==v.result){t.next=9;break}throw c(f);case 9:x=v.result,y=v.transferables,b=void 0===y?[]:y,e.postMessage({id:a,result:x},b);case 10:t.next=12;break;case 11:t.prev=11,w=t.catch(1),h=w.message,m=w.status,_=void 0===m?-32603:m,e.postMessage({error:{code:_,message:h},id:a});case 12:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return o.apply(this,arguments)}}()},p=function(){return new Promise((function(e){var t=new ArrayBuffer(0),r=new MessageChannel,n=r.port1,o=r.port2;n.onmessage=function(t){var r=t.data;return e(null!==r)},o.postMessage(t,[t])}))};function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var x=new Map,y=function(e,n,u){return v(v({},n),{},{connect:function(t){var r=t.port;r.start();var u=e(r,n),a=o.generateUniqueNumber(x);return x.set(a,(function(){u(),r.close(),x.delete(a)})),{result:a}},disconnect:function(e){var t=e.portId,r=x.get(t);if(void 0===r)throw f(t);return r(),{result:null}},isSupported:function(){var e=t(r.mark((function e(){var t,n,o;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=1,p();case 1:if(!e.sent){e.next=5;break}if(!((t=u())instanceof Promise)){e.next=3;break}return e.next=2,t;case 2:o=e.sent,e.next=4;break;case 3:o=t;case 4:return n=o,e.abrupt("return",{result:n});case 5:return e.abrupt("return",{result:!1});case 6:case"end":return e.stop()}}),e)})));function n(){return e.apply(this,arguments)}return n}()})},b=function(e,t){var r=y(b,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return!0}),n=l(e,r);return e.addEventListener("message",n),function(){return e.removeEventListener("message",n)}};e.createWorker=b,e.isSupported=p}(t,r(293),r(756),r(693),r(389))},633:(e,t,r)=>{var n=r(172),o=r(993),u=r(869),a=r(887),i=r(791),s=r(373),c=r(579);function f(){"use strict";var t=o(),r=t.m(f),l=(Object.getPrototypeOf?Object.getPrototypeOf(r):r.__proto__).constructor;function p(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===l||"GeneratorFunction"===(t.displayName||t.name))}var d={throw:1,return:2,break:3,continue:3};function v(e){var t,r;return function(n){t||(t={stop:function(){return r(n.a,2)},catch:function(){return n.v},abrupt:function(e,t){return r(n.a,d[e],t)},delegateYield:function(e,o,u){return t.resultName=o,r(n.d,c(e),u)},finish:function(e){return r(n.f,e)}},r=function(e,r,o){n.p=t.prev,n.n=t.next;try{return e(r,o)}finally{t.next=n.n}}),t.resultName&&(t[t.resultName]=n.v,t.resultName=void 0),t.sent=n.v,t.next=n.n;try{return e.call(this,t)}finally{n.p=t.prev,n.n=t.next}}}return(e.exports=f=function(){return{wrap:function(e,r,n,o){return t.w(v(e),r,n,o&&o.reverse())},isGeneratorFunction:p,mark:t.m,awrap:function(e,t){return new n(e,t)},AsyncIterator:i,async:function(e,t,r,n,o){return(p(t)?a:u)(v(e),t,r,n,o)},keys:s,values:c}},e.exports.__esModule=!0,e.exports.default=e.exports)()}e.exports=f,e.exports.__esModule=!0,e.exports.default=e.exports},693:(e,t,r)=>{var n=r(736);e.exports=function(e,t,r){return(t=n(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},e.exports.__esModule=!0,e.exports.default=e.exports},715:(e,t,r)=>{var n=r(987),o=r(156),u=r(122),a=r(752);e.exports=function(e,t){return n(e)||o(e,t)||u(e,t)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},736:(e,t,r)=>{var n=r(738).default,o=r(45);e.exports=function(e){var t=o(e,"string");return"symbol"==n(t)?t:t+""},e.exports.__esModule=!0,e.exports.default=e.exports},738:e=>{function t(r){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},752:e=>{e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},756:(e,t,r)=>{var n=r(633)();e.exports=n;try{regeneratorRuntime=n}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=n:Function("r","regeneratorRuntime = r")(n)}},791:(e,t,r)=>{var n=r(172),o=r(546);e.exports=function e(t,r){function u(e,o,a,i){try{var s=t[e](o),c=s.value;return c instanceof n?r.resolve(c.v).then((function(e){u("next",e,a,i)}),(function(e){u("throw",e,a,i)})):r.resolve(c).then((function(e){s.value=e,a(s)}),(function(e){return u("throw",e,a,i)}))}catch(e){i(e)}}var a;this.next||(o(e.prototype),o(e.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",(function(){return this}))),o(this,"_invoke",(function(e,t,n){function o(){return new r((function(t,r){u(e,n,t,r)}))}return a=a?a.then(o,o):o()}),!0)},e.exports.__esModule=!0,e.exports.default=e.exports},869:(e,t,r)=>{var n=r(887);e.exports=function(e,t,r,o,u){var a=n(e,t,r,o,u);return a.next().then((function(e){return e.done?e.value:a.next()}))},e.exports.__esModule=!0,e.exports.default=e.exports},887:(e,t,r)=>{var n=r(993),o=r(791);e.exports=function(e,t,r,u,a){return new o(n().w(e,t,r,u),a||Promise)},e.exports.__esModule=!0,e.exports.default=e.exports},987:e=>{e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},993:(e,t,r)=>{var n=r(546);function o(){var t,r,u="function"==typeof Symbol?Symbol:{},a=u.iterator||"@@iterator",i=u.toStringTag||"@@toStringTag";function s(e,o,u,a){var i=o&&o.prototype instanceof f?o:f,s=Object.create(i.prototype);return n(s,"_invoke",function(e,n,o){var u,a,i,s=0,f=o||[],l=!1,p={p:0,n:0,v:t,a:d,f:d.bind(t,4),d:function(e,r){return u=e,a=0,i=t,p.n=r,c}};function d(e,n){for(a=e,i=n,r=0;!l&&s&&!o&&r<f.length;r++){var o,u=f[r],d=p.p,v=u[2];e>3?(o=v===n)&&(i=u[(a=u[4])?5:(a=3,3)],u[4]=u[5]=t):u[0]<=d&&((o=e<2&&d<u[1])?(a=0,p.v=n,p.n=u[1]):d<v&&(o=e<3||u[0]>n||n>v)&&(u[4]=e,u[5]=n,p.n=v,a=0))}if(o||e>1)return c;throw l=!0,n}return function(o,f,v){if(s>1)throw TypeError("Generator is already running");for(l&&1===f&&d(f,v),a=f,i=v;(r=a<2?t:i)||!l;){u||(a?a<3?(a>1&&(p.n=-1),d(a,i)):p.n=i:p.v=i);try{if(s=2,u){if(a||(o="next"),r=u[o]){if(!(r=r.call(u,i)))throw TypeError("iterator result is not an object");if(!r.done)return r;i=r.value,a<2&&(a=0)}else 1===a&&(r=u.return)&&r.call(u),a<2&&(i=TypeError("The iterator does not provide a '"+o+"' method"),a=1);u=t}else if((r=(l=p.n<0)?i:e.call(n,p))!==c)break}catch(e){u=t,a=1,i=e}finally{s=1}}return{value:r,done:l}}}(e,u,a),!0),s}var c={};function f(){}function l(){}function p(){}r=Object.getPrototypeOf;var d=[][a]?r(r([][a]())):(n(r={},a,(function(){return this})),r),v=p.prototype=f.prototype=Object.create(d);function x(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,n(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e}return l.prototype=p,n(v,"constructor",p),n(p,"constructor",l),l.displayName="GeneratorFunction",n(p,i,"GeneratorFunction"),n(v),n(v,i,"Generator"),n(v,a,(function(){return this})),n(v,"toString",(function(){return"[object Generator]"})),(e.exports=o=function(){return{w:s,m:x}},e.exports.__esModule=!0,e.exports.default=e.exports)()}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var u=t[n]={exports:{}};return e[n].call(u.exports,u,u.exports,r),u.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";r(472)})()})();`,t=h(l.load,r),n=function(d){return t().clearInterval(d)},e=function(d){return t().clearTimeout(d)},i=function(){var d;return(d=t()).setInterval.apply(d,arguments)},s=function(){var d;return(d=t()).setTimeout.apply(d,arguments)};a.clearInterval=n,a.clearTimeout=e,a.setInterval=i,a.setTimeout=s})}),an=xe(f=>{be(),we(),ve(),Object.defineProperty(f,"__esModule",{value:!0}),f.isReactNativeBrowser=f.isWebWorker=void 0;var c=()=>typeof window<"u"?typeof navigator<"u"&&navigator.userAgent?.toLowerCase().indexOf(" electron/")>-1&&Qe?.versions?!Object.prototype.hasOwnProperty.call(Qe.versions,"electron"):typeof window.document<"u":!1,a=()=>!!(typeof self=="object"&&self?.constructor?.name?.includes("WorkerGlobalScope")),l=()=>typeof navigator<"u"&&navigator.product==="ReactNative",h=c()||a()||l();f.isWebWorker=a(),f.isReactNativeBrowser=l(),f.default=h}),Fc=xe(f=>{be(),we(),ve();var c=f&&f.__createBinding||(Object.create?function(i,s,d,p){p===void 0&&(p=d);var g=Object.getOwnPropertyDescriptor(s,d);(!g||("get"in g?!s.__esModule:g.writable||g.configurable))&&(g={enumerable:!0,get:function(){return s[d]}}),Object.defineProperty(i,p,g)}:function(i,s,d,p){p===void 0&&(p=d),i[p]=s[d]}),a=f&&f.__setModuleDefault||(Object.create?function(i,s){Object.defineProperty(i,"default",{enumerable:!0,value:s})}:function(i,s){i.default=s}),l=f&&f.__importStar||(function(){var i=function(s){return i=Object.getOwnPropertyNames||function(d){var p=[];for(var g in d)Object.prototype.hasOwnProperty.call(d,g)&&(p[p.length]=g);return p},i(s)};return function(s){if(s&&s.__esModule)return s;var d={};if(s!=null)for(var p=i(s),g=0;g<p.length;g++)p[g]!=="default"&&c(d,s,p[g]);return a(d,s),d}})();Object.defineProperty(f,"__esModule",{value:!0});var h=Wc(),r=l(an()),t={set:h.setInterval,clear:h.clearInterval},n={set:(i,s)=>setInterval(i,s),clear:i=>clearInterval(i)},e=i=>{switch(i){case"native":return n;case"worker":return t;case"auto":default:return r.default&&!r.isWebWorker&&!r.isReactNativeBrowser?t:n}};f.default=e}),qa=xe(f=>{be(),we(),ve();var c=f&&f.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(f,"__esModule",{value:!0});var a=c(Fc()),l=class{_keepalive;timerId;timer;destroyed=!1;counter;client;_keepaliveTimeoutTimestamp;_intervalEvery;get keepaliveTimeoutTimestamp(){return this._keepaliveTimeoutTimestamp}get intervalEvery(){return this._intervalEvery}get keepalive(){return this._keepalive}constructor(h,r){this.client=h,this.timer=typeof r=="object"&&"set"in r&&"clear"in r?r:(0,a.default)(r),this.setKeepalive(h.options.keepalive)}clear(){this.timerId&&(this.timer.clear(this.timerId),this.timerId=null)}setKeepalive(h){if(h*=1e3,isNaN(h)||h<=0||h>2147483647)throw new Error(`Keepalive value must be an integer between 0 and 2147483647. Provided value is ${h}`);this._keepalive=h,this.reschedule(),this.client.log(`KeepaliveManager: set keepalive to ${h}ms`)}destroy(){this.clear(),this.destroyed=!0}reschedule(){if(this.destroyed)return;this.clear(),this.counter=0;let h=Math.ceil(this._keepalive*1.5);this._keepaliveTimeoutTimestamp=Date.now()+h,this._intervalEvery=Math.ceil(this._keepalive/2),this.timerId=this.timer.set(()=>{this.destroyed||(this.counter+=1,this.counter===2?this.client.sendPing():this.counter>2&&this.client.onKeepaliveTimeout())},this._intervalEvery)}};f.default=l}),xi=xe(f=>{var w;be(),we(),ve();var c=f&&f.__createBinding||(Object.create?function(P,b,k,C){C===void 0&&(C=k);var M=Object.getOwnPropertyDescriptor(b,k);(!M||("get"in M?!b.__esModule:M.writable||M.configurable))&&(M={enumerable:!0,get:function(){return b[k]}}),Object.defineProperty(P,C,M)}:function(P,b,k,C){C===void 0&&(C=k),P[C]=b[k]}),a=f&&f.__setModuleDefault||(Object.create?function(P,b){Object.defineProperty(P,"default",{enumerable:!0,value:b})}:function(P,b){P.default=b}),l=f&&f.__importStar||(function(){var P=function(b){return P=Object.getOwnPropertyNames||function(k){var C=[];for(var M in k)Object.prototype.hasOwnProperty.call(k,M)&&(C[C.length]=M);return C},P(b)};return function(b){if(b&&b.__esModule)return b;var k={};if(b!=null)for(var C=P(b),M=0;M<C.length;M++)C[M]!=="default"&&c(k,b,C[M]);return a(k,b),k}})(),h=f&&f.__importDefault||function(P){return P&&P.__esModule?P:{default:P}};Object.defineProperty(f,"__esModule",{value:!0});var r=h(Yu()),t=ir(),n=h(Xu()),e=h(Mt()),i=l(Zu()),s=h(va()),d=h(wc()),p=h(Na()),g=h(_c()),v=hr(),E=Sc(),_=h(qa()),O=l(an()),y=globalThis.setImmediate||((...P)=>{let b=P.shift();(0,v.nextTick)(()=>{b(...P)})}),A={keepalive:60,reschedulePings:!0,protocolId:"MQTT",protocolVersion:4,reconnectPeriod:1e3,connectTimeout:30*1e3,clean:!0,resubscribe:!0,subscribeBatchSize:null,writeCache:!0,timerVariant:"auto"},x=(w=class extends E.TypedEventEmitter{connected;disconnecting;disconnected;reconnecting;incomingStore;outgoingStore;options;queueQoSZero;_reconnectCount;log;messageIdProvider;outgoing;messageIdToTopic;noop;keepaliveManager;stream;queue;streamBuilder;_resubscribeTopics;connackTimer;reconnectTimer;_storeProcessing;_packetIdsDuringStoreProcessing;_storeProcessingQueue;_firstConnection;topicAliasRecv;topicAliasSend;_deferredReconnect;connackPacket;static defaultId(){return`mqttjs_${Math.random().toString(16).substr(2,8)}`}constructor(b,k){super(),this.options=k||{};for(let C in A)typeof this.options[C]>"u"?this.options[C]=A[C]:this.options[C]=k[C];this.log=this.options.log||(0,e.default)("mqttjs:client"),this.noop=this._noop.bind(this),this.log("MqttClient :: version:",w.VERSION),O.isWebWorker?this.log("MqttClient :: environment","webworker"):this.log("MqttClient :: environment",O.default?"browser":"node"),this.log("MqttClient :: options.protocol",k.protocol),this.log("MqttClient :: options.protocolVersion",k.protocolVersion),this.log("MqttClient :: options.username",k.username),this.log("MqttClient :: options.keepalive",k.keepalive),this.log("MqttClient :: options.reconnectPeriod",k.reconnectPeriod),this.log("MqttClient :: options.rejectUnauthorized",k.rejectUnauthorized),this.log("MqttClient :: options.properties.topicAliasMaximum",k.properties?k.properties.topicAliasMaximum:void 0),this.options.clientId=typeof k.clientId=="string"?k.clientId:w.defaultId(),this.log("MqttClient :: clientId",this.options.clientId),this.options.customHandleAcks=k.protocolVersion===5&&k.customHandleAcks?k.customHandleAcks:(...C)=>{C[3](null,0)},this.options.writeCache||(r.default.writeToStream.cacheNumbers=!1),this.streamBuilder=b,this.messageIdProvider=typeof this.options.messageIdProvider>"u"?new p.default:this.options.messageIdProvider,this.outgoingStore=k.outgoingStore||new s.default,this.incomingStore=k.incomingStore||new s.default,this.queueQoSZero=k.queueQoSZero===void 0?!0:k.queueQoSZero,this._resubscribeTopics={},this.messageIdToTopic={},this.keepaliveManager=null,this.connected=!1,this.disconnecting=!1,this.reconnecting=!1,this.queue=[],this.connackTimer=null,this.reconnectTimer=null,this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={},this._storeProcessingQueue=[],this.outgoing={},this._firstConnection=!0,k.properties&&k.properties.topicAliasMaximum>0&&(k.properties.topicAliasMaximum>65535?this.log("MqttClient :: options.properties.topicAliasMaximum is out of range"):this.topicAliasRecv=new g.default(k.properties.topicAliasMaximum)),this.on("connect",()=>{let{queue:C}=this,M=()=>{let D=C.shift();this.log("deliver :: entry %o",D);let T=null;if(!D){this._resubscribe();return}T=D.packet,this.log("deliver :: call _sendPacket for %o",T);let K=!0;T.messageId&&T.messageId!==0&&(this.messageIdProvider.register(T.messageId)||(K=!1)),K?this._sendPacket(T,Y=>{D.cb&&D.cb(Y),M()}):(this.log("messageId: %d has already used. The message is skipped and removed.",T.messageId),M())};this.log("connect :: sending queued packets"),M()}),this.on("close",()=>{this.log("close :: connected set to `false`"),this.connected=!1,this.log("close :: clearing connackTimer"),clearTimeout(this.connackTimer),this._destroyKeepaliveManager(),this.topicAliasRecv&&this.topicAliasRecv.clear(),this.log("close :: calling _setupReconnect"),this._setupReconnect()}),this.options.manualConnect||(this.log("MqttClient :: setting up stream"),this.connect())}handleAuth(b,k){k()}handleMessage(b,k){k()}_nextId(){return this.messageIdProvider.allocate()}getLastMessageId(){return this.messageIdProvider.getLastAllocated()}connect(){let b=new t.Writable,k=r.default.parser(this.options),C=null,M=[];this.log("connect :: calling method to clear reconnect"),this._clearReconnect(),this.disconnected&&!this.reconnecting&&(this.incomingStore=this.options.incomingStore||new s.default,this.outgoingStore=this.options.outgoingStore||new s.default,this.disconnecting=!1,this.disconnected=!1),this.log("connect :: using streamBuilder provided to client to create stream"),this.stream=this.streamBuilder(this),k.on("packet",V=>{this.log("parser :: on packet push to packets array."),M.push(V)});let D=()=>{this.log("work :: getting next packet in queue");let V=M.shift();if(V)this.log("work :: packet pulled from queue"),(0,d.default)(this,V,T);else{this.log("work :: no packets in queue");let he=C;C=null,this.log("work :: done flag is %s",!!he),he&&he()}},T=()=>{if(M.length)(0,v.nextTick)(D);else{let V=C;C=null,V()}};b._write=(V,he,ie)=>{C=ie,this.log("writable stream :: parsing buffer"),k.parse(V),D()};let K=V=>{this.log("streamErrorHandler :: error",V.message),V.code?(this.log("streamErrorHandler :: emitting error"),this.emit("error",V)):this.noop(V)};this.log("connect :: pipe stream to writable stream"),this.stream.pipe(b),this.stream.on("error",K),this.stream.on("close",()=>{this.log("(%s)stream :: on close",this.options.clientId),this._flushVolatile(),this.log("stream: emit close to MqttClient"),this.emit("close")}),this.log("connect: sending packet `connect`");let Y={cmd:"connect",protocolId:this.options.protocolId,protocolVersion:this.options.protocolVersion,clean:this.options.clean,clientId:this.options.clientId,keepalive:this.options.keepalive,username:this.options.username,password:this.options.password,properties:this.options.properties};if(this.options.will&&(Y.will={...this.options.will,payload:this.options.will?.payload}),this.topicAliasRecv&&(Y.properties||(Y.properties={}),this.topicAliasRecv&&(Y.properties.topicAliasMaximum=this.topicAliasRecv.max)),this._writePacket(Y),k.on("error",this.emit.bind(this,"error")),this.options.properties){if(!this.options.properties.authenticationMethod&&this.options.properties.authenticationData)return this.end(()=>this.emit("error",new Error("Packet has no Authentication Method"))),this;if(this.options.properties.authenticationMethod&&this.options.authPacket&&typeof this.options.authPacket=="object"){let V={cmd:"auth",reasonCode:0,...this.options.authPacket};this._writePacket(V)}}return this.stream.setMaxListeners(1e3),clearTimeout(this.connackTimer),this.connackTimer=setTimeout(()=>{this.log("!!connectTimeout hit!! Calling _cleanUp with force `true`"),this.emit("error",new Error("connack timeout")),this._cleanUp(!0)},this.options.connectTimeout),this}publish(b,k,C,M){this.log("publish :: message `%s` to topic `%s`",k,b);let{options:D}=this;typeof C=="function"&&(M=C,C=null),C=C||{},C={qos:0,retain:!1,dup:!1,...C};let{qos:T,retain:K,dup:Y,properties:V,cbStorePut:he}=C;if(this._checkDisconnecting(M))return this;let ie=()=>{let re=0;if((T===1||T===2)&&(re=this._nextId(),re===null))return this.log("No messageId left"),!1;let ce={cmd:"publish",topic:b,payload:k,qos:T,retain:K,messageId:re,dup:Y};switch(D.protocolVersion===5&&(ce.properties=V),this.log("publish :: qos",T),T){case 1:case 2:this.outgoing[ce.messageId]={volatile:!1,cb:M||this.noop},this.log("MqttClient:publish: packet cmd: %s",ce.cmd),this._sendPacket(ce,void 0,he);break;default:this.log("MqttClient:publish: packet cmd: %s",ce.cmd),this._sendPacket(ce,M,he);break}return!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!ie())&&this._storeProcessingQueue.push({invoke:ie,cbStorePut:C.cbStorePut,callback:M}),this}publishAsync(b,k,C){return new Promise((M,D)=>{this.publish(b,k,C,(T,K)=>{T?D(T):M(K)})})}subscribe(b,k,C){let M=this.options.protocolVersion;typeof k=="function"&&(C=k),C=C||this.noop;let D=!1,T=[];typeof b=="string"?(b=[b],T=b):Array.isArray(b)?T=b:typeof b=="object"&&(D=b.resubscribe,delete b.resubscribe,T=Object.keys(b));let K=i.validateTopics(T);if(K!==null)return y(C,new Error(`Invalid topic ${K}`)),this;if(this._checkDisconnecting(C))return this.log("subscribe: discconecting true"),this;let Y={qos:0};M===5&&(Y.nl=!1,Y.rap=!1,Y.rh=0),k={...Y,...k};let{properties:V}=k,he=[],ie=(z,ae)=>{if(ae=ae||k,!Object.prototype.hasOwnProperty.call(this._resubscribeTopics,z)||this._resubscribeTopics[z].qos<ae.qos||D){let B={topic:z,qos:ae.qos};M===5&&(B.nl=ae.nl,B.rap=ae.rap,B.rh=ae.rh,B.properties=V),this.log("subscribe: pushing topic `%s` and qos `%s` to subs list",B.topic,B.qos),he.push(B)}};if(Array.isArray(b)?b.forEach(z=>{this.log("subscribe: array topic %s",z),ie(z)}):Object.keys(b).forEach(z=>{this.log("subscribe: object topic %s, %o",z,b[z]),ie(z,b[z])}),!he.length)return C(null,[]),this;let re=(z,ae)=>{let B={cmd:"subscribe",subscriptions:z,messageId:ae};if(V&&(B.properties=V),this.options.resubscribe){this.log("subscribe :: resubscribe true");let Z=[];z.forEach(ue=>{if(this.options.reconnectPeriod>0){let Ie={qos:ue.qos};M===5&&(Ie.nl=ue.nl||!1,Ie.rap=ue.rap||!1,Ie.rh=ue.rh||0,Ie.properties=ue.properties),this._resubscribeTopics[ue.topic]=Ie,Z.push(ue.topic)}}),this.messageIdToTopic[B.messageId]=Z}let te=new Promise((Z,ue)=>{this.outgoing[B.messageId]={volatile:!0,cb(Ie,J){if(!Ie){let{granted:$}=J;for(let se=0;se<$.length;se+=1)z[se].qos=$[se]}Ie?ue(new v.ErrorWithSubackPacket(Ie.message,J)):Z(J)}}});return this.log("subscribe :: call _sendPacket"),this._sendPacket(B),te},ce=()=>{let z=this.options.subscribeBatchSize??he.length,ae=[];for(let B=0;B<he.length;B+=z){let te=he.slice(B,B+z),Z=this._nextId();if(Z===null)return this.log("No messageId left"),!1;ae.push(re(te,Z))}return Promise.all(ae).then(B=>{C(null,he,B.at(-1))}).catch(B=>{C(B,he,B.packet)}),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!ce())&&this._storeProcessingQueue.push({invoke:ce,callback:C}),this}subscribeAsync(b,k){return new Promise((C,M)=>{this.subscribe(b,k,(D,T)=>{D?M(D):C(T)})})}unsubscribe(b,k,C){typeof b=="string"&&(b=[b]),typeof k=="function"&&(C=k),C=C||this.noop;let M=i.validateTopics(b);if(M!==null)return y(C,new Error(`Invalid topic ${M}`)),this;if(this._checkDisconnecting(C))return this;let D=()=>{let T=this._nextId();if(T===null)return this.log("No messageId left"),!1;let K={cmd:"unsubscribe",messageId:T,unsubscriptions:[]};return typeof b=="string"?K.unsubscriptions=[b]:Array.isArray(b)&&(K.unsubscriptions=b),this.options.resubscribe&&K.unsubscriptions.forEach(Y=>{delete this._resubscribeTopics[Y]}),typeof k=="object"&&k.properties&&(K.properties=k.properties),this.outgoing[K.messageId]={volatile:!0,cb:C},this.log("unsubscribe: call _sendPacket"),this._sendPacket(K),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!D())&&this._storeProcessingQueue.push({invoke:D,callback:C}),this}unsubscribeAsync(b,k){return new Promise((C,M)=>{this.unsubscribe(b,k,(D,T)=>{D?M(D):C(T)})})}end(b,k,C){this.log("end :: (%s)",this.options.clientId),(b==null||typeof b!="boolean")&&(C=C||k,k=b,b=!1),typeof k!="object"&&(C=C||k,k=null),this.log("end :: cb? %s",!!C),(!C||typeof C!="function")&&(C=this.noop);let M=()=>{this.log("end :: closeStores: closing incoming and outgoing stores"),this.disconnected=!0,this.incomingStore.close(T=>{this.outgoingStore.close(K=>{if(this.log("end :: closeStores: emitting end"),this.emit("end"),C){let Y=T||K;this.log("end :: closeStores: invoking callback with args"),C(Y)}})}),this._deferredReconnect?this._deferredReconnect():(this.options.reconnectPeriod===0||this.options.manualConnect)&&(this.disconnecting=!1)},D=()=>{this.log("end :: (%s) :: finish :: calling _cleanUp with force %s",this.options.clientId,b),this._cleanUp(b,()=>{this.log("end :: finish :: calling process.nextTick on closeStores"),(0,v.nextTick)(M)},k)};return this.disconnecting?(C(),this):(this._clearReconnect(),this.disconnecting=!0,!b&&Object.keys(this.outgoing).length>0?(this.log("end :: (%s) :: calling finish in 10ms once outgoing is empty",this.options.clientId),this.once("outgoingEmpty",setTimeout.bind(null,D,10))):(this.log("end :: (%s) :: immediately calling finish",this.options.clientId),D()),this)}endAsync(b,k){return new Promise((C,M)=>{this.end(b,k,D=>{D?M(D):C()})})}removeOutgoingMessage(b){if(this.outgoing[b]){let{cb:k}=this.outgoing[b];this._removeOutgoingAndStoreMessage(b,()=>{k(new Error("Message removed"))})}return this}reconnect(b){this.log("client reconnect");let k=()=>{b?(this.options.incomingStore=b.incomingStore,this.options.outgoingStore=b.outgoingStore):(this.options.incomingStore=null,this.options.outgoingStore=null),this.incomingStore=this.options.incomingStore||new s.default,this.outgoingStore=this.options.outgoingStore||new s.default,this.disconnecting=!1,this.disconnected=!1,this._deferredReconnect=null,this._reconnect()};return this.disconnecting&&!this.disconnected?this._deferredReconnect=k:k(),this}_flushVolatile(){this.outgoing&&(this.log("_flushVolatile :: deleting volatile messages from the queue and setting their callbacks as error function"),Object.keys(this.outgoing).forEach(b=>{this.outgoing[b].volatile&&typeof this.outgoing[b].cb=="function"&&(this.outgoing[b].cb(new Error("Connection closed")),delete this.outgoing[b])}))}_flush(){this.outgoing&&(this.log("_flush: queue exists? %b",!!this.outgoing),Object.keys(this.outgoing).forEach(b=>{typeof this.outgoing[b].cb=="function"&&(this.outgoing[b].cb(new Error("Connection closed")),delete this.outgoing[b])}))}_removeTopicAliasAndRecoverTopicName(b){let k;b.properties&&(k=b.properties.topicAlias);let C=b.topic.toString();if(this.log("_removeTopicAliasAndRecoverTopicName :: alias %d, topic %o",k,C),C.length===0){if(typeof k>"u")return new Error("Unregistered Topic Alias");if(C=this.topicAliasSend.getTopicByAlias(k),typeof C>"u")return new Error("Unregistered Topic Alias");b.topic=C}k&&delete b.properties.topicAlias}_checkDisconnecting(b){return this.disconnecting&&(b&&b!==this.noop?b(new Error("client disconnecting")):this.emit("error",new Error("client disconnecting"))),this.disconnecting}_reconnect(){this.log("_reconnect: emitting reconnect to client"),this.emit("reconnect"),this.connected?(this.end(()=>{this.connect()}),this.log("client already connected. disconnecting first.")):(this.log("_reconnect: calling connect"),this.connect())}_setupReconnect(){!this.disconnecting&&!this.reconnectTimer&&this.options.reconnectPeriod>0?(this.reconnecting||(this.log("_setupReconnect :: emit `offline` state"),this.emit("offline"),this.log("_setupReconnect :: set `reconnecting` to `true`"),this.reconnecting=!0),this.log("_setupReconnect :: setting reconnectTimer for %d ms",this.options.reconnectPeriod),this.reconnectTimer=setInterval(()=>{this.log("reconnectTimer :: reconnect triggered!"),this._reconnect()},this.options.reconnectPeriod)):this.log("_setupReconnect :: doing nothing...")}_clearReconnect(){this.log("_clearReconnect : clearing reconnect timer"),this.reconnectTimer&&(clearInterval(this.reconnectTimer),this.reconnectTimer=null)}_cleanUp(b,k,C={}){if(k&&(this.log("_cleanUp :: done callback provided for on stream close"),this.stream.on("close",k)),this.log("_cleanUp :: forced? %s",b),b)this.options.reconnectPeriod===0&&this.options.clean&&this._flush(),this.log("_cleanUp :: (%s) :: destroying stream",this.options.clientId),this.stream.destroy();else{let M={cmd:"disconnect",...C};this.log("_cleanUp :: (%s) :: call _sendPacket with disconnect packet",this.options.clientId),this._sendPacket(M,()=>{this.log("_cleanUp :: (%s) :: destroying stream",this.options.clientId),y(()=>{this.stream.end(()=>{this.log("_cleanUp :: (%s) :: stream destroyed",this.options.clientId)})})})}!this.disconnecting&&!this.reconnecting&&(this.log("_cleanUp :: client not disconnecting/reconnecting. Clearing and resetting reconnect."),this._clearReconnect(),this._setupReconnect()),this._destroyKeepaliveManager(),k&&!this.connected&&(this.log("_cleanUp :: (%s) :: removing stream `done` callback `close` listener",this.options.clientId),this.stream.removeListener("close",k),k())}_storeAndSend(b,k,C){this.log("storeAndSend :: store packet with cmd %s to outgoingStore",b.cmd);let M=b,D;if(M.cmd==="publish"&&(M=(0,n.default)(b),D=this._removeTopicAliasAndRecoverTopicName(M),D))return k&&k(D);this.outgoingStore.put(M,T=>{if(T)return k&&k(T);C(),this._writePacket(b,k)})}_applyTopicAlias(b){if(this.options.protocolVersion===5&&b.cmd==="publish"){let k;b.properties&&(k=b.properties.topicAlias);let C=b.topic.toString();if(this.topicAliasSend)if(k){if(C.length!==0&&(this.log("applyTopicAlias :: register topic: %s - alias: %d",C,k),!this.topicAliasSend.put(C,k)))return this.log("applyTopicAlias :: error out of range. topic: %s - alias: %d",C,k),new Error("Sending Topic Alias out of range")}else C.length!==0&&(this.options.autoAssignTopicAlias?(k=this.topicAliasSend.getAliasByTopic(C),k?(b.topic="",b.properties={...b.properties,topicAlias:k},this.log("applyTopicAlias :: auto assign(use) topic: %s - alias: %d",C,k)):(k=this.topicAliasSend.getLruAlias(),this.topicAliasSend.put(C,k),b.properties={...b.properties,topicAlias:k},this.log("applyTopicAlias :: auto assign topic: %s - alias: %d",C,k))):this.options.autoUseTopicAlias&&(k=this.topicAliasSend.getAliasByTopic(C),k&&(b.topic="",b.properties={...b.properties,topicAlias:k},this.log("applyTopicAlias :: auto use topic: %s - alias: %d",C,k))));else if(k)return this.log("applyTopicAlias :: error out of range. topic: %s - alias: %d",C,k),new Error("Sending Topic Alias out of range")}}_noop(b){this.log("noop ::",b)}_writePacket(b,k){this.log("_writePacket :: packet: %O",b),this.log("_writePacket :: emitting `packetsend`"),this.emit("packetsend",b),this.log("_writePacket :: writing to stream");let C=r.default.writeToStream(b,this.stream,this.options);this.log("_writePacket :: writeToStream result %s",C),!C&&k&&k!==this.noop?(this.log("_writePacket :: handle events on `drain` once through callback."),this.stream.once("drain",k)):k&&(this.log("_writePacket :: invoking cb"),k())}_sendPacket(b,k,C,M){this.log("_sendPacket :: (%s) ::  start",this.options.clientId),C=C||this.noop,k=k||this.noop;let D=this._applyTopicAlias(b);if(D){k(D);return}if(!this.connected){if(b.cmd==="auth"){this._writePacket(b,k);return}this.log("_sendPacket :: client not connected. Storing packet offline."),this._storePacket(b,k,C);return}if(M){this._writePacket(b,k);return}switch(b.cmd){case"publish":break;case"pubrel":this._storeAndSend(b,k,C);return;default:this._writePacket(b,k);return}switch(b.qos){case 2:case 1:this._storeAndSend(b,k,C);break;case 0:default:this._writePacket(b,k);break}this.log("_sendPacket :: (%s) ::  end",this.options.clientId)}_storePacket(b,k,C){this.log("_storePacket :: packet: %o",b),this.log("_storePacket :: cb? %s",!!k),C=C||this.noop;let M=b;if(M.cmd==="publish"){M=(0,n.default)(b);let T=this._removeTopicAliasAndRecoverTopicName(M);if(T)return k&&k(T)}let D=M.qos||0;D===0&&this.queueQoSZero||M.cmd!=="publish"?this.queue.push({packet:M,cb:k}):D>0?(k=this.outgoing[M.messageId]?this.outgoing[M.messageId].cb:null,this.outgoingStore.put(M,T=>{if(T)return k&&k(T);C()})):k&&k(new Error("No connection to broker"))}_setupKeepaliveManager(){this.log("_setupKeepaliveManager :: keepalive %d (seconds)",this.options.keepalive),!this.keepaliveManager&&this.options.keepalive&&(this.keepaliveManager=new _.default(this,this.options.timerVariant))}_destroyKeepaliveManager(){this.keepaliveManager&&(this.log("_destroyKeepaliveManager :: destroying keepalive manager"),this.keepaliveManager.destroy(),this.keepaliveManager=null)}reschedulePing(b=!1){this.keepaliveManager&&this.options.keepalive&&(b||this.options.reschedulePings)&&this._reschedulePing()}_reschedulePing(){this.log("_reschedulePing :: rescheduling ping"),this.keepaliveManager.reschedule()}sendPing(){this.log("_sendPing :: sending pingreq"),this._sendPacket({cmd:"pingreq"})}onKeepaliveTimeout(){this.emit("error",new Error("Keepalive timeout")),this.log("onKeepaliveTimeout :: calling _cleanUp with force true"),this._cleanUp(!0)}_resubscribe(){this.log("_resubscribe");let b=Object.keys(this._resubscribeTopics);if(!this._firstConnection&&(this.options.clean||this.options.protocolVersion>=4&&!this.connackPacket.sessionPresent)&&b.length>0)if(this.options.resubscribe)if(this.options.protocolVersion===5){this.log("_resubscribe: protocolVersion 5");for(let k=0;k<b.length;k++){let C={};C[b[k]]=this._resubscribeTopics[b[k]],C.resubscribe=!0,this.subscribe(C,{properties:C[b[k]].properties})}}else this._resubscribeTopics.resubscribe=!0,this.subscribe(this._resubscribeTopics);else this._resubscribeTopics={};this._firstConnection=!1}_onConnect(b){if(this.disconnected){this.emit("connect",b);return}this.connackPacket=b,this.messageIdProvider.clear(),this._setupKeepaliveManager(),this.connected=!0;let k=()=>{let C=this.outgoingStore.createStream(),M=()=>{C.destroy(),C=null,this._flushStoreProcessingQueue(),D()},D=()=>{this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={}};this.once("close",M),C.on("error",K=>{D(),this._flushStoreProcessingQueue(),this.removeListener("close",M),this.emit("error",K)});let T=()=>{if(!C)return;let K=C.read(1),Y;if(!K){C.once("readable",T);return}if(this._storeProcessing=!0,this._packetIdsDuringStoreProcessing[K.messageId]){T();return}!this.disconnecting&&!this.reconnectTimer?(Y=this.outgoing[K.messageId]?this.outgoing[K.messageId].cb:null,this.outgoing[K.messageId]={volatile:!1,cb(V,he){Y&&Y(V,he),T()}},this._packetIdsDuringStoreProcessing[K.messageId]=!0,this.messageIdProvider.register(K.messageId)?this._sendPacket(K,void 0,void 0,!0):this.log("messageId: %d has already used.",K.messageId)):C.destroy&&C.destroy()};C.on("end",()=>{let K=!0;for(let Y in this._packetIdsDuringStoreProcessing)if(!this._packetIdsDuringStoreProcessing[Y]){K=!1;break}this.removeListener("close",M),K?(D(),this._invokeAllStoreProcessingQueue(),this.emit("connect",b)):k()}),T()};k()}_invokeStoreProcessingQueue(){if(!this._storeProcessing&&this._storeProcessingQueue.length>0){let b=this._storeProcessingQueue[0];if(b&&b.invoke())return this._storeProcessingQueue.shift(),!0}return!1}_invokeAllStoreProcessingQueue(){for(;this._invokeStoreProcessingQueue(););}_flushStoreProcessingQueue(){for(let b of this._storeProcessingQueue)b.cbStorePut&&b.cbStorePut(new Error("Connection closed")),b.callback&&b.callback(new Error("Connection closed"));this._storeProcessingQueue.splice(0)}_removeOutgoingAndStoreMessage(b,k){delete this.outgoing[b],this.outgoingStore.del({messageId:b},(C,M)=>{k(C,M),this.messageIdProvider.deallocate(b),this._invokeStoreProcessingQueue()})}},ot(w,"VERSION",v.MQTTJS_VERSION),w);f.default=x}),$c=xe(f=>{be(),we(),ve(),Object.defineProperty(f,"__esModule",{value:!0});var c=Ba(),a=class{numberAllocator;lastId;constructor(){this.numberAllocator=new c.NumberAllocator(1,65535)}allocate(){return this.lastId=this.numberAllocator.alloc(),this.lastId}getLastAllocated(){return this.lastId}register(l){return this.numberAllocator.use(l)}deallocate(l){this.numberAllocator.free(l)}clear(){this.numberAllocator.clear()}};f.default=a});function qc(){if(Oi)return Tr;Oi=!0;let f=2147483647,c=36,a=1,l=26,h=38,r=700,t=72,n=128,e="-",i=/^xn--/,s=/[^\0-\x7F]/,d=/[\x2E\u3002\uFF0E\uFF61]/g,p={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},g=c-a,v=Math.floor,E=String.fromCharCode;function _(M){throw new RangeError(p[M])}function O(M,D){let T=[],K=M.length;for(;K--;)T[K]=D(M[K]);return T}function y(M,D){let T=M.split("@"),K="";T.length>1&&(K=T[0]+"@",M=T[1]),M=M.replace(d,".");let Y=M.split("."),V=O(Y,D).join(".");return K+V}function A(M){let D=[],T=0,K=M.length;for(;T<K;){let Y=M.charCodeAt(T++);if(Y>=55296&&Y<=56319&&T<K){let V=M.charCodeAt(T++);(V&64512)==56320?D.push(((Y&1023)<<10)+(V&1023)+65536):(D.push(Y),T--)}else D.push(Y)}return D}let x=M=>String.fromCodePoint(...M),w=function(M){return M>=48&&M<58?26+(M-48):M>=65&&M<91?M-65:M>=97&&M<123?M-97:c},P=function(M,D){return M+22+75*(M<26)-((D!=0)<<5)},b=function(M,D,T){let K=0;for(M=T?v(M/r):M>>1,M+=v(M/D);M>g*l>>1;K+=c)M=v(M/g);return v(K+(g+1)*M/(M+h))},k=function(M){let D=[],T=M.length,K=0,Y=n,V=t,he=M.lastIndexOf(e);he<0&&(he=0);for(let ie=0;ie<he;++ie)M.charCodeAt(ie)>=128&&_("not-basic"),D.push(M.charCodeAt(ie));for(let ie=he>0?he+1:0;ie<T;){let re=K;for(let z=1,ae=c;;ae+=c){ie>=T&&_("invalid-input");let B=w(M.charCodeAt(ie++));B>=c&&_("invalid-input"),B>v((f-K)/z)&&_("overflow"),K+=B*z;let te=ae<=V?a:ae>=V+l?l:ae-V;if(B<te)break;let Z=c-te;z>v(f/Z)&&_("overflow"),z*=Z}let ce=D.length+1;V=b(K-re,ce,re==0),v(K/ce)>f-Y&&_("overflow"),Y+=v(K/ce),K%=ce,D.splice(K++,0,Y)}return String.fromCodePoint(...D)},C=function(M){let D=[];M=A(M);let T=M.length,K=n,Y=0,V=t;for(let re of M)re<128&&D.push(E(re));let he=D.length,ie=he;for(he&&D.push(e);ie<T;){let re=f;for(let z of M)z>=K&&z<re&&(re=z);let ce=ie+1;re-K>v((f-Y)/ce)&&_("overflow"),Y+=(re-K)*ce,K=re;for(let z of M)if(z<K&&++Y>f&&_("overflow"),z===K){let ae=Y;for(let B=c;;B+=c){let te=B<=V?a:B>=V+l?l:B-V;if(ae<te)break;let Z=ae-te,ue=c-te;D.push(E(P(te+Z%ue,0))),ae=v(Z/ue)}D.push(E(P(ae,0))),V=b(Y,ce,ie===he),Y=0,++ie}++Y,++K}return D.join("")};return Tr={version:"2.3.1",ucs2:{decode:A,encode:x},decode:k,encode:C,toASCII:function(M){return y(M,function(D){return s.test(D)?"xn--"+C(D):D})},toUnicode:function(M){return y(M,function(D){return i.test(D)?k(D.slice(4).toLowerCase()):D})}},Tr}var Tr,Oi,Vt,Vc=vt(()=>{be(),we(),ve(),Tr={},Oi=!1,Vt=qc(),Vt.decode,Vt.encode,Vt.toASCII,Vt.toUnicode,Vt.ucs2,Vt.version});function zc(){return Pi||(Pi=!0,Ii=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var f={},c=Symbol("test"),a=Object(c);if(typeof c=="string"||Object.prototype.toString.call(c)!=="[object Symbol]"||Object.prototype.toString.call(a)!=="[object Symbol]")return!1;var l=42;f[c]=l;for(c in f)return!1;if(typeof Object.keys=="function"&&Object.keys(f).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(f).length!==0)return!1;var h=Object.getOwnPropertySymbols(f);if(h.length!==1||h[0]!==c||!Object.prototype.propertyIsEnumerable.call(f,c))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var r=Object.getOwnPropertyDescriptor(f,c);if(r.value!==l||r.enumerable!==!0)return!1}return!0}),Ii}function Kc(){return Ti||(Ti=!0,ki=Error),ki}function Hc(){return Ri||(Ri=!0,Ci=EvalError),Ci}function Gc(){return Mi||(Mi=!0,ji=RangeError),ji}function Qc(){return Ni||(Ni=!0,Bi=ReferenceError),Bi}function Va(){return Li||(Li=!0,Ui=SyntaxError),Ui}function Sr(){return Wi||(Wi=!0,Di=TypeError),Di}function Yc(){return $i||($i=!0,Fi=URIError),Fi}function Jc(){if(qi)return Cr;qi=!0;var f=typeof Symbol<"u"&&Symbol,c=zc();return Cr=function(){return typeof f!="function"||typeof Symbol!="function"||typeof f("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:c()},Cr}function Xc(){if(Vi)return Rr;Vi=!0;var f={__proto__:null,foo:{}},c=Object;return Rr=function(){return{__proto__:f}.foo===f.foo&&!(f instanceof c)},Rr}function Zc(){if(zi)return jr;zi=!0;var f="Function.prototype.bind called on incompatible ",c=Object.prototype.toString,a=Math.max,l="[object Function]",h=function(n,e){for(var i=[],s=0;s<n.length;s+=1)i[s]=n[s];for(var d=0;d<e.length;d+=1)i[d+n.length]=e[d];return i},r=function(n,e){for(var i=[],s=e,d=0;s<n.length;s+=1,d+=1)i[d]=n[s];return i},t=function(n,e){for(var i="",s=0;s<n.length;s+=1)i+=n[s],s+1<n.length&&(i+=e);return i};return jr=function(n){var e=this;if(typeof e!="function"||c.apply(e)!==l)throw new TypeError(f+e);for(var i=r(arguments,1),s,d=function(){if(this instanceof s){var _=e.apply(this,h(i,arguments));return Object(_)===_?_:this}return e.apply(n,h(i,arguments))},p=a(0,e.length-i.length),g=[],v=0;v<p;v++)g[v]="$"+v;if(s=Function("binder","return function ("+t(g,",")+"){ return binder.apply(this,arguments); }")(d),e.prototype){var E=function(){};E.prototype=e.prototype,s.prototype=new E,E.prototype=null}return s},jr}function wo(){if(Ki)return Mr;Ki=!0;var f=Zc();return Mr=Function.prototype.bind||f,Mr}function eh(){if(Hi)return Br;Hi=!0;var f=Function.prototype.call,c=Object.prototype.hasOwnProperty,a=wo();return Br=a.call(f,c),Br}function fr(){if(Gi)return Nr;Gi=!0;var f,c=Kc(),a=Hc(),l=Gc(),h=Qc(),r=Va(),t=Sr(),n=Yc(),e=Function,i=function(ie){try{return e('"use strict"; return ('+ie+").constructor;")()}catch{}},s=Object.getOwnPropertyDescriptor;if(s)try{s({},"")}catch{s=null}var d=function(){throw new t},p=s?(function(){try{return arguments.callee,d}catch{try{return s(arguments,"callee").get}catch{return d}}})():d,g=Jc()(),v=Xc()(),E=Object.getPrototypeOf||(v?function(ie){return ie.__proto__}:null),_={},O=typeof Uint8Array>"u"||!E?f:E(Uint8Array),y={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?f:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?f:ArrayBuffer,"%ArrayIteratorPrototype%":g&&E?E([][Symbol.iterator]()):f,"%AsyncFromSyncIteratorPrototype%":f,"%AsyncFunction%":_,"%AsyncGenerator%":_,"%AsyncGeneratorFunction%":_,"%AsyncIteratorPrototype%":_,"%Atomics%":typeof Atomics>"u"?f:Atomics,"%BigInt%":typeof BigInt>"u"?f:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?f:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?f:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?f:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":c,"%eval%":eval,"%EvalError%":a,"%Float32Array%":typeof Float32Array>"u"?f:Float32Array,"%Float64Array%":typeof Float64Array>"u"?f:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?f:FinalizationRegistry,"%Function%":e,"%GeneratorFunction%":_,"%Int8Array%":typeof Int8Array>"u"?f:Int8Array,"%Int16Array%":typeof Int16Array>"u"?f:Int16Array,"%Int32Array%":typeof Int32Array>"u"?f:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":g&&E?E(E([][Symbol.iterator]())):f,"%JSON%":typeof JSON=="object"?JSON:f,"%Map%":typeof Map>"u"?f:Map,"%MapIteratorPrototype%":typeof Map>"u"||!g||!E?f:E(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?f:Promise,"%Proxy%":typeof Proxy>"u"?f:Proxy,"%RangeError%":l,"%ReferenceError%":h,"%Reflect%":typeof Reflect>"u"?f:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?f:Set,"%SetIteratorPrototype%":typeof Set>"u"||!g||!E?f:E(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?f:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":g&&E?E(""[Symbol.iterator]()):f,"%Symbol%":g?Symbol:f,"%SyntaxError%":r,"%ThrowTypeError%":p,"%TypedArray%":O,"%TypeError%":t,"%Uint8Array%":typeof Uint8Array>"u"?f:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?f:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?f:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?f:Uint32Array,"%URIError%":n,"%WeakMap%":typeof WeakMap>"u"?f:WeakMap,"%WeakRef%":typeof WeakRef>"u"?f:WeakRef,"%WeakSet%":typeof WeakSet>"u"?f:WeakSet};if(E)try{null.error}catch(ie){var A=E(E(ie));y["%Error.prototype%"]=A}var x=function ie(re){var ce;if(re==="%AsyncFunction%")ce=i("async function () {}");else if(re==="%GeneratorFunction%")ce=i("function* () {}");else if(re==="%AsyncGeneratorFunction%")ce=i("async function* () {}");else if(re==="%AsyncGenerator%"){var z=ie("%AsyncGeneratorFunction%");z&&(ce=z.prototype)}else if(re==="%AsyncIteratorPrototype%"){var ae=ie("%AsyncGenerator%");ae&&E&&(ce=E(ae.prototype))}return y[re]=ce,ce},w={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},P=wo(),b=eh(),k=P.call(Function.call,Array.prototype.concat),C=P.call(Function.apply,Array.prototype.splice),M=P.call(Function.call,String.prototype.replace),D=P.call(Function.call,String.prototype.slice),T=P.call(Function.call,RegExp.prototype.exec),K=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Y=/\\(\\)?/g,V=function(ie){var re=D(ie,0,1),ce=D(ie,-1);if(re==="%"&&ce!=="%")throw new r("invalid intrinsic syntax, expected closing `%`");if(ce==="%"&&re!=="%")throw new r("invalid intrinsic syntax, expected opening `%`");var z=[];return M(ie,K,function(ae,B,te,Z){z[z.length]=te?M(Z,Y,"$1"):B||ae}),z},he=function(ie,re){var ce=ie,z;if(b(w,ce)&&(z=w[ce],ce="%"+z[0]+"%"),b(y,ce)){var ae=y[ce];if(ae===_&&(ae=x(ce)),typeof ae>"u"&&!re)throw new t("intrinsic "+ie+" exists, but is not available. Please file an issue!");return{alias:z,name:ce,value:ae}}throw new r("intrinsic "+ie+" does not exist!")};return Nr=function(ie,re){if(typeof ie!="string"||ie.length===0)throw new t("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof re!="boolean")throw new t('"allowMissing" argument must be a boolean');if(T(/^%?[^%]*%?$/,ie)===null)throw new r("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var ce=V(ie),z=ce.length>0?ce[0]:"",ae=he("%"+z+"%",re),B=ae.name,te=ae.value,Z=!1,ue=ae.alias;ue&&(z=ue[0],C(ce,k([0,1],ue)));for(var Ie=1,J=!0;Ie<ce.length;Ie+=1){var $=ce[Ie],se=D($,0,1),ee=D($,-1);if((se==='"'||se==="'"||se==="`"||ee==='"'||ee==="'"||ee==="`")&&se!==ee)throw new r("property names with quotes must have matching quotes");if(($==="constructor"||!J)&&(Z=!0),z+="."+$,B="%"+z+"%",b(y,B))te=y[B];else if(te!=null){if(!($ in te)){if(!re)throw new t("base intrinsic for "+ie+" exists, but the property is not available.");return}if(s&&Ie+1>=ce.length){var X=s(te,$);J=!!X,J&&"get"in X&&!("originalValue"in X.get)?te=X.get:te=te[$]}else J=b(te,$),te=te[$];J&&!Z&&(y[B]=te)}}return te},Nr}function _o(){if(Qi)return Ur;Qi=!0;var f=fr(),c=f("%Object.defineProperty%",!0)||!1;if(c)try{c({},"a",{value:1})}catch{c=!1}return Ur=c,Ur}function za(){if(Yi)return Lr;Yi=!0;var f=fr(),c=f("%Object.getOwnPropertyDescriptor%",!0);if(c)try{c([],"length")}catch{c=null}return Lr=c,Lr}function th(){if(Ji)return Dr;Ji=!0;var f=_o(),c=Va(),a=Sr(),l=za();return Dr=function(h,r,t){if(!h||typeof h!="object"&&typeof h!="function")throw new a("`obj` must be an object or a function`");if(typeof r!="string"&&typeof r!="symbol")throw new a("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new a("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new a("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new a("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new a("`loose`, if provided, must be a boolean");var n=arguments.length>3?arguments[3]:null,e=arguments.length>4?arguments[4]:null,i=arguments.length>5?arguments[5]:null,s=arguments.length>6?arguments[6]:!1,d=!!l&&l(h,r);if(f)f(h,r,{configurable:i===null&&d?d.configurable:!i,enumerable:n===null&&d?d.enumerable:!n,value:t,writable:e===null&&d?d.writable:!e});else if(s||!n&&!e&&!i)h[r]=t;else throw new c("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},Dr}function rh(){if(Xi)return Wr;Xi=!0;var f=_o(),c=function(){return!!f};return c.hasArrayLengthDefineBug=function(){if(!f)return null;try{return f([],"length",{value:1}).length!==1}catch{return!0}},Wr=c,Wr}function nh(){if(Zi)return Fr;Zi=!0;var f=fr(),c=th(),a=rh()(),l=za(),h=Sr(),r=f("%Math.floor%");return Fr=function(t,n){if(typeof t!="function")throw new h("`fn` is not a function");if(typeof n!="number"||n<0||n>4294967295||r(n)!==n)throw new h("`length` must be a positive 32-bit integer");var e=arguments.length>2&&!!arguments[2],i=!0,s=!0;if("length"in t&&l){var d=l(t,"length");d&&!d.configurable&&(i=!1),d&&!d.writable&&(s=!1)}return(i||s||!e)&&(a?c(t,"length",n,!0,!0):c(t,"length",n)),t},Fr}function ih(){if(eo)return lr;eo=!0;var f=wo(),c=fr(),a=nh(),l=Sr(),h=c("%Function.prototype.apply%"),r=c("%Function.prototype.call%"),t=c("%Reflect.apply%",!0)||f.call(r,h),n=_o(),e=c("%Math.max%");lr=function(s){if(typeof s!="function")throw new l("a function is required");var d=t(f,r,arguments);return a(d,1+e(0,s.length-(arguments.length-1)),!0)};var i=function(){return t(f,h,arguments)};return n?n(lr,"apply",{value:i}):lr.apply=i,lr}function oh(){if(to)return $r;to=!0;var f=fr(),c=ih(),a=c(f("String.prototype.indexOf"));return $r=function(l,h){var r=f(l,!!h);return typeof r=="function"&&a(l,".prototype.")>-1?c(r):r},$r}var Ii,Pi,ki,Ti,Ci,Ri,ji,Mi,Bi,Ni,Ui,Li,Di,Wi,Fi,$i,Cr,qi,Rr,Vi,jr,zi,Mr,Ki,Br,Hi,Nr,Gi,Ur,Qi,Lr,Yi,Dr,Ji,Wr,Xi,Fr,Zi,lr,eo,$r,to,sh=vt(()=>{be(),we(),ve(),Ii={},Pi=!1,ki={},Ti=!1,Ci={},Ri=!1,ji={},Mi=!1,Bi={},Ni=!1,Ui={},Li=!1,Di={},Wi=!1,Fi={},$i=!1,Cr={},qi=!1,Rr={},Vi=!1,jr={},zi=!1,Mr={},Ki=!1,Br={},Hi=!1,Nr={},Gi=!1,Ur={},Qi=!1,Lr={},Yi=!1,Dr={},Ji=!1,Wr={},Xi=!1,Fr={},Zi=!1,lr={},eo=!1,$r={},to=!1});function So(f){throw new Error("Node.js process "+f+" is not supported by JSPM core outside of Node.js")}function ah(){!tr||!Zt||(tr=!1,Zt.length?It=Zt.concat(It):vr=-1,It.length&&Ka())}function Ka(){if(!tr){var f=setTimeout(ah,0);tr=!0;for(var c=It.length;c;){for(Zt=It,It=[];++vr<c;)Zt&&Zt[vr].run();vr=-1,c=It.length}Zt=null,tr=!1,clearTimeout(f)}}function lh(f){var c=new Array(arguments.length-1);if(arguments.length>1)for(var a=1;a<arguments.length;a++)c[a-1]=arguments[a];It.push(new Ha(f,c)),It.length===1&&!tr&&setTimeout(Ka,0)}function Ha(f,c){this.fun=f,this.array=c}function dt(){}function uh(f){So("_linkedBinding")}function ch(f){So("dlopen")}function hh(){return[]}function fh(){return[]}function ph(f,c){if(!f)throw new Error(c||"assertion error")}function dh(){return!1}function gh(){return Rt.now()/1e3}function cn(f){var c=Math.floor((Date.now()-Rt.now())*.001),a=Rt.now()*.001,l=Math.floor(a)+c,h=Math.floor(a%1*1e9);return f&&(l=l-f[0],h=h-f[1],h<0&&(l--,h+=qr)),[l,h]}function Dt(){return Eo}function yh(f){return[]}var It,tr,Zt,vr,Bo,No,Uo,Lo,Do,Wo,Fo,$o,qo,Vo,zo,Ko,Ho,Go,Qo,Yo,Jo,Xo,Zo,es,ts,Ar,rs,ns,is,os,ss,as,ls,us,cs,hs,fs,ps,ds,gs,ys,ms,bs,vs,ws,_s,Ss,Es,As,xs,Os,Rt,hn,qr,Is,Ps,ks,Ts,Cs,Rs,js,Ms,Bs,Ns,Us,Eo,Ga=vt(()=>{be(),we(),ve(),It=[],tr=!1,vr=-1,Ha.prototype.run=function(){this.fun.apply(null,this.array)},Bo="browser",No="x64",Uo="browser",Lo={PATH:"/usr/bin",LANG:navigator.language+".UTF-8",PWD:"/",HOME:"/home",TMP:"/tmp"},Do=["/usr/bin/node"],Wo=[],Fo="v16.8.0",$o={},qo=function(f,c){console.warn((c?c+": ":"")+f)},Vo=function(f){So("binding")},zo=function(f){return 0},Ko=function(){return"/"},Ho=function(f){},Go={name:"node",sourceUrl:"",headersUrl:"",libUrl:""},Qo=dt,Yo=[],Jo={},Xo=!1,Zo={},es=dt,ts=dt,Ar=function(){return{}},rs=Ar,ns=Ar,is=dt,os=dt,ss=dt,as={},ls={inspector:!1,debug:!1,uv:!1,ipv6:!1,tls_alpn:!1,tls_sni:!1,tls_ocsp:!1,tls:!1,cached_builtins:!0},us=dt,cs=dt,hs=dt,fs=dt,ps=dt,ds=dt,gs=dt,ys=void 0,ms=void 0,bs=void 0,vs=dt,ws=2,_s=1,Ss="/bin/usr/node",Es=9229,As="node",xs=[],Os=dt,Rt={now:typeof performance<"u"?performance.now.bind(performance):void 0,timing:typeof performance<"u"?performance.timing:void 0},Rt.now===void 0&&(hn=Date.now(),Rt.timing&&Rt.timing.navigationStart&&(hn=Rt.timing.navigationStart),Rt.now=()=>Date.now()-hn),qr=1e9,cn.bigint=function(f){var c=cn(f);return typeof BigInt>"u"?c[0]*qr+c[1]:BigInt(c[0]*qr)+BigInt(c[1])},Is=10,Ps={},ks=0,Ts=Dt,Cs=Dt,Rs=Dt,js=Dt,Ms=Dt,Bs=dt,Ns=Dt,Us=Dt,Eo={version:Fo,versions:$o,arch:No,platform:Uo,release:Go,_rawDebug:Qo,moduleLoadList:Yo,binding:Vo,_linkedBinding:uh,_events:Ps,_eventsCount:ks,_maxListeners:Is,on:Dt,addListener:Ts,once:Cs,off:Rs,removeListener:js,removeAllListeners:Ms,emit:Bs,prependListener:Ns,prependOnceListener:Us,listeners:yh,domain:Jo,_exiting:Xo,config:Zo,dlopen:ch,uptime:gh,_getActiveRequests:hh,_getActiveHandles:fh,reallyExit:es,_kill:ts,cpuUsage:Ar,resourceUsage:rs,memoryUsage:ns,kill:is,exit:os,openStdin:ss,allowedNodeEnvironmentFlags:as,assert:ph,features:ls,_fatalExceptions:us,setUncaughtExceptionCaptureCallback:cs,hasUncaughtExceptionCaptureCallback:dh,emitWarning:qo,nextTick:lh,_tickCallback:hs,_debugProcess:fs,_debugEnd:ps,_startProfilerIdleNotifier:ds,_stopProfilerIdleNotifier:gs,stdout:ys,stdin:bs,stderr:ms,abort:vs,umask:zo,chdir:Ho,cwd:Ko,env:Lo,title:Bo,argv:Do,execArgv:Wo,pid:ws,ppid:_s,execPath:Ss,debugPort:Es,hrtime:cn,argv0:As,_preload_modules:xs,setSourceMapsEnabled:Os}});function mh(){if(ro)return Vr;ro=!0;var f=Eo;function c(r){if(typeof r!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(r))}function a(r,t){for(var n="",e=0,i=-1,s=0,d,p=0;p<=r.length;++p){if(p<r.length)d=r.charCodeAt(p);else{if(d===47)break;d=47}if(d===47){if(!(i===p-1||s===1))if(i!==p-1&&s===2){if(n.length<2||e!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){var g=n.lastIndexOf("/");if(g!==n.length-1){g===-1?(n="",e=0):(n=n.slice(0,g),e=n.length-1-n.lastIndexOf("/")),i=p,s=0;continue}}else if(n.length===2||n.length===1){n="",e=0,i=p,s=0;continue}}t&&(n.length>0?n+="/..":n="..",e=2)}else n.length>0?n+="/"+r.slice(i+1,p):n=r.slice(i+1,p),e=p-i-1;i=p,s=0}else d===46&&s!==-1?++s:s=-1}return n}function l(r,t){var n=t.dir||t.root,e=t.base||(t.name||"")+(t.ext||"");return n?n===t.root?n+e:n+r+e:e}var h={resolve:function(){for(var r="",t=!1,n,e=arguments.length-1;e>=-1&&!t;e--){var i;e>=0?i=arguments[e]:(n===void 0&&(n=f.cwd()),i=n),c(i),i.length!==0&&(r=i+"/"+r,t=i.charCodeAt(0)===47)}return r=a(r,!t),t?r.length>0?"/"+r:"/":r.length>0?r:"."},normalize:function(r){if(c(r),r.length===0)return".";var t=r.charCodeAt(0)===47,n=r.charCodeAt(r.length-1)===47;return r=a(r,!t),r.length===0&&!t&&(r="."),r.length>0&&n&&(r+="/"),t?"/"+r:r},isAbsolute:function(r){return c(r),r.length>0&&r.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var r,t=0;t<arguments.length;++t){var n=arguments[t];c(n),n.length>0&&(r===void 0?r=n:r+="/"+n)}return r===void 0?".":h.normalize(r)},relative:function(r,t){if(c(r),c(t),r===t||(r=h.resolve(r),t=h.resolve(t),r===t))return"";for(var n=1;n<r.length&&r.charCodeAt(n)===47;++n);for(var e=r.length,i=e-n,s=1;s<t.length&&t.charCodeAt(s)===47;++s);for(var d=t.length,p=d-s,g=i<p?i:p,v=-1,E=0;E<=g;++E){if(E===g){if(p>g){if(t.charCodeAt(s+E)===47)return t.slice(s+E+1);if(E===0)return t.slice(s+E)}else i>g&&(r.charCodeAt(n+E)===47?v=E:E===0&&(v=0));break}var _=r.charCodeAt(n+E),O=t.charCodeAt(s+E);if(_!==O)break;_===47&&(v=E)}var y="";for(E=n+v+1;E<=e;++E)(E===e||r.charCodeAt(E)===47)&&(y.length===0?y+="..":y+="/..");return y.length>0?y+t.slice(s+v):(s+=v,t.charCodeAt(s)===47&&++s,t.slice(s))},_makeLong:function(r){return r},dirname:function(r){if(c(r),r.length===0)return".";for(var t=r.charCodeAt(0),n=t===47,e=-1,i=!0,s=r.length-1;s>=1;--s)if(t=r.charCodeAt(s),t===47){if(!i){e=s;break}}else i=!1;return e===-1?n?"/":".":n&&e===1?"//":r.slice(0,e)},basename:function(r,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');c(r);var n=0,e=-1,i=!0,s;if(t!==void 0&&t.length>0&&t.length<=r.length){if(t.length===r.length&&t===r)return"";var d=t.length-1,p=-1;for(s=r.length-1;s>=0;--s){var g=r.charCodeAt(s);if(g===47){if(!i){n=s+1;break}}else p===-1&&(i=!1,p=s+1),d>=0&&(g===t.charCodeAt(d)?--d===-1&&(e=s):(d=-1,e=p))}return n===e?e=p:e===-1&&(e=r.length),r.slice(n,e)}else{for(s=r.length-1;s>=0;--s)if(r.charCodeAt(s)===47){if(!i){n=s+1;break}}else e===-1&&(i=!1,e=s+1);return e===-1?"":r.slice(n,e)}},extname:function(r){c(r);for(var t=-1,n=0,e=-1,i=!0,s=0,d=r.length-1;d>=0;--d){var p=r.charCodeAt(d);if(p===47){if(!i){n=d+1;break}continue}e===-1&&(i=!1,e=d+1),p===46?t===-1?t=d:s!==1&&(s=1):t!==-1&&(s=-1)}return t===-1||e===-1||s===0||s===1&&t===e-1&&t===n+1?"":r.slice(t,e)},format:function(r){if(r===null||typeof r!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof r);return l("/",r)},parse:function(r){c(r);var t={root:"",dir:"",base:"",ext:"",name:""};if(r.length===0)return t;var n=r.charCodeAt(0),e=n===47,i;e?(t.root="/",i=1):i=0;for(var s=-1,d=0,p=-1,g=!0,v=r.length-1,E=0;v>=i;--v){if(n=r.charCodeAt(v),n===47){if(!g){d=v+1;break}continue}p===-1&&(g=!1,p=v+1),n===46?s===-1?s=v:E!==1&&(E=1):s!==-1&&(E=-1)}return s===-1||p===-1||E===0||E===1&&s===p-1&&s===d+1?p!==-1&&(d===0&&e?t.base=t.name=r.slice(1,p):t.base=t.name=r.slice(d,p)):(d===0&&e?(t.name=r.slice(1,s),t.base=r.slice(1,p)):(t.name=r.slice(d,s),t.base=r.slice(d,p)),t.ext=r.slice(s,p)),d>0?t.dir=r.slice(0,d-1):e&&(t.dir="/"),t},sep:"/",delimiter:":",win32:null,posix:null};return h.posix=h,Vr=h,Vr}var Vr,ro,no,bh=vt(()=>{be(),we(),ve(),Ga(),Vr={},ro=!1,no=mh()}),Qa={};ur(Qa,{URL:()=>ol,Url:()=>el,default:()=>gt,fileURLToPath:()=>Ja,format:()=>tl,parse:()=>il,pathToFileURL:()=>Xa,resolve:()=>rl,resolveObject:()=>nl});function vh(){if(io)return zr;io=!0;var f=typeof Map=="function"&&Map.prototype,c=Object.getOwnPropertyDescriptor&&f?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,a=f&&c&&typeof c.get=="function"?c.get:null,l=f&&Map.prototype.forEach,h=typeof Set=="function"&&Set.prototype,r=Object.getOwnPropertyDescriptor&&h?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,t=h&&r&&typeof r.get=="function"?r.get:null,n=h&&Set.prototype.forEach,e=typeof WeakMap=="function"&&WeakMap.prototype,i=e?WeakMap.prototype.has:null,s=typeof WeakSet=="function"&&WeakSet.prototype,d=s?WeakSet.prototype.has:null,p=typeof WeakRef=="function"&&WeakRef.prototype,g=p?WeakRef.prototype.deref:null,v=Boolean.prototype.valueOf,E=Object.prototype.toString,_=Function.prototype.toString,O=String.prototype.match,y=String.prototype.slice,A=String.prototype.replace,x=String.prototype.toUpperCase,w=String.prototype.toLowerCase,P=RegExp.prototype.test,b=Array.prototype.concat,k=Array.prototype.join,C=Array.prototype.slice,M=Math.floor,D=typeof BigInt=="function"?BigInt.prototype.valueOf:null,T=Object.getOwnPropertySymbols,K=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Y=typeof Symbol=="function"&&typeof Symbol.iterator=="object",V=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Y||!0)?Symbol.toStringTag:null,he=Object.prototype.propertyIsEnumerable,ie=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(q){return q.__proto__}:null);function re(q,oe){if(q===1/0||q===-1/0||q!==q||q&&q>-1e3&&q<1e3||P.call(/e/,oe))return oe;var Re=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof q=="number"){var Te=q<0?-M(-q):M(q);if(Te!==q){var Ne=String(Te),Ue=y.call(oe,Ne.length+1);return A.call(Ne,Re,"$&_")+"."+A.call(A.call(Ue,/([0-9]{3})/g,"$&_"),/_$/,"")}}return A.call(oe,Re,"$&_")}var ce=Za,z=ce.custom,ae=X(z)?z:null;zr=function q(oe,Re,Te,Ne){var Ue=Re||{};if(de(Ue,"quoteStyle")&&Ue.quoteStyle!=="single"&&Ue.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(de(Ue,"maxStringLength")&&(typeof Ue.maxStringLength=="number"?Ue.maxStringLength<0&&Ue.maxStringLength!==1/0:Ue.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var Xe=de(Ue,"customInspect")?Ue.customInspect:!0;if(typeof Xe!="boolean"&&Xe!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(de(Ue,"indent")&&Ue.indent!==null&&Ue.indent!=="	"&&!(parseInt(Ue.indent,10)===Ue.indent&&Ue.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(de(Ue,"numericSeparator")&&typeof Ue.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var We=Ue.numericSeparator;if(typeof oe>"u")return"undefined";if(oe===null)return"null";if(typeof oe=="boolean")return oe?"true":"false";if(typeof oe=="string")return pe(oe,Ue);if(typeof oe=="number"){if(oe===0)return 1/0/oe>0?"0":"-0";var $e=String(oe);return We?re(oe,$e):$e}if(typeof oe=="bigint"){var Fe=String(oe)+"n";return We?re(oe,Fe):Fe}var et=typeof Ue.depth>"u"?5:Ue.depth;if(typeof Te>"u"&&(Te=0),Te>=et&&et>0&&typeof oe=="object")return Z(oe)?"[Array]":"[Object]";var Ge=N(Ue,Te);if(typeof Ne>"u")Ne=[];else if(le(Ne,oe)>=0)return"[Circular]";function Ve(St,xt,_t){if(xt&&(Ne=C.call(Ne),Ne.push(xt)),_t){var Et={depth:Ue.depth};return de(Ue,"quoteStyle")&&(Et.quoteStyle=Ue.quoteStyle),q(St,Et,Te+1,Ne)}return q(St,Ue,Te+1,Ne)}if(typeof oe=="function"&&!Ie(oe)){var nt=G(oe),mt=ge(oe,Ve);return"[Function"+(nt?": "+nt:" (anonymous)")+"]"+(mt.length>0?" { "+k.call(mt,", ")+" }":"")}if(X(oe)){var ht=Y?A.call(String(oe),/^(Symbol\(.*\))_[^)]*$/,"$1"):K.call(oe);return typeof oe=="object"&&!Y?o(ht):ht}if(Pe(oe)){for(var j="<"+w.call(String(oe.nodeName)),U=oe.attributes||[],ke=0;ke<U.length;ke++)j+=" "+U[ke].name+"="+B(te(U[ke].value),"double",Ue);return j+=">",oe.childNodes&&oe.childNodes.length&&(j+="..."),j+="</"+w.call(String(oe.nodeName))+">",j}if(Z(oe)){if(oe.length===0)return"[]";var Ce=ge(oe,Ve);return Ge&&!R(Ce)?"["+H(Ce,Ge)+"]":"[ "+k.call(Ce,", ")+" ]"}if(J(oe)){var je=ge(oe,Ve);return!("cause"in Error.prototype)&&"cause"in oe&&!he.call(oe,"cause")?"{ ["+String(oe)+"] "+k.call(b.call("[cause]: "+Ve(oe.cause),je),", ")+" }":je.length===0?"["+String(oe)+"]":"{ ["+String(oe)+"] "+k.call(je,", ")+" }"}if(typeof oe=="object"&&Xe){if(ae&&typeof oe[ae]=="function"&&ce)return ce(oe,{depth:et-Te});if(Xe!=="symbol"&&typeof oe.inspect=="function")return oe.inspect()}if(_e(oe)){var tt=[];return l&&l.call(oe,function(St,xt){tt.push(Ve(xt,oe,!0)+" => "+Ve(St,oe))}),m("Map",a.call(oe),tt,Ge)}if(Q(oe)){var lt=[];return n&&n.call(oe,function(St){lt.push(Ve(St,oe))}),m("Set",t.call(oe),lt,Ge)}if(ye(oe))return u("WeakMap");if(Ae(oe))return u("WeakSet");if(Oe(oe))return u("WeakRef");if(se(oe))return o(Ve(Number(oe)));if(ne(oe))return o(Ve(D.call(oe)));if(ee(oe))return o(v.call(oe));if($(oe))return o(Ve(String(oe)));if(typeof window<"u"&&oe===window)return"{ [object Window] }";if(typeof globalThis<"u"&&oe===globalThis||typeof Kr<"u"&&oe===Kr)return"{ [object globalThis] }";if(!ue(oe)&&!Ie(oe)){var wt=ge(oe,Ve),Gt=ie?ie(oe)===Object.prototype:oe instanceof Object||oe.constructor===Object,Qt=oe instanceof Object?"":"null prototype",Yt=!Gt&&V&&Object(oe)===oe&&V in oe?y.call(L(oe),8,-1):Qt?"Object":"",or=Gt||typeof oe.constructor!="function"?"":oe.constructor.name?oe.constructor.name+" ":"",Pt=or+(Yt||Qt?"["+k.call(b.call([],Yt||[],Qt||[]),": ")+"] ":"");return wt.length===0?Pt+"{}":Ge?Pt+"{"+H(wt,Ge)+"}":Pt+"{ "+k.call(wt,", ")+" }"}return String(oe)};function B(q,oe,Re){var Te=(Re.quoteStyle||oe)==="double"?'"':"'";return Te+q+Te}function te(q){return A.call(String(q),/"/g,"&quot;")}function Z(q){return L(q)==="[object Array]"&&(!V||!(typeof q=="object"&&V in q))}function ue(q){return L(q)==="[object Date]"&&(!V||!(typeof q=="object"&&V in q))}function Ie(q){return L(q)==="[object RegExp]"&&(!V||!(typeof q=="object"&&V in q))}function J(q){return L(q)==="[object Error]"&&(!V||!(typeof q=="object"&&V in q))}function $(q){return L(q)==="[object String]"&&(!V||!(typeof q=="object"&&V in q))}function se(q){return L(q)==="[object Number]"&&(!V||!(typeof q=="object"&&V in q))}function ee(q){return L(q)==="[object Boolean]"&&(!V||!(typeof q=="object"&&V in q))}function X(q){if(Y)return q&&typeof q=="object"&&q instanceof Symbol;if(typeof q=="symbol")return!0;if(!q||typeof q!="object"||!K)return!1;try{return K.call(q),!0}catch{}return!1}function ne(q){if(!q||typeof q!="object"||!D)return!1;try{return D.call(q),!0}catch{}return!1}var Ee=Object.prototype.hasOwnProperty||function(q){return q in(this||Kr)};function de(q,oe){return Ee.call(q,oe)}function L(q){return E.call(q)}function G(q){if(q.name)return q.name;var oe=O.call(_.call(q),/^function\s*([\w$]+)/);return oe?oe[1]:null}function le(q,oe){if(q.indexOf)return q.indexOf(oe);for(var Re=0,Te=q.length;Re<Te;Re++)if(q[Re]===oe)return Re;return-1}function _e(q){if(!a||!q||typeof q!="object")return!1;try{a.call(q);try{t.call(q)}catch{return!0}return q instanceof Map}catch{}return!1}function ye(q){if(!i||!q||typeof q!="object")return!1;try{i.call(q,i);try{d.call(q,d)}catch{return!0}return q instanceof WeakMap}catch{}return!1}function Oe(q){if(!g||!q||typeof q!="object")return!1;try{return g.call(q),!0}catch{}return!1}function Q(q){if(!t||!q||typeof q!="object")return!1;try{t.call(q);try{a.call(q)}catch{return!0}return q instanceof Set}catch{}return!1}function Ae(q){if(!d||!q||typeof q!="object")return!1;try{d.call(q,d);try{i.call(q,i)}catch{return!0}return q instanceof WeakSet}catch{}return!1}function Pe(q){return!q||typeof q!="object"?!1:typeof HTMLElement<"u"&&q instanceof HTMLElement?!0:typeof q.nodeName=="string"&&typeof q.getAttribute=="function"}function pe(q,oe){if(q.length>oe.maxStringLength){var Re=q.length-oe.maxStringLength,Te="... "+Re+" more character"+(Re>1?"s":"");return pe(y.call(q,0,oe.maxStringLength),oe)+Te}var Ne=A.call(A.call(q,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,Me);return B(Ne,"single",oe)}function Me(q){var oe=q.charCodeAt(0),Re={8:"b",9:"t",10:"n",12:"f",13:"r"}[oe];return Re?"\\"+Re:"\\x"+(oe<16?"0":"")+x.call(oe.toString(16))}function o(q){return"Object("+q+")"}function u(q){return q+" { ? }"}function m(q,oe,Re,Te){var Ne=Te?H(Re,Te):k.call(Re,", ");return q+" ("+oe+") {"+Ne+"}"}function R(q){for(var oe=0;oe<q.length;oe++)if(le(q[oe],`
`)>=0)return!1;return!0}function N(q,oe){var Re;if(q.indent==="	")Re="	";else if(typeof q.indent=="number"&&q.indent>0)Re=k.call(Array(q.indent+1)," ");else return null;return{base:Re,prev:k.call(Array(oe+1),Re)}}function H(q,oe){if(q.length===0)return"";var Re=`
`+oe.prev+oe.base;return Re+k.call(q,","+Re)+`
`+oe.prev}function ge(q,oe){var Re=Z(q),Te=[];if(Re){Te.length=q.length;for(var Ne=0;Ne<q.length;Ne++)Te[Ne]=de(q,Ne)?oe(q[Ne],q):""}var Ue=typeof T=="function"?T(q):[],Xe;if(Y){Xe={};for(var We=0;We<Ue.length;We++)Xe["$"+Ue[We]]=Ue[We]}for(var $e in q)de(q,$e)&&(Re&&String(Number($e))===$e&&$e<q.length||Y&&Xe["$"+$e]instanceof Symbol||(P.call(/[^\w$]/,$e)?Te.push(oe($e,q)+": "+oe(q[$e],q)):Te.push($e+": "+oe(q[$e],q))));if(typeof T=="function")for(var Fe=0;Fe<Ue.length;Fe++)he.call(q,Ue[Fe])&&Te.push("["+oe(Ue[Fe])+"]: "+oe(q[Ue[Fe]],q));return Te}return zr}function wh(){if(oo)return Hr;oo=!0;var f=fr(),c=oh(),a=vh(),l=Sr(),h=f("%WeakMap%",!0),r=f("%Map%",!0),t=c("WeakMap.prototype.get",!0),n=c("WeakMap.prototype.set",!0),e=c("WeakMap.prototype.has",!0),i=c("Map.prototype.get",!0),s=c("Map.prototype.set",!0),d=c("Map.prototype.has",!0),p=function(_,O){for(var y=_,A;(A=y.next)!==null;y=A)if(A.key===O)return y.next=A.next,A.next=_.next,_.next=A,A},g=function(_,O){var y=p(_,O);return y&&y.value},v=function(_,O,y){var A=p(_,O);A?A.value=y:_.next={key:O,next:_.next,value:y}},E=function(_,O){return!!p(_,O)};return Hr=function(){var _,O,y,A={assert:function(x){if(!A.has(x))throw new l("Side channel does not contain "+a(x))},get:function(x){if(h&&x&&(typeof x=="object"||typeof x=="function")){if(_)return t(_,x)}else if(r){if(O)return i(O,x)}else if(y)return g(y,x)},has:function(x){if(h&&x&&(typeof x=="object"||typeof x=="function")){if(_)return e(_,x)}else if(r){if(O)return d(O,x)}else if(y)return E(y,x);return!1},set:function(x,w){h&&x&&(typeof x=="object"||typeof x=="function")?(_||(_=new h),n(_,x,w)):r?(O||(O=new r),s(O,x,w)):(y||(y={key:{},next:null}),v(y,x,w))}};return A},Hr}function Ao(){if(so)return Gr;so=!0;var f=String.prototype.replace,c=/%20/g,a={RFC1738:"RFC1738",RFC3986:"RFC3986"};return Gr={default:a.RFC3986,formatters:{RFC1738:function(l){return f.call(l,c,"+")},RFC3986:function(l){return String(l)}},RFC1738:a.RFC1738,RFC3986:a.RFC3986},Gr}function Ya(){if(ao)return Qr;ao=!0;var f=Ao(),c=Object.prototype.hasOwnProperty,a=Array.isArray,l=(function(){for(var _=[],O=0;O<256;++O)_.push("%"+((O<16?"0":"")+O.toString(16)).toUpperCase());return _})(),h=function(_){for(;_.length>1;){var O=_.pop(),y=O.obj[O.prop];if(a(y)){for(var A=[],x=0;x<y.length;++x)typeof y[x]<"u"&&A.push(y[x]);O.obj[O.prop]=A}}},r=function(_,O){for(var y=O&&O.plainObjects?Object.create(null):{},A=0;A<_.length;++A)typeof _[A]<"u"&&(y[A]=_[A]);return y},t=function _(O,y,A){if(!y)return O;if(typeof y!="object"){if(a(O))O.push(y);else if(O&&typeof O=="object")(A&&(A.plainObjects||A.allowPrototypes)||!c.call(Object.prototype,y))&&(O[y]=!0);else return[O,y];return O}if(!O||typeof O!="object")return[O].concat(y);var x=O;return a(O)&&!a(y)&&(x=r(O,A)),a(O)&&a(y)?(y.forEach(function(w,P){if(c.call(O,P)){var b=O[P];b&&typeof b=="object"&&w&&typeof w=="object"?O[P]=_(b,w,A):O.push(w)}else O[P]=w}),O):Object.keys(y).reduce(function(w,P){var b=y[P];return c.call(w,P)?w[P]=_(w[P],b,A):w[P]=b,w},x)},n=function(_,O){return Object.keys(O).reduce(function(y,A){return y[A]=O[A],y},_)},e=function(_,O,y){var A=_.replace(/\+/g," ");if(y==="iso-8859-1")return A.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(A)}catch{return A}},i=1024,s=function(_,O,y,A,x){if(_.length===0)return _;var w=_;if(typeof _=="symbol"?w=Symbol.prototype.toString.call(_):typeof _!="string"&&(w=String(_)),y==="iso-8859-1")return escape(w).replace(/%u[0-9a-f]{4}/gi,function(T){return"%26%23"+parseInt(T.slice(2),16)+"%3B"});for(var P="",b=0;b<w.length;b+=i){for(var k=w.length>=i?w.slice(b,b+i):w,C=[],M=0;M<k.length;++M){var D=k.charCodeAt(M);if(D===45||D===46||D===95||D===126||D>=48&&D<=57||D>=65&&D<=90||D>=97&&D<=122||x===f.RFC1738&&(D===40||D===41)){C[C.length]=k.charAt(M);continue}if(D<128){C[C.length]=l[D];continue}if(D<2048){C[C.length]=l[192|D>>6]+l[128|D&63];continue}if(D<55296||D>=57344){C[C.length]=l[224|D>>12]+l[128|D>>6&63]+l[128|D&63];continue}M+=1,D=65536+((D&1023)<<10|k.charCodeAt(M)&1023),C[C.length]=l[240|D>>18]+l[128|D>>12&63]+l[128|D>>6&63]+l[128|D&63]}P+=C.join("")}return P},d=function(_){for(var O=[{obj:{o:_},prop:"o"}],y=[],A=0;A<O.length;++A)for(var x=O[A],w=x.obj[x.prop],P=Object.keys(w),b=0;b<P.length;++b){var k=P[b],C=w[k];typeof C=="object"&&C!==null&&y.indexOf(C)===-1&&(O.push({obj:w,prop:k}),y.push(C))}return h(O),_},p=function(_){return Object.prototype.toString.call(_)==="[object RegExp]"},g=function(_){return!_||typeof _!="object"?!1:!!(_.constructor&&_.constructor.isBuffer&&_.constructor.isBuffer(_))},v=function(_,O){return[].concat(_,O)},E=function(_,O){if(a(_)){for(var y=[],A=0;A<_.length;A+=1)y.push(O(_[A]));return y}return O(_)};return Qr={arrayToObject:r,assign:n,combine:v,compact:d,decode:e,encode:s,isBuffer:g,isRegExp:p,maybeMap:E,merge:t},Qr}function _h(){if(lo)return Yr;lo=!0;var f=wh(),c=Ya(),a=Ao(),l=Object.prototype.hasOwnProperty,h={brackets:function(E){return E+"[]"},comma:"comma",indices:function(E,_){return E+"["+_+"]"},repeat:function(E){return E}},r=Array.isArray,t=Array.prototype.push,n=function(E,_){t.apply(E,r(_)?_:[_])},e=Date.prototype.toISOString,i=a.default,s={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:c.encode,encodeValuesOnly:!1,format:i,formatter:a.formatters[i],indices:!1,serializeDate:function(E){return e.call(E)},skipNulls:!1,strictNullHandling:!1},d=function(E){return typeof E=="string"||typeof E=="number"||typeof E=="boolean"||typeof E=="symbol"||typeof E=="bigint"},p={},g=function E(_,O,y,A,x,w,P,b,k,C,M,D,T,K,Y,V,he,ie){for(var re=_,ce=ie,z=0,ae=!1;(ce=ce.get(p))!==void 0&&!ae;){var B=ce.get(_);if(z+=1,typeof B<"u"){if(B===z)throw new RangeError("Cyclic object value");ae=!0}typeof ce.get(p)>"u"&&(z=0)}if(typeof C=="function"?re=C(O,re):re instanceof Date?re=T(re):y==="comma"&&r(re)&&(re=c.maybeMap(re,function(L){return L instanceof Date?T(L):L})),re===null){if(w)return k&&!V?k(O,s.encoder,he,"key",K):O;re=""}if(d(re)||c.isBuffer(re)){if(k){var te=V?O:k(O,s.encoder,he,"key",K);return[Y(te)+"="+Y(k(re,s.encoder,he,"value",K))]}return[Y(O)+"="+Y(String(re))]}var Z=[];if(typeof re>"u")return Z;var ue;if(y==="comma"&&r(re))V&&k&&(re=c.maybeMap(re,k)),ue=[{value:re.length>0?re.join(",")||null:void 0}];else if(r(C))ue=C;else{var Ie=Object.keys(re);ue=M?Ie.sort(M):Ie}var J=b?O.replace(/\./g,"%2E"):O,$=A&&r(re)&&re.length===1?J+"[]":J;if(x&&r(re)&&re.length===0)return $+"[]";for(var se=0;se<ue.length;++se){var ee=ue[se],X=typeof ee=="object"&&typeof ee.value<"u"?ee.value:re[ee];if(!(P&&X===null)){var ne=D&&b?ee.replace(/\./g,"%2E"):ee,Ee=r(re)?typeof y=="function"?y($,ne):$:$+(D?"."+ne:"["+ne+"]");ie.set(_,z);var de=f();de.set(p,ie),n(Z,E(X,Ee,y,A,x,w,P,b,y==="comma"&&V&&r(re)?null:k,C,M,D,T,K,Y,V,he,de))}}return Z},v=function(E){if(!E)return s;if(typeof E.allowEmptyArrays<"u"&&typeof E.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof E.encodeDotInKeys<"u"&&typeof E.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(E.encoder!==null&&typeof E.encoder<"u"&&typeof E.encoder!="function")throw new TypeError("Encoder has to be a function.");var _=E.charset||s.charset;if(typeof E.charset<"u"&&E.charset!=="utf-8"&&E.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var O=a.default;if(typeof E.format<"u"){if(!l.call(a.formatters,E.format))throw new TypeError("Unknown format option provided.");O=E.format}var y=a.formatters[O],A=s.filter;(typeof E.filter=="function"||r(E.filter))&&(A=E.filter);var x;if(E.arrayFormat in h?x=E.arrayFormat:"indices"in E?x=E.indices?"indices":"repeat":x=s.arrayFormat,"commaRoundTrip"in E&&typeof E.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var w=typeof E.allowDots>"u"?E.encodeDotInKeys===!0?!0:s.allowDots:!!E.allowDots;return{addQueryPrefix:typeof E.addQueryPrefix=="boolean"?E.addQueryPrefix:s.addQueryPrefix,allowDots:w,allowEmptyArrays:typeof E.allowEmptyArrays=="boolean"?!!E.allowEmptyArrays:s.allowEmptyArrays,arrayFormat:x,charset:_,charsetSentinel:typeof E.charsetSentinel=="boolean"?E.charsetSentinel:s.charsetSentinel,commaRoundTrip:E.commaRoundTrip,delimiter:typeof E.delimiter>"u"?s.delimiter:E.delimiter,encode:typeof E.encode=="boolean"?E.encode:s.encode,encodeDotInKeys:typeof E.encodeDotInKeys=="boolean"?E.encodeDotInKeys:s.encodeDotInKeys,encoder:typeof E.encoder=="function"?E.encoder:s.encoder,encodeValuesOnly:typeof E.encodeValuesOnly=="boolean"?E.encodeValuesOnly:s.encodeValuesOnly,filter:A,format:O,formatter:y,serializeDate:typeof E.serializeDate=="function"?E.serializeDate:s.serializeDate,skipNulls:typeof E.skipNulls=="boolean"?E.skipNulls:s.skipNulls,sort:typeof E.sort=="function"?E.sort:null,strictNullHandling:typeof E.strictNullHandling=="boolean"?E.strictNullHandling:s.strictNullHandling}};return Yr=function(E,_){var O=E,y=v(_),A,x;typeof y.filter=="function"?(x=y.filter,O=x("",O)):r(y.filter)&&(x=y.filter,A=x);var w=[];if(typeof O!="object"||O===null)return"";var P=h[y.arrayFormat],b=P==="comma"&&y.commaRoundTrip;A||(A=Object.keys(O)),y.sort&&A.sort(y.sort);for(var k=f(),C=0;C<A.length;++C){var M=A[C];y.skipNulls&&O[M]===null||n(w,g(O[M],M,P,b,y.allowEmptyArrays,y.strictNullHandling,y.skipNulls,y.encodeDotInKeys,y.encode?y.encoder:null,y.filter,y.sort,y.allowDots,y.serializeDate,y.format,y.formatter,y.encodeValuesOnly,y.charset,k))}var D=w.join(y.delimiter),T=y.addQueryPrefix===!0?"?":"";return y.charsetSentinel&&(y.charset==="iso-8859-1"?T+="utf8=%26%2310003%3B&":T+="utf8=%E2%9C%93&"),D.length>0?T+D:""},Yr}function Sh(){if(uo)return Jr;uo=!0;var f=Ya(),c=Object.prototype.hasOwnProperty,a=Array.isArray,l={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:f.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1},h=function(p){return p.replace(/&#(\d+);/g,function(g,v){return String.fromCharCode(parseInt(v,10))})},r=function(p,g){return p&&typeof p=="string"&&g.comma&&p.indexOf(",")>-1?p.split(","):p},t="utf8=%26%2310003%3B",n="utf8=%E2%9C%93",e=function(p,g){var v={__proto__:null},E=g.ignoreQueryPrefix?p.replace(/^\?/,""):p;E=E.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var _=g.parameterLimit===1/0?void 0:g.parameterLimit,O=E.split(g.delimiter,_),y=-1,A,x=g.charset;if(g.charsetSentinel)for(A=0;A<O.length;++A)O[A].indexOf("utf8=")===0&&(O[A]===n?x="utf-8":O[A]===t&&(x="iso-8859-1"),y=A,A=O.length);for(A=0;A<O.length;++A)if(A!==y){var w=O[A],P=w.indexOf("]="),b=P===-1?w.indexOf("="):P+1,k,C;b===-1?(k=g.decoder(w,l.decoder,x,"key"),C=g.strictNullHandling?null:""):(k=g.decoder(w.slice(0,b),l.decoder,x,"key"),C=f.maybeMap(r(w.slice(b+1),g),function(D){return g.decoder(D,l.decoder,x,"value")})),C&&g.interpretNumericEntities&&x==="iso-8859-1"&&(C=h(C)),w.indexOf("[]=")>-1&&(C=a(C)?[C]:C);var M=c.call(v,k);M&&g.duplicates==="combine"?v[k]=f.combine(v[k],C):(!M||g.duplicates==="last")&&(v[k]=C)}return v},i=function(p,g,v,E){for(var _=E?g:r(g,v),O=p.length-1;O>=0;--O){var y,A=p[O];if(A==="[]"&&v.parseArrays)y=v.allowEmptyArrays&&(_===""||v.strictNullHandling&&_===null)?[]:[].concat(_);else{y=v.plainObjects?Object.create(null):{};var x=A.charAt(0)==="["&&A.charAt(A.length-1)==="]"?A.slice(1,-1):A,w=v.decodeDotInKeys?x.replace(/%2E/g,"."):x,P=parseInt(w,10);!v.parseArrays&&w===""?y={0:_}:!isNaN(P)&&A!==w&&String(P)===w&&P>=0&&v.parseArrays&&P<=v.arrayLimit?(y=[],y[P]=_):w!=="__proto__"&&(y[w]=_)}_=y}return _},s=function(p,g,v,E){if(p){var _=v.allowDots?p.replace(/\.([^.[]+)/g,"[$1]"):p,O=/(\[[^[\]]*])/,y=/(\[[^[\]]*])/g,A=v.depth>0&&O.exec(_),x=A?_.slice(0,A.index):_,w=[];if(x){if(!v.plainObjects&&c.call(Object.prototype,x)&&!v.allowPrototypes)return;w.push(x)}for(var P=0;v.depth>0&&(A=y.exec(_))!==null&&P<v.depth;){if(P+=1,!v.plainObjects&&c.call(Object.prototype,A[1].slice(1,-1))&&!v.allowPrototypes)return;w.push(A[1])}if(A){if(v.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+v.depth+" and strictDepth is true");w.push("["+_.slice(A.index)+"]")}return i(w,g,v,E)}},d=function(p){if(!p)return l;if(typeof p.allowEmptyArrays<"u"&&typeof p.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof p.decodeDotInKeys<"u"&&typeof p.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(p.decoder!==null&&typeof p.decoder<"u"&&typeof p.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof p.charset<"u"&&p.charset!=="utf-8"&&p.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var g=typeof p.charset>"u"?l.charset:p.charset,v=typeof p.duplicates>"u"?l.duplicates:p.duplicates;if(v!=="combine"&&v!=="first"&&v!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var E=typeof p.allowDots>"u"?p.decodeDotInKeys===!0?!0:l.allowDots:!!p.allowDots;return{allowDots:E,allowEmptyArrays:typeof p.allowEmptyArrays=="boolean"?!!p.allowEmptyArrays:l.allowEmptyArrays,allowPrototypes:typeof p.allowPrototypes=="boolean"?p.allowPrototypes:l.allowPrototypes,allowSparse:typeof p.allowSparse=="boolean"?p.allowSparse:l.allowSparse,arrayLimit:typeof p.arrayLimit=="number"?p.arrayLimit:l.arrayLimit,charset:g,charsetSentinel:typeof p.charsetSentinel=="boolean"?p.charsetSentinel:l.charsetSentinel,comma:typeof p.comma=="boolean"?p.comma:l.comma,decodeDotInKeys:typeof p.decodeDotInKeys=="boolean"?p.decodeDotInKeys:l.decodeDotInKeys,decoder:typeof p.decoder=="function"?p.decoder:l.decoder,delimiter:typeof p.delimiter=="string"||f.isRegExp(p.delimiter)?p.delimiter:l.delimiter,depth:typeof p.depth=="number"||p.depth===!1?+p.depth:l.depth,duplicates:v,ignoreQueryPrefix:p.ignoreQueryPrefix===!0,interpretNumericEntities:typeof p.interpretNumericEntities=="boolean"?p.interpretNumericEntities:l.interpretNumericEntities,parameterLimit:typeof p.parameterLimit=="number"?p.parameterLimit:l.parameterLimit,parseArrays:p.parseArrays!==!1,plainObjects:typeof p.plainObjects=="boolean"?p.plainObjects:l.plainObjects,strictDepth:typeof p.strictDepth=="boolean"?!!p.strictDepth:l.strictDepth,strictNullHandling:typeof p.strictNullHandling=="boolean"?p.strictNullHandling:l.strictNullHandling}};return Jr=function(p,g){var v=d(g);if(p===""||p===null||typeof p>"u")return v.plainObjects?Object.create(null):{};for(var E=typeof p=="string"?e(p,v):p,_=v.plainObjects?Object.create(null):{},O=Object.keys(E),y=0;y<O.length;++y){var A=O[y],x=s(A,E[A],v,typeof p=="string");_=f.merge(_,x,v)}return v.allowSparse===!0?_:f.compact(_)},Jr}function Eh(){if(co)return Xr;co=!0;var f=_h(),c=Sh(),a=Ao();return Xr={formats:a,parse:c,stringify:f},Xr}function Ah(){if(ho)return zt;ho=!0;var f=Vt;function c(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var a=/^([a-z0-9.+-]+:)/i,l=/:[0-9]*$/,h=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,r=["<",">",'"',"`"," ","\r",`
`,"	"],t=["{","}","|","\\","^","`"].concat(r),n=["'"].concat(t),e=["%","/","?",";","#"].concat(n),i=["/","?","#"],s=255,d=/^[+a-z0-9A-Z_-]{0,63}$/,p=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,g={javascript:!0,"javascript:":!0},v={javascript:!0,"javascript:":!0},E={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},_=Eh();function O(w,P,b){if(w&&typeof w=="object"&&w instanceof c)return w;var k=new c;return k.parse(w,P,b),k}c.prototype.parse=function(w,P,b){if(typeof w!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof w);var k=w.indexOf("?"),C=k!==-1&&k<w.indexOf("#")?"?":"#",M=w.split(C),D=/\\/g;M[0]=M[0].replace(D,"/"),w=M.join(C);var T=w;if(T=T.trim(),!b&&w.split("#").length===1){var K=h.exec(T);if(K)return this.path=T,this.href=T,this.pathname=K[1],K[2]?(this.search=K[2],P?this.query=_.parse(this.search.substr(1)):this.query=this.search.substr(1)):P&&(this.search="",this.query={}),this}var Y=a.exec(T);if(Y){Y=Y[0];var V=Y.toLowerCase();this.protocol=V,T=T.substr(Y.length)}if(b||Y||T.match(/^\/\/[^@/]+@[^@/]+/)){var he=T.substr(0,2)==="//";he&&!(Y&&v[Y])&&(T=T.substr(2),this.slashes=!0)}if(!v[Y]&&(he||Y&&!E[Y])){for(var ie=-1,re=0;re<i.length;re++){var ce=T.indexOf(i[re]);ce!==-1&&(ie===-1||ce<ie)&&(ie=ce)}var z,ae;ie===-1?ae=T.lastIndexOf("@"):ae=T.lastIndexOf("@",ie),ae!==-1&&(z=T.slice(0,ae),T=T.slice(ae+1),this.auth=decodeURIComponent(z)),ie=-1;for(var re=0;re<e.length;re++){var ce=T.indexOf(e[re]);ce!==-1&&(ie===-1||ce<ie)&&(ie=ce)}ie===-1&&(ie=T.length),this.host=T.slice(0,ie),T=T.slice(ie),this.parseHost(),this.hostname=this.hostname||"";var B=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!B)for(var te=this.hostname.split(/\./),re=0,Z=te.length;re<Z;re++){var ue=te[re];if(ue&&!ue.match(d)){for(var Ie="",J=0,$=ue.length;J<$;J++)ue.charCodeAt(J)>127?Ie+="x":Ie+=ue[J];if(!Ie.match(d)){var se=te.slice(0,re),ee=te.slice(re+1),X=ue.match(p);X&&(se.push(X[1]),ee.unshift(X[2])),ee.length&&(T="/"+ee.join(".")+T),this.hostname=se.join(".");break}}}this.hostname.length>s?this.hostname="":this.hostname=this.hostname.toLowerCase(),B||(this.hostname=f.toASCII(this.hostname));var ne=this.port?":"+this.port:"",Ee=this.hostname||"";this.host=Ee+ne,this.href+=this.host,B&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),T[0]!=="/"&&(T="/"+T))}if(!g[V])for(var re=0,Z=n.length;re<Z;re++){var de=n[re];if(T.indexOf(de)!==-1){var L=encodeURIComponent(de);L===de&&(L=escape(de)),T=T.split(de).join(L)}}var G=T.indexOf("#");G!==-1&&(this.hash=T.substr(G),T=T.slice(0,G));var le=T.indexOf("?");if(le!==-1?(this.search=T.substr(le),this.query=T.substr(le+1),P&&(this.query=_.parse(this.query)),T=T.slice(0,le)):P&&(this.search="",this.query={}),T&&(this.pathname=T),E[V]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var ne=this.pathname||"",_e=this.search||"";this.path=ne+_e}return this.href=this.format(),this};function y(w){return typeof w=="string"&&(w=O(w)),w instanceof c?w.format():c.prototype.format.call(w)}c.prototype.format=function(){var w=this.auth||"";w&&(w=encodeURIComponent(w),w=w.replace(/%3A/i,":"),w+="@");var P=this.protocol||"",b=this.pathname||"",k=this.hash||"",C=!1,M="";this.host?C=w+this.host:this.hostname&&(C=w+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(C+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(M=_.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var D=this.search||M&&"?"+M||"";return P&&P.substr(-1)!==":"&&(P+=":"),this.slashes||(!P||E[P])&&C!==!1?(C="//"+(C||""),b&&b.charAt(0)!=="/"&&(b="/"+b)):C||(C=""),k&&k.charAt(0)!=="#"&&(k="#"+k),D&&D.charAt(0)!=="?"&&(D="?"+D),b=b.replace(/[?#]/g,function(T){return encodeURIComponent(T)}),D=D.replace("#","%23"),P+C+b+D+k};function A(w,P){return O(w,!1,!0).resolve(P)}c.prototype.resolve=function(w){return this.resolveObject(O(w,!1,!0)).format()};function x(w,P){return w?O(w,!1,!0).resolveObject(P):P}return c.prototype.resolveObject=function(w){if(typeof w=="string"){var P=new c;P.parse(w,!1,!0),w=P}for(var b=new c,k=Object.keys(this),C=0;C<k.length;C++){var M=k[C];b[M]=this[M]}if(b.hash=w.hash,w.href==="")return b.href=b.format(),b;if(w.slashes&&!w.protocol){for(var D=Object.keys(w),T=0;T<D.length;T++){var K=D[T];K!=="protocol"&&(b[K]=w[K])}return E[b.protocol]&&b.hostname&&!b.pathname&&(b.pathname="/",b.path=b.pathname),b.href=b.format(),b}if(w.protocol&&w.protocol!==b.protocol){if(!E[w.protocol]){for(var Y=Object.keys(w),V=0;V<Y.length;V++){var he=Y[V];b[he]=w[he]}return b.href=b.format(),b}if(b.protocol=w.protocol,!w.host&&!v[w.protocol]){for(var Z=(w.pathname||"").split("/");Z.length&&!(w.host=Z.shift()););w.host||(w.host=""),w.hostname||(w.hostname=""),Z[0]!==""&&Z.unshift(""),Z.length<2&&Z.unshift(""),b.pathname=Z.join("/")}else b.pathname=w.pathname;if(b.search=w.search,b.query=w.query,b.host=w.host||"",b.auth=w.auth,b.hostname=w.hostname||w.host,b.port=w.port,b.pathname||b.search){var ie=b.pathname||"",re=b.search||"";b.path=ie+re}return b.slashes=b.slashes||w.slashes,b.href=b.format(),b}var ce=b.pathname&&b.pathname.charAt(0)==="/",z=w.host||w.pathname&&w.pathname.charAt(0)==="/",ae=z||ce||b.host&&w.pathname,B=ae,te=b.pathname&&b.pathname.split("/")||[],Z=w.pathname&&w.pathname.split("/")||[],ue=b.protocol&&!E[b.protocol];if(ue&&(b.hostname="",b.port=null,b.host&&(te[0]===""?te[0]=b.host:te.unshift(b.host)),b.host="",w.protocol&&(w.hostname=null,w.port=null,w.host&&(Z[0]===""?Z[0]=w.host:Z.unshift(w.host)),w.host=null),ae=ae&&(Z[0]===""||te[0]==="")),z)b.host=w.host||w.host===""?w.host:b.host,b.hostname=w.hostname||w.hostname===""?w.hostname:b.hostname,b.search=w.search,b.query=w.query,te=Z;else if(Z.length)te||(te=[]),te.pop(),te=te.concat(Z),b.search=w.search,b.query=w.query;else if(w.search!=null){if(ue){b.host=te.shift(),b.hostname=b.host;var Ie=b.host&&b.host.indexOf("@")>0?b.host.split("@"):!1;Ie&&(b.auth=Ie.shift(),b.hostname=Ie.shift(),b.host=b.hostname)}return b.search=w.search,b.query=w.query,(b.pathname!==null||b.search!==null)&&(b.path=(b.pathname?b.pathname:"")+(b.search?b.search:"")),b.href=b.format(),b}if(!te.length)return b.pathname=null,b.search?b.path="/"+b.search:b.path=null,b.href=b.format(),b;for(var J=te.slice(-1)[0],$=(b.host||w.host||te.length>1)&&(J==="."||J==="..")||J==="",se=0,ee=te.length;ee>=0;ee--)J=te[ee],J==="."?te.splice(ee,1):J===".."?(te.splice(ee,1),se++):se&&(te.splice(ee,1),se--);if(!ae&&!B)for(;se--;se)te.unshift("..");ae&&te[0]!==""&&(!te[0]||te[0].charAt(0)!=="/")&&te.unshift(""),$&&te.join("/").substr(-1)!=="/"&&te.push("");var X=te[0]===""||te[0]&&te[0].charAt(0)==="/";if(ue){b.hostname=X?"":te.length?te.shift():"",b.host=b.hostname;var Ie=b.host&&b.host.indexOf("@")>0?b.host.split("@"):!1;Ie&&(b.auth=Ie.shift(),b.hostname=Ie.shift(),b.host=b.hostname)}return ae=ae||b.host&&te.length,ae&&!X&&te.unshift(""),te.length>0?b.pathname=te.join("/"):(b.pathname=null,b.path=null),(b.pathname!==null||b.search!==null)&&(b.path=(b.pathname?b.pathname:"")+(b.search?b.search:"")),b.auth=w.auth||b.auth,b.slashes=b.slashes||w.slashes,b.href=b.format(),b},c.prototype.parseHost=function(){var w=this.host,P=l.exec(w);P&&(P=P[0],P!==":"&&(this.port=P.substr(1)),w=w.substr(0,w.length-P.length)),w&&(this.hostname=w)},zt.parse=O,zt.resolve=A,zt.resolveObject=x,zt.format=y,zt.Url=c,zt}function Ja(f){if(typeof f=="string")f=new URL(f);else if(!(f instanceof URL))throw new Deno.errors.InvalidData("invalid argument path , must be a string or URL");if(f.protocol!=="file:")throw new Deno.errors.InvalidData("invalid url scheme");return en?xh(f):Oh(f)}function xh(f){let c=f.hostname,a=f.pathname;for(let l=0;l<a.length;l++)if(a[l]==="%"){let h=a.codePointAt(l+2)||32;if(a[l+1]==="2"&&h===102||a[l+1]==="5"&&h===99)throw new Deno.errors.InvalidData("must not include encoded \\ or / characters")}if(a=a.replace(cl,"\\"),a=decodeURIComponent(a),c!=="")return`\\\\${c}${a}`;{let l=a.codePointAt(1)|32,h=a[2];if(l<ll||l>ul||h!==":")throw new Deno.errors.InvalidData("file url path must be absolute");return a.slice(1)}}function Oh(f){if(f.hostname!=="")throw new Deno.errors.InvalidData("invalid file url hostname");let c=f.pathname;for(let a=0;a<c.length;a++)if(c[a]==="%"){let l=c.codePointAt(a+2)||32;if(c[a+1]==="2"&&l===102)throw new Deno.errors.InvalidData("must not include encoded / characters")}return decodeURIComponent(c)}function Xa(f){let c=no.resolve(f),a=f.charCodeAt(f.length-1);(a===al||en&&a===sl)&&c[c.length-1]!==no.sep&&(c+="/");let l=new URL("file://");return c.includes("%")&&(c=c.replace(hl,"%25")),!en&&c.includes("\\")&&(c=c.replace(fl,"%5C")),c.includes(`
`)&&(c=c.replace(pl,"%0A")),c.includes("\r")&&(c=c.replace(dl,"%0D")),c.includes("	")&&(c=c.replace(gl,"%09")),l.pathname=c,l}var Za,zr,io,Kr,Hr,oo,Gr,so,Qr,ao,Yr,lo,Jr,uo,Xr,co,zt,ho,gt,Ls,el,tl,rl,nl,il,ol,sl,al,ll,ul,en,cl,hl,fl,pl,dl,gl,Ih=vt(()=>{be(),we(),ve(),Vc(),sh(),bh(),Ga(),Za=Object.freeze(Object.create(null)),zr={},io=!1,Kr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,Hr={},oo=!1,Gr={},so=!1,Qr={},ao=!1,Yr={},lo=!1,Jr={},uo=!1,Xr={},co=!1,zt={},ho=!1,gt=Ah(),gt.parse,gt.resolve,gt.resolveObject,gt.format,gt.Url,Ls=typeof Deno<"u"?Deno.build.os==="windows"?"win32":Deno.build.os:void 0,gt.URL=typeof URL<"u"?URL:null,gt.pathToFileURL=Xa,gt.fileURLToPath=Ja,el=gt.Url,tl=gt.format,rl=gt.resolve,nl=gt.resolveObject,il=gt.parse,ol=gt.URL,sl=92,al=47,ll=97,ul=122,en=Ls==="win32",cl=/\//g,hl=/%/g,fl=/\\/g,pl=/\n/g,dl=/\r/g,gl=/\t/g}),Ph=xe((f,c)=>{be(),we(),ve(),c.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}}),xo=xe(f=>{be(),we(),ve(),Object.defineProperty(f,"__esModule",{value:!0}),f.BufferedDuplex=void 0,f.writev=l;var c=ir(),a=(at(),He(st));function l(r,t){let n=new Array(r.length);for(let e=0;e<r.length;e++)typeof r[e].chunk=="string"?n[e]=a.Buffer.from(r[e].chunk,"utf8"):n[e]=r[e].chunk;this._write(a.Buffer.concat(n),"binary",t)}var h=class extends c.Duplex{socket;proxy;isSocketOpen;writeQueue;constructor(r,t,n){super({objectMode:!0}),this.proxy=t,this.socket=n,this.writeQueue=[],r.objectMode||(this._writev=l.bind(this)),this.isSocketOpen=!1,this.proxy.on("data",e=>{!this.destroyed&&this.readable&&this.push(e)})}_read(r){this.proxy.read(r)}_write(r,t,n){this.isSocketOpen?this.writeToProxy(r,t,n):this.writeQueue.push({chunk:r,encoding:t,cb:n})}_final(r){this.writeQueue=[],this.proxy.end(r)}_destroy(r,t){this.writeQueue=[],this.proxy.destroy(),t(r)}socketReady(){this.emit("connect"),this.isSocketOpen=!0,this.processWriteQueue()}writeToProxy(r,t,n){this.proxy.write(r,t)===!1?this.proxy.once("drain",n):n()}processWriteQueue(){for(;this.writeQueue.length>0;){let{chunk:r,encoding:t,cb:n}=this.writeQueue.shift();this.writeToProxy(r,t,n)}}};f.BufferedDuplex=h}),xr=xe(f=>{be(),we(),ve();var c=f&&f.__importDefault||function(O){return O&&O.__esModule?O:{default:O}};Object.defineProperty(f,"__esModule",{value:!0}),f.streamBuilder=f.browserStreamBuilder=void 0;var a=(at(),He(st)),l=c(Ph()),h=c(Mt()),r=ir(),t=c(an()),n=xo(),e=(0,h.default)("mqttjs:ws"),i=["rejectUnauthorized","ca","cert","key","pfx","passphrase"];function s(O,y){let A=`${O.protocol}://${O.hostname}:${O.port}${O.path}`;return typeof O.transformWsUrl=="function"&&(A=O.transformWsUrl(A,O,y)),A}function d(O){let y=O;return O.port||(O.protocol==="wss"?y.port=443:y.port=80),O.path||(y.path="/"),O.wsOptions||(y.wsOptions={}),!t.default&&!O.forceNativeWebSocket&&O.protocol==="wss"&&i.forEach(A=>{Object.prototype.hasOwnProperty.call(O,A)&&!Object.prototype.hasOwnProperty.call(O.wsOptions,A)&&(y.wsOptions[A]=O[A])}),y}function p(O){let y=d(O);if(y.hostname||(y.hostname=y.host),!y.hostname){if(typeof document>"u")throw new Error("Could not determine host. Specify host manually.");let A=new URL(document.URL);y.hostname=A.hostname,y.port||(y.port=Number(A.port))}return y.objectMode===void 0&&(y.objectMode=!(y.binary===!0||y.binary===void 0)),y}function g(O,y,A){e("createWebSocket"),e(`protocol: ${A.protocolId} ${A.protocolVersion}`);let x=A.protocolId==="MQIsdp"&&A.protocolVersion===3?"mqttv3.1":"mqtt";e(`creating new Websocket for url: ${y} and protocol: ${x}`);let w;return A.createWebsocket?w=A.createWebsocket(y,[x],A):w=new l.default(y,[x],A.wsOptions),w}function v(O,y){let A=y.protocolId==="MQIsdp"&&y.protocolVersion===3?"mqttv3.1":"mqtt",x=s(y,O),w;return y.createWebsocket?w=y.createWebsocket(x,[A],y):w=new WebSocket(x,[A]),w.binaryType="arraybuffer",w}var E=(O,y)=>{e("streamBuilder");let A=d(y);A.hostname=A.hostname||A.host||"localhost";let x=s(A,O),w=g(O,x,A),P=l.default.createWebSocketStream(w,A.wsOptions);return P.url=x,w.on("close",()=>{P.destroy()}),P};f.streamBuilder=E;var _=(O,y)=>{e("browserStreamBuilder");let A,x=p(y).browserBufferSize||1024*512,w=y.browserBufferTimeout||1e3,P=!y.objectMode,b=v(O,y),k=M(y,V,he);y.objectMode||(k._writev=n.writev.bind(k)),k.on("close",()=>{b.close()});let C=typeof b.addEventListener<"u";b.readyState===b.OPEN?(A=k,A.socket=b):(A=new n.BufferedDuplex(y,k,b),C?b.addEventListener("open",D):b.onopen=D),C?(b.addEventListener("close",T),b.addEventListener("error",K),b.addEventListener("message",Y)):(b.onclose=T,b.onerror=K,b.onmessage=Y);function M(ie,re,ce){let z=new r.Transform({objectMode:ie.objectMode});return z._write=re,z._flush=ce,z}function D(){e("WebSocket onOpen"),A instanceof n.BufferedDuplex&&A.socketReady()}function T(ie){e("WebSocket onClose",ie),A.end(),A.destroy()}function K(ie){e("WebSocket onError",ie);let re=new Error("WebSocket error");re.event=ie,A.destroy(re)}async function Y(ie){if(!k||k.destroyed||!k.readable)return;let{data:re}=ie;re instanceof ArrayBuffer?re=a.Buffer.from(re):re instanceof Blob?re=a.Buffer.from(await new Response(re).arrayBuffer()):re=a.Buffer.from(re,"utf8"),k.push(re)}function V(ie,re,ce){if(b.bufferedAmount>x){setTimeout(V,w,ie,re,ce);return}P&&typeof ie=="string"&&(ie=a.Buffer.from(ie,"utf8"));try{b.send(ie)}catch(z){return ce(z)}ce()}function he(ie){b.close(),ie()}return A};f.browserStreamBuilder=_}),Oo={};ur(Oo,{Server:()=>Je,Socket:()=>Je,Stream:()=>Je,_createServerHandle:()=>Je,_normalizeArgs:()=>Je,_setSimultaneousAccepts:()=>Je,connect:()=>Je,createConnection:()=>Je,createServer:()=>Je,default:()=>yl,isIP:()=>Je,isIPv4:()=>Je,isIPv6:()=>Je});function Je(){throw new Error("Node.js net module is not supported by JSPM core outside of Node.js")}var yl,ml=vt(()=>{be(),we(),ve(),yl={_createServerHandle:Je,_normalizeArgs:Je,_setSimultaneousAccepts:Je,connect:Je,createConnection:Je,createServer:Je,isIP:Je,isIPv4:Je,isIPv6:Je,Server:Je,Socket:Je,Stream:Je}}),bl=xe((f,c)=>{be(),we(),ve(),c.exports={}}),Ds=xe(f=>{be(),we(),ve();var c=f&&f.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(f,"__esModule",{value:!0});var a=c((ml(),He(Oo))),l=c(Mt()),h=c(bl()),r=(0,l.default)("mqttjs:tcp"),t=(n,e)=>{if(e.port=e.port||1883,e.hostname=e.hostname||e.host||"localhost",e.socksProxy)return(0,h.default)(e.hostname,e.port,e.socksProxy,{timeout:e.socksTimeout});let{port:i,path:s}=e,d=e.hostname;return r("port %d and host %s",i,d),a.default.createConnection({port:i,host:d,path:s})};f.default=t}),vl={};ur(vl,{default:()=>wl});var wl,kh=vt(()=>{be(),we(),ve(),wl={}}),Ws=xe(f=>{be(),we(),ve();var c=f&&f.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(f,"__esModule",{value:!0});var a=(kh(),He(vl)),l=c((ml(),He(Oo))),h=c(Mt()),r=c(bl()),t=(0,h.default)("mqttjs:tls");function n(i){let{host:s,port:d,socksProxy:p,...g}=i;if(p!==void 0){let v=(0,r.default)(s,d,p,{timeout:i.socksTimeout});return(0,a.connect)({...g,socket:v})}return(0,a.connect)(i)}var e=(i,s)=>{s.port=s.port||8883,s.host=s.hostname||s.host||"localhost",l.default.isIP(s.host)===0&&(s.servername=s.host),s.rejectUnauthorized=s.rejectUnauthorized!==!1,delete s.path,t("port %d host %s rejectUnauthorized %b",s.port,s.host,s.rejectUnauthorized);let d=n(s);d.on("secureConnect",()=>{s.rejectUnauthorized&&!d.authorized?d.emit("error",new Error("TLS not authorized")):d.removeListener("error",p)});function p(g){s.rejectUnauthorized&&i.emit("error",g),d.end()}return d.on("error",p),d};f.default=e}),Fs=xe(f=>{be(),we(),ve(),Object.defineProperty(f,"__esModule",{value:!0});var c=(at(),He(st)),a=ir(),l=xo(),h,r,t;function n(){let p=new a.Transform;return p._write=(g,v,E)=>{h.send({data:g.buffer,success(){E()},fail(_){E(new Error(_))}})},p._flush=g=>{h.close({success(){g()}})},p}function e(p){p.hostname||(p.hostname="localhost"),p.path||(p.path="/"),p.wsOptions||(p.wsOptions={})}function i(p,g){let v=p.protocol==="wxs"?"wss":"ws",E=`${v}://${p.hostname}${p.path}`;return p.port&&p.port!==80&&p.port!==443&&(E=`${v}://${p.hostname}:${p.port}${p.path}`),typeof p.transformWsUrl=="function"&&(E=p.transformWsUrl(E,p,g)),E}function s(){h.onOpen(()=>{t.socketReady()}),h.onMessage(p=>{let{data:g}=p;g instanceof ArrayBuffer?g=c.Buffer.from(g):g=c.Buffer.from(g,"utf8"),r.push(g)}),h.onClose(()=>{t.emit("close"),t.end(),t.destroy()}),h.onError(p=>{let g=new Error(p.errMsg);t.destroy(g)})}var d=(p,g)=>{if(g.hostname=g.hostname||g.host,!g.hostname)throw new Error("Could not determine host. Specify host manually.");let v=g.protocolId==="MQIsdp"&&g.protocolVersion===3?"mqttv3.1":"mqtt";e(g);let E=i(g,p);h=wx.connectSocket({url:E,protocols:[v]}),r=n(),t=new l.BufferedDuplex(g,r,h),t._destroy=(O,y)=>{h.close({success(){y&&y(O)}})};let _=t.destroy;return t.destroy=(O,y)=>(t.destroy=_,setTimeout(()=>{h.close({fail(){t._destroy(O,y)}})},0),t),s(),t};f.default=d}),$s=xe(f=>{be(),we(),ve(),Object.defineProperty(f,"__esModule",{value:!0});var c=(at(),He(st)),a=ir(),l=xo(),h,r,t,n=!1;function e(){let g=new a.Transform;return g._write=(v,E,_)=>{h.sendSocketMessage({data:v.buffer,success(){_()},fail(){_(new Error)}})},g._flush=v=>{h.closeSocket({success(){v()}})},g}function i(g){g.hostname||(g.hostname="localhost"),g.path||(g.path="/"),g.wsOptions||(g.wsOptions={})}function s(g,v){let E=g.protocol==="alis"?"wss":"ws",_=`${E}://${g.hostname}${g.path}`;return g.port&&g.port!==80&&g.port!==443&&(_=`${E}://${g.hostname}:${g.port}${g.path}`),typeof g.transformWsUrl=="function"&&(_=g.transformWsUrl(_,g,v)),_}function d(){n||(n=!0,h.onSocketOpen(()=>{t.socketReady()}),h.onSocketMessage(g=>{if(typeof g.data=="string"){let v=c.Buffer.from(g.data,"base64");r.push(v)}else{let v=new FileReader;v.addEventListener("load",()=>{if(v.result instanceof ArrayBuffer){r.push(c.Buffer.from(v.result));return}r.push(c.Buffer.from(v.result,"utf-8"))}),v.readAsArrayBuffer(g.data)}}),h.onSocketClose(()=>{t.end(),t.destroy()}),h.onSocketError(g=>{t.destroy(g)}))}var p=(g,v)=>{if(v.hostname=v.hostname||v.host,!v.hostname)throw new Error("Could not determine host. Specify host manually.");let E=v.protocolId==="MQIsdp"&&v.protocolVersion===3?"mqttv3.1":"mqtt";i(v);let _=s(v,g);return h=v.my,h.connectSocket({url:_,protocols:E}),r=e(),t=new l.BufferedDuplex(v,r,h),d(),t};f.default=p}),Th=xe(f=>{be(),we(),ve();var c=f&&f.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(f,"__esModule",{value:!0}),f.connectAsync=s;var a=c(Mt()),l=c((Ih(),He(Qa))),h=c(xi()),r=c(an());typeof Qe?.nextTick!="function"&&(Qe.nextTick=setImmediate);var t=(0,a.default)("mqttjs"),n=null;function e(d){let p;if(d.auth)if(p=d.auth.match(/^(.+):(.+)$/),p){let[,g,v]=p;d.username=g,d.password=v}else d.username=d.auth}function i(d,p){if(t("connecting to an MQTT broker..."),typeof d=="object"&&!p&&(p=d,d=""),p=p||{},d&&typeof d=="string"){let E=l.default.parse(d,!0),_={};if(E.port!=null&&(_.port=Number(E.port)),_.host=E.hostname,_.query=E.query,_.auth=E.auth,_.protocol=E.protocol,_.path=E.path,p={..._,...p},!p.protocol)throw new Error("Missing protocol");p.protocol=p.protocol.replace(/:$/,"")}if(p.unixSocket=p.unixSocket||p.protocol?.includes("+unix"),p.unixSocket?p.protocol=p.protocol.replace("+unix",""):!p.protocol?.startsWith("ws")&&!p.protocol?.startsWith("wx")&&delete p.path,e(p),p.query&&typeof p.query.clientId=="string"&&(p.clientId=p.query.clientId),r.default||p.unixSocket?p.socksProxy=void 0:p.socksProxy===void 0&&typeof Qe<"u"&&(p.socksProxy=Qe.env.MQTTJS_SOCKS_PROXY),p.cert&&p.key)if(p.protocol){if(["mqtts","wss","wxs","alis"].indexOf(p.protocol)===-1)switch(p.protocol){case"mqtt":p.protocol="mqtts";break;case"ws":p.protocol="wss";break;case"wx":p.protocol="wxs";break;case"ali":p.protocol="alis";break;default:throw new Error(`Unknown protocol for secure connection: "${p.protocol}"!`)}}else throw new Error("Missing secure protocol key");if(n||(n={},!r.default&&!p.forceNativeWebSocket?(n.ws=xr().streamBuilder,n.wss=xr().streamBuilder,n.mqtt=Ds().default,n.tcp=Ds().default,n.ssl=Ws().default,n.tls=n.ssl,n.mqtts=Ws().default):(n.ws=xr().browserStreamBuilder,n.wss=xr().browserStreamBuilder,n.wx=Fs().default,n.wxs=Fs().default,n.ali=$s().default,n.alis=$s().default)),!n[p.protocol]){let E=["mqtts","wss"].indexOf(p.protocol)!==-1;p.protocol=["mqtt","mqtts","ws","wss","wx","wxs","ali","alis"].filter((_,O)=>E&&O%2===0?!1:typeof n[_]=="function")[0]}if(p.clean===!1&&!p.clientId)throw new Error("Missing clientId for unclean clients");p.protocol&&(p.defaultProtocol=p.protocol);function g(E){return p.servers&&((!E._reconnectCount||E._reconnectCount===p.servers.length)&&(E._reconnectCount=0),p.host=p.servers[E._reconnectCount].host,p.port=p.servers[E._reconnectCount].port,p.protocol=p.servers[E._reconnectCount].protocol?p.servers[E._reconnectCount].protocol:p.defaultProtocol,p.hostname=p.host,E._reconnectCount++),t("calling streambuilder for",p.protocol),n[p.protocol](E,p)}let v=new h.default(g,p);return v.on("error",()=>{}),v}function s(d,p,g=!0){return new Promise((v,E)=>{let _=i(d,p),O={connect:A=>{y(),v(_)},end:()=>{y(),v(_)},error:A=>{y(),_.end(),E(A)}};g===!1&&(O.close=()=>{O.error(new Error("Couldn't connect to server"))});function y(){Object.keys(O).forEach(A=>{_.off(A,O[A])})}Object.keys(O).forEach(A=>{_.on(A,O[A])})})}f.default=i}),qs=xe(f=>{be(),we(),ve();var c=f&&f.__createBinding||(Object.create?function(g,v,E,_){_===void 0&&(_=E);var O=Object.getOwnPropertyDescriptor(v,E);(!O||("get"in O?!v.__esModule:O.writable||O.configurable))&&(O={enumerable:!0,get:function(){return v[E]}}),Object.defineProperty(g,_,O)}:function(g,v,E,_){_===void 0&&(_=E),g[_]=v[E]}),a=f&&f.__setModuleDefault||(Object.create?function(g,v){Object.defineProperty(g,"default",{enumerable:!0,value:v})}:function(g,v){g.default=v}),l=f&&f.__importStar||(function(){var g=function(v){return g=Object.getOwnPropertyNames||function(E){var _=[];for(var O in E)Object.prototype.hasOwnProperty.call(E,O)&&(_[_.length]=O);return _},g(v)};return function(v){if(v&&v.__esModule)return v;var E={};if(v!=null)for(var _=g(v),O=0;O<_.length;O++)_[O]!=="default"&&c(E,v,_[O]);return a(E,v),E}})(),h=f&&f.__exportStar||function(g,v){for(var E in g)E!=="default"&&!Object.prototype.hasOwnProperty.call(v,E)&&c(v,g,E)},r=f&&f.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(f,"__esModule",{value:!0}),f.ReasonCodes=f.KeepaliveManager=f.UniqueMessageIdProvider=f.DefaultMessageIdProvider=f.Store=f.MqttClient=f.connectAsync=f.connect=f.Client=void 0;var t=r(xi());f.MqttClient=t.default;var n=r(Na());f.DefaultMessageIdProvider=n.default;var e=r($c());f.UniqueMessageIdProvider=e.default;var i=r(va());f.Store=i.default;var s=l(Th());f.connect=s.default,Object.defineProperty(f,"connectAsync",{enumerable:!0,get:function(){return s.connectAsync}});var d=r(qa());f.KeepaliveManager=d.default,f.Client=t.default,h(xi(),f),h(hr(),f);var p=on();Object.defineProperty(f,"ReasonCodes",{enumerable:!0,get:function(){return p.ReasonCodes}})}),Ch=xe(f=>{be(),we(),ve();var c=f&&f.__createBinding||(Object.create?function(t,n,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(n,e);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[e]}}),Object.defineProperty(t,i,s)}:function(t,n,e,i){i===void 0&&(i=e),t[i]=n[e]}),a=f&&f.__setModuleDefault||(Object.create?function(t,n){Object.defineProperty(t,"default",{enumerable:!0,value:n})}:function(t,n){t.default=n}),l=f&&f.__importStar||(function(){var t=function(n){return t=Object.getOwnPropertyNames||function(e){var i=[];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(i[i.length]=s);return i},t(n)};return function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var i=t(n),s=0;s<i.length;s++)i[s]!=="default"&&c(e,n,i[s]);return a(e,n),e}})(),h=f&&f.__exportStar||function(t,n){for(var e in t)e!=="default"&&!Object.prototype.hasOwnProperty.call(n,e)&&c(n,t,e)};Object.defineProperty(f,"__esModule",{value:!0});var r=l(qs());f.default=r,h(qs(),f)});const Vs=Ch();/*! Bundled license information:

@jspm/core/nodelibs/browser/chunk-DtuTasat.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

@babel/runtime/helpers/regenerator.js:
  (*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE *)
*/const Mh=Su("mqtt",()=>{const f=Eu();let c=null,a=null;f.cookies.has("mqtt")?[c,a]=decodeURIComponent(f.cookies.get("mqtt")).split(":")||[null,null]:f.notify({type:"warning",message:"Anonyme Anmeldung!",progress:!0});let l;const h={protocol:location.protocol=="https:"?"wss":"ws",protocolVersion:5,host:location.hostname,port:parseInt(location.port)||(location.protocol=="https:"?443:80),path:"/ws",username:c,password:a,connectTimeout:4e3,reconnectPeriod:4e3,resubscribe:!0,properties:{requestResponseInformation:!0,requestProblemInformation:!0}},r=Mo({}),t=Mo({});function n(){const{protocol:S,host:I,port:F,path:fe,...Se}=h,De=`${S}://${I}:${F}${fe}`;try{l=Vs.connect(De,Se),l.on("connect",()=>{f.notify({type:"positive",message:`Anmeldung ${c?'als Benutzer "'+c+'" ':""}erfolgreich`,progress:!0})}),l.on("error",qe=>{console.error("Client error",qe),f.notify({type:"negative",message:"Es ist ein Fehler aufgetreten!"+(qe instanceof Vs.ErrorWithReasonCode?`(${qe.code})`:""),caption:qe.message,progress:!0}),qe.code===137&&c!=null&&(l.end(),f.cookies.has("mqtt")&&(f.cookies.remove("mqtt",{path:"/"}),console.warn("removed mqtt cookie due to error"),f.notify({type:"warning",message:"Die Anmeldeinformationen wurden entfernt.",timeout:0,closeBtn:"Seite neu laden",onDismiss:()=>{this.router.go(0)}})))}),l.on("message",(qe,it)=>{if(`${it}${qe}`,it.toString().length>0){let ft;try{ft=JSON.parse(it.toString())}catch(Lt){ft=it.toString()}i(qe,ft)}else d(qe)})}catch(qe){console.error("error connecting to broker:",qe),f.notify({type:"negative",message:"Verbindungsfehler!",caption:qe.message,progress:!0})}}function e(S,I=void 0){S.includes("#")||S.includes("+")||i(S,I)}function i(S,I){t.value[S]=I}function s(S,I,F=void 0,fe=!1){const Se=(De,qe,it)=>{const ft=qe.split(".");ft.reduce((Lt,Jt,Ro)=>Ro===ft.length-1?(Lt[Jt]=it,it):Lt[Jt],De)};if(S in t.value){const De=JSON.parse(JSON.stringify(P.value(S)));F!=null?Se(t.value[S],F,I):t.value[S]=I,fe&&(t.value[S],O(S,t.value[S],De))}else console.warn("topic not found",S)}function d(S){S.includes("#")||S.includes("+")?Object.keys(x.value(S)).forEach(I=>{delete t.value[I]}):delete t.value[S]}function p(S,I=void 0,F=!1){Array.isArray(S)||(S=[S]),S.forEach(fe=>{v(fe)==1&&(e(fe,I),l?l.subscribe(S,{},Se=>{Se&&(console.error("Subscribe to topics error",fe,Se),F||(c?f.notify({type:"negative",message:`Fehler beim Abonnieren der Daten "${fe}"`,caption:Se.message,progress:!0}):f.notify({type:"warning",message:"Fehler beim Abonnieren von Daten. Mglicherweise ist eine Anmeldung erforderlich.",caption:Se.message,progress:!0})))}):console.error("mqttClient is not initialized"))})}function g(S){Array.isArray(S)||(S=[S]),S.forEach(I=>{E(I)<=0&&(d(I),l?l.unsubscribe(I,F=>{F&&(console.error("Unsubscribe error",I,F),f.notify({type:"negative",message:`Fehler beim Abbestellen der Daten "${I}"`,caption:F.message,progress:!0}))}):console.error("mqttClient is not initialized"))})}function v(S){return S in r.value?r.value[S]+=1:r.value[S]=1,r.value[S],r.value[S]}function E(S){let I=0;return S in r.value&&(I=r.value[S]-=1,r.value[S]<=0&&delete r.value[S]),r.value[S],I}async function _(S,I,F=!0,fe=2){if(!l)return console.error("mqttClient is not initialized"),Promise.resolve(!1);const Se={qos:fe,retain:F};try{try{return await l.publishAsync(S,JSON.stringify(I),Se),!0}catch(De){return console.error("Publish error",S,De),f.notify({type:"negative",message:`Fehler beim Senden der Daten "${S}"`,caption:De.message,progress:!0}),!1}}catch(De){console.error("Publish exception",S,De);let qe="";return De instanceof Error?qe=De.message:qe=String(De),f.notify({type:"negative",message:`Fehler beim Senden der Daten "${S}"`,caption:qe,progress:!0}),Promise.resolve(!1)}}async function O(S,I=void 0,F){const fe=S.replace("openWB/","openWB/set/");I===void 0&&(I=t.value[S]);const Se=await _(fe,I);return!Se&&F!==void 0&&(console.warn("restoring original value due to publish failure",S,F),t.value[S]=F),Se}function y(S){`${l?.options.clientId}${S.command}`,_(`openWB/set/command/${l?.options.clientId}/todo/${S.command}`,S,!1)}function A(S,I={}){y({command:S,data:I})}const x=me(()=>(S,I=!1,F=!0)=>{let fe=S;return I?console.warn("auto subscription of regex topic not possible",S):(fe="^"+S.replaceAll("/","\\/").replaceAll("+","[^+/]+").replaceAll("#","[^#/]+")+"$",!Object.keys(r.value).includes(S)&&F&&p(S)),Object.keys(t.value).filter(Se=>Se.match(fe)).reduce((Se,De)=>({...Se,[De]:t.value[De]}),{})}),w=me(()=>S=>{function I(F){let fe=[];return F!==void 0&&F.forEach(Se=>{Se.type==S&&fe.push(Se.id),fe=[...fe,...I(Se.children)]}),fe}return I(P.value("openWB/counter/get/hierarchy"))}),P=me(()=>(S,I=void 0,F=void 0)=>{S in r.value||p(S,F);let fe=t.value[S];if(I==null||fe==null)return fe;const Se=I.split(".");for(let De=0;De<Se.length;De++){if(!Object.hasOwn(fe,Se[De]))return console.error("path not found",fe,Se[De]),F;fe=fe[Se[De]]}return fe}),b=me(()=>(S,I="W",F="",fe=!0,Se=!1,De="---",qe=0)=>{let it=!1,ft=S,Lt=De;if(S!==void 0){for(Se&&(ft=S*=-1),Lt=S.toLocaleString(void 0,{minimumFractionDigits:0,maximumFractionDigits:0});fe&&(ft>999||ft<-999);)switch(ft=ft/1e3,it=!0,F){case"":F="k";break;case"k":F="M";break;case"M":F="G";break}let Jt=0;it?Jt=qe>0?qe:2:Jt=ft!==Math.floor(ft)?qe:0,Lt=ft.toLocaleString(void 0,{minimumFractionDigits:Jt,maximumFractionDigits:Jt})}return{textValue:`${Lt} ${F}${I}`,value:S,unit:I,scaledValue:ft,scaledUnit:`${F}${I}`}}),k=me(()=>P.value("openWB/general/web_theme","configuration")),C=me(()=>P.value("openWB/system/security/user_management_active",void 0,!0)===!0),M=me(()=>P.value("openWB/system/security/access_allowed",void 0,!1)===!0),D=me(()=>P.value("openWB/system/security/settings_accessible",void 0,!1)===!0),T=me(()=>P.value("openWB/system/version")),K=me(()=>P.value("openWB/system/ip_address")),Y=me(()=>P.value("openWB/system/current_branch")),V=me(()=>P.value("openWB/system/current_commit")),he=me(()=>(S="Date")=>{const I=P.value("openWB/system/time");if(I==null)return;const F=new Date(I*1e3);switch(S){case"locale-string":return F.toLocaleString();case"number":return F.getTime();case"date":default:return F}}),ie=me(()=>w.value("cp").filter(S=>re.value(S))),re=me(()=>S=>ce.value(S)!==void 0),ce=me(()=>S=>P.value(`openWB/chargepoint/${S}/config`,"name")),z=S=>me({get(){return P.value(`openWB/chargepoint/${S}/set/manual_lock`)},set(I){return s(`openWB/chargepoint/${S}/set/manual_lock`,I,void 0,!0)}}),ae=me(()=>S=>P.value(`openWB/chargepoint/${S}/get/plug_state`)||!1),B=me(()=>S=>P.value(`openWB/chargepoint/${S}/get/charge_state`)||!1),te=me(()=>(S="textValue")=>{const I=P.value("openWB/chargepoint/get/power",void 0,0)||0,F=b.value(I);if(Object.hasOwn(F,S))return F[S];if(S=="object")return F;console.error("returnType not found!",S,I)}),Z=me(()=>(S="textValue")=>{const I=P.value("openWB/chargepoint/get/daily_imported",void 0,0)||0,F=b.value(I,"Wh");if(Object.hasOwn(F,S))return F[S];if(S=="object")return F;console.error("returnType not found!",S,I)}),ue=me(()=>(S="textValue")=>{const I=P.value("openWB/chargepoint/get/daily_exported",void 0,0)||0,F=b.value(I,"Wh");if(Object.hasOwn(F,S))return F[S];if(S=="object")return F;console.error("returnType not found!",S,I)}),Ie=me(()=>(S,I="textValue")=>{const F=P.value(`openWB/chargepoint/${S}/get/power`,void 0,0)||0,fe=b.value(F);if(Object.hasOwn(fe,I))return fe[I];if(I=="object")return fe;console.error("returnType not found!",I,F)}),J=me(()=>(S,I="textValue")=>{const F=P.value(`openWB/chargepoint/${S}/get/energy_charged`,void 0,0)||0,fe=b.value(F,"Wh");if(Object.hasOwn(fe,I))return fe[I];if(I=="object")return fe;console.error("returnType not found!",I,F)}),$=me(()=>(S,I="textValue")=>{const F=P.value(`openWB/chargepoint/${S}/set/log`,"imported_since_plugged")||0,fe=b.value(F,"Wh");if(Object.hasOwn(fe,I))return fe[I];if(I=="object")return fe;console.error("returnType not found!",I,F)}),se=me(()=>S=>P.value(`openWB/chargepoint/${S}/get/phases_in_use`)||0),ee=me(()=>(S,I="textValue")=>{const F=P.value(`openWB/chargepoint/${S}/set/current`)||0,fe=b.value(F,"A","",!0,!1,"---",2);if(Object.hasOwn(fe,I))return fe[I];console.error("returnType not found!",I,F)}),X=me(()=>S=>P.value(`openWB/chargepoint/${S}/get/state_str`)),ne=me(()=>S=>P.value(`openWB/chargepoint/${S}/get/fault_str`)),Ee=me(()=>S=>P.value(`openWB/chargepoint/${S}/get/fault_state`)||0),de=S=>{const I=L(S).value?.id;I!==void 0&&ko(I)},L=S=>me({get(){return P.value(`openWB/chargepoint/${S}/get/connected_vehicle/info`)},set(I){s(`openWB/chargepoint/${S}/get/connected_vehicle/info`,I,void 0,!1),O(`openWB/chargepoint/${S}/config/ev`,I.id)}}),G=S=>me({get(){return Ke(S).value?.chargemode?.selected},set(I){return s(`openWB/chargepoint/${S}/set/charge_template`,I,"chargemode.selected",!0)}}),le=S=>me({get(){return Ke(S).value?.chargemode?.instant_charging?.current},set(I){return s(`openWB/chargepoint/${S}/set/charge_template`,I,"chargemode.instant_charging.current",!0)}}),_e=me(()=>P.value("openWB/optional/dc_charging")||0),ye=S=>Math.round(S*3*230/1e3),Oe=S=>Math.round(S*1e3/690),Q=S=>me({get(){const I=Ke(S).value?.chargemode?.instant_charging?.dc_current;return I!==void 0?ye(I):0},set(I){const F=Oe(I);return s(`openWB/chargepoint/${S}/set/charge_template`,F,"chargemode.instant_charging.dc_current",!0)}}),Ae=S=>me({get(){return Ke(S).value?.chargemode?.instant_charging?.phases_to_use},set(I){return s(`openWB/chargepoint/${S}/set/charge_template`,I,"chargemode.instant_charging.phases_to_use",!0)}}),Pe=S=>me({get(){return Ke(S).value?.chargemode?.instant_charging?.limit?.selected},set(I){return s(`openWB/chargepoint/${S}/set/charge_template`,I,"chargemode.instant_charging.limit.selected",!0)}}),pe=S=>me({get(){return Ke(S).value?.chargemode?.instant_charging?.limit?.soc},set(I){return s(`openWB/chargepoint/${S}/set/charge_template`,I,"chargemode.instant_charging.limit.soc",!0)}}),Me=S=>me({get(){const I=Ke(S).value?.chargemode?.instant_charging?.limit?.amount;return I===void 0?void 0:b.value(I,"Wh","",!0).scaledValue},set(I){return s(`openWB/chargepoint/${S}/set/charge_template`,I*1e3,"chargemode.instant_charging.limit.amount",!0)}}),o=S=>me({get(){return Ke(S).value?.chargemode?.pv_charging?.min_current},set(I){return s(`openWB/chargepoint/${S}/set/charge_template`,I,"chargemode.pv_charging.min_current",!0)}}),u=S=>me({get(){const I=Ke(S).value?.chargemode?.pv_charging?.dc_min_current;return I!==void 0?ye(I):0},set(I){const F=Oe(I);return s(`openWB/chargepoint/${S}/set/charge_template`,F,"chargemode.pv_charging.dc_min_current",!0)}}),m=S=>me({get(){const I=Ke(S).value?.chargemode?.pv_charging?.dc_min_soc_current;return I!==void 0?Math.round(I*3*230/1e3):0},set(I){const F=I*1e3/230/3;return s(`openWB/chargepoint/${S}/set/charge_template`,F,"chargemode.pv_charging.dc_min_soc_current",!0)}}),R=S=>me({get(){return Ke(S).value?.chargemode?.pv_charging?.min_soc},set(I){return s(`openWB/chargepoint/${S}/set/charge_template`,I,"chargemode.pv_charging.min_soc",!0)}}),N=S=>me({get(){return Ke(S).value?.chargemode?.pv_charging?.min_soc_current},set(I){return s(`openWB/chargepoint/${S}/set/charge_template`,I,"chargemode.pv_charging.min_soc_current",!0)}}),H=S=>me({get(){return Ke(S).value?.chargemode?.pv_charging?.phases_to_use},set(I){return s(`openWB/chargepoint/${S}/set/charge_template`,I,"chargemode.pv_charging.phases_to_use",!0)}}),ge=S=>me({get(){return Ke(S).value?.chargemode?.pv_charging?.phases_to_use_min_soc},set(I){return s(`openWB/chargepoint/${S}/set/charge_template`,I,"chargemode.pv_charging.phases_to_use_min_soc",!0)}}),q=S=>me({get(){return Ke(S).value?.chargemode?.pv_charging?.limit?.selected},set(I){return s(`openWB/chargepoint/${S}/set/charge_template`,I,"chargemode.pv_charging.limit.selected",!0)}}),oe=S=>me({get(){return Ke(S).value?.chargemode?.pv_charging?.limit?.soc},set(I){return s(`openWB/chargepoint/${S}/set/charge_template`,I,"chargemode.pv_charging.limit.soc",!0)}}),Re=S=>me({get(){const I=Ke(S).value?.chargemode?.pv_charging?.limit?.amount;return I===void 0?void 0:b.value(I,"Wh","",!0).scaledValue},set(I){return s(`openWB/chargepoint/${S}/set/charge_template`,I*1e3,"chargemode.pv_charging.limit.amount",!0)}}),Te=S=>me({get(){return Ke(S).value?.chargemode?.pv_charging?.feed_in_limit},set(I){return s(`openWB/chargepoint/${S}/set/charge_template`,I,"chargemode.pv_charging.feed_in_limit",!0)}}),Ne=S=>me({get(){return Ke(S).value?.chargemode?.eco_charging?.current},set(I){return s(`openWB/chargepoint/${S}/set/charge_template`,I,"chargemode.eco_charging.current",!0)}}),Ue=S=>me({get(){const I=Ke(S).value?.chargemode?.eco_charging?.dc_current;return I!==void 0?ye(I):0},set(I){const F=Oe(I);return s(`openWB/chargepoint/${S}/set/charge_template`,F,"chargemode.eco_charging.dc_current",!0)}}),Xe=S=>me({get(){return Ke(S).value?.chargemode?.eco_charging?.phases_to_use},set(I){return s(`openWB/chargepoint/${S}/set/charge_template`,I,"chargemode.eco_charging.phases_to_use",!0)}}),We=S=>me({get(){return Ke(S).value?.chargemode?.eco_charging?.limit?.selected},set(I){return s(`openWB/chargepoint/${S}/set/charge_template`,I,"chargemode.eco_charging.limit.selected",!0)}}),$e=S=>me({get(){return Ke(S).value?.chargemode?.eco_charging?.limit?.soc},set(I){return s(`openWB/chargepoint/${S}/set/charge_template`,I,"chargemode.eco_charging.limit.soc",!0)}}),Fe=S=>me({get(){const I=Ke(S).value?.chargemode?.eco_charging?.limit?.amount;return I===void 0?void 0:b.value(I,"Wh","",!0).scaledValue},set(I){return s(`openWB/chargepoint/${S}/set/charge_template`,I*1e3,"chargemode.eco_charging.limit.amount",!0)}}),et=S=>me({get(){const I=Ke(S).value?.chargemode?.eco_charging?.max_price;if(I!==void 0)return I*1e5},set(I){return s(`openWB/chargepoint/${S}/set/charge_template`,parseFloat((I/1e5).toFixed(7)),"chargemode.eco_charging.max_price",!0)}}),Ge=S=>me({get(){return Ke(S).value?.prio},set(I){return s(`openWB/chargepoint/${S}/set/charge_template`,I,"prio",!0)}}),Ve=S=>me({get(){return Ke(S).value?.time_charging.active},set(I){return s(`openWB/chargepoint/${S}/set/charge_template`,I,"time_charging.active",!0)}}),nt=S=>me(()=>{const I=_t(S).value.ev_template;return P.value(`openWB/vehicle/template/ev_template/${I}`,"bidi")}),mt=(S,I)=>me({get(){return ut.value(S).find(Se=>Se.id===I)?.name},set(F){U(S,I,"name",F)}}),ht=S=>{const I=Ke(S).value?.id;I!==void 0&&A("addChargeTemplateTimeChargingPlan",{template:I,chargepoint:S,changed_in_theme:!0})},j=(S,I)=>{const F=Ke(S).value?.id;A("removeChargeTemplateTimeChargingPlan",{template:F,plan:I,chargepoint:S,changed_in_theme:!0})},U=(S,I,F,fe)=>{const De=ut.value(S).findIndex(it=>it.id===I);if(De===-1)return;const qe=`time_charging.plans.${De}.${F}`;s(`openWB/chargepoint/${S}/set/charge_template`,fe,qe,!0)},ke=(S,I)=>me({get(){return ut.value(S).find(Se=>Se.id===I)?.active},set(F){U(S,I,"active",F)}}),Ce=(S,I)=>me({get(){return ut.value(S).find(Se=>Se.id===I)?.time?.[0]},set(F){U(S,I,"time.0",F)}}),je=(S,I)=>me({get(){return ut.value(S).find(Se=>Se.id===I)?.time?.[1]},set(F){U(S,I,"time.1",F)}}),tt=(S,I)=>me({get(){return ut.value(S).find(Se=>Se.id===I)?.current},set(F){U(S,I,"current",F)}}),lt=(S,I)=>me({get(){return ut.value(S).find(Se=>Se.id===I)?.limit?.selected},set(F){U(S,I,"limit.selected",F)}}),wt=(S,I)=>me({get(){return ut.value(S).find(Se=>Se.id===I)?.limit?.soc},set(F){U(S,I,"limit.soc",F)}}),Gt=(S,I)=>me({get(){const Se=ut.value(S).find(qe=>qe.id===I)?.limit?.amount;return Se===void 0?void 0:b.value(Se,"Wh","",!0).scaledValue},set(F){const fe=F*1e3;U(S,I,"limit.amount",fe)}}),Qt=(S,I)=>me({get(){return ut.value(S).find(Se=>Se.id===I)?.frequency?.selected},set(F){U(S,I,"frequency.selected",F)}}),Yt=(S,I)=>me({get(){return ut.value(S).find(Se=>Se.id===I)?.frequency?.once?.[0]},set(F){U(S,I,"frequency.once.0",F)}}),or=(S,I)=>me({get(){return ut.value(S).find(Se=>Se.id===I)?.frequency?.once?.[1]},set(F){U(S,I,"frequency.once.1",F)}}),Pt=(S,I)=>me({get(){return ut.value(S).find(Se=>Se.id===I)?.phases_to_use},set(F){U(S,I,"phases_to_use",F)}}),St=(S,I)=>me({get(){return ut.value(S).find(Se=>Se.id===I)?.frequency?.weekly??Array(7).fill(!1)},set(F){U(S,I,"frequency.weekly",F)}}),xt=(S,I)=>me({get(){const Se=ut.value(S).find(it=>it.id===I)?.dc_current,De=ye(Se);return b.value(De,"W","",!0).scaledValue},set(F){const fe=Oe(F);U(S,I,"dc_current",fe)}}),_t=S=>me(()=>P.value(`openWB/chargepoint/${S}/get/connected_vehicle/config`)),Et=S=>me(()=>P.value(`openWB/chargepoint/${S}/get/connected_vehicle/soc`)),At=S=>me({get(){const fe=`openWB/vehicle/${L(S).value?.id}/soc_module/calculated_soc_state`,Se=P.value(fe);return Se?.manual_soc??Se?.soc_start??0},set(I){const F=L(S).value;if(!F){console.warn("No vehicle connected to charge point",S);return}const fe=F.id;_(`openWB/set/vehicle/${fe}/soc_module/calculated_soc_state/manual_soc`,I);const Se=`openWB/chargepoint/${S}/get/connected_vehicle/soc`,De=P.value(Se);De&&De.soc!==void 0&&s(Se,I,"soc",!0)}}),_l=S=>me(()=>{const I=L(S).value?.id;if(I!==void 0)return Po.value(I)}),Ke=S=>me({get(){return P.value(`openWB/chargepoint/${S}/set/charge_template`)},set(I){return s(`openWB/chargepoint/${S}/set/charge_template`,I,void 0,!0)}}),Io=me(()=>S=>{const I=x.value(`openWB/system/device/+/component/${S}/config`);if(Object.keys(I).length!==0)return Object.values(I)[0].name}),Sl=me(()=>S=>P.value(`openWB/bat/${S}/get/soc`)||0),El=me(()=>(S,I="textValue")=>{const F=P.value(`openWB/bat/${S}/get/power`,void 0,0)||0,fe=b.value(F);if(Object.hasOwn(fe,I))return fe[I];if(I=="object")return fe;if(I==="absoluteTextValue"){const Se=Math.abs(F);return b.value(Se,"W","",!0).textValue}console.error("returnType not found!",I,F)}),Al=me(()=>(S,I="textValue")=>{const F=P.value(`openWB/bat/${S}/get/daily_imported`,void 0,0)||0,fe=b.value(F,"Wh","",!0);if(Object.hasOwn(fe,I))return fe[I];if(I=="object")return fe;console.error("returnType not found!",I,F)}),xl=me(()=>(S,I="textValue")=>{const F=P.value(`openWB/bat/${S}/get/daily_exported`,void 0,0)||0,fe=b.value(F,"Wh","",!0);if(Object.hasOwn(fe,I))return fe[I];if(I=="object")return fe;console.error("returnType not found!",I,F)}),Ol=me(()=>P.value("openWB/bat/config/configured",void 0)||!1),Il=me(()=>w.value("bat").filter(S=>Pl.value(S))),Pl=me(()=>S=>Io.value(S)!==void 0),kl=me(()=>(S="textValue")=>{const I=P.value("openWB/bat/get/power",void 0,0)||0,F=b.value(I);if(Object.hasOwn(F,S))return F[S];if(S=="object")return F;console.error("returnType not found!",S,I)}),Tl=me(()=>P.value("openWB/bat/get/soc")||0),Cl=me(()=>(S="textValue")=>{const I=P.value("openWB/bat/get/daily_imported")||0,F=b.value(I,"Wh","",!0);if(Object.hasOwn(F,S))return F[S];if(S=="object")return F;console.error("returnType not found!",S,I)}),Rl=me(()=>(S="textValue")=>{const I=P.value("openWB/bat/get/daily_exported")||0,F=b.value(I,"Wh","",!0);if(Object.hasOwn(F,S))return F[S];if(S=="object")return F;console.error("returnType not found!",S,I)}),jl=()=>me({get(){return P.value("openWB/general/chargemode_config/pv_charging/bat_mode")||void 0},set(S){return s("openWB/general/chargemode_config/pv_charging/bat_mode",S,void 0,!0)}}),Ml=me(()=>{const S=x.value("openWB/vehicle/+/name"),F=k.value?.hide_standard_vehicle?Object.fromEntries(Object.entries(S).filter(([,fe])=>typeof fe=="string"&&fe!=="Standard-Fahrzeug")):S;return Object.keys(F).map(fe=>({id:parseInt(fe.split("/")[2]),name:F[fe]}))}),Bl=me(()=>S=>P.value(`openWB/vehicle/${S}/info`)),Po=me(()=>S=>P.value(`openWB/vehicle/${S}/soc_module/config`)?.type),Nl=me(()=>S=>P.value(`openWB/vehicle/${S}/get/soc`)),Ul=(S,I)=>me({get(){const F=`openWB/vehicle/${S}/soc_module/calculated_soc_state`,fe=P.value(F);return fe?.manual_soc??fe?.soc_start??0},set(F){if(_(`openWB/set/vehicle/${S}/soc_module/calculated_soc_state/manual_soc`,F),I!==void 0){const fe=`openWB/chargepoint/${I}/get/connected_vehicle/soc`,Se=P.value(fe);Se&&Se.soc!==void 0&&s(fe,F,"soc",!0)}}}),ko=S=>{if(S!==void 0){const I=`openWB/vehicle/${S}/get/force_soc_update`;O(I,1)}},Ll=me(()=>S=>{const I=x.value("openWB/chargepoint/+/get/connected_vehicle/info",!1,!1);return Object.entries(I).filter(([,fe])=>fe.id===S).map(([fe])=>{const Se=parseInt(fe.split("/")[2]);return{id:Se,name:ce.value(Se),plugged:ae.value(Se),charging:B.value(Se)}})}),rt=me(()=>S=>{const I=P.value(`openWB/chargepoint/${S}/set/charge_template`,"chargemode.scheduled_charging.plans");return Array.isArray(I)?I:[]});function Dl(S){const I=Ke(S).value?.id;I!==void 0?A("addChargeTemplateSchedulePlan",{template:I,chargepoint:S,changed_in_theme:!0}):console.warn("Kein Template fr ChargePoint gefunden:",S)}function Wl(S,I){const F=Ke(S).value?.id;F!==void 0?A("removeChargeTemplateSchedulePlan",{template:F,plan:I,chargepoint:S,changed_in_theme:!0}):console.warn("Kein Template fr ChargePoint gefunden:",S)}const ut=me(()=>S=>{const I=P.value(`openWB/chargepoint/${S}/set/charge_template`,"time_charging.plans");return Array.isArray(I)?I:[]}),Fl=(S,I)=>me({get(){return rt.value(S).find(Se=>Se.id===I)?.active},set(F){ct(S,I,"active",F)}}),ct=(S,I,F,fe)=>{const De=rt.value(S).findIndex(it=>it.id===I);if(De===-1)return;const qe=`chargemode.scheduled_charging.plans.${De}.${F}`;s(`openWB/chargepoint/${S}/set/charge_template`,fe,qe,!0)},$l=(S,I)=>me({get(){return rt.value(S).find(Se=>Se.id===I)?.et_active},set(F){ct(S,I,"et_active",F)}}),To=S=>me(()=>{const I=_t(S).value?.current_plan;if(I!==void 0)return{id:I,type:_t(S).value?.time_charging_in_use?"timeCharging":"scheduledCharging",plan:_t(S).value?.time_charging_in_use?ut.value(S).find(F=>F.id===I):rt.value(S).find(F=>F.id===I)}}),ql=S=>me(()=>{const I=To(S).value;if(I===void 0)return{time:void 0,limit_mode:void 0,limit:void 0};if(I.type==="scheduledCharging"){const fe=I.plan;return{time:fe?.time,limit_mode:fe?.limit.selected,limit:fe?.limit.selected=="soc"?fe.limit.soc_scheduled:fe?.limit.amount}}const F=I.plan;return{time:F?.time[1],limit_mode:F?.limit.selected,limit:F?.limit.selected=="soc"?F?.limit.soc:F?.limit.amount}}),Vl=(S,I)=>me({get(){return rt.value(S).find(Se=>Se.id===I)?.current},set(F){ct(S,I,"current",F)}}),zl=(S,I)=>me({get(){return rt.value(S).find(Se=>Se.id===I)?.limit.selected},set(F){ct(S,I,"limit.selected",F)}}),Kl=(S,I)=>me({get(){const Se=rt.value(S).find(qe=>qe.id===I)?.limit.amount;return Se===void 0?void 0:b.value(Se,"Wh","",!0).scaledValue},set(F){const fe=F*1e3;ct(S,I,"limit.amount",fe)}}),Hl=(S,I)=>me({get(){return rt.value(S).find(Se=>Se.id===I)?.name},set(F){ct(S,I,"name",F)}}),Gl=(S,I)=>me({get(){return rt.value(S).find(Se=>Se.id===I)?.time},set(F){ct(S,I,"time",F)}}),Ql=(S,I)=>me({get(){return rt.value(S).find(Se=>Se.id===I)?.frequency.selected},set(F){ct(S,I,"frequency.selected",F)}}),Yl=(S,I)=>me({get(){return rt.value(S).find(Se=>Se.id===I)?.frequency.once},set(F){ct(S,I,"frequency.once",F)}}),Jl=(S,I)=>me({get(){return rt.value(S).find(Se=>Se.id===I)?.frequency.weekly},set(F){ct(S,I,"frequency.weekly",F)}}),Xl=(S,I)=>me({get(){return rt.value(S).find(Se=>Se.id===I)?.limit.soc_limit},set(F){ct(S,I,"limit.soc_limit",F)}}),Zl=(S,I)=>me({get(){return rt.value(S).find(Se=>Se.id===I)?.limit.soc_scheduled},set(F){ct(S,I,"limit.soc_scheduled",F)}}),eu=(S,I)=>me({get(){return rt.value(S).find(Se=>Se.id===I)?.phases_to_use},set(F){ct(S,I,"phases_to_use",F)}}),tu=(S,I)=>me({get(){return rt.value(S).find(Se=>Se.id===I)?.phases_to_use_pv},set(F){ct(S,I,"phases_to_use_pv",F)}}),ru=(S,I)=>me({get(){return rt.value(S).find(Se=>Se.id===I)?.bidi_charging_enabled},set(F){ct(S,I,"bidi_charging_enabled",F)}}),nu=(S,I)=>me({get(){const Se=rt.value(S).find(qe=>qe.id===I)?.bidi_power;return b.value(Se,"W","",!0).scaledValue},set(F){const fe=Math.round(F*1e3);ct(S,I,"bidi_power",fe)}}),iu=(S,I)=>me({get(){const Se=rt.value(S).find(it=>it.id===I)?.dc_current,De=ye(Se);return b.value(De,"W","",!0).scaledValue},set(F){const fe=Oe(F);ct(S,I,"dc_current",fe)}}),pr=me(()=>{const S=P.value("openWB/counter/get/hierarchy");if(S&&S.length>0){const I=S[0];if(I.type==="counter")return I.id}}),Co=me(()=>{const S=P.value("openWB/counter/get/hierarchy"),I=(F,fe=[])=>(F&&F.forEach(Se=>{Se.type==="counter"&&fe.push(Se.id),fe=I(Se.children,fe)}),fe);return I(S)}),ou=me(()=>{const S=pr.value;return Co.value.filter(I=>I!==S)}),su=me(()=>S=>{const I=x.value(`openWB/system/device/+/component/${S}/config`);return Object.keys(I).length===0?`Zhler ${S}`:Object.values(I)[0].name}),au=me(()=>(S="textValue",I)=>{const F=I??pr.value;if(F===void 0)return"---";const fe=P.value(`openWB/counter/${F}/get/power`,void 0,0)||0,Se=b.value(fe);if(S in Se)return Se[S];if(S=="object")return Se;console.error("returnType not found!",S,fe)}),lu=me(()=>(S="textValue",I)=>{const F=I??pr.value;if(F===void 0)return"---";const fe=P.value(`openWB/counter/${F}/get/daily_imported`,void 0,0)||0,Se=b.value(fe,"Wh");if(S in Se)return Se[S];if(S=="object")return Se;console.error("returnType not found!",S,fe)}),uu=me(()=>(S="textValue",I)=>{const F=I??pr.value;if(F===void 0)return"---";const fe=P.value(`openWB/counter/${F}/get/daily_exported`,void 0,0)||0,Se=b.value(fe,"Wh");if(S in Se)return Se[S];if(S=="object")return Se;console.error("returnType not found!",S,fe)}),cu=me(()=>(S="textValue")=>{const I=P.value("openWB/counter/set/home_consumption",void 0,0)||0,F=b.value(I);if(S in F)return F[S];if(S=="object")return F;console.error("returnType not found!",S,I)}),hu=me(()=>(S="textValue")=>{const I=P.value("openWB/counter/set/daily_yield_home_consumption",void 0,0)||0,F=b.value(I,"Wh");if(S in F)return F[S];if(S=="object")return F;console.error("returnType not found!",S,I)}),fu=me(()=>P.value("openWB/pv/config/configured",void 0)||!1),pu=me(()=>(S="textValue")=>{const I=P.value("openWB/pv/get/power",void 0,0)||0,F=b.value(I);if(S in F)return F[S];if(S=="object")return F;console.error("returnType not found!",S,I)}),du=me(()=>(S="textValue")=>{const I=P.value("openWB/pv/get/daily_exported",void 0,0)||0,F=b.value(I,"Wh");if(S in F)return F[S];if(S=="object")return F;console.error("returnType not found!",S,I)}),gu=me(()=>{const S=x.value("openWB/graph/+"),I=[];return Object.entries(S).forEach(([F,fe])=>{F.includes("alllivevaluesJson")&&typeof fe=="string"&&fe.split(`
`).forEach(De=>{if(De&&De.startsWith("{")&&De.endsWith("}")){const qe=JSON.parse(De);I.push(qe)}})}),I.sort((F,fe)=>F.timestamp-fe.timestamp)}),yu=me(()=>P.value("openWB/optional/ep/configured",void 0,!1)||!1),mu=me(()=>P.value("openWB/optional/ep/get/prices",void 0,{}));return{topics:t,subscriptions:r,initialize:n,updateTopic:s,updateState:s,subscribe:p,unsubscribe:g,sendTopicToBroker:O,sendSystemCommand:A,getValue:P,systemVersion:T,systemIp:K,systemBranch:Y,systemCommit:V,themeConfiguration:k,systemDateTime:he,userManagementActive:C,accessAllowed:M,settingsAccessible:D,chargePointIds:ie,chargePointAccessible:re,chargePointName:ce,chargePointManualLock:z,chargePointPlugState:ae,chargePointChargeState:B,chargePointSumPower:te,chargePointDailyImported:Z,chargePointDailyExported:ue,chargePointPower:Ie,chargePointEnergyCharged:J,chargePointEnergyChargedPlugged:$,chargePointPhaseNumber:se,chargePointChargingCurrent:ee,chargePointStateMessage:X,chargePointFaultState:Ee,chargePointFaultMessage:ne,dcChargingEnabled:_e,chargePointConnectedVehicleInfo:L,chargePointConnectedVehicleForceSocUpdate:de,chargePointConnectedVehicleChargeMode:G,chargePointConnectedVehicleInstantChargeCurrent:le,chargePointConnectedVehicleInstantDcChargePower:Q,chargePointConnectedVehicleInstantChargePhases:Ae,chargePointConnectedVehicleInstantChargeLimit:Pe,chargePointConnectedVehicleInstantChargeLimitSoC:pe,chargePointConnectedVehicleInstantChargeLimitEnergy:Me,chargePointConnectedVehiclePvChargeMinCurrent:o,chargePointConnectedVehiclePvChargePhases:H,chargePointConnectedVehiclePvChargeLimit:q,chargePointConnectedVehiclePvChargeLimitSoC:oe,chargePointConnectedVehiclePvChargeLimitEnergy:Re,chargePointConnectedVehiclePvChargeMinSoc:R,chargePointConnectedVehiclePvChargeMinSocCurrent:N,chargePointConnectedVehiclePvDcChargePower:u,chargePointConnectedVehiclePvDcMinSocPower:m,chargePointConnectedVehiclePvChargePhasesMinSoc:ge,chargePointConnectedVehiclePvChargeFeedInLimit:Te,chargePointConnectedVehicleEcoChargeCurrent:Ne,chargePointConnectedVehicleEcoChargeDcPower:Ue,chargePointConnectedVehicleEcoChargePhases:Xe,chargePointConnectedVehicleEcoChargeLimit:We,chargePointConnectedVehicleEcoChargeLimitSoC:$e,chargePointConnectedVehicleEcoChargeLimitEnergy:Fe,chargePointConnectedVehicleEcoChargeMaxPrice:et,chargePointConnectedVehiclePriority:Ge,chargePointConnectedVehicleTimeCharging:Ve,chargePointConnectedVehicleChargeTemplate:Ke,chargePointConnectedVehicleBidiEnabled:nt,vehicleList:Ml,chargePointConnectedVehicleConfig:_t,vehicleInfo:Bl,vehicleConnectionState:Ll,vehicleSocType:Po,vehicleSocValue:Nl,vehicleSocManualValue:Ul,vehicleForceSocUpdate:ko,chargePointConnectedVehicleSoc:Et,vehicleActivePlan:To,vehicleChargeTarget:ql,addScheduledChargingPlanForChargePoint:Dl,removeScheduledChargingPlanForChargePoint:Wl,vehicleScheduledChargingPlans:rt,vehicleScheduledChargingPlanActive:Fl,vehicleScheduledChargingPlanEtActive:$l,vehicleScheduledChargingPlanCurrent:Vl,vehicleScheduledChargingPlanLimitSelected:zl,vehicleScheduledChargingPlanEnergyAmount:Kl,vehicleScheduledChargingPlanName:Hl,vehicleScheduledChargingPlanTime:Gl,vehicleScheduledChargingPlanFrequencySelected:Ql,vehicleScheduledChargingPlanOnceDate:Yl,vehicleScheduledChargingPlanWeeklyDays:Jl,vehicleScheduledChargingPlanSocLimit:Xl,vehicleScheduledChargingPlanSocScheduled:Zl,vehicleScheduledChargingPlanPhases:eu,vehicleScheduledChargingPlanPhasesPv:tu,vehicleScheduledChargingPlanBidiEnabled:ru,vehicleScheduledChargingPlanBidiPower:nu,vehicleScheduledChargingPlanDcPower:iu,vehicleTimeChargingPlans:ut,vehicleTimeChargingPlanName:mt,addTimeChargingPlanForChargePoint:ht,removeTimeChargingPlanForChargePoint:j,vehicleTimeChargingPlanActive:ke,vehicleTimeChargingPlanStartTime:Ce,vehicleTimeChargingPlanEndTime:je,vehicleTimeChargingPlanCurrent:tt,vehicleTimeChargingPlanLimitSelected:lt,vehicleTimeChargingPlanSocLimit:wt,vehicleTimeChargingPlanEnergyAmount:Gt,vehicleTimeChargingPlanFrequencySelected:Qt,vehicleTimeChargingPlanOnceDateStart:Yt,vehicleTimeChargingPlanOnceDateEnd:or,vehicleTimeChargingPlanPhases:Pt,vehicleTimeChargingPlanWeeklyDays:St,vehicleTimeChargingPlanDcPower:xt,chargePointConnectedVehicleSocType:_l,chargePointConnectedVehicleSocManual:At,batteryConfigured:Ol,batteryIds:Il,batteryName:Io,batterySoc:Sl,batteryPower:El,batteryDailyImported:Al,batteryDailyExported:xl,batterySocTotal:Tl,batteryDailyImportedTotal:Cl,batteryDailyExportedTotal:Rl,batteryTotalPower:kl,batteryMode:jl,getGridId:pr,getAllCounterIds:Co,getSecondaryCounterIds:ou,getComponentName:su,getCounterPower:au,counterDailyImported:lu,counterDailyExported:uu,getHomePower:cu,homeDailyYield:hu,getPvConfigured:fu,getPvPower:pu,pvDailyExported:du,chartData:gu,etProviderConfigured:yu,etPrices:mu}});export{Eu as a,Mh as u};
