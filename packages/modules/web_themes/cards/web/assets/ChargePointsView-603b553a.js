import{u as F}from"./index-cbe9db20.js";import{D as Q,S as Y,C as K}from"./ChargePointPlugBadge-ca72dd9e.js";import{l as U,f as E,a as D,F as j,j as $,k as ee,m as te,n as ne,o as ie,e as le,p as oe,q as ae,r as re,s as ce,t as se,u as ge,v as he,w as de,x as ue,y as me,z as Ce,A as fe}from"./vendor-fortawesome-9b1ed1ad.js";import{l as g,o as c,n as C,p as i,s as t,z as L,k as a,x as u,e as _,j as _e,F as x,A as T,i as h}from"./vendor-835210d3.js";import{_ as z}from"./vendor-inkline-fdeed1c0.js";U.add(E,D);const pe={name:"ChargePointLockButton",props:{chargePointId:{required:!0,type:Number},changesLocked:{required:!1,type:Boolean,default:!1}},data(){return{mqttStore:F()}},components:{FontAwesomeIcon:j},computed:{locked(){return this.mqttStore.getChargePointManualLock(this.chargePointId)},stateIcon(){return this.locked?["fas","fa-lock"]:["fas","fa-lock-open"]},stateClass(){return this.locked?["_color:danger"]:"_color:success"}},methods:{toggleChargePointManualLock(){this.$root.sendTopicToBroker(`openWB/chargepoint/${this.chargePointId}/set/manual_lock`,!this.mqttStore.getValueBool(`openWB/chargepoint/${this.chargePointId}/set/manual_lock`))}}};function Pe(o,n,r,m,e,s){const k=g("font-awesome-icon"),I=g("i-button");return c(),C(I,{size:"lg",disabled:r.changesLocked,outline:r.changesLocked},{default:i(()=>[t(k,{"fixed-width":"",icon:s.stateIcon,class:L(s.stateClass),onClick:n[0]||(n[0]=P=>s.toggleChargePointManualLock())},null,8,["icon","class"])]),_:1},8,["disabled","outline"])}const ve=z(pe,[["render",Pe],["__file","/var/www/html/openWB/packages/modules/web_themes/cards/source/src/components/ChargePointLockButton.vue"]]),Se={name:"ExtendedNumberInput",inheritAttrs:!1,props:{modelValue:{type:Number},unit:{type:String},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},labels:{type:Array}},emits:["update:modelValue"],data(){return{minimum:this.labels?0:this.min,maximum:this.labels?this.labels.length-1:this.max,stepSize:this.labels?1:this.step}},computed:{label(){var o;return this.labels&&this.inputValue!=null?this.inputValue<this.labels.length?o=this.labels[this.inputValue].label:console.error("index out of bounds: "+this.inputValue):o=this.inputValue,typeof o=="number"&&(o=o.toLocaleString(void 0,{minimumFractionDigits:this.precision,maximumFractionDigits:this.precision})),o},precision(){if(!isFinite(this.stepSize))return 0;for(var o=1,n=0;Math.round(this.stepSize*o)/o!==this.stepSize;)o*=10,n++;return n},inputValue:{get(){if(this.labels){var o=void 0;for(let n=0;n<this.labels.length;n++)if(this.labels[n].value==this.modelValue){o=n;break}return o===void 0&&this.modelValue!==void 0?(console.warn("inputValue: not found in values: ",this.modelValue,"using minimum as default: ",this.minimum),this.minimum):o}return this.modelValue},set(o){if(this.labels){var n=this.labels[o].value;this.$emit("update:modelValue",n)}else this.$emit("update:modelValue",o)}}},methods:{increment(){var o=Math.min(this.inputValue+this.stepSize,this.maximum);this.inputValue=Math.round(o*Math.pow(10,this.precision))/Math.pow(10,this.precision)},decrement(){var o=Math.max(this.inputValue-this.stepSize,this.minimum);this.inputValue=Math.round(o*Math.pow(10,this.precision))/Math.pow(10,this.precision)}}};function Ve(o,n,r,m,e,s){const k=g("i-button"),I=g("i-input");return c(),C(I,{plaintext:"",class:"_text-align:right",size:"lg",modelValue:s.label,"onUpdate:modelValue":n[0]||(n[0]=P=>s.label=P)},{prepend:i(()=>[t(k,{onClick:s.decrement},{default:i(()=>[a("-")]),_:1},8,["onClick"])]),suffix:i(()=>[a(u(r.unit),1)]),append:i(()=>[t(k,{onClick:s.increment},{default:i(()=>[a("+")]),_:1},8,["onClick"])]),_:1},8,["modelValue"])}const be=z(Se,[["render",Ve],["__file","/var/www/html/openWB/packages/modules/web_themes/cards/source/src/components/ExtendedNumberInput.vue"]]);U.add($,ee,te,ne,E,D,ie,le,oe,ae,re,ce,se,ge,he,de,ue,me,Ce,fe);const ke={name:"ChargePointsView",data(){return{mqttStore:F(),modalChargePointSettingsVisible:!1,modalChargePointSettingsId:0,modalActiveTab:"tab-general"}},props:{changesLocked:{required:!1,type:Boolean,default:!1}},components:{DashBoardCard:Q,SparkLine:Y,ChargePointPlugBadge:K,ChargePointLockButton:ve,ExtendedNumberInput:be,FontAwesomeIcon:j},computed:{vehicleList(){let o=this.mqttStore.getVehicleList;var n=[];return Object.keys(o).forEach(r=>{let m=parseInt(r.match(/(?:\/)([0-9]+)(?=\/)*/g)[0].replace(/[^0-9]+/g,""));n.push({id:m,name:o[r]})}),n}},methods:{toggleChargePointSettings(o){this.modalChargePointSettingsId!=o&&(this.modalActiveTab="tab-general"),this.modalChargePointSettingsId=o,this.modalChargePointSettingsVisible=!0},handleSocClick(o){let n=this.mqttStore.getChargePointConnectedVehicleId(o);if(this.mqttStore.getVehicleSocIsManual(n)){console.log("ToDo: manual SoC input");return}this.$root.sendTopicToBroker(`openWB/set/vehicle/${n}/get/force_soc_update`,1)},setChargePointConnectedVehicle(o,n){n.id!=this.mqttStore.getChargePointConnectedVehicleId(o)&&this.$root.sendTopicToBroker(`openWB/chargepoint/${o}/config/ev`,n.id)},setChargePointConnectedVehicleChargeMode(o,n){if(n.id!=this.mqttStore.getChargePointConnectedVehicleChargeMode(o)){var r=this.mqttStore.getChargePointConnectedVehicleChargeTemplateIndex(o);this.$root.sendTopicToBroker(`openWB/vehicle/template/charge_template/${r}/chargemode/selected`,n)}},setChargePointConnectedVehiclePriority(o,n){if(n!=this.mqttStore.getChargePointConnectedVehiclePriority(o)){var r=this.mqttStore.getChargePointConnectedVehicleChargeTemplateIndex(o);this.$root.sendTopicToBroker(`openWB/vehicle/template/charge_template/${r}/prio`,n)}},setChargePointConnectedVehicleTimeChargingActive(o,n){if(n!=this.mqttStore.getChargePointConnectedVehicleTimeChargingActive(o)){var r=this.mqttStore.getChargePointConnectedVehicleChargeTemplateIndex(o);this.$root.sendTopicToBroker(`openWB/vehicle/template/charge_template/${r}/time_charging/active`,n)}},setChargePointConnectedVehicleInstantChargingCurrent(o,n){if(n&&n!=this.mqttStore.getChargePointConnectedVehicleInstantChargingCurrent(o)){var r=this.mqttStore.getChargePointConnectedVehicleChargeTemplateIndex(o);this.$root.sendTopicToBroker(`openWB/vehicle/template/charge_template/${r}/chargemode/instant_charging/current`,parseFloat(n))}},setChargePointConnectedVehicleInstantChargingLimit(o,n){if(n&&n!=this.mqttStore.getChargePointConnectedVehicleInstantChargingLimit(o).selected){var r=this.mqttStore.getChargePointConnectedVehicleChargeTemplateIndex(o);this.$root.sendTopicToBroker(`openWB/vehicle/template/charge_template/${r}/chargemode/instant_charging/limit/selected`,n)}},setChargePointConnectedVehicleInstantChargingLimitSoc(o,n){if(n&&n!=this.mqttStore.getChargePointConnectedVehicleInstantChargingLimit(o).soc){var r=this.mqttStore.getChargePointConnectedVehicleChargeTemplateIndex(o);this.$root.sendTopicToBroker(`openWB/vehicle/template/charge_template/${r}/chargemode/instant_charging/limit/soc`,parseInt(n))}},setChargePointConnectedVehicleInstantChargingLimitAmount(o,n){if(n&&n!=this.mqttStore.getChargePointConnectedVehicleInstantChargingLimit(o).amount){var r=this.mqttStore.getChargePointConnectedVehicleChargeTemplateIndex(o);this.$root.sendTopicToBroker(`openWB/vehicle/template/charge_template/${r}/chargemode/instant_charging/limit/amount`,n)}},setChargePointConnectedVehiclePvChargingFeedInLimit(o,n){if(n!=this.mqttStore.getChargePointConnectedVehiclePvChargingFeedInLimit(o)){var r=this.mqttStore.getChargePointConnectedVehicleChargeTemplateIndex(o);this.$root.sendTopicToBroker(`openWB/vehicle/template/charge_template/${r}/chargemode/pv_charging/feed_in_limit`,n)}},setChargePointConnectedVehiclePvChargingMinCurrent(o,n){let r=this.mqttStore.getChargePointConnectedVehiclePvChargingMinCurrent(o),m=parseInt(n);if(m!=r&&!isNaN(m)){var e=this.mqttStore.getChargePointConnectedVehicleChargeTemplateIndex(o);this.$root.sendTopicToBroker(`openWB/vehicle/template/charge_template/${e}/chargemode/pv_charging/min_current`,m)}},setChargePointConnectedVehiclePvChargingMinSoc(o,n){let r=this.mqttStore.getChargePointConnectedVehiclePvChargingMinSoc(o),m=parseInt(n);if(m!=r&&!isNaN(m)){var e=this.mqttStore.getChargePointConnectedVehicleChargeTemplateIndex(o);this.$root.sendTopicToBroker(`openWB/vehicle/template/charge_template/${e}/chargemode/pv_charging/min_soc`,m)}},setChargePointConnectedVehiclePvChargingMinSocCurrent(o,n){let r=this.mqttStore.getChargePointConnectedVehiclePvChargingMinSocCurrent(o),m=parseInt(n);if(m!=r&&!isNaN(m)){var e=this.mqttStore.getChargePointConnectedVehicleChargeTemplateIndex(o);this.$root.sendTopicToBroker(`openWB/vehicle/template/charge_template/${e}/chargemode/pv_charging/min_soc_current`,m)}},setChargePointConnectedVehiclePvChargingMaxSoc(o,n){let r=this.mqttStore.getChargePointConnectedVehiclePvChargingMaxSoc(o),m=parseInt(n);if(m!=r&&!isNaN(m)){var e=this.mqttStore.getChargePointConnectedVehicleChargeTemplateIndex(o);this.$root.sendTopicToBroker(`openWB/vehicle/template/charge_template/${e}/chargemode/pv_charging/max_soc`,m)}},setChargePointConnectedVehicleScheduledChargingPlanActive(o,n){this.$root.sendTopicToBroker(`${o}/active`,n)},setChargePointConnectedVehicleTimeChargingPlanActive(o,n){this.$root.sendTopicToBroker(`${o}/active`,n)}}},Ie={class:"charge-points-card-wrapper"},qe={key:0},we={key:0},ye={key:1},xe={key:2},Te={key:3},Le={key:4},Be={key:0},Me={key:1},Ae={key:2},ze={key:3},We={key:4};function Ne(o,n,r,m,e,s){const k=g("charge-point-plug-badge"),I=g("charge-point-lock-button"),P=g("i-column"),v=g("i-row"),Z=g("spark-line"),d=g("font-awesome-icon"),B=g("i-badge"),S=g("i-button"),M=g("i-container"),O=g("dash-board-card"),q=g("i-tab-title"),p=g("i-form-label"),W=g("i-select"),f=g("i-form-group"),R=g("i-select-option"),A=g("i-toggle"),w=g("i-form"),y=g("i-tab"),V=g("extended-number-input"),X=g("i-button-group"),N=g("i-alert"),G=g("i-tabs"),H=g("i-modal");return c(),_(x,null,[_e("div",Ie,[(c(!0),_(x,null,T(e.mqttStore.getChargePointIds,l=>(c(),C(O,{key:l,color:"primary"},{headerLeft:i(()=>[a(u(e.mqttStore.getChargePointName(l)),1)]),headerRight:i(()=>[t(k,{chargePointId:[l]},null,8,["chargePointId"])]),default:i(()=>[t(M,null,{default:i(()=>[t(v,null,{default:i(()=>[h(" charge point data on left side "),t(P,null,{default:i(()=>[t(v,null,{default:i(()=>[t(P,{class:"_padding-left:0 _padding-right:0"},{default:i(()=>[t(I,{chargePointId:l,changesLocked:r.changesLocked},null,8,["chargePointId","changesLocked"])]),_:2},1024),t(P,{class:"_text-align:right _padding-left:0"},{default:i(()=>[a(u(e.mqttStore.getChargePointPower(l))+" "+u(e.mqttStore.getChargePointPhasesInUse(l))+" "+u(e.mqttStore.getChargePointSetCurrent(l)),1)]),_:2},1024)]),_:2},1024),t(v,{class:"_padding-top:1"},{default:i(()=>[t(P,{class:"_padding-left:0"},{default:i(()=>[t(Z,{color:"var(--color--primary)",data:e.mqttStore.getChargePointPowerChartData(l)},null,8,["data"])]),_:2},1024)]),_:2},1024)]),_:2},1024),h(" vehicle data on right side "),t(P,{md:"6"},{default:i(()=>[h(" vehicle and soc "),t(v,{class:"_display:flex"},{default:i(()=>[t(P,{class:"_padding-left:0 _padding-right:0 _flex-grow:1"},{default:i(()=>[t(B,{size:"lg",class:"full-width"},{default:i(()=>[t(d,{"fixed-width":"",icon:["fas","fa-car"]}),a(" "+u(e.mqttStore.getChargePointConnectedVehicleName(l)),1)]),_:2},1024)]),_:2},1024),e.mqttStore.getVehicleSocConfigured(e.mqttStore.getChargePointConnectedVehicleId(l))||e.mqttStore.getVehicleFaultState(e.mqttStore.getChargePointConnectedVehicleId(l))!=0?(c(),C(P,{key:0,class:"_flex-grow:0 _padding-right:0 _padding-left:1"},{default:i(()=>[t(S,{size:"sm",onClick:b=>s.handleSocClick(l)},{default:i(()=>[e.mqttStore.getVehicleSocConfigured(e.mqttStore.getChargePointConnectedVehicleId(l))?(c(),_("span",qe,[t(d,{"fixed-width":"",icon:e.mqttStore.getVehicleSocIsManual(e.mqttStore.getChargePointConnectedVehicleId(l))?["fas","fa-edit"]:["fas","fa-car-battery"]},null,8,["icon"]),a(" "+u(e.mqttStore.getChargePointConnectedVehicleSoc(l).soc)+"% ",1)])):h("v-if",!0),e.mqttStore.getVehicleFaultState(e.mqttStore.getChargePointConnectedVehicleId(l))!=0?(c(),C(d,{key:1,"fixed-width":"",icon:e.mqttStore.getVehicleFaultState(e.mqttStore.getChargePointConnectedVehicleId(l))>0?e.mqttStore.getVehicleFaultState(e.mqttStore.getChargePointConnectedVehicleId(l))>1?["fas","times-circle"]:["fas","exclamation-triangle"]:[],class:L(e.mqttStore.getVehicleFaultState(e.mqttStore.getChargePointConnectedVehicleId(l))>0?e.mqttStore.getVehicleFaultState(e.mqttStore.getChargePointConnectedVehicleId(l))>1?"_color:danger":"_color:warning":"")},null,8,["icon","class"])):h("v-if",!0)]),_:2},1032,["onClick"])]),_:2},1024)):h("v-if",!0)]),_:2},1024),h(" charge mode info "),t(v,{class:"_padding-top:1 _display:flex"},{default:i(()=>[t(P,{class:"_padding-left:0 _padding-right:0 _flex-grow:1"},{default:i(()=>[t(B,{size:"lg",class:"full-width",color:e.mqttStore.getChargePointConnectedVehicleChargeMode(l).class},{default:i(()=>[a(u(e.mqttStore.getChargePointConnectedVehicleChargeMode(l).label),1)]),_:2},1032,["color"])]),_:2},1024),e.mqttStore.getChargePointConnectedVehiclePriority(l)||e.mqttStore.getChargePointConnectedVehicleTimeChargingActive(l)?(c(),C(P,{key:0,class:"_flex-grow:0 _padding-right:0 _padding-left:1"},{default:i(()=>[t(B,{size:"lg"},{default:i(()=>[e.mqttStore.getChargePointConnectedVehiclePriority(l)?(c(),C(d,{key:0,"fixed-width":"",icon:["fas","fa-star"],class:"_color:warning"})):h("v-if",!0),e.mqttStore.getChargePointConnectedVehicleTimeChargingActive(l)?(c(),C(d,{key:1,"fixed-width":"",icon:e.mqttStore.getChargePointConnectedVehicleTimeChargingRunning(l)?["fas","fa-clock"]:["far","fa-clock"],class:L(e.mqttStore.getChargePointConnectedVehicleTimeChargingRunning(l)?"_color:success":"")},null,8,["icon","class"])):h("v-if",!0)]),_:2},1024)]),_:2},1024)):h("v-if",!0)]),_:2},1024),h(" settings button "),r.changesLocked?h("v-if",!0):(c(),C(v,{key:0,class:"_padding-top:1"},{default:i(()=>[t(P,{class:"_padding-left:0 _padding-right:0"},{default:i(()=>[t(S,{block:"",onClick:b=>s.toggleChargePointSettings(l)},{default:i(()=>[t(d,{"fixed-width":"",icon:["fas","fa-wrench"]})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024))]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),h(" modals "),t(H,{modelValue:e.modalChargePointSettingsVisible,"onUpdate:modelValue":n[16]||(n[16]=l=>e.modalChargePointSettingsVisible=l),size:"lg"},{header:i(()=>[a(' Einstellungen für Ladepunkt "'+u(e.mqttStore.getChargePointName(e.modalChargePointSettingsId))+'" ',1)]),default:i(()=>[t(G,{modelValue:e.modalActiveTab,"onUpdate:modelValue":n[15]||(n[15]=l=>e.modalActiveTab=l),stretch:""},{header:i(()=>[t(q,{for:"tab-general"},{default:i(()=>[a(" Allgemein ")]),_:1}),t(q,{for:"tab-instant-charging"},{default:i(()=>[a(" Sofort ")]),_:1}),t(q,{for:"tab-pv-charging"},{default:i(()=>[a(" PV ")]),_:1}),t(q,{for:"tab-scheduled-charging"},{default:i(()=>[a(" Zielladen ")]),_:1}),t(q,{for:"tab-time-charging"},{default:i(()=>[a(" Zeitladen ")]),_:1})]),default:i(()=>[t(y,{name:"tab-general"},{default:i(()=>[t(w,null,{default:i(()=>[t(f,null,{default:i(()=>[t(p,null,{default:i(()=>[t(d,{"fixed-width":"",icon:["fas","fa-car"]}),a(" Fahrzeug ")]),_:1}),t(W,{size:"lg",disabled:!e.mqttStore.getChargePointVehicleChangePermitted(e.modalChargePointSettingsId),"model-value":e.mqttStore.getChargePointConnectedVehicleInfo(e.modalChargePointSettingsId),label:"name",options:s.vehicleList,placeholder:"Bitte auswählen..","onUpdate:modelValue":n[0]||(n[0]=l=>s.setChargePointConnectedVehicle(e.modalChargePointSettingsId,l))},null,8,["disabled","model-value","options"])]),_:1}),t(f,null,{default:i(()=>[t(p,null,{default:i(()=>[a("Lademodus")]),_:1}),t(W,{size:"lg","model-value":e.mqttStore.getChargePointConnectedVehicleChargeMode(e.modalChargePointSettingsId),placeholder:"Bitte auswählen..","onUpdate:modelValue":n[1]||(n[1]=l=>s.setChargePointConnectedVehicleChargeMode(e.modalChargePointSettingsId,l))},{default:i(()=>[(c(!0),_(x,null,T(e.mqttStore.chargeModeList(),l=>(c(),C(R,{key:l.id,value:l.id,label:l.label,class:L("_background:"+l.class)},null,8,["value","label","class"]))),128))]),_:1},8,["model-value"])]),_:1}),t(f,{inline:"",class:"_justify-content:space-around"},{default:i(()=>[t(f,{inline:""},{default:i(()=>[t(p,{placement:"left",class:"_align-items:center"},{default:i(()=>[t(d,{"fixed-width":"",icon:["far","fa-star"]}),a(" Priorität ")]),_:1}),t(A,{size:"lg","model-value":e.mqttStore.getChargePointConnectedVehiclePriority(e.modalChargePointSettingsId),"onUpdate:modelValue":n[2]||(n[2]=l=>s.setChargePointConnectedVehiclePriority(e.modalChargePointSettingsId,l))},null,8,["model-value"])]),_:1}),t(f,{inline:"",class:"_margin-top:0"},{default:i(()=>[t(p,{placement:"left",class:"_align-items:center"},{default:i(()=>[t(d,{"fixed-width":"",icon:["far","fa-clock"]}),a(" Zeitladen ")]),_:1}),t(A,{size:"lg","model-value":e.mqttStore.getChargePointConnectedVehicleTimeChargingActive(e.modalChargePointSettingsId),"onUpdate:modelValue":n[3]||(n[3]=l=>s.setChargePointConnectedVehicleTimeChargingActive(e.modalChargePointSettingsId,l))},null,8,["model-value"])]),_:1})]),_:1})]),_:1})]),_:1}),t(y,{name:"tab-instant-charging"},{default:i(()=>[t(w,null,{default:i(()=>[t(f,null,{default:i(()=>[t(p,null,{default:i(()=>[a("Stromstärke")]),_:1}),t(V,{unit:"A",min:6,max:32,"model-value":e.mqttStore.getChargePointConnectedVehicleInstantChargingCurrent(e.modalChargePointSettingsId),"onUpdate:modelValue":n[4]||(n[4]=l=>s.setChargePointConnectedVehicleInstantChargingCurrent(e.modalChargePointSettingsId,l))},null,8,["model-value"])]),_:1}),t(f,null,{default:i(()=>[t(p,null,{default:i(()=>[a("Begrenzung")]),_:1}),t(X,{block:""},{default:i(()=>[t(S,{color:e.mqttStore.getChargePointConnectedVehicleInstantChargingLimit(e.modalChargePointSettingsId).selected=="none"?"primary":"",active:e.mqttStore.getChargePointConnectedVehicleInstantChargingLimit(e.modalChargePointSettingsId).selected=="none",onClick:n[5]||(n[5]=l=>s.setChargePointConnectedVehicleInstantChargingLimit(e.modalChargePointSettingsId,"none"))},{default:i(()=>[a(" Keine ")]),_:1},8,["color","active"]),t(S,{color:e.mqttStore.getChargePointConnectedVehicleInstantChargingLimit(e.modalChargePointSettingsId).selected=="soc"?"primary":"",active:e.mqttStore.getChargePointConnectedVehicleInstantChargingLimit(e.modalChargePointSettingsId).selected=="soc",onClick:n[6]||(n[6]=l=>s.setChargePointConnectedVehicleInstantChargingLimit(e.modalChargePointSettingsId,"soc"))},{default:i(()=>[a(" EV-SoC ")]),_:1},8,["color","active"]),t(S,{color:e.mqttStore.getChargePointConnectedVehicleInstantChargingLimit(e.modalChargePointSettingsId).selected=="amount"?"primary":"",active:e.mqttStore.getChargePointConnectedVehicleInstantChargingLimit(e.modalChargePointSettingsId).selected=="amount",onClick:n[7]||(n[7]=l=>s.setChargePointConnectedVehicleInstantChargingLimit(e.modalChargePointSettingsId,"amount"))},{default:i(()=>[a(" Energie ")]),_:1},8,["color","active"])]),_:1})]),_:1}),e.mqttStore.getChargePointConnectedVehicleInstantChargingLimit(e.modalChargePointSettingsId).selected=="soc"?(c(),C(f,{key:0},{default:i(()=>[t(p,null,{default:i(()=>[a("Max. SoC")]),_:1}),t(V,{unit:"%",min:5,max:100,step:5,"model-value":e.mqttStore.getChargePointConnectedVehicleInstantChargingLimit(e.modalChargePointSettingsId).soc,"onUpdate:modelValue":n[8]||(n[8]=l=>s.setChargePointConnectedVehicleInstantChargingLimitSoc(e.modalChargePointSettingsId,l))},null,8,["model-value"])]),_:1})):h("v-if",!0),e.mqttStore.getChargePointConnectedVehicleInstantChargingLimit(e.modalChargePointSettingsId).selected=="amount"?(c(),C(f,{key:1},{default:i(()=>[t(p,null,{default:i(()=>[a("Max. Energie")]),_:1}),t(V,{unit:"kWh",min:1,max:100,"model-value":e.mqttStore.getChargePointConnectedVehicleInstantChargingLimit(e.modalChargePointSettingsId).amount/1e3,"onUpdate:modelValue":n[9]||(n[9]=l=>s.setChargePointConnectedVehicleInstantChargingLimitAmount(e.modalChargePointSettingsId,l*1e3))},null,8,["model-value"])]),_:1})):h("v-if",!0)]),_:1})]),_:1}),t(y,{name:"tab-pv-charging"},{default:i(()=>[t(w,null,{default:i(()=>[t(f,{inline:""},{default:i(()=>[t(p,{placement:"left",class:"_align-items:center"},{default:i(()=>[a(" Einspeisegrenze beachten ")]),_:1}),t(A,{size:"lg","model-value":e.mqttStore.getChargePointConnectedVehiclePvChargingFeedInLimit(e.modalChargePointSettingsId),"onUpdate:modelValue":n[10]||(n[10]=l=>s.setChargePointConnectedVehiclePvChargingFeedInLimit(e.modalChargePointSettingsId,l))},null,8,["model-value"])]),_:1}),t(f,null,{default:i(()=>[t(p,null,{default:i(()=>[a("Mindeststrom")]),_:1}),t(V,{unit:"A",labels:[{label:"Aus",value:0},{label:6,value:6},{label:7,value:7},{label:8,value:8},{label:9,value:9},{label:10,value:10},{label:11,value:11},{label:12,value:12},{label:13,value:13},{label:14,value:14},{label:15,value:15},{label:16,value:16}],"model-value":e.mqttStore.getChargePointConnectedVehiclePvChargingMinCurrent(e.modalChargePointSettingsId),"onUpdate:modelValue":n[11]||(n[11]=l=>s.setChargePointConnectedVehiclePvChargingMinCurrent(e.modalChargePointSettingsId,l))},null,8,["model-value"])]),_:1}),t(f,null,{default:i(()=>[t(p,null,{default:i(()=>[a("Mindest-SoC")]),_:1}),t(V,{unit:"%",labels:[{label:"Aus",value:0},{label:5,value:5},{label:10,value:10},{label:15,value:15},{label:20,value:20},{label:25,value:25},{label:30,value:30},{label:35,value:35},{label:40,value:40},{label:45,value:45},{label:50,value:50},{label:55,value:55},{label:60,value:60},{label:65,value:65},{label:70,value:70},{label:75,value:75},{label:80,value:80},{label:85,value:85},{label:90,value:90},{label:95,value:95}],"model-value":e.mqttStore.getChargePointConnectedVehiclePvChargingMinSoc(e.modalChargePointSettingsId),"onUpdate:modelValue":n[12]||(n[12]=l=>s.setChargePointConnectedVehiclePvChargingMinSoc(e.modalChargePointSettingsId,l))},null,8,["model-value"])]),_:1}),t(f,null,{default:i(()=>[t(p,null,{default:i(()=>[a("Mindest-SoC Strom")]),_:1}),t(V,{min:6,max:32,unit:"A","model-value":e.mqttStore.getChargePointConnectedVehiclePvChargingMinSocCurrent(e.modalChargePointSettingsId),"onUpdate:modelValue":n[13]||(n[13]=l=>s.setChargePointConnectedVehiclePvChargingMinSocCurrent(e.modalChargePointSettingsId,l))},null,8,["model-value"])]),_:1}),t(f,null,{default:i(()=>[t(p,null,{default:i(()=>[a("SoC-Limit")]),_:1}),t(V,{unit:"%",labels:[{label:5,value:5},{label:10,value:10},{label:15,value:15},{label:20,value:20},{label:25,value:25},{label:30,value:30},{label:35,value:35},{label:40,value:40},{label:45,value:45},{label:50,value:50},{label:55,value:55},{label:60,value:60},{label:65,value:65},{label:70,value:70},{label:75,value:75},{label:80,value:80},{label:85,value:85},{label:90,value:90},{label:95,value:95},{label:100,value:100},{label:"Aus",value:101}],"model-value":e.mqttStore.getChargePointConnectedVehiclePvChargingMaxSoc(e.modalChargePointSettingsId),"onUpdate:modelValue":n[14]||(n[14]=l=>s.setChargePointConnectedVehiclePvChargingMaxSoc(e.modalChargePointSettingsId,l))},null,8,["model-value"])]),_:1})]),_:1})]),_:1}),t(y,{name:"tab-scheduled-charging"},{default:i(()=>[Object.keys(e.mqttStore.getChargePointConnectedVehicleScheduledChargingPlans(e.modalChargePointSettingsId)).length===0?(c(),C(N,{key:0},{icon:i(()=>[t(d,{"fixed-width":"",icon:["fas","fa-info-circle"]})]),default:i(()=>[a(" Es wurden noch keine Zeitpläne für das Zielladen eingerichtet. ")]),_:1})):(c(),C(w,{key:1},{default:i(()=>[(c(!0),_(x,null,T(e.mqttStore.getChargePointConnectedVehicleScheduledChargingPlans(e.modalChargePointSettingsId),(l,b)=>(c(),C(f,{key:b},{default:i(()=>[t(M,null,{default:i(()=>[t(v,null,{default:i(()=>[t(p,null,{default:i(()=>[a(u(l.name),1)]),_:2},1024)]),_:2},1024),t(v,null,{default:i(()=>[t(S,{size:"lg",block:"",color:l.active?"success":"danger",onClick:J=>s.setChargePointConnectedVehicleScheduledChargingPlanActive(b,!l.active)},{default:i(()=>[l.frequency.selected=="once"?(c(),_("span",we,[t(d,{"fixed-width":"",icon:["fas","calendar-day"]}),a(" "+u(e.mqttStore.formatDate(l.frequency.once)),1)])):h("v-if",!0),l.frequency.selected=="daily"?(c(),_("span",ye,[t(d,{"fixed-width":"",icon:["fas","calendar-week"]}),a(" täglich ")])):h("v-if",!0),l.frequency.selected=="weekly"?(c(),_("span",xe,[t(d,{"fixed-width":"",icon:["fas","calendar-alt"]}),a(" "+u(e.mqttStore.formatWeeklyScheduleDays(l.frequency.weekly)),1)])):h("v-if",!0),t(d,{"fixed-width":"",icon:["fas","clock"]}),a(" "+u(l.time)+" ",1),l.limit.selected=="soc"?(c(),_("span",Te,[t(d,{"fixed-width":"",icon:["fas","car-battery"]}),a(" "+u(l.limit.soc_scheduled)+" % ",1)])):h("v-if",!0),l.limit.selected=="amount"?(c(),_("span",Le,[t(d,{"fixed-width":"",icon:["fas","bolt"]}),a(" "+u(l.limit.amount/1e3)+" kWh ",1)])):h("v-if",!0)]),_:2},1032,["color","onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1}))]),_:1}),t(y,{name:"tab-time-charging"},{default:i(()=>[Object.keys(e.mqttStore.getChargePointConnectedVehicleTimeChargingPlans(e.modalChargePointSettingsId)).length===0?(c(),C(N,{key:0},{icon:i(()=>[t(d,{"fixed-width":"",icon:["fas","fa-circle-info"]})]),default:i(()=>[a(" Es wurden noch keine Zeitpläne für das Zeitladen eingerichtet. ")]),_:1})):(c(),C(w,{key:1},{default:i(()=>[(c(!0),_(x,null,T(e.mqttStore.getChargePointConnectedVehicleTimeChargingPlans(e.modalChargePointSettingsId),(l,b)=>(c(),C(f,{key:b},{default:i(()=>[t(M,null,{default:i(()=>[t(v,null,{default:i(()=>[t(p,null,{default:i(()=>[a(u(l.name),1)]),_:2},1024)]),_:2},1024),t(v,null,{default:i(()=>[t(S,{size:"lg",block:"",color:l.active?"success":"danger",onClick:J=>s.setChargePointConnectedVehicleTimeChargingPlanActive(b,!l.active)},{default:i(()=>[l.frequency.selected=="once"?(c(),_("span",Be,[t(d,{"fixed-width":"",icon:["fas","calendar-day"]}),a(" "+u(e.mqttStore.formatDateRange(l.frequency.once)),1)])):h("v-if",!0),l.frequency.selected=="daily"?(c(),_("span",Me,[t(d,{"fixed-width":"",icon:["fas","calendar-week"]}),a(" täglich ")])):h("v-if",!0),l.frequency.selected=="weekly"?(c(),_("span",Ae,[t(d,{"fixed-width":"",icon:["fas","calendar-alt"]}),a(" "+u(e.mqttStore.formatWeeklyScheduleDays(l.frequency.weekly)),1)])):h("v-if",!0),t(d,{"fixed-width":"",icon:["fas","clock"]}),a(" "+u(l.time.join("-"))+" ",1),l.limit.selected=="soc"?(c(),_("span",ze,[t(d,{"fixed-width":"",icon:["fas","car-battery"]}),a(" "+u(l.limit.soc)+" % ",1)])):h("v-if",!0),l.limit.selected=="amount"?(c(),_("span",We,[t(d,{"fixed-width":"",icon:["fas","bolt"]}),a(" "+u(l.limit.amount/1e3)+" kWh ",1)])):h("v-if",!0)]),_:2},1032,["color","onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1}))]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["modelValue"])],64)}const Ze=z(ke,[["render",Ne],["__scopeId","data-v-dd5faf5e"],["__file","/var/www/html/openWB/packages/modules/web_themes/cards/source/src/views/ChargePointsView.vue"]]);export{Ze as default};
