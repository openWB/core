import{l as d,o as n,n as g,p as r,s as u,f as _,i as w,e as l,F as C,A as k,z as D,j as P,Q as N}from"./vendor-13e0775b.js";import{_ as y}from"./vendor-inkline-cb72ed6e.js";const $={name:"DashBoardCard",props:{color:String}};function B(t,i,e,a,c,o){const s=d("i-column"),h=d("i-row"),v=d("i-container"),x=d("i-card");return n(),g(x,{color:e.color},{header:r(()=>[u(v,null,{default:r(()=>[u(h,null,{default:r(()=>[u(s,null,{default:r(()=>[_(t.$slots,"headerLeft",{},void 0,!0)]),_:3}),t.$slots.headerRight?(n(),g(s,{key:0,class:"_flex-grow:0 _text-align:right _white-space:nowrap"},{default:r(()=>[_(t.$slots,"headerRight",{},void 0,!0)]),_:3})):w("v-if",!0)]),_:3})]),_:3})]),default:r(()=>[_(t.$slots,"default",{},void 0,!0)]),_:3},8,["color"])}const E=y($,[["render",B],["__scopeId","data-v-aa92abad"],["__file","/var/www/html/openWB/packages/modules/display_themes/cards/source/src/components/DashBoardCard.vue"]]);const f={props:{data:{required:!1,type:Array},socData:{required:!1,type:Array},width:{Number,default:250},height:{Number,default:70},gap:{Number,default:3},stroke:{Number,default:3},min:{Number,default:0},max:{Number,default:1},color:{String,default:"var(--color--primary)"},colorNegative:{String,default:void 0}},computed:{highestPoint(){return Math.max(1,this.max,...this.slicedData)},lowestPoint(){return Math.min(0,this.min,...this.slicedData)},maxPoints(){return Math.floor(this.width/(this.stroke+this.gap))},slicedData(){if(this.data)return this.data.slice(-this.maxPoints)},slicedSocData(){if(this.socData)return this.socData.slice(-this.maxPoints)},zeroHeight(){return this.height-(0-this.lowestPoint)/(this.highestPoint-this.lowestPoint)*this.height},coordinates(){if(this.data)return this.calculateCoordinates(this.slicedData,this.lowestPoint,this.highestPoint)},socCoordinates(){if(this.socData)return this.calculateCoordinates(this.slicedSocData,0,100)},bars(){if(this.coordinates){const t=[];return this.coordinates.forEach(i=>{const e=i.x,a=i.y,c=this.stroke,o=Math.min(a,this.zeroHeight),s=Math.abs(a-this.zeroHeight),h=a>this.zeroHeight;t.push({x:e,y:o,width:c,height:s,negative:h})}),t}},socPath(){if(this.socCoordinates){let i=this.socCoordinates.slice(0,1)[0],e=this.socCoordinates.slice(-1)[0];var t=`M 0,${this.height}`;return t+=` L 0,${i.y}`,this.socCoordinates.forEach(a=>{t+=` L ${a.x+this.stroke/2},${a.y}`}),t+=` L ${e.x+this.stroke},${e.y} L ${e.x+this.stroke},${this.height} Z`,t}}},methods:{calculateCoordinates(t,i,e){const a=[];return t.forEach((c,o)=>{const s=o*this.width/this.maxPoints+1,h=this.height-(c-i)/(e-i)*this.height;a.push({x:s,y:h})}),a}}},m=()=>{N(t=>({"fc7172b1-color":t.color,"fc7172b1-colorNegative":t.colorNegative}))},p=f.setup;f.setup=p?(t,i)=>(m(),p(t,i)):m;const S=f,b=["viewBox"],z=["d"],L=["x","y","width","height"],M=["y1","x2","y2"];function H(t,i,e,a,c,o){return n(),l("svg",{class:"spark-line",viewBox:`0 0 ${e.width} ${e.height}`,width:"100%",preserveAspectRatio:"xMinYMin"},[e.socData?(n(),l("path",{key:0,class:"soc-path",d:o.socPath},null,8,z)):w("v-if",!0),(n(!0),l(C,null,k(o.bars,s=>(n(),l("rect",{key:s.x,x:s.x,y:s.y,width:s.width,height:s.height,class:D(e.colorNegative&&s.negative?"negative":"")},null,10,L))),128)),P("line",{class:"zero-line",x1:0,y1:o.zeroHeight,x2:e.width,y2:o.zeroHeight},null,8,M)],8,b)}const R=y(S,[["render",H],["__scopeId","data-v-fc7172b1"],["__file","/var/www/html/openWB/packages/modules/display_themes/cards/source/src/components/SparkLine.vue"]]);export{E as D,R as S};
