import{u as B,C as ne,N as ie}from"./index-CHLaD7ED.js";import{D as z}from"./DashBoardCard-BterAPyf.js";import{S as oe,C as W}from"./ChargePointPlugBadge-DyF92yTK.js";import{l as N,b as le,c as ae,F as A,j as re,k as E,m as U,e as D,n as Z,o as R,p as j,q as O,r as J,s as K,t as G,u as H,v as ce,w as de,x as ge,y as he}from"./vendor-fortawesome-C68yAli-.js";import{_ as T}from"./vendor-inkline-Ce5aFAnW.js";import{q as g,o as d,l as u,n as i,s as n,y as q,e as S,k as r,F as x,x as s,i as m,A as L,I as se,j as ue,p as me}from"./vendor-CZ1MGz7j.js";N.add(le,ae);const Ce={name:"ChargePointLockButton",components:{FontAwesomeIcon:A},props:{chargePointId:{required:!0,type:Number},changesLocked:{required:!1,type:Boolean,default:!1}},data(){return{mqttStore:B()}},computed:{locked(){return this.mqttStore.getChargePointManualLock(this.chargePointId)},stateIcon(){return this.locked?["fas","fa-lock"]:["fas","fa-lock-open"]},stateClass(){return this.locked?["_color:danger"]:"_color:success"}},methods:{toggleChargePointManualLock(){this.changesLocked||this.$root.sendTopicToBroker(`openWB/chargepoint/${this.chargePointId}/set/manual_lock`,!this.mqttStore.getValueBool(`openWB/chargepoint/${this.chargePointId}/set/manual_lock`))}}};function fe(o,e,l,P,t,c){const f=g("font-awesome-icon"),V=g("i-button");return d(),u(V,{size:"lg",disabled:l.changesLocked,outline:l.changesLocked},{default:i(()=>[n(f,{"fixed-width":"",icon:c.stateIcon,class:q(c.stateClass),onClick:e[0]||(e[0]=C=>c.toggleChargePointManualLock())},null,8,["icon","class"])]),_:1},8,["disabled","outline"])}const Q=T(Ce,[["render",fe]]);N.add(re);const Pe={name:"ChargePointCodeButton",components:{FontAwesomeIcon:A,CodeInputModal:ne},props:{chargePointId:{type:Number,required:!0}},data(){return{mqttStore:B(),modalIdTagEntryVisible:!1,modalIdTagEntryColor:"warning",code:""}},computed:{tagState(){return this.mqttStore.getChargepointTagState(this.chargePointId)},tagButtonColor(){switch(this.tagState){case 2:return"success";case 1:return"warning";default:return""}},tagClass(){switch(this.tagState){case 2:return"_color:success-80";case 1:return"_color:warning-80";default:return""}}},methods:{toggleIdTagModal(){this.modalIdTagEntryVisible=!this.modalIdTagEntryVisible},sendIdTag(o){this.$root.sendTopicToBroker(`openWB/chargepoint/${this.chargePointId}/get/rfid`,o),this.modalIdTagEntryVisible=!1}}};function _e(o,e,l,P,t,c){const f=g("FontAwesomeIcon"),V=g("i-button"),C=g("CodeInputModal");return d(),S(x,null,[n(V,{class:"_margin-right:1",size:"lg",color:c.tagButtonColor,disabled:c.tagState==2,onClick:e[0]||(e[0]=h=>c.toggleIdTagModal())},{default:i(()=>[n(f,{"fixed-width":"",icon:["fas","fa-calculator"],class:q(c.tagClass)},null,8,["class"])]),_:1},8,["color","disabled"]),n(C,{ref:"lockInput",modelValue:t.modalIdTagEntryVisible,"onUpdate:modelValue":e[1]||(e[1]=h=>t.modalIdTagEntryVisible=h),"min-length":4,"max-length":20,"onUpdate:inputValue":c.sendIdTag},{header:i(()=>e[2]||(e[2]=[r(" Bitte einen ID-Tag eingeben. ")])),_:1},8,["modelValue","onUpdate:inputValue"])],64)}const X=T(Pe,[["render",_e]]);N.add(E,U,D,Z,R,j,O,J,K,G,H);const Se={name:"ChargePointCard",components:{DashBoardCard:z,SparkLine:oe,ChargePointPlugBadge:W,ChargePointLockButton:Q,ChargePointCodeButton:X,FontAwesomeIcon:A},props:{chargePointId:{type:Number,required:!0},changesLocked:{type:Boolean,required:!0}},emits:["vehicle-click","soc-click","charge-mode-click","toggle-charge-point-settings"],data(){return{mqttStore:B()}},methods:{handleVehicleClick(o){this.$emit("vehicle-click",o)},handleSocClick(o){this.$emit("soc-click",o)},handleChargeModeClick(o){this.$emit("charge-mode-click",o)},toggleChargePointSettings(o){this.$emit("toggle-charge-point-settings",o)}}},Ve={key:0};function be(o,e,l,P,t,c){const f=g("charge-point-plug-badge"),V=g("charge-point-code-button"),C=g("charge-point-lock-button"),h=g("i-column"),b=g("i-row"),k=g("spark-line"),I=g("font-awesome-icon"),_=g("i-badge"),y=g("i-button"),v=g("i-container"),p=g("dash-board-card");return d(),u(p,{color:"primary"},{headerLeft:i(()=>[r(s(t.mqttStore.getChargePointName(l.chargePointId)),1)]),headerRight:i(()=>[n(f,{"charge-point-id":[l.chargePointId]},null,8,["charge-point-id"])]),default:i(()=>[n(v,null,{default:i(()=>[n(b,null,{default:i(()=>[n(h,null,{default:i(()=>[n(b,null,{default:i(()=>[n(h,{class:"_padding-left:0 _padding-right:0"},{default:i(()=>[t.mqttStore.getRfidEnabled?(d(),u(V,{key:0,"charge-point-id":l.chargePointId},null,8,["charge-point-id"])):m("",!0),n(C,{"charge-point-id":l.chargePointId,"changes-locked":l.changesLocked},null,8,["charge-point-id","changes-locked"])]),_:1}),n(h,{class:"_text-align:right _padding-left:0"},{default:i(()=>[r(s(t.mqttStore.getChargePointPower(l.chargePointId))+" "+s(t.mqttStore.getChargePointPhasesInUse(l.chargePointId))+" "+s(t.mqttStore.getChargePointSetCurrent(l.chargePointId)),1)]),_:1})]),_:1}),n(b,{class:"_padding-top:1"},{default:i(()=>[n(h,{class:"_padding-left:0"},{default:i(()=>[n(k,{color:"var(--color--primary)",data:t.mqttStore.getChargePointPowerChartData(l.chargePointId)},null,8,["data"])]),_:1})]),_:1})]),_:1}),n(h,{md:"6"},{default:i(()=>[n(b,{class:"_display:flex"},{default:i(()=>[n(h,{class:"_padding-left:0 _padding-right:0 _flex-grow:1"},{default:i(()=>[n(_,{size:"lg",class:q(["_width:100%",l.changesLocked?"":"clickable"]),onClick:e[0]||(e[0]=w=>c.handleVehicleClick(l.chargePointId))},{default:i(()=>[n(I,{"fixed-width":"",icon:["fas","fa-car"]}),r(" "+s(t.mqttStore.getChargePointConnectedVehicleName(l.chargePointId)),1)]),_:1},8,["class"])]),_:1}),t.mqttStore.getVehicleSocConfigured(t.mqttStore.getChargePointConnectedVehicleId(l.chargePointId))||t.mqttStore.getVehicleFaultState(t.mqttStore.getChargePointConnectedVehicleId(l.chargePointId))!=0?(d(),u(h,{key:0,class:"_flex-grow:0 _padding-right:0 _padding-left:1"},{default:i(()=>[n(y,{size:"sm",disabled:l.changesLocked,class:q(l.changesLocked?"":"clickable"),onClick:e[1]||(e[1]=w=>c.handleSocClick(l.chargePointId))},{default:i(()=>[t.mqttStore.getVehicleSocConfigured(t.mqttStore.getChargePointConnectedVehicleId(l.chargePointId))?(d(),S("span",Ve,[n(I,{"fixed-width":"",icon:t.mqttStore.getVehicleSocIsManual(t.mqttStore.getChargePointConnectedVehicleId(l.chargePointId))?["fas","fa-edit"]:["fas","fa-car-battery"]},null,8,["icon"]),r(" "+s(t.mqttStore.getChargePointConnectedVehicleSoc(l.chargePointId).soc)+"% ",1)])):m("",!0),t.mqttStore.getVehicleFaultState(t.mqttStore.getChargePointConnectedVehicleId(l.chargePointId))!=0?(d(),u(I,{key:1,"fixed-width":"",icon:t.mqttStore.getVehicleFaultState(t.mqttStore.getChargePointConnectedVehicleId(l.chargePointId))>0?t.mqttStore.getVehicleFaultState(t.mqttStore.getChargePointConnectedVehicleId(l.chargePointId))>1?["fas","times-circle"]:["fas","exclamation-triangle"]:[],class:q(t.mqttStore.getVehicleFaultState(t.mqttStore.getChargePointConnectedVehicleId(l.chargePointId))>0?t.mqttStore.getVehicleFaultState(t.mqttStore.getChargePointConnectedVehicleId(l.chargePointId))>1?"_color:danger":"_color:warning":"")},null,8,["icon","class"])):m("",!0)]),_:1},8,["disabled","class"])]),_:1})):m("",!0)]),_:1}),n(b,{class:"_padding-top:1 _display:flex"},{default:i(()=>[n(h,{class:"_padding-left:0 _padding-right:0 _flex-grow:1"},{default:i(()=>[n(_,{size:"lg",class:q(["_width:100%",l.changesLocked?"":"clickable"]),color:t.mqttStore.getChargePointConnectedVehicleChargeMode(l.chargePointId).class,onClick:e[2]||(e[2]=w=>c.handleChargeModeClick(l.chargePointId))},{default:i(()=>[r(s(t.mqttStore.getChargePointConnectedVehicleChargeMode(l.chargePointId).label)+" ",1),n(I,{"fixed-width":"",icon:t.mqttStore.getChargePointConnectedVehiclePriority(l.chargePointId)?["fas","fa-star"]:["far","fa-star"],class:q(t.mqttStore.getChargePointConnectedVehiclePriority(l.chargePointId)?"_color:warning":"")},null,8,["icon","class"])]),_:1},8,["class","color"])]),_:1}),t.mqttStore.getChargePointConnectedVehicleTimeChargingActive(l.chargePointId)?(d(),u(h,{key:0,class:"_flex-grow:0 _padding-right:0 _padding-left:1"},{default:i(()=>[n(_,{size:"lg"},{default:i(()=>[t.mqttStore.getChargePointConnectedVehicleTimeChargingActive(l.chargePointId)?(d(),u(I,{key:0,"fixed-width":"",icon:t.mqttStore.getChargePointConnectedVehicleTimeChargingRunning(l.chargePointId)?["fas","fa-clock"]:["far","fa-clock"],class:q(t.mqttStore.getChargePointConnectedVehicleTimeChargingRunning(l.chargePointId)?"_color:success":"")},null,8,["icon","class"])):m("",!0)]),_:1})]),_:1})):m("",!0)]),_:1}),l.changesLocked?m("",!0):(d(),u(b,{key:0,class:"_padding-top:1"},{default:i(()=>[n(h,{class:"_padding-left:0 _padding-right:0"},{default:i(()=>[n(y,{block:"",onClick:e[3]||(e[3]=w=>c.toggleChargePointSettings(l.chargePointId))},{default:i(()=>[n(I,{"fixed-width":"",icon:["fas","fa-wrench"]})]),_:1})]),_:1})]),_:1}))]),_:1})]),_:1})]),_:1})]),_:1})}const Ie=T(Se,[["render",be],["__scopeId","data-v-3c6489c4"]]);N.add(E,U,D,Z,R,j,O,J,K,G,H);const ve={name:"ChargePointCard",components:{DashBoardCard:z,ChargePointPlugBadge:W,ChargePointLockButton:Q,ChargePointCodeButton:X,FontAwesomeIcon:A},props:{chargePointId:{type:Number,required:!0},changesLocked:{type:Boolean,required:!0}},emits:["vehicle-click","soc-click","charge-mode-click","toggle-charge-point-settings","set-charge-point-connected-vehicle-charge-mode"],data(){return{mqttStore:B(),simpleChargeModes:["instant_charging","pv_charging","stop"]}},computed:{filteredChargeModes(){return this.mqttStore.getSimpleChargePointView?this.mqttStore.chargeModeList().filter(o=>this.simpleChargeModes.includes(o.id)):this.mqttStore.chargeModeList()}},methods:{handleVehicleClick(o){this.$emit("vehicle-click",o)},handleSocClick(o){this.$emit("soc-click",o)},handleChargeModeClick(o){this.$emit("charge-mode-click",o)},toggleChargePointSettings(o){this.$emit("toggle-charge-point-settings",o)},setChargePointConnectedVehicleChargeMode(o,e){this.$emit("set-charge-point-connected-vehicle-charge-mode",o,e)}}},ke={key:0};function pe(o,e,l,P,t,c){const f=g("charge-point-plug-badge"),V=g("charge-point-code-button"),C=g("charge-point-lock-button"),h=g("i-column"),b=g("i-row"),k=g("font-awesome-icon"),I=g("i-button"),_=g("i-button-group"),y=g("i-container"),v=g("dash-board-card");return d(),u(v,{color:"primary"},{headerLeft:i(()=>[r(s(t.mqttStore.getChargePointName(l.chargePointId)),1)]),headerRight:i(()=>[n(f,{"charge-point-id":[l.chargePointId]},null,8,["charge-point-id"])]),default:i(()=>[n(y,null,{default:i(()=>[n(b,null,{default:i(()=>[n(h,null,{default:i(()=>[n(b,null,{default:i(()=>[n(h,{class:"_padding-left:0 _padding-right:0"},{default:i(()=>[t.mqttStore.getRfidEnabled?(d(),u(V,{key:0,"charge-point-id":l.chargePointId},null,8,["charge-point-id"])):m("",!0),n(C,{"charge-point-id":l.chargePointId,"changes-locked":l.changesLocked},null,8,["charge-point-id","changes-locked"])]),_:1}),n(h,{class:"_text-align:right _padding-left:0"},{default:i(()=>[r(s(t.mqttStore.getChargePointPower(l.chargePointId))+" "+s(t.mqttStore.getChargePointPhasesInUse(l.chargePointId))+" "+s(t.mqttStore.getChargePointSetCurrent(l.chargePointId)),1)]),_:1})]),_:1}),n(b,{class:"_padding-top:1"},{default:i(()=>[n(h,{class:"_padding-left:0 button-group-wrapper"},{default:i(()=>[n(_,{class:"button-group main-button-group"},{default:i(()=>[n(I,{class:q(["large-button _flex-grow:1",l.changesLocked?"":"clickable"]),disabled:l.changesLocked,onClick:e[0]||(e[0]=p=>c.handleVehicleClick(l.chargePointId))},{default:i(()=>[n(k,{"fixed-width":"",icon:["fas","fa-car"]}),r(" "+s(t.mqttStore.getChargePointConnectedVehicleName(l.chargePointId))+" ",1),n(k,{class:q(["_padding-left:1",t.mqttStore.getChargePointConnectedVehiclePriority(l.chargePointId)?"_color:warning":""]),"fixed-width":"",icon:t.mqttStore.getChargePointConnectedVehiclePriority(l.chargePointId)?["fas","fa-star"]:["far","fa-star"]},null,8,["icon","class"])]),_:1},8,["class","disabled"]),t.mqttStore.getVehicleSocConfigured(t.mqttStore.getChargePointConnectedVehicleId(l.chargePointId))||t.mqttStore.getVehicleFaultState(t.mqttStore.getChargePointConnectedVehicleId(l.chargePointId))!=0?(d(),u(I,{key:0,class:q(["large-button _flex-grow:0",l.changesLocked?"":"clickable"]),disabled:l.changesLocked,onClick:e[1]||(e[1]=p=>c.handleSocClick(l.chargePointId))},{default:i(()=>[t.mqttStore.getVehicleSocConfigured(t.mqttStore.getChargePointConnectedVehicleId(l.chargePointId))?(d(),S("span",ke,[n(k,{"fixed-width":"",icon:t.mqttStore.getVehicleSocIsManual(t.mqttStore.getChargePointConnectedVehicleId(l.chargePointId))?["fas","fa-edit"]:["fas","fa-car-battery"]},null,8,["icon"]),r(" "+s(t.mqttStore.getChargePointConnectedVehicleSoc(l.chargePointId).soc)+"% ",1)])):m("",!0),t.mqttStore.getVehicleFaultState(t.mqttStore.getChargePointConnectedVehicleId(l.chargePointId))!=0?(d(),u(k,{key:1,"fixed-width":"",icon:t.mqttStore.getVehicleFaultState(t.mqttStore.getChargePointConnectedVehicleId(l.chargePointId))>0?t.mqttStore.getVehicleFaultState(t.mqttStore.getChargePointConnectedVehicleId(l.chargePointId))>1?["fas","times-circle"]:["fas","exclamation-triangle"]:[],class:q(t.mqttStore.getVehicleFaultState(t.mqttStore.getChargePointConnectedVehicleId(l.chargePointId))>0?t.mqttStore.getVehicleFaultState(t.mqttStore.getChargePointConnectedVehicleId(l.chargePointId))>1?"_color:danger":"_color:warning":"")},null,8,["icon","class"])):m("",!0)]),_:1},8,["disabled","class"])):m("",!0),n(I,{class:q(["large-button _flex-grow:0",l.changesLocked?"":"clickable"]),disabled:l.changesLocked,onClick:e[2]||(e[2]=p=>c.toggleChargePointSettings(l.chargePointId))},{default:i(()=>[n(k,{"fixed-width":"",icon:["fas","fa-wrench"]})]),_:1},8,["class","disabled"])]),_:1}),n(_,{class:"button-group _margin-top:1",disabled:l.changesLocked},{default:i(()=>[(d(!0),S(x,null,L(c.filteredChargeModes,p=>(d(),u(I,{key:p.id,outline:"",class:q(["large-button _flex-grow:1",l.changesLocked?"":"clickable"]),color:p.class!="dark"?p.class:"light",active:t.mqttStore.getChargePointConnectedVehicleChargeMode(l.chargePointId)!=null&&p.id==t.mqttStore.getChargePointConnectedVehicleChargeMode(l.chargePointId).mode,onClick:w=>c.setChargePointConnectedVehicleChargeMode(l.chargePointId,p.id)},{default:i(()=>[r(s(p.label),1)]),_:2},1032,["class","color","active","onClick"]))),128))]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}const qe=T(ve,[["render",pe],["__scopeId","data-v-5e676b1f"]]),ye={name:"ExtendedNumberInput",inheritAttrs:!1,props:{modelValue:{type:Number,required:!0,default:NaN},unit:{type:String,default:""},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},labels:{type:Array,default:void 0}},emits:["update:modelValue"],data(){return{minimum:this.labels?0:this.min,maximum:this.labels?this.labels.length-1:this.max,stepSize:this.labels?1:this.step}},computed:{label(){var o;return this.labels&&this.inputValue!=null?this.inputValue<this.labels.length?o=this.labels[this.inputValue].label:console.error("index out of bounds: "+this.inputValue):o=this.inputValue,typeof o=="number"&&(o=o.toLocaleString(void 0,{minimumFractionDigits:this.precision,maximumFractionDigits:this.precision})),o},precision(){if(!isFinite(this.stepSize))return 0;for(var o=1,e=0;Math.round(this.stepSize*o)/o!==this.stepSize;)o*=10,e++;return e},inputValue:{get(){if(this.labels){var o=void 0;for(let e=0;e<this.labels.length;e++)if(this.labels[e].value==this.modelValue){o=e;break}return o===void 0&&this.modelValue!==void 0?(console.warn("inputValue: not found in values: ",this.modelValue,"using minimum as default: ",this.minimum),this.minimum):o}return this.modelValue},set(o){if(this.labels){var e=this.labels[o].value;this.$emit("update:modelValue",e)}else this.$emit("update:modelValue",o)}}},methods:{increment(){var o=Math.min(this.inputValue+this.stepSize,this.maximum);this.inputValue=Math.round(o*Math.pow(10,this.precision))/Math.pow(10,this.precision)},decrement(){var o=Math.max(this.inputValue-this.stepSize,this.minimum);this.inputValue=Math.round(o*Math.pow(10,this.precision))/Math.pow(10,this.precision)}}};function we(o,e,l,P,t,c){const f=g("i-button"),V=g("i-input");return d(),u(V,{modelValue:c.label,"onUpdate:modelValue":e[0]||(e[0]=C=>c.label=C),plaintext:"",class:"_text-align:right",size:"lg"},{prepend:i(()=>[n(f,{onClick:c.decrement},{default:i(()=>e[1]||(e[1]=[r(" - ")])),_:1},8,["onClick"])]),suffix:i(()=>[r(s(l.unit),1)]),append:i(()=>[n(f,{onClick:c.increment},{default:i(()=>e[2]||(e[2]=[r(" + ")])),_:1},8,["onClick"])]),_:1},8,["modelValue"])}const Y=T(ye,[["render",we]]),xe={name:"ManualSocInput",components:{ExtendedNumberInput:Y,NumberPad:ie},props:{modelValue:{required:!0,type:Boolean,default:!1},vehicleId:{required:!0,type:Number,default:0}},emits:["update:modelValue"],data(){return{mqttStore:B(),newSoc:0}},methods:{enter(o){let e=this.newSoc*10+parseInt(o);e>=0&&e<=100&&(this.newSoc=e)},removeDigit(){this.newSoc=Math.trunc(this.newSoc/10)},clear(){this.newSoc=0},close(){this.$emit("update:modelValue",!1),this.newSoc=0},updateManualSoc(){this.$root.sendTopicToBroker(`openWB/vehicle/${this.vehicleId}/soc_module/calculated_soc_state/manual_soc`,this.newSoc),this.close()}}};function Me(o,e,l,P,t,c){const f=g("extended-number-input"),V=g("i-column"),C=g("i-row"),h=g("NumberPad"),b=g("i-container"),k=g("i-button"),I=g("i-modal");return d(),u(se,{to:"body"},[n(I,{"model-value":l.modelValue,size:"sm","onUpdate:modelValue":e[6]||(e[6]=_=>o.$emit("update:modelValue",_))},{header:i(()=>[r(' SoC für Fahrzeug "'+s(t.mqttStore.getVehicleName(l.vehicleId))+'" ',1)]),footer:i(()=>[n(b,null,{default:i(()=>[n(C,null,{default:i(()=>[n(V,null,{default:i(()=>[n(k,{color:"danger",onClick:e[4]||(e[4]=_=>c.close())},{default:i(()=>e[7]||(e[7]=[r(" Zurück ")])),_:1})]),_:1}),n(V,{class:"_text-align:right"},{default:i(()=>[n(k,{color:"success",onClick:e[5]||(e[5]=_=>c.updateManualSoc())},{default:i(()=>e[8]||(e[8]=[r(" OK ")])),_:1})]),_:1})]),_:1})]),_:1})]),default:i(()=>[n(b,null,{default:i(()=>[n(C,{center:"",class:"_padding-bottom:1"},{default:i(()=>[n(V,null,{default:i(()=>[n(f,{modelValue:t.newSoc,"onUpdate:modelValue":e[0]||(e[0]=_=>t.newSoc=_),unit:"%",min:0,max:100,step:1,size:"lg",class:"_text-align:center"},null,8,["modelValue"])]),_:1})]),_:1}),n(h,{"onKey:digit":e[1]||(e[1]=_=>c.enter(_)),"onKey:clear":e[2]||(e[2]=_=>c.clear()),"onKey:delete":e[3]||(e[3]=_=>c.removeDigit())})]),_:1})]),_:1},8,["model-value"])])}const Te=T(xe,[["render",Me]]);N.add(ce,de,ge,he);const Le={name:"ChargePointsView",components:{ChargePointCard:Ie,SimpleChargePointCard:qe,ExtendedNumberInput:Y,ManualSocInput:Te,FontAwesomeIcon:A},props:{changesLocked:{required:!1,type:Boolean,default:!1}},data(){return{mqttStore:B(),modalChargeModeSettingVisible:!1,modalVehicleSelectVisible:!1,modalChargePointSettingsVisible:!1,modalChargePointId:0,modalVehicleId:0,modalActiveTab:"tab-general",modalManualSocInputVisible:!1,simpleChargeModes:["instant_charging","pv_charging","stop"]}},computed:{vehicleList(){let o=this.mqttStore.getVehicleList;var e=[];return Object.keys(o).forEach(l=>{let P=parseInt(l.match(/(?:\/)([0-9]+)(?=\/)*/g)[0].replace(/[^0-9]+/g,""));e.push({id:P,name:o[l]})}),e},filteredChargeModes(){return this.mqttStore.getSimpleChargePointView?this.mqttStore.chargeModeList().filter(o=>this.simpleChargeModes.includes(o.id)):this.mqttStore.chargeModeList()}},watch:{changesLocked(o,e){e!==!0&&o===!0&&(this.modalChargeModeSettingVisible=!1,this.modalVehicleSelectVisible=!1,this.modalChargePointSettingsVisible=!1,this.modalManualSocInputVisible=!1)}},methods:{toggleChargePointSettings(o){switch(this.mqttStore.getChargePointConnectedVehicleChargeMode(o).mode){case"pv_charging":this.modalActiveTab="tab-pv-charging";break;case"scheduled_charging":this.modalActiveTab="tab-scheduled-charging";break;default:this.modalActiveTab="tab-instant-charging"}this.modalChargePointId=o,this.modalChargePointSettingsVisible=!0},handleChargeModeClick(o){this.changesLocked||(this.modalChargePointId=o,this.modalChargeModeSettingVisible=!0)},handleVehicleClick(o){this.changesLocked||(this.modalChargePointId=o,this.modalVehicleSelectVisible=!0)},handleSocClick(o){let e=this.mqttStore.getChargePointConnectedVehicleId(o);if(this.mqttStore.getVehicleSocIsManual(e)){this.modalVehicleId=e,this.modalManualSocInputVisible=!0;return}this.$root.sendTopicToBroker(`openWB/set/vehicle/${e}/get/force_soc_update`,1)},setChargePointConnectedVehicle(o,e){e.id!=this.mqttStore.getChargePointConnectedVehicleId(o)&&this.$root.sendTopicToBroker(`openWB/chargepoint/${o}/config/ev`,e.id),this.modalVehicleSelectVisible&&(this.modalVehicleSelectVisible=!1)},setChargePointConnectedVehicleChargeMode(o,e){if(e.id!=this.mqttStore.getChargePointConnectedVehicleChargeMode(o)){var l=this.mqttStore.getChargePointConnectedVehicleChargeTemplateIndex(o);this.$root.sendTopicToBroker(`openWB/vehicle/template/charge_template/${l}/chargemode/selected`,e)}},setChargePointConnectedVehiclePriority(o,e){if(e!=this.mqttStore.getChargePointConnectedVehiclePriority(o)){var l=this.mqttStore.getChargePointConnectedVehicleChargeTemplateIndex(o);this.$root.sendTopicToBroker(`openWB/vehicle/template/charge_template/${l}/prio`,e)}},setChargePointConnectedVehicleTimeChargingActive(o,e){if(e!=this.mqttStore.getChargePointConnectedVehicleTimeChargingActive(o)){var l=this.mqttStore.getChargePointConnectedVehicleChargeTemplateIndex(o);this.$root.sendTopicToBroker(`openWB/vehicle/template/charge_template/${l}/time_charging/active`,e)}},setChargePointConnectedVehicleInstantChargingCurrent(o,e){if(e&&e!=this.mqttStore.getChargePointConnectedVehicleInstantChargingCurrent(o)){var l=this.mqttStore.getChargePointConnectedVehicleChargeTemplateIndex(o);this.$root.sendTopicToBroker(`openWB/vehicle/template/charge_template/${l}/chargemode/instant_charging/current`,parseFloat(e))}},setChargePointConnectedVehicleInstantChargingLimit(o,e){if(e&&e!=this.mqttStore.getChargePointConnectedVehicleInstantChargingLimit(o).selected){var l=this.mqttStore.getChargePointConnectedVehicleChargeTemplateIndex(o);this.$root.sendTopicToBroker(`openWB/vehicle/template/charge_template/${l}/chargemode/instant_charging/limit/selected`,e)}},setChargePointConnectedVehicleInstantChargingLimitSoc(o,e){if(e&&e!=this.mqttStore.getChargePointConnectedVehicleInstantChargingLimit(o).soc){var l=this.mqttStore.getChargePointConnectedVehicleChargeTemplateIndex(o);this.$root.sendTopicToBroker(`openWB/vehicle/template/charge_template/${l}/chargemode/instant_charging/limit/soc`,parseInt(e))}},setChargePointConnectedVehicleInstantChargingLimitAmount(o,e){if(e&&e!=this.mqttStore.getChargePointConnectedVehicleInstantChargingLimit(o).amount){var l=this.mqttStore.getChargePointConnectedVehicleChargeTemplateIndex(o);this.$root.sendTopicToBroker(`openWB/vehicle/template/charge_template/${l}/chargemode/instant_charging/limit/amount`,e)}},setChargePointConnectedVehiclePvChargingFeedInLimit(o,e){if(e!=this.mqttStore.getChargePointConnectedVehiclePvChargingFeedInLimit(o)){var l=this.mqttStore.getChargePointConnectedVehicleChargeTemplateIndex(o);this.$root.sendTopicToBroker(`openWB/vehicle/template/charge_template/${l}/chargemode/pv_charging/feed_in_limit`,e)}},setChargePointConnectedVehiclePvChargingMinCurrent(o,e){let l=this.mqttStore.getChargePointConnectedVehiclePvChargingMinCurrent(o),P=parseInt(e);if(P!=l&&!isNaN(P)){var t=this.mqttStore.getChargePointConnectedVehicleChargeTemplateIndex(o);this.$root.sendTopicToBroker(`openWB/vehicle/template/charge_template/${t}/chargemode/pv_charging/min_current`,P)}},setChargePointConnectedVehiclePvChargingMinSoc(o,e){let l=this.mqttStore.getChargePointConnectedVehiclePvChargingMinSoc(o),P=parseInt(e);if(P!=l&&!isNaN(P)){var t=this.mqttStore.getChargePointConnectedVehicleChargeTemplateIndex(o);this.$root.sendTopicToBroker(`openWB/vehicle/template/charge_template/${t}/chargemode/pv_charging/min_soc`,P)}},setChargePointConnectedVehiclePvChargingMinSocCurrent(o,e){let l=this.mqttStore.getChargePointConnectedVehiclePvChargingMinSocCurrent(o),P=parseInt(e);if(P!=l&&!isNaN(P)){var t=this.mqttStore.getChargePointConnectedVehicleChargeTemplateIndex(o);this.$root.sendTopicToBroker(`openWB/vehicle/template/charge_template/${t}/chargemode/pv_charging/min_soc_current`,P)}},setChargePointConnectedVehiclePvChargingMaxSoc(o,e){let l=this.mqttStore.getChargePointConnectedVehiclePvChargingMaxSoc(o),P=parseInt(e);if(P!=l&&!isNaN(P)){var t=this.mqttStore.getChargePointConnectedVehicleChargeTemplateIndex(o);this.$root.sendTopicToBroker(`openWB/vehicle/template/charge_template/${t}/chargemode/pv_charging/max_soc`,P)}},setChargePointConnectedVehicleScheduledChargingPlanActive(o,e){this.$root.sendTopicToBroker(`${o}/active`,e)},setChargePointConnectedVehicleTimeChargingPlanActive(o,e){this.$root.sendTopicToBroker(`${o}/active`,e)}}},Be={class:"charge-points-card-wrapper"},Ne={key:0},Ae={key:1},Fe={key:2},ze={key:3},We={key:4},Ee={key:0},Ue={key:1},De={key:0},Ze={key:1},Re={key:2},je={key:3},Oe={key:4};function Je(o,e,l,P,t,c){const f=g("i-button"),V=g("i-button-group"),C=g("i-form-group"),h=g("i-form-label"),b=g("i-form"),k=g("i-modal"),I=g("i-tab-title"),_=g("extended-number-input"),y=g("i-tab"),v=g("font-awesome-icon"),p=g("i-alert"),w=g("i-row"),F=g("i-container"),$=g("i-tabs"),ee=g("manual-soc-input");return d(),S(x,null,[ue("div",Be,[(d(!0),S(x,null,L(t.mqttStore.getChargePointIds,a=>(d(),u(me(t.mqttStore.getSimpleChargePointView?"SimpleChargePointCard":"ChargePointCard"),{key:a,"charge-point-id":a,"changes-locked":l.changesLocked,onVehicleClick:c.handleVehicleClick,onSocClick:c.handleSocClick,onChargeModeClick:c.handleChargeModeClick,onToggleChargePointSettings:c.toggleChargePointSettings,onSetChargePointConnectedVehicleChargeMode:c.setChargePointConnectedVehicleChargeMode},null,40,["charge-point-id","changes-locked","onVehicleClick","onSocClick","onChargeModeClick","onToggleChargePointSettings","onSetChargePointConnectedVehicleChargeMode"]))),128))]),n(k,{modelValue:t.modalChargeModeSettingVisible,"onUpdate:modelValue":e[2]||(e[2]=a=>t.modalChargeModeSettingVisible=a),size:"lg"},{header:i(()=>[r(' Lademodus für "'+s(t.mqttStore.getChargePointConnectedVehicleName(t.modalChargePointId))+'" auswählen ',1)]),default:i(()=>[n(b,null,{default:i(()=>[n(C,null,{default:i(()=>[n(V,{block:"",vertical:""},{default:i(()=>[(d(!0),S(x,null,L(c.filteredChargeModes,a=>(d(),u(f,{key:a.id,size:"lg",class:"large-button",outline:"",color:a.class!="dark"?a.class:"light",active:t.mqttStore.getChargePointConnectedVehicleChargeMode(t.modalChargePointId)!=null&&a.id==t.mqttStore.getChargePointConnectedVehicleChargeMode(t.modalChargePointId).mode,onClick:M=>c.setChargePointConnectedVehicleChargeMode(t.modalChargePointId,a.id)},{default:i(()=>[r(s(a.label),1)]),_:2},1032,["color","active","onClick"]))),128))]),_:1})]),_:1}),n(C,null,{default:i(()=>[n(h,null,{default:i(()=>e[21]||(e[21]=[r("Priorität")])),_:1}),n(V,{block:""},{default:i(()=>[n(f,{size:"lg",class:"large-button",color:t.mqttStore.getChargePointConnectedVehiclePriority(t.modalChargePointId)!==!0?"danger":"",onClick:e[0]||(e[0]=a=>c.setChargePointConnectedVehiclePriority(t.modalChargePointId,!1))},{default:i(()=>e[22]||(e[22]=[r(" Nein ")])),_:1},8,["color"]),n(f,{color:t.mqttStore.getChargePointConnectedVehiclePriority(t.modalChargePointId)===!0?"success":"",onClick:e[1]||(e[1]=a=>c.setChargePointConnectedVehiclePriority(t.modalChargePointId,!0))},{default:i(()=>e[23]||(e[23]=[r(" Ja ")])),_:1},8,["color"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),n(k,{modelValue:t.modalVehicleSelectVisible,"onUpdate:modelValue":e[3]||(e[3]=a=>t.modalVehicleSelectVisible=a),class:"modal-vehicle-select",size:"lg"},{header:i(()=>[r(' Fahrzeug an "'+s(t.mqttStore.getChargePointName(t.modalChargePointId))+'" auswählen ',1)]),default:i(()=>[n(b,null,{default:i(()=>[n(C,null,{default:i(()=>[n(V,{vertical:"",block:""},{default:i(()=>[(d(!0),S(x,null,L(c.vehicleList,a=>(d(),u(f,{key:a.id,size:"lg",class:"large-button",active:t.mqttStore.getChargePointConnectedVehicleId(t.modalChargePointId)==a.id,color:t.mqttStore.getChargePointConnectedVehicleId(t.modalChargePointId)==a.id?"primary":"",onClick:M=>c.setChargePointConnectedVehicle(t.modalChargePointId,a)},{default:i(()=>[r(s(a.name),1)]),_:2},1032,["active","color","onClick"]))),128))]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),n(k,{modelValue:t.modalChargePointSettingsVisible,"onUpdate:modelValue":e[19]||(e[19]=a=>t.modalChargePointSettingsVisible=a),size:"lg"},{header:i(()=>[r(' Einstellungen für Fahrzeug "'+s(t.mqttStore.getChargePointConnectedVehicleName(t.modalChargePointId))+'" ',1)]),default:i(()=>[n($,{modelValue:t.modalActiveTab,"onUpdate:modelValue":e[18]||(e[18]=a=>t.modalActiveTab=a),stretch:""},{header:i(()=>[n(I,{for:"tab-instant-charging"},{default:i(()=>e[24]||(e[24]=[r(" Sofort ")])),_:1}),n(I,{for:"tab-pv-charging"},{default:i(()=>e[25]||(e[25]=[r(" PV ")])),_:1}),t.mqttStore.getSimpleChargePointView?m("",!0):(d(),u(I,{key:0,for:"tab-scheduled-charging"},{default:i(()=>e[26]||(e[26]=[r(" Zielladen ")])),_:1})),t.mqttStore.getSimpleChargePointView?m("",!0):(d(),u(I,{key:1,for:"tab-time-charging"},{default:i(()=>e[27]||(e[27]=[r(" Zeitladen ")])),_:1}))]),default:i(()=>[n(y,{name:"tab-instant-charging"},{default:i(()=>[n(b,null,{default:i(()=>[n(C,null,{default:i(()=>[n(h,null,{default:i(()=>e[28]||(e[28]=[r("Stromstärke")])),_:1}),n(_,{unit:"A",min:6,max:32,"model-value":t.mqttStore.getChargePointConnectedVehicleInstantChargingCurrent(t.modalChargePointId),"onUpdate:modelValue":e[4]||(e[4]=a=>c.setChargePointConnectedVehicleInstantChargingCurrent(t.modalChargePointId,a))},null,8,["model-value"])]),_:1}),n(C,null,{default:i(()=>[n(h,null,{default:i(()=>e[29]||(e[29]=[r("Begrenzung")])),_:1}),n(V,{block:""},{default:i(()=>[n(f,{color:t.mqttStore.getChargePointConnectedVehicleInstantChargingLimit(t.modalChargePointId).selected=="none"?"primary":"",active:t.mqttStore.getChargePointConnectedVehicleInstantChargingLimit(t.modalChargePointId).selected=="none",onClick:e[5]||(e[5]=a=>c.setChargePointConnectedVehicleInstantChargingLimit(t.modalChargePointId,"none"))},{default:i(()=>e[30]||(e[30]=[r(" Keine ")])),_:1},8,["color","active"]),n(f,{color:t.mqttStore.getChargePointConnectedVehicleInstantChargingLimit(t.modalChargePointId).selected=="soc"?"primary":"",active:t.mqttStore.getChargePointConnectedVehicleInstantChargingLimit(t.modalChargePointId).selected=="soc",onClick:e[6]||(e[6]=a=>c.setChargePointConnectedVehicleInstantChargingLimit(t.modalChargePointId,"soc"))},{default:i(()=>e[31]||(e[31]=[r(" EV-SoC ")])),_:1},8,["color","active"]),n(f,{color:t.mqttStore.getChargePointConnectedVehicleInstantChargingLimit(t.modalChargePointId).selected=="amount"?"primary":"",active:t.mqttStore.getChargePointConnectedVehicleInstantChargingLimit(t.modalChargePointId).selected=="amount",onClick:e[7]||(e[7]=a=>c.setChargePointConnectedVehicleInstantChargingLimit(t.modalChargePointId,"amount"))},{default:i(()=>e[32]||(e[32]=[r(" Energie ")])),_:1},8,["color","active"])]),_:1})]),_:1}),t.mqttStore.getChargePointConnectedVehicleInstantChargingLimit(t.modalChargePointId).selected=="soc"?(d(),u(C,{key:0},{default:i(()=>[n(h,null,{default:i(()=>e[33]||(e[33]=[r("Max. SoC")])),_:1}),n(_,{unit:"%",min:5,max:100,step:5,"model-value":t.mqttStore.getChargePointConnectedVehicleInstantChargingLimit(t.modalChargePointId).soc,"onUpdate:modelValue":e[8]||(e[8]=a=>c.setChargePointConnectedVehicleInstantChargingLimitSoc(t.modalChargePointId,a))},null,8,["model-value"])]),_:1})):m("",!0),t.mqttStore.getChargePointConnectedVehicleInstantChargingLimit(t.modalChargePointId).selected=="amount"?(d(),u(C,{key:1},{default:i(()=>[n(h,null,{default:i(()=>e[34]||(e[34]=[r("Max. Energie")])),_:1}),n(_,{unit:"kWh",min:1,max:100,"model-value":t.mqttStore.getChargePointConnectedVehicleInstantChargingLimit(t.modalChargePointId).amount/1e3,"onUpdate:modelValue":e[9]||(e[9]=a=>c.setChargePointConnectedVehicleInstantChargingLimitAmount(t.modalChargePointId,a*1e3))},null,8,["model-value"])]),_:1})):m("",!0)]),_:1})]),_:1}),n(y,{name:"tab-pv-charging"},{default:i(()=>[n(b,null,{default:i(()=>[n(C,null,{default:i(()=>[n(h,null,{default:i(()=>e[35]||(e[35]=[r("Einspeisegrenze beachten")])),_:1}),n(V,{block:""},{default:i(()=>[n(f,{color:t.mqttStore.getChargePointConnectedVehiclePvChargingFeedInLimit(t.modalChargePointId)!==!0?"danger":"",onClick:e[10]||(e[10]=a=>c.setChargePointConnectedVehiclePvChargingFeedInLimit(t.modalChargePointId,!1))},{default:i(()=>e[36]||(e[36]=[r(" Nein ")])),_:1},8,["color"]),n(f,{color:t.mqttStore.getChargePointConnectedVehiclePvChargingFeedInLimit(t.modalChargePointId)===!0?"success":"",onClick:e[11]||(e[11]=a=>c.setChargePointConnectedVehiclePvChargingFeedInLimit(t.modalChargePointId,!0))},{default:i(()=>e[37]||(e[37]=[r(" Ja ")])),_:1},8,["color"])]),_:1})]),_:1}),n(C,null,{default:i(()=>[n(h,null,{default:i(()=>e[38]||(e[38]=[r("Minimaler Dauerstrom")])),_:1}),n(_,{unit:"A",labels:[{label:"Aus",value:0},{label:6,value:6},{label:7,value:7},{label:8,value:8},{label:9,value:9},{label:10,value:10},{label:11,value:11},{label:12,value:12},{label:13,value:13},{label:14,value:14},{label:15,value:15},{label:16,value:16}],"model-value":t.mqttStore.getChargePointConnectedVehiclePvChargingMinCurrent(t.modalChargePointId),"onUpdate:modelValue":e[12]||(e[12]=a=>c.setChargePointConnectedVehiclePvChargingMinCurrent(t.modalChargePointId,a))},null,8,["model-value"])]),_:1}),n(C,null,{default:i(()=>[n(h,null,{default:i(()=>e[39]||(e[39]=[r("Mindest-SoC")])),_:1}),n(_,{unit:"%",labels:[{label:"Aus",value:0},{label:5,value:5},{label:10,value:10},{label:15,value:15},{label:20,value:20},{label:25,value:25},{label:30,value:30},{label:35,value:35},{label:40,value:40},{label:45,value:45},{label:50,value:50},{label:55,value:55},{label:60,value:60},{label:65,value:65},{label:70,value:70},{label:75,value:75},{label:80,value:80},{label:85,value:85},{label:90,value:90},{label:95,value:95}],"model-value":t.mqttStore.getChargePointConnectedVehiclePvChargingMinSoc(t.modalChargePointId),"onUpdate:modelValue":e[13]||(e[13]=a=>c.setChargePointConnectedVehiclePvChargingMinSoc(t.modalChargePointId,a))},null,8,["model-value"])]),_:1}),n(C,null,{default:i(()=>[n(h,null,{default:i(()=>e[40]||(e[40]=[r("Mindest-SoC Strom")])),_:1}),n(_,{min:6,max:32,unit:"A","model-value":t.mqttStore.getChargePointConnectedVehiclePvChargingMinSocCurrent(t.modalChargePointId),"onUpdate:modelValue":e[14]||(e[14]=a=>c.setChargePointConnectedVehiclePvChargingMinSocCurrent(t.modalChargePointId,a))},null,8,["model-value"])]),_:1}),n(C,null,{default:i(()=>[n(h,null,{default:i(()=>e[41]||(e[41]=[r("SoC-Limit")])),_:1}),n(_,{unit:"%",labels:[{label:5,value:5},{label:10,value:10},{label:15,value:15},{label:20,value:20},{label:25,value:25},{label:30,value:30},{label:35,value:35},{label:40,value:40},{label:45,value:45},{label:50,value:50},{label:55,value:55},{label:60,value:60},{label:65,value:65},{label:70,value:70},{label:75,value:75},{label:80,value:80},{label:85,value:85},{label:90,value:90},{label:95,value:95},{label:100,value:100},{label:"Aus",value:101}],"model-value":t.mqttStore.getChargePointConnectedVehiclePvChargingMaxSoc(t.modalChargePointId),"onUpdate:modelValue":e[15]||(e[15]=a=>c.setChargePointConnectedVehiclePvChargingMaxSoc(t.modalChargePointId,a))},null,8,["model-value"])]),_:1})]),_:1})]),_:1}),t.mqttStore.getSimpleChargePointView?m("",!0):(d(),u(y,{key:0,name:"tab-scheduled-charging"},{default:i(()=>[Object.keys(t.mqttStore.getChargePointConnectedVehicleScheduledChargingPlans(t.modalChargePointId)).length===0?(d(),u(p,{key:0},{icon:i(()=>[n(v,{"fixed-width":"",icon:["fas","fa-info-circle"]})]),default:i(()=>[e[42]||(e[42]=r(" Es wurden noch keine Zeitpläne für das Zielladen eingerichtet. "))]),_:1})):(d(),u(b,{key:1},{default:i(()=>[(d(!0),S(x,null,L(t.mqttStore.getChargePointConnectedVehicleScheduledChargingPlans(t.modalChargePointId),(a,M)=>(d(),u(C,{key:M},{default:i(()=>[n(F,null,{default:i(()=>[n(w,null,{default:i(()=>[n(h,null,{default:i(()=>[r(s(a.name),1)]),_:2},1024)]),_:2},1024),n(w,null,{default:i(()=>[n(f,{size:"lg",block:"",color:a.active?"success":"danger",onClick:te=>c.setChargePointConnectedVehicleScheduledChargingPlanActive(M,!a.active)},{default:i(()=>[a.frequency.selected=="once"?(d(),S("span",Ne,[n(v,{"fixed-width":"",icon:["fas","calendar-day"]}),r(" "+s(t.mqttStore.formatDate(a.frequency.once)),1)])):m("",!0),a.frequency.selected=="daily"?(d(),S("span",Ae,[n(v,{"fixed-width":"",icon:["fas","calendar-week"]}),e[43]||(e[43]=r(" täglich "))])):m("",!0),a.frequency.selected=="weekly"?(d(),S("span",Fe,[n(v,{"fixed-width":"",icon:["fas","calendar-alt"]}),r(" "+s(t.mqttStore.formatWeeklyScheduleDays(a.frequency.weekly)),1)])):m("",!0),n(v,{"fixed-width":"",icon:["fas","clock"]}),r(" "+s(a.time)+" ",1),a.limit.selected=="soc"?(d(),S("span",ze,[n(v,{"fixed-width":"",icon:["fas","car-battery"]}),r(" "+s(a.limit.soc_scheduled)+" % ",1)])):m("",!0),a.limit.selected=="amount"?(d(),S("span",We,[n(v,{"fixed-width":"",icon:["fas","bolt"]}),r(" "+s(a.limit.amount/1e3)+" kWh ",1)])):m("",!0)]),_:2},1032,["color","onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1}))]),_:1})),t.mqttStore.getSimpleChargePointView?m("",!0):(d(),u(y,{key:1,name:"tab-time-charging"},{default:i(()=>[n(b,null,{default:i(()=>[n(C,null,{default:i(()=>[n(h,null,{default:i(()=>e[44]||(e[44]=[r("Zeitladen aktivieren")])),_:1}),n(V,{block:""},{default:i(()=>[n(f,{color:t.mqttStore.getChargePointConnectedVehicleTimeChargingActive(t.modalChargePointId)!==!0?"danger":"",onClick:e[16]||(e[16]=a=>c.setChargePointConnectedVehicleTimeChargingActive(t.modalChargePointId,!1))},{default:i(()=>e[45]||(e[45]=[r(" Nein ")])),_:1},8,["color"]),n(f,{color:t.mqttStore.getChargePointConnectedVehicleTimeChargingActive(t.modalChargePointId)===!0?"success":"",onClick:e[17]||(e[17]=a=>c.setChargePointConnectedVehicleTimeChargingActive(t.modalChargePointId,!0))},{default:i(()=>e[46]||(e[46]=[r(" Ja ")])),_:1},8,["color"])]),_:1})]),_:1}),t.mqttStore.getChargePointConnectedVehicleTimeChargingActive(t.modalChargePointId)===!0?(d(),S("div",Ee,[Object.keys(t.mqttStore.getChargePointConnectedVehicleTimeChargingPlans(t.modalChargePointId)).length===0?(d(),u(p,{key:0,color:"warning",class:"_margin-top:2"},{icon:i(()=>[n(v,{"fixed-width":"",icon:["fas","fa-circle-info"]})]),default:i(()=>[e[47]||(e[47]=r(" Es wurden noch keine Zeitpläne für das Zeitladen eingerichtet. "))]),_:1})):(d(),S("div",Ue,[(d(!0),S(x,null,L(t.mqttStore.getChargePointConnectedVehicleTimeChargingPlans(t.modalChargePointId),(a,M)=>(d(),u(C,{key:M},{default:i(()=>[n(F,null,{default:i(()=>[n(w,null,{default:i(()=>[n(h,null,{default:i(()=>[r(s(a.name),1)]),_:2},1024)]),_:2},1024),n(w,null,{default:i(()=>[n(f,{size:"lg",block:"",color:a.active?"success":"danger",onClick:te=>c.setChargePointConnectedVehicleTimeChargingPlanActive(M,!a.active)},{default:i(()=>[a.frequency.selected=="once"?(d(),S("span",De,[n(v,{"fixed-width":"",icon:["fas","calendar-day"]}),r(" "+s(t.mqttStore.formatDateRange(a.frequency.once)),1)])):m("",!0),a.frequency.selected=="daily"?(d(),S("span",Ze,[n(v,{"fixed-width":"",icon:["fas","calendar-week"]}),e[48]||(e[48]=r(" täglich "))])):m("",!0),a.frequency.selected=="weekly"?(d(),S("span",Re,[n(v,{"fixed-width":"",icon:["fas","calendar-alt"]}),r(" "+s(t.mqttStore.formatWeeklyScheduleDays(a.frequency.weekly)),1)])):m("",!0),n(v,{"fixed-width":"",icon:["fas","clock"]}),r(" "+s(a.time.join("-"))+" ",1),a.limit.selected=="soc"?(d(),S("span",je,[n(v,{"fixed-width":"",icon:["fas","car-battery"]}),r(" "+s(a.limit.soc)+" % ",1)])):m("",!0),a.limit.selected=="amount"?(d(),S("span",Oe,[n(v,{"fixed-width":"",icon:["fas","bolt"]}),r(" "+s(a.limit.amount/1e3)+" kWh ",1)])):m("",!0)]),_:2},1032,["color","onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]))])):m("",!0)]),_:1})]),_:1}))]),_:1},8,["modelValue"])]),_:1},8,["modelValue"]),n(ee,{modelValue:t.modalManualSocInputVisible,"onUpdate:modelValue":e[20]||(e[20]=a=>t.modalManualSocInputVisible=a),"vehicle-id":t.modalVehicleId},null,8,["modelValue","vehicle-id"])],64)}const $e=T(Le,[["render",Je],["__scopeId","data-v-76699ceb"]]);export{$e as default};
