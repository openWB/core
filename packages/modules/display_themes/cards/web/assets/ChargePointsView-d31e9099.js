import{u as j}from"./index-434d3842.js";import{D as R,S as Z}from"./SparkLine-77d57d0f.js";import{l as d,o as c,n as p,p as i,s as t,k as a,x as u,e as f,j as O,F as y,A as T,i as h,z as w}from"./vendor-835210d3.js";import{_ as A}from"./vendor-inkline-02fa0df0.js";import{l as X,j as G,k as H,m as J,n as Q,f as Y,a as K,o as $,h as ee,p as te,q as ne,r as le,s as ie,t as oe,u as ae,v as re,w as ce,x as se,y as ge,z as he,F as de}from"./vendor-fortawesome-1c5bdd57.js";const ue={name:"ExtendedNumberInput",inheritAttrs:!1,props:{modelValue:{type:Number},unit:{type:String},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},labels:{type:Array}},emits:["update:modelValue"],data(){return{minimum:this.labels?0:this.min,maximum:this.labels?this.labels.length-1:this.max,stepSize:this.labels?1:this.step}},computed:{label(){var o;return this.labels&&this.inputValue!=null?this.inputValue<this.labels.length?o=this.labels[this.inputValue].label:console.error("index out of bounds: "+this.inputValue):o=this.inputValue,typeof o=="number"&&(o=o.toLocaleString(void 0,{minimumFractionDigits:this.precision,maximumFractionDigits:this.precision})),o},precision(){if(!isFinite(this.stepSize))return 0;for(var o=1,l=0;Math.round(this.stepSize*o)/o!==this.stepSize;)o*=10,l++;return l},inputValue:{get(){if(this.labels){var o=void 0;for(let l=0;l<this.labels.length;l++)if(this.labels[l].value==this.modelValue){o=l;break}return o===void 0&&this.modelValue!==void 0?(console.warn("inputValue: not found in values: ",this.modelValue,"using minimum as default: ",this.minimum),this.minimum):o}return this.modelValue},set(o){if(this.labels){var l=this.labels[o].value;this.$emit("update:modelValue",l)}else this.$emit("update:modelValue",o)}}},methods:{increment(){var o=Math.min(this.inputValue+this.stepSize,this.maximum);this.inputValue=Math.round(o*Math.pow(10,this.precision))/Math.pow(10,this.precision)},decrement(){var o=Math.max(this.inputValue-this.stepSize,this.minimum);this.inputValue=Math.round(o*Math.pow(10,this.precision))/Math.pow(10,this.precision)}}};function me(o,l,r,m,e,s){const g=d("i-button"),k=d("i-input");return c(),p(k,{plaintext:"",class:"_text-align:right",size:"lg",modelValue:s.label,"onUpdate:modelValue":l[0]||(l[0]=v=>s.label=v)},{prepend:i(()=>[t(g,{onClick:s.decrement},{default:i(()=>[a("-")]),_:1},8,["onClick"])]),suffix:i(()=>[a(u(r.unit),1)]),append:i(()=>[t(g,{onClick:s.increment},{default:i(()=>[a("+")]),_:1},8,["onClick"])]),_:1},8,["modelValue"])}const Ce=A(ue,[["render",me],["__file","/var/www/html/openWB/packages/modules/display_themes/cards/source/src/components/ExtendedNumberInput.vue"]]);X.add(G,H,J,Q,Y,K,$,ee,te,ne,le,ie,oe,ae,re,ce,se,ge,he);const fe={name:"ChargePointsView",data(){return{mqttStore:j(),modalChargePointSettingsVisible:!1,modalChargePointSettingsId:0,modalActiveTab:"tab-general"}},props:{changesLocked:{required:!1,type:Boolean,default:!1}},components:{DashBoardCard:R,SparkLine:Z,ExtendedNumberInput:Ce,FontAwesomeIcon:de},computed:{vehicleList(){let o=this.mqttStore.getVehicleList;var l=[];return Object.keys(o).forEach(r=>{let m=parseInt(r.match(/(?:\/)([0-9]+)(?=\/)*/g)[0].replace(/[^0-9]+/g,""));l.push({id:m,name:o[r]})}),l}},methods:{toggleChargePointSettings(o){this.modalChargePointSettingsId!=o&&(this.modalActiveTab="tab-general"),this.modalChargePointSettingsId=o,this.modalChargePointSettingsVisible=!0},toggleChargePointManualLock(o){this.$root.sendTopicToBroker(`openWB/chargepoint/${o}/set/manual_lock`,!this.mqttStore.getValueBool(`openWB/chargepoint/${o}/set/manual_lock`))},handleSocClick(o){let l=this.mqttStore.getChargePointConnectedVehicleId(o);if(this.mqttStore.getVehicleSocIsManual(l)){console.log("ToDo: manual SoC input");return}this.$root.sendTopicToBroker(`openWB/set/vehicle/${l}/get/force_soc_update`,1)},setChargePointConnectedVehicle(o,l){l.id!=this.mqttStore.getChargePointConnectedVehicleId(o)&&this.$root.sendTopicToBroker(`openWB/chargepoint/${o}/config/ev`,l.id)},setChargePointConnectedVehicleChargeMode(o,l){if(l.id!=this.mqttStore.getChargePointConnectedVehicleChargeMode(o)){var r=this.mqttStore.getChargePointConnectedVehicleChargeTemplateIndex(o);this.$root.sendTopicToBroker(`openWB/vehicle/template/charge_template/${r}/chargemode/selected`,l)}},setChargePointConnectedVehiclePriority(o,l){if(l!=this.mqttStore.getChargePointConnectedVehiclePriority(o)){var r=this.mqttStore.getChargePointConnectedVehicleChargeTemplateIndex(o);this.$root.sendTopicToBroker(`openWB/vehicle/template/charge_template/${r}/prio`,l)}},setChargePointConnectedVehicleTimeChargingActive(o,l){if(l!=this.mqttStore.getChargePointConnectedVehicleTimeChargingActive(o)){var r=this.mqttStore.getChargePointConnectedVehicleChargeTemplateIndex(o);this.$root.sendTopicToBroker(`openWB/vehicle/template/charge_template/${r}/time_charging/active`,l)}},setChargePointConnectedVehicleInstantChargingCurrent(o,l){if(l&&l!=this.mqttStore.getChargePointConnectedVehicleInstantChargingCurrent(o)){var r=this.mqttStore.getChargePointConnectedVehicleChargeTemplateIndex(o);this.$root.sendTopicToBroker(`openWB/vehicle/template/charge_template/${r}/chargemode/instant_charging/current`,parseFloat(l))}},setChargePointConnectedVehicleInstantChargingLimit(o,l){if(l&&l!=this.mqttStore.getChargePointConnectedVehicleInstantChargingLimit(o).selected){var r=this.mqttStore.getChargePointConnectedVehicleChargeTemplateIndex(o);this.$root.sendTopicToBroker(`openWB/vehicle/template/charge_template/${r}/chargemode/instant_charging/limit/selected`,l)}},setChargePointConnectedVehicleInstantChargingLimitSoc(o,l){if(l&&l!=this.mqttStore.getChargePointConnectedVehicleInstantChargingLimit(o).soc){var r=this.mqttStore.getChargePointConnectedVehicleChargeTemplateIndex(o);this.$root.sendTopicToBroker(`openWB/vehicle/template/charge_template/${r}/chargemode/instant_charging/limit/soc`,parseInt(l))}},setChargePointConnectedVehicleInstantChargingLimitAmount(o,l){if(l&&l!=this.mqttStore.getChargePointConnectedVehicleInstantChargingLimit(o).amount){var r=this.mqttStore.getChargePointConnectedVehicleChargeTemplateIndex(o);this.$root.sendTopicToBroker(`openWB/vehicle/template/charge_template/${r}/chargemode/instant_charging/limit/amount`,l)}},setChargePointConnectedVehiclePvChargingFeedInLimit(o,l){if(l!=this.mqttStore.getChargePointConnectedVehiclePvChargingFeedInLimit(o)){var r=this.mqttStore.getChargePointConnectedVehicleChargeTemplateIndex(o);this.$root.sendTopicToBroker(`openWB/vehicle/template/charge_template/${r}/chargemode/pv_charging/feed_in_limit`,l)}},setChargePointConnectedVehiclePvChargingMinCurrent(o,l){let r=this.mqttStore.getChargePointConnectedVehiclePvChargingMinCurrent(o),m=parseInt(l);if(m!=r&&!isNaN(m)){var e=this.mqttStore.getChargePointConnectedVehicleChargeTemplateIndex(o);this.$root.sendTopicToBroker(`openWB/vehicle/template/charge_template/${e}/chargemode/pv_charging/min_current`,m)}},setChargePointConnectedVehiclePvChargingMinSoc(o,l){let r=this.mqttStore.getChargePointConnectedVehiclePvChargingMinSoc(o),m=parseInt(l);if(m!=r&&!isNaN(m)){var e=this.mqttStore.getChargePointConnectedVehicleChargeTemplateIndex(o);this.$root.sendTopicToBroker(`openWB/vehicle/template/charge_template/${e}/chargemode/pv_charging/min_soc`,m)}},setChargePointConnectedVehiclePvChargingMinSocCurrent(o,l){let r=this.mqttStore.getChargePointConnectedVehiclePvChargingMinSocCurrent(o),m=parseInt(l);if(m!=r&&!isNaN(m)){var e=this.mqttStore.getChargePointConnectedVehicleChargeTemplateIndex(o);this.$root.sendTopicToBroker(`openWB/vehicle/template/charge_template/${e}/chargemode/pv_charging/min_soc_current`,m)}},setChargePointConnectedVehiclePvChargingMaxSoc(o,l){let r=this.mqttStore.getChargePointConnectedVehiclePvChargingMaxSoc(o),m=parseInt(l);if(m!=r&&!isNaN(m)){var e=this.mqttStore.getChargePointConnectedVehicleChargeTemplateIndex(o);this.$root.sendTopicToBroker(`openWB/vehicle/template/charge_template/${e}/chargemode/pv_charging/max_soc`,m)}},setChargePointConnectedVehicleScheduledChargingPlanActive(o,l){this.$root.sendTopicToBroker(`${o}/active`,l)},setChargePointConnectedVehicleTimeChargingPlanActive(o,l){this.$root.sendTopicToBroker(`${o}/active`,l)}}},_e={class:"charge-points-card-wrapper"},pe={key:0},ve={key:0},Pe={key:1},Se={key:2},Ve={key:3},be={key:4},ke={key:0},qe={key:1},Ie={key:2},xe={key:3},ye={key:4};function we(o,l,r,m,e,s){const g=d("font-awesome-icon"),k=d("i-badge"),v=d("i-button"),P=d("i-column"),S=d("i-row"),z=d("spark-line"),L=d("i-container"),W=d("dash-board-card"),q=d("i-tab-title"),_=d("i-form-label"),M=d("i-select"),C=d("i-form-group"),N=d("i-select-option"),B=d("i-toggle"),I=d("i-form"),x=d("i-tab"),b=d("extended-number-input"),F=d("i-button-group"),U=d("i-tabs"),D=d("i-modal");return c(),f(y,null,[O("div",_e,[(c(!0),f(y,null,T(e.mqttStore.getChargePointIds,n=>(c(),p(W,{key:n,color:"primary"},{headerLeft:i(()=>[a(u(e.mqttStore.getChargePointName(n)),1)]),headerRight:i(()=>[t(k,{size:"lg"},{default:i(()=>[t(g,{"fixed-width":"",icon:e.mqttStore.getChargePointPlugState(n)?e.mqttStore.getChargePointChargeState(n)?["fas","fa-plug-circle-bolt"]:["fas","fa-plug-circle-check"]:["fas","fa-plug-circle-xmark"],class:w(e.mqttStore.getChargePointPlugState(n)?e.mqttStore.getChargePointChargeState(n)?["_color:success"]:"_color:warning":"_color:gray")},null,8,["icon","class"])]),_:2},1024)]),default:i(()=>[t(L,null,{default:i(()=>[t(S,null,{default:i(()=>[h(" charge point data on left side "),t(P,null,{default:i(()=>[t(S,null,{default:i(()=>[t(P,{class:"_padding-left:0 _padding-right:0"},{default:i(()=>[t(v,{size:"lg",disabled:r.changesLocked,outline:r.changesLocked},{default:i(()=>[t(g,{"fixed-width":"",icon:e.mqttStore.getChargePointManualLock(n)?["fas","fa-lock"]:["fas","fa-lock-open"],class:w(e.mqttStore.getChargePointManualLock(n)?["_color:danger"]:"_color:success"),onClick:V=>s.toggleChargePointManualLock(n)},null,8,["icon","class","onClick"])]),_:2},1032,["disabled","outline"])]),_:2},1024),t(P,{class:"_text-align:right _padding-left:0"},{default:i(()=>[a(u(e.mqttStore.getChargePointPower(n))+" "+u(e.mqttStore.getChargePointPhasesInUse(n))+" "+u(e.mqttStore.getChargePointSetCurrent(n)),1)]),_:2},1024)]),_:2},1024),t(S,null,{default:i(()=>[t(P,{class:"_padding-left:0"},{default:i(()=>[t(z,{color:"var(--color--primary)",data:e.mqttStore.getChargePointPowerChartData(n)},null,8,["data"])]),_:2},1024)]),_:2},1024)]),_:2},1024),h(" vehicle data on right side "),t(P,{md:"6"},{default:i(()=>[h(" vehicle and soc "),t(S,{class:"_display:flex"},{default:i(()=>[t(P,{class:"_padding-left:0 _padding-right:0 _flex-grow:1"},{default:i(()=>[t(k,{size:"lg",class:"full-width"},{default:i(()=>[t(g,{"fixed-width":"",icon:["fas","fa-car"]}),a(" "+u(e.mqttStore.getChargePointConnectedVehicleName(n)),1)]),_:2},1024)]),_:2},1024),e.mqttStore.getVehicleSocConfigured(e.mqttStore.getChargePointConnectedVehicleId(n))||e.mqttStore.getVehicleFaultState(e.mqttStore.getChargePointConnectedVehicleId(n))!=0?(c(),p(P,{key:0,class:"_flex-grow:0 _padding-right:0 _padding-left:1"},{default:i(()=>[t(v,{size:"sm",onClick:V=>s.handleSocClick(n)},{default:i(()=>[e.mqttStore.getVehicleSocConfigured(e.mqttStore.getChargePointConnectedVehicleId(n))?(c(),f("span",pe,[t(g,{"fixed-width":"",icon:e.mqttStore.getVehicleSocIsManual(e.mqttStore.getChargePointConnectedVehicleId(n))?["fas","fa-edit"]:["fas","fa-car-battery"]},null,8,["icon"]),a(" "+u(e.mqttStore.getChargePointConnectedVehicleSoc(n).soc)+"% ",1)])):h("v-if",!0),e.mqttStore.getVehicleFaultState(e.mqttStore.getChargePointConnectedVehicleId(n))!=0?(c(),p(g,{key:1,"fixed-width":"",icon:e.mqttStore.getVehicleFaultState(e.mqttStore.getChargePointConnectedVehicleId(n))>0?e.mqttStore.getVehicleFaultState(e.mqttStore.getChargePointConnectedVehicleId(n))>1?["fas","times-circle"]:["fas","exclamation-triangle"]:[],class:w(e.mqttStore.getVehicleFaultState(e.mqttStore.getChargePointConnectedVehicleId(n))>0?e.mqttStore.getVehicleFaultState(e.mqttStore.getChargePointConnectedVehicleId(n))>1?"_color:danger":"_color:warning":"")},null,8,["icon","class"])):h("v-if",!0)]),_:2},1032,["onClick"])]),_:2},1024)):h("v-if",!0)]),_:2},1024),h(" charge mode info "),t(S,{class:"_padding-top:1 _display:flex"},{default:i(()=>[t(P,{class:"_padding-left:0 _padding-right:0 _flex-grow:1"},{default:i(()=>[t(k,{size:"lg",class:"full-width",color:e.mqttStore.getChargePointConnectedVehicleChargeMode(n).class},{default:i(()=>[a(u(e.mqttStore.getChargePointConnectedVehicleChargeMode(n).label),1)]),_:2},1032,["color"])]),_:2},1024),e.mqttStore.getChargePointConnectedVehiclePriority(n)||e.mqttStore.getChargePointConnectedVehicleTimeChargingActive(n)?(c(),p(P,{key:0,class:"_flex-grow:0 _padding-right:0 _padding-left:1"},{default:i(()=>[t(k,{size:"lg"},{default:i(()=>[e.mqttStore.getChargePointConnectedVehiclePriority(n)?(c(),p(g,{key:0,"fixed-width":"",icon:["fas","fa-star"],class:"_color:warning"})):h("v-if",!0),e.mqttStore.getChargePointConnectedVehicleTimeChargingActive(n)?(c(),p(g,{key:1,"fixed-width":"",icon:e.mqttStore.getChargePointConnectedVehicleTimeChargingRunning(n)?["fas","fa-clock"]:["far","fa-clock"],class:w(e.mqttStore.getChargePointConnectedVehicleTimeChargingRunning(n)?"_color:success":"")},null,8,["icon","class"])):h("v-if",!0)]),_:2},1024)]),_:2},1024)):h("v-if",!0)]),_:2},1024),h(" settings button "),r.changesLocked?h("v-if",!0):(c(),p(S,{key:0,class:"_padding-top:1"},{default:i(()=>[t(P,{class:"_padding-left:0 _padding-right:0"},{default:i(()=>[t(v,{block:"",onClick:V=>s.toggleChargePointSettings(n)},{default:i(()=>[t(g,{"fixed-width":"",icon:["fas","fa-wrench"]})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024))]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),h(" modals "),t(D,{modelValue:e.modalChargePointSettingsVisible,"onUpdate:modelValue":l[16]||(l[16]=n=>e.modalChargePointSettingsVisible=n),size:"lg"},{header:i(()=>[a(' Einstellungen für Ladepunkt "'+u(e.mqttStore.getChargePointName(e.modalChargePointSettingsId))+'" ',1)]),default:i(()=>[t(U,{modelValue:e.modalActiveTab,"onUpdate:modelValue":l[15]||(l[15]=n=>e.modalActiveTab=n),stretch:""},{header:i(()=>[t(q,{for:"tab-general"},{default:i(()=>[a(" Allgemein ")]),_:1}),t(q,{for:"tab-instant-charging"},{default:i(()=>[a(" Sofort ")]),_:1}),t(q,{for:"tab-pv-charging"},{default:i(()=>[a(" PV ")]),_:1}),t(q,{for:"tab-scheduled-charging"},{default:i(()=>[a(" Zielladen ")]),_:1}),t(q,{for:"tab-time-charging"},{default:i(()=>[a(" Zeitladen ")]),_:1})]),default:i(()=>[t(x,{name:"tab-general"},{default:i(()=>[t(I,null,{default:i(()=>[t(C,null,{default:i(()=>[t(_,null,{default:i(()=>[t(g,{"fixed-width":"",icon:["fas","fa-car"]}),a(" Fahrzeug ")]),_:1}),t(M,{size:"lg",disabled:!e.mqttStore.getChargePointVehicleChangePermitted(e.modalChargePointSettingsId),"model-value":e.mqttStore.getChargePointConnectedVehicleInfo(e.modalChargePointSettingsId),label:"name",options:s.vehicleList,placeholder:"Bitte auswählen..","onUpdate:modelValue":l[0]||(l[0]=n=>s.setChargePointConnectedVehicle(e.modalChargePointSettingsId,n))},null,8,["disabled","model-value","options"])]),_:1}),t(C,null,{default:i(()=>[t(_,null,{default:i(()=>[a("Lademodus")]),_:1}),t(M,{size:"lg","model-value":e.mqttStore.getChargePointConnectedVehicleChargeMode(e.modalChargePointSettingsId),placeholder:"Bitte auswählen..","onUpdate:modelValue":l[1]||(l[1]=n=>s.setChargePointConnectedVehicleChargeMode(e.modalChargePointSettingsId,n))},{default:i(()=>[(c(!0),f(y,null,T(e.mqttStore.chargeModeList(),n=>(c(),p(N,{key:n.id,value:n.id,label:n.label,class:w("_background:"+n.class)},null,8,["value","label","class"]))),128))]),_:1},8,["model-value"])]),_:1}),t(C,{inline:"",class:"_justify-content:space-around"},{default:i(()=>[t(C,{inline:""},{default:i(()=>[t(_,{placement:"left",class:"_align-items:center"},{default:i(()=>[t(g,{"fixed-width":"",icon:["far","fa-star"]}),a(" Priorität ")]),_:1}),t(B,{size:"lg","model-value":e.mqttStore.getChargePointConnectedVehiclePriority(e.modalChargePointSettingsId),"onUpdate:modelValue":l[2]||(l[2]=n=>s.setChargePointConnectedVehiclePriority(e.modalChargePointSettingsId,n))},null,8,["model-value"])]),_:1}),t(C,{inline:"",class:"_margin-top:0"},{default:i(()=>[t(_,{placement:"left",class:"_align-items:center"},{default:i(()=>[t(g,{"fixed-width":"",icon:["far","fa-clock"]}),a(" Zeitladen ")]),_:1}),t(B,{size:"lg","model-value":e.mqttStore.getChargePointConnectedVehicleTimeChargingActive(e.modalChargePointSettingsId),"onUpdate:modelValue":l[3]||(l[3]=n=>s.setChargePointConnectedVehicleTimeChargingActive(e.modalChargePointSettingsId,n))},null,8,["model-value"])]),_:1})]),_:1})]),_:1})]),_:1}),t(x,{name:"tab-instant-charging"},{default:i(()=>[t(I,null,{default:i(()=>[t(C,null,{default:i(()=>[t(_,null,{default:i(()=>[a("Stromstärke")]),_:1}),t(b,{unit:"A",min:6,max:32,"model-value":e.mqttStore.getChargePointConnectedVehicleInstantChargingCurrent(e.modalChargePointSettingsId),"onUpdate:modelValue":l[4]||(l[4]=n=>s.setChargePointConnectedVehicleInstantChargingCurrent(e.modalChargePointSettingsId,n))},null,8,["model-value"])]),_:1}),t(C,null,{default:i(()=>[t(_,null,{default:i(()=>[a("Begrenzung")]),_:1}),t(F,{block:""},{default:i(()=>[t(v,{color:e.mqttStore.getChargePointConnectedVehicleInstantChargingLimit(e.modalChargePointSettingsId).selected=="none"?"primary":"",active:e.mqttStore.getChargePointConnectedVehicleInstantChargingLimit(e.modalChargePointSettingsId).selected=="none",onClick:l[5]||(l[5]=n=>s.setChargePointConnectedVehicleInstantChargingLimit(e.modalChargePointSettingsId,"none"))},{default:i(()=>[a(" Keine ")]),_:1},8,["color","active"]),t(v,{color:e.mqttStore.getChargePointConnectedVehicleInstantChargingLimit(e.modalChargePointSettingsId).selected=="soc"?"primary":"",active:e.mqttStore.getChargePointConnectedVehicleInstantChargingLimit(e.modalChargePointSettingsId).selected=="soc",onClick:l[6]||(l[6]=n=>s.setChargePointConnectedVehicleInstantChargingLimit(e.modalChargePointSettingsId,"soc"))},{default:i(()=>[a(" EV-SoC ")]),_:1},8,["color","active"]),t(v,{color:e.mqttStore.getChargePointConnectedVehicleInstantChargingLimit(e.modalChargePointSettingsId).selected=="amount"?"primary":"",active:e.mqttStore.getChargePointConnectedVehicleInstantChargingLimit(e.modalChargePointSettingsId).selected=="amount",onClick:l[7]||(l[7]=n=>s.setChargePointConnectedVehicleInstantChargingLimit(e.modalChargePointSettingsId,"amount"))},{default:i(()=>[a(" Energie ")]),_:1},8,["color","active"])]),_:1})]),_:1}),e.mqttStore.getChargePointConnectedVehicleInstantChargingLimit(e.modalChargePointSettingsId).selected=="soc"?(c(),p(C,{key:0},{default:i(()=>[t(_,null,{default:i(()=>[a("Max. SoC")]),_:1}),t(b,{unit:"%",min:5,max:100,step:5,"model-value":e.mqttStore.getChargePointConnectedVehicleInstantChargingLimit(e.modalChargePointSettingsId).soc,"onUpdate:modelValue":l[8]||(l[8]=n=>s.setChargePointConnectedVehicleInstantChargingLimitSoc(e.modalChargePointSettingsId,n))},null,8,["model-value"])]),_:1})):h("v-if",!0),e.mqttStore.getChargePointConnectedVehicleInstantChargingLimit(e.modalChargePointSettingsId).selected=="amount"?(c(),p(C,{key:1},{default:i(()=>[t(_,null,{default:i(()=>[a("Max. Energie")]),_:1}),t(b,{unit:"kWh",min:1,max:100,"model-value":e.mqttStore.getChargePointConnectedVehicleInstantChargingLimit(e.modalChargePointSettingsId).amount/1e3,"onUpdate:modelValue":l[9]||(l[9]=n=>s.setChargePointConnectedVehicleInstantChargingLimitAmount(e.modalChargePointSettingsId,n*1e3))},null,8,["model-value"])]),_:1})):h("v-if",!0)]),_:1})]),_:1}),t(x,{name:"tab-pv-charging"},{default:i(()=>[t(I,null,{default:i(()=>[t(C,{inline:""},{default:i(()=>[t(_,{placement:"left",class:"_align-items:center"},{default:i(()=>[a(" Einspeisegrenze beachten ")]),_:1}),t(B,{size:"lg","model-value":e.mqttStore.getChargePointConnectedVehiclePvChargingFeedInLimit(e.modalChargePointSettingsId),"onUpdate:modelValue":l[10]||(l[10]=n=>s.setChargePointConnectedVehiclePvChargingFeedInLimit(e.modalChargePointSettingsId,n))},null,8,["model-value"])]),_:1}),t(C,null,{default:i(()=>[t(_,null,{default:i(()=>[a("Mindeststrom")]),_:1}),t(b,{unit:"A",labels:[{label:"Aus",value:0},{label:6,value:6},{label:7,value:7},{label:8,value:8},{label:9,value:9},{label:10,value:10},{label:11,value:11},{label:12,value:12},{label:13,value:13},{label:14,value:14},{label:15,value:15},{label:16,value:16}],"model-value":e.mqttStore.getChargePointConnectedVehiclePvChargingMinCurrent(e.modalChargePointSettingsId),"onUpdate:modelValue":l[11]||(l[11]=n=>s.setChargePointConnectedVehiclePvChargingMinCurrent(e.modalChargePointSettingsId,n))},null,8,["model-value"])]),_:1}),t(C,null,{default:i(()=>[t(_,null,{default:i(()=>[a("Mindest-SoC")]),_:1}),t(b,{unit:"%",labels:[{label:"Aus",value:0},{label:5,value:5},{label:10,value:10},{label:15,value:15},{label:20,value:20},{label:25,value:25},{label:30,value:30},{label:35,value:35},{label:40,value:40},{label:45,value:45},{label:50,value:50},{label:55,value:55},{label:60,value:60},{label:65,value:65},{label:70,value:70},{label:75,value:75},{label:80,value:80},{label:85,value:85},{label:90,value:90},{label:95,value:95}],"model-value":e.mqttStore.getChargePointConnectedVehiclePvChargingMinSoc(e.modalChargePointSettingsId),"onUpdate:modelValue":l[12]||(l[12]=n=>s.setChargePointConnectedVehiclePvChargingMinSoc(e.modalChargePointSettingsId,n))},null,8,["model-value"])]),_:1}),t(C,null,{default:i(()=>[t(_,null,{default:i(()=>[a("Mindest-SoC Strom")]),_:1}),t(b,{min:6,max:32,unit:"A","model-value":e.mqttStore.getChargePointConnectedVehiclePvChargingMinSocCurrent(e.modalChargePointSettingsId),"onUpdate:modelValue":l[13]||(l[13]=n=>s.setChargePointConnectedVehiclePvChargingMinSocCurrent(e.modalChargePointSettingsId,n))},null,8,["model-value"])]),_:1}),t(C,null,{default:i(()=>[t(_,null,{default:i(()=>[a("SoC-Limit")]),_:1}),t(b,{unit:"%",labels:[{label:5,value:5},{label:10,value:10},{label:15,value:15},{label:20,value:20},{label:25,value:25},{label:30,value:30},{label:35,value:35},{label:40,value:40},{label:45,value:45},{label:50,value:50},{label:55,value:55},{label:60,value:60},{label:65,value:65},{label:70,value:70},{label:75,value:75},{label:80,value:80},{label:85,value:85},{label:90,value:90},{label:95,value:95},{label:100,value:100},{label:"Aus",value:101}],"model-value":e.mqttStore.getChargePointConnectedVehiclePvChargingMaxSoc(e.modalChargePointSettingsId),"onUpdate:modelValue":l[14]||(l[14]=n=>s.setChargePointConnectedVehiclePvChargingMaxSoc(e.modalChargePointSettingsId,n))},null,8,["model-value"])]),_:1})]),_:1})]),_:1}),t(x,{name:"tab-scheduled-charging"},{default:i(()=>[t(I,null,{default:i(()=>[(c(!0),f(y,null,T(e.mqttStore.getChargePointConnectedVehicleScheduledChargingPlans(e.modalChargePointSettingsId),(n,V)=>(c(),p(C,{key:V},{default:i(()=>[t(L,null,{default:i(()=>[t(S,null,{default:i(()=>[t(_,null,{default:i(()=>[a(u(n.name),1)]),_:2},1024)]),_:2},1024),t(S,null,{default:i(()=>[t(v,{size:"lg",block:"",color:n.active?"success":"danger",onClick:E=>s.setChargePointConnectedVehicleScheduledChargingPlanActive(V,!n.active)},{default:i(()=>[n.frequency.selected=="once"?(c(),f("span",ve,[t(g,{"fixed-width":"",icon:["fas","calendar-day"]}),a(" "+u(e.mqttStore.formatDate(n.frequency.once)),1)])):h("v-if",!0),n.frequency.selected=="daily"?(c(),f("span",Pe,[t(g,{"fixed-width":"",icon:["fas","calendar-week"]}),a(" täglich ")])):h("v-if",!0),n.frequency.selected=="weekly"?(c(),f("span",Se,[t(g,{"fixed-width":"",icon:["fas","calendar-alt"]}),a(" "+u(e.mqttStore.formatWeeklyScheduleDays(n.frequency.weekly)),1)])):h("v-if",!0),t(g,{"fixed-width":"",icon:["fas","clock"]}),a(" "+u(n.time)+" ",1),n.limit.selected=="soc"?(c(),f("span",Ve,[t(g,{"fixed-width":"",icon:["fas","car-battery"]}),a(" "+u(n.limit.soc_scheduled)+" % ",1)])):h("v-if",!0),n.limit.selected=="amount"?(c(),f("span",be,[t(g,{"fixed-width":"",icon:["fas","bolt"]}),a(" "+u(n.limit.amount/1e3)+" kWh ",1)])):h("v-if",!0)]),_:2},1032,["color","onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),t(x,{name:"tab-time-charging"},{default:i(()=>[t(I,null,{default:i(()=>[(c(!0),f(y,null,T(e.mqttStore.getChargePointConnectedVehicleTimeChargingPlans(e.modalChargePointSettingsId),(n,V)=>(c(),p(C,{key:V},{default:i(()=>[t(L,null,{default:i(()=>[t(S,null,{default:i(()=>[t(_,null,{default:i(()=>[a(u(n.name),1)]),_:2},1024)]),_:2},1024),t(S,null,{default:i(()=>[t(v,{size:"lg",block:"",color:n.active?"success":"danger",onClick:E=>s.setChargePointConnectedVehicleTimeChargingPlanActive(V,!n.active)},{default:i(()=>[n.frequency.selected=="once"?(c(),f("span",ke,[t(g,{"fixed-width":"",icon:["fas","calendar-day"]}),a(" "+u(e.mqttStore.formatDateRange(n.frequency.once)),1)])):h("v-if",!0),n.frequency.selected=="daily"?(c(),f("span",qe,[t(g,{"fixed-width":"",icon:["fas","calendar-week"]}),a(" täglich ")])):h("v-if",!0),n.frequency.selected=="weekly"?(c(),f("span",Ie,[t(g,{"fixed-width":"",icon:["fas","calendar-alt"]}),a(" "+u(e.mqttStore.formatWeeklyScheduleDays(n.frequency.weekly)),1)])):h("v-if",!0),t(g,{"fixed-width":"",icon:["fas","clock"]}),a(" "+u(n.time.join("-"))+" ",1),n.limit.selected=="soc"?(c(),f("span",xe,[t(g,{"fixed-width":"",icon:["fas","car-battery"]}),a(" "+u(n.limit.soc)+" % ",1)])):h("v-if",!0),n.limit.selected=="amount"?(c(),f("span",ye,[t(g,{"fixed-width":"",icon:["fas","bolt"]}),a(" "+u(n.limit.amount/1e3)+" kWh ",1)])):h("v-if",!0)]),_:2},1032,["color","onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["modelValue"])],64)}const ze=A(fe,[["render",we],["__scopeId","data-v-dd5faf5e"],["__file","/var/www/html/openWB/packages/modules/display_themes/cards/source/src/views/ChargePointsView.vue"]]);export{ze as default};
