import{u as Z}from"./index-a2f74f99.js";import{D as O,S as R}from"./SparkLine-77d57d0f.js";import{l as d,o as r,n as C,p as n,s as t,k as a,x as u,e as _,j as X,F as x,A as T,i as h,z as w}from"./vendor-835210d3.js";import{_ as z}from"./vendor-inkline-02fa0df0.js";import{l as G,j as H,k as J,m as Q,n as Y,f as K,a as $,o as ee,h as te,p as ne,q as ie,r as le,s as oe,t as ae,u as re,v as ce,w as se,x as ge,y as he,z as de,A as ue,F as me}from"./vendor-fortawesome-19215b61.js";const Ce={name:"ExtendedNumberInput",inheritAttrs:!1,props:{modelValue:{type:Number},unit:{type:String},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},labels:{type:Array}},emits:["update:modelValue"],data(){return{minimum:this.labels?0:this.min,maximum:this.labels?this.labels.length-1:this.max,stepSize:this.labels?1:this.step}},computed:{label(){var o;return this.labels&&this.inputValue!=null?this.inputValue<this.labels.length?o=this.labels[this.inputValue].label:console.error("index out of bounds: "+this.inputValue):o=this.inputValue,typeof o=="number"&&(o=o.toLocaleString(void 0,{minimumFractionDigits:this.precision,maximumFractionDigits:this.precision})),o},precision(){if(!isFinite(this.stepSize))return 0;for(var o=1,l=0;Math.round(this.stepSize*o)/o!==this.stepSize;)o*=10,l++;return l},inputValue:{get(){if(this.labels){var o=void 0;for(let l=0;l<this.labels.length;l++)if(this.labels[l].value==this.modelValue){o=l;break}return o===void 0&&this.modelValue!==void 0?(console.warn("inputValue: not found in values: ",this.modelValue,"using minimum as default: ",this.minimum),this.minimum):o}return this.modelValue},set(o){if(this.labels){var l=this.labels[o].value;this.$emit("update:modelValue",l)}else this.$emit("update:modelValue",o)}}},methods:{increment(){var o=Math.min(this.inputValue+this.stepSize,this.maximum);this.inputValue=Math.round(o*Math.pow(10,this.precision))/Math.pow(10,this.precision)},decrement(){var o=Math.max(this.inputValue-this.stepSize,this.minimum);this.inputValue=Math.round(o*Math.pow(10,this.precision))/Math.pow(10,this.precision)}}};function fe(o,l,c,m,e,g){const s=d("i-button"),k=d("i-input");return r(),C(k,{plaintext:"",class:"_text-align:right",size:"lg",modelValue:g.label,"onUpdate:modelValue":l[0]||(l[0]=v=>g.label=v)},{prepend:n(()=>[t(s,{onClick:g.decrement},{default:n(()=>[a("-")]),_:1},8,["onClick"])]),suffix:n(()=>[a(u(c.unit),1)]),append:n(()=>[t(s,{onClick:g.increment},{default:n(()=>[a("+")]),_:1},8,["onClick"])]),_:1},8,["modelValue"])}const _e=z(Ce,[["render",fe],["__file","/var/www/html/openWB/packages/modules/display_themes/cards/source/src/components/ExtendedNumberInput.vue"]]);G.add(H,J,Q,Y,K,$,ee,te,ne,ie,le,oe,ae,re,ce,se,ge,he,de,ue);const pe={name:"ChargePointsView",data(){return{mqttStore:Z(),modalChargePointSettingsVisible:!1,modalChargePointSettingsId:0,modalActiveTab:"tab-general"}},props:{changesLocked:{required:!1,type:Boolean,default:!1}},components:{DashBoardCard:O,SparkLine:R,ExtendedNumberInput:_e,FontAwesomeIcon:me},computed:{vehicleList(){let o=this.mqttStore.getVehicleList;var l=[];return Object.keys(o).forEach(c=>{let m=parseInt(c.match(/(?:\/)([0-9]+)(?=\/)*/g)[0].replace(/[^0-9]+/g,""));l.push({id:m,name:o[c]})}),l}},methods:{toggleChargePointSettings(o){this.modalChargePointSettingsId!=o&&(this.modalActiveTab="tab-general"),this.modalChargePointSettingsId=o,this.modalChargePointSettingsVisible=!0},toggleChargePointManualLock(o){this.$root.sendTopicToBroker(`openWB/chargepoint/${o}/set/manual_lock`,!this.mqttStore.getValueBool(`openWB/chargepoint/${o}/set/manual_lock`))},handleSocClick(o){let l=this.mqttStore.getChargePointConnectedVehicleId(o);if(this.mqttStore.getVehicleSocIsManual(l)){console.log("ToDo: manual SoC input");return}this.$root.sendTopicToBroker(`openWB/set/vehicle/${l}/get/force_soc_update`,1)},setChargePointConnectedVehicle(o,l){l.id!=this.mqttStore.getChargePointConnectedVehicleId(o)&&this.$root.sendTopicToBroker(`openWB/chargepoint/${o}/config/ev`,l.id)},setChargePointConnectedVehicleChargeMode(o,l){if(l.id!=this.mqttStore.getChargePointConnectedVehicleChargeMode(o)){var c=this.mqttStore.getChargePointConnectedVehicleChargeTemplateIndex(o);this.$root.sendTopicToBroker(`openWB/vehicle/template/charge_template/${c}/chargemode/selected`,l)}},setChargePointConnectedVehiclePriority(o,l){if(l!=this.mqttStore.getChargePointConnectedVehiclePriority(o)){var c=this.mqttStore.getChargePointConnectedVehicleChargeTemplateIndex(o);this.$root.sendTopicToBroker(`openWB/vehicle/template/charge_template/${c}/prio`,l)}},setChargePointConnectedVehicleTimeChargingActive(o,l){if(l!=this.mqttStore.getChargePointConnectedVehicleTimeChargingActive(o)){var c=this.mqttStore.getChargePointConnectedVehicleChargeTemplateIndex(o);this.$root.sendTopicToBroker(`openWB/vehicle/template/charge_template/${c}/time_charging/active`,l)}},setChargePointConnectedVehicleInstantChargingCurrent(o,l){if(l&&l!=this.mqttStore.getChargePointConnectedVehicleInstantChargingCurrent(o)){var c=this.mqttStore.getChargePointConnectedVehicleChargeTemplateIndex(o);this.$root.sendTopicToBroker(`openWB/vehicle/template/charge_template/${c}/chargemode/instant_charging/current`,parseFloat(l))}},setChargePointConnectedVehicleInstantChargingLimit(o,l){if(l&&l!=this.mqttStore.getChargePointConnectedVehicleInstantChargingLimit(o).selected){var c=this.mqttStore.getChargePointConnectedVehicleChargeTemplateIndex(o);this.$root.sendTopicToBroker(`openWB/vehicle/template/charge_template/${c}/chargemode/instant_charging/limit/selected`,l)}},setChargePointConnectedVehicleInstantChargingLimitSoc(o,l){if(l&&l!=this.mqttStore.getChargePointConnectedVehicleInstantChargingLimit(o).soc){var c=this.mqttStore.getChargePointConnectedVehicleChargeTemplateIndex(o);this.$root.sendTopicToBroker(`openWB/vehicle/template/charge_template/${c}/chargemode/instant_charging/limit/soc`,parseInt(l))}},setChargePointConnectedVehicleInstantChargingLimitAmount(o,l){if(l&&l!=this.mqttStore.getChargePointConnectedVehicleInstantChargingLimit(o).amount){var c=this.mqttStore.getChargePointConnectedVehicleChargeTemplateIndex(o);this.$root.sendTopicToBroker(`openWB/vehicle/template/charge_template/${c}/chargemode/instant_charging/limit/amount`,l)}},setChargePointConnectedVehiclePvChargingFeedInLimit(o,l){if(l!=this.mqttStore.getChargePointConnectedVehiclePvChargingFeedInLimit(o)){var c=this.mqttStore.getChargePointConnectedVehicleChargeTemplateIndex(o);this.$root.sendTopicToBroker(`openWB/vehicle/template/charge_template/${c}/chargemode/pv_charging/feed_in_limit`,l)}},setChargePointConnectedVehiclePvChargingMinCurrent(o,l){let c=this.mqttStore.getChargePointConnectedVehiclePvChargingMinCurrent(o),m=parseInt(l);if(m!=c&&!isNaN(m)){var e=this.mqttStore.getChargePointConnectedVehicleChargeTemplateIndex(o);this.$root.sendTopicToBroker(`openWB/vehicle/template/charge_template/${e}/chargemode/pv_charging/min_current`,m)}},setChargePointConnectedVehiclePvChargingMinSoc(o,l){let c=this.mqttStore.getChargePointConnectedVehiclePvChargingMinSoc(o),m=parseInt(l);if(m!=c&&!isNaN(m)){var e=this.mqttStore.getChargePointConnectedVehicleChargeTemplateIndex(o);this.$root.sendTopicToBroker(`openWB/vehicle/template/charge_template/${e}/chargemode/pv_charging/min_soc`,m)}},setChargePointConnectedVehiclePvChargingMinSocCurrent(o,l){let c=this.mqttStore.getChargePointConnectedVehiclePvChargingMinSocCurrent(o),m=parseInt(l);if(m!=c&&!isNaN(m)){var e=this.mqttStore.getChargePointConnectedVehicleChargeTemplateIndex(o);this.$root.sendTopicToBroker(`openWB/vehicle/template/charge_template/${e}/chargemode/pv_charging/min_soc_current`,m)}},setChargePointConnectedVehiclePvChargingMaxSoc(o,l){let c=this.mqttStore.getChargePointConnectedVehiclePvChargingMaxSoc(o),m=parseInt(l);if(m!=c&&!isNaN(m)){var e=this.mqttStore.getChargePointConnectedVehicleChargeTemplateIndex(o);this.$root.sendTopicToBroker(`openWB/vehicle/template/charge_template/${e}/chargemode/pv_charging/max_soc`,m)}},setChargePointConnectedVehicleScheduledChargingPlanActive(o,l){this.$root.sendTopicToBroker(`${o}/active`,l)},setChargePointConnectedVehicleTimeChargingPlanActive(o,l){this.$root.sendTopicToBroker(`${o}/active`,l)}}},ve={class:"charge-points-card-wrapper"},Pe={key:0},Se={key:0},Ve={key:1},be={key:2},ke={key:3},qe={key:4},Ie={key:0},ye={key:1},xe={key:2},we={key:3},Te={key:4};function Le(o,l,c,m,e,g){const s=d("font-awesome-icon"),k=d("i-badge"),v=d("i-button"),P=d("i-column"),S=d("i-row"),W=d("spark-line"),L=d("i-container"),N=d("dash-board-card"),q=d("i-tab-title"),p=d("i-form-label"),M=d("i-select"),f=d("i-form-group"),F=d("i-select-option"),B=d("i-toggle"),I=d("i-form"),y=d("i-tab"),b=d("extended-number-input"),U=d("i-button-group"),A=d("i-alert"),E=d("i-tabs"),D=d("i-modal");return r(),_(x,null,[X("div",ve,[(r(!0),_(x,null,T(e.mqttStore.getChargePointIds,i=>(r(),C(N,{key:i,color:"primary"},{headerLeft:n(()=>[a(u(e.mqttStore.getChargePointName(i)),1)]),headerRight:n(()=>[t(k,{size:"lg"},{default:n(()=>[t(s,{"fixed-width":"",icon:e.mqttStore.getChargePointPlugState(i)?e.mqttStore.getChargePointChargeState(i)?["fas","fa-plug-circle-bolt"]:["fas","fa-plug-circle-check"]:["fas","fa-plug-circle-xmark"],class:w(e.mqttStore.getChargePointPlugState(i)?e.mqttStore.getChargePointChargeState(i)?["_color:success"]:"_color:warning":"_color:gray")},null,8,["icon","class"])]),_:2},1024)]),default:n(()=>[t(L,null,{default:n(()=>[t(S,null,{default:n(()=>[h(" charge point data on left side "),t(P,null,{default:n(()=>[t(S,null,{default:n(()=>[t(P,{class:"_padding-left:0 _padding-right:0"},{default:n(()=>[t(v,{size:"lg",disabled:c.changesLocked,outline:c.changesLocked},{default:n(()=>[t(s,{"fixed-width":"",icon:e.mqttStore.getChargePointManualLock(i)?["fas","fa-lock"]:["fas","fa-lock-open"],class:w(e.mqttStore.getChargePointManualLock(i)?["_color:danger"]:"_color:success"),onClick:V=>g.toggleChargePointManualLock(i)},null,8,["icon","class","onClick"])]),_:2},1032,["disabled","outline"])]),_:2},1024),t(P,{class:"_text-align:right _padding-left:0"},{default:n(()=>[a(u(e.mqttStore.getChargePointPower(i))+" "+u(e.mqttStore.getChargePointPhasesInUse(i))+" "+u(e.mqttStore.getChargePointSetCurrent(i)),1)]),_:2},1024)]),_:2},1024),t(S,null,{default:n(()=>[t(P,{class:"_padding-left:0"},{default:n(()=>[t(W,{color:"var(--color--primary)",data:e.mqttStore.getChargePointPowerChartData(i)},null,8,["data"])]),_:2},1024)]),_:2},1024)]),_:2},1024),h(" vehicle data on right side "),t(P,{md:"6"},{default:n(()=>[h(" vehicle and soc "),t(S,{class:"_display:flex"},{default:n(()=>[t(P,{class:"_padding-left:0 _padding-right:0 _flex-grow:1"},{default:n(()=>[t(k,{size:"lg",class:"full-width"},{default:n(()=>[t(s,{"fixed-width":"",icon:["fas","fa-car"]}),a(" "+u(e.mqttStore.getChargePointConnectedVehicleName(i)),1)]),_:2},1024)]),_:2},1024),e.mqttStore.getVehicleSocConfigured(e.mqttStore.getChargePointConnectedVehicleId(i))||e.mqttStore.getVehicleFaultState(e.mqttStore.getChargePointConnectedVehicleId(i))!=0?(r(),C(P,{key:0,class:"_flex-grow:0 _padding-right:0 _padding-left:1"},{default:n(()=>[t(v,{size:"sm",onClick:V=>g.handleSocClick(i)},{default:n(()=>[e.mqttStore.getVehicleSocConfigured(e.mqttStore.getChargePointConnectedVehicleId(i))?(r(),_("span",Pe,[t(s,{"fixed-width":"",icon:e.mqttStore.getVehicleSocIsManual(e.mqttStore.getChargePointConnectedVehicleId(i))?["fas","fa-edit"]:["fas","fa-car-battery"]},null,8,["icon"]),a(" "+u(e.mqttStore.getChargePointConnectedVehicleSoc(i).soc)+"% ",1)])):h("v-if",!0),e.mqttStore.getVehicleFaultState(e.mqttStore.getChargePointConnectedVehicleId(i))!=0?(r(),C(s,{key:1,"fixed-width":"",icon:e.mqttStore.getVehicleFaultState(e.mqttStore.getChargePointConnectedVehicleId(i))>0?e.mqttStore.getVehicleFaultState(e.mqttStore.getChargePointConnectedVehicleId(i))>1?["fas","times-circle"]:["fas","exclamation-triangle"]:[],class:w(e.mqttStore.getVehicleFaultState(e.mqttStore.getChargePointConnectedVehicleId(i))>0?e.mqttStore.getVehicleFaultState(e.mqttStore.getChargePointConnectedVehicleId(i))>1?"_color:danger":"_color:warning":"")},null,8,["icon","class"])):h("v-if",!0)]),_:2},1032,["onClick"])]),_:2},1024)):h("v-if",!0)]),_:2},1024),h(" charge mode info "),t(S,{class:"_padding-top:1 _display:flex"},{default:n(()=>[t(P,{class:"_padding-left:0 _padding-right:0 _flex-grow:1"},{default:n(()=>[t(k,{size:"lg",class:"full-width",color:e.mqttStore.getChargePointConnectedVehicleChargeMode(i).class},{default:n(()=>[a(u(e.mqttStore.getChargePointConnectedVehicleChargeMode(i).label),1)]),_:2},1032,["color"])]),_:2},1024),e.mqttStore.getChargePointConnectedVehiclePriority(i)||e.mqttStore.getChargePointConnectedVehicleTimeChargingActive(i)?(r(),C(P,{key:0,class:"_flex-grow:0 _padding-right:0 _padding-left:1"},{default:n(()=>[t(k,{size:"lg"},{default:n(()=>[e.mqttStore.getChargePointConnectedVehiclePriority(i)?(r(),C(s,{key:0,"fixed-width":"",icon:["fas","fa-star"],class:"_color:warning"})):h("v-if",!0),e.mqttStore.getChargePointConnectedVehicleTimeChargingActive(i)?(r(),C(s,{key:1,"fixed-width":"",icon:e.mqttStore.getChargePointConnectedVehicleTimeChargingRunning(i)?["fas","fa-clock"]:["far","fa-clock"],class:w(e.mqttStore.getChargePointConnectedVehicleTimeChargingRunning(i)?"_color:success":"")},null,8,["icon","class"])):h("v-if",!0)]),_:2},1024)]),_:2},1024)):h("v-if",!0)]),_:2},1024),h(" settings button "),c.changesLocked?h("v-if",!0):(r(),C(S,{key:0,class:"_padding-top:1"},{default:n(()=>[t(P,{class:"_padding-left:0 _padding-right:0"},{default:n(()=>[t(v,{block:"",onClick:V=>g.toggleChargePointSettings(i)},{default:n(()=>[t(s,{"fixed-width":"",icon:["fas","fa-wrench"]})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024))]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),h(" modals "),t(D,{modelValue:e.modalChargePointSettingsVisible,"onUpdate:modelValue":l[16]||(l[16]=i=>e.modalChargePointSettingsVisible=i),size:"lg"},{header:n(()=>[a(' Einstellungen für Ladepunkt "'+u(e.mqttStore.getChargePointName(e.modalChargePointSettingsId))+'" ',1)]),default:n(()=>[t(E,{modelValue:e.modalActiveTab,"onUpdate:modelValue":l[15]||(l[15]=i=>e.modalActiveTab=i),stretch:""},{header:n(()=>[t(q,{for:"tab-general"},{default:n(()=>[a(" Allgemein ")]),_:1}),t(q,{for:"tab-instant-charging"},{default:n(()=>[a(" Sofort ")]),_:1}),t(q,{for:"tab-pv-charging"},{default:n(()=>[a(" PV ")]),_:1}),t(q,{for:"tab-scheduled-charging"},{default:n(()=>[a(" Zielladen ")]),_:1}),t(q,{for:"tab-time-charging"},{default:n(()=>[a(" Zeitladen ")]),_:1})]),default:n(()=>[t(y,{name:"tab-general"},{default:n(()=>[t(I,null,{default:n(()=>[t(f,null,{default:n(()=>[t(p,null,{default:n(()=>[t(s,{"fixed-width":"",icon:["fas","fa-car"]}),a(" Fahrzeug ")]),_:1}),t(M,{size:"lg",disabled:!e.mqttStore.getChargePointVehicleChangePermitted(e.modalChargePointSettingsId),"model-value":e.mqttStore.getChargePointConnectedVehicleInfo(e.modalChargePointSettingsId),label:"name",options:g.vehicleList,placeholder:"Bitte auswählen..","onUpdate:modelValue":l[0]||(l[0]=i=>g.setChargePointConnectedVehicle(e.modalChargePointSettingsId,i))},null,8,["disabled","model-value","options"])]),_:1}),t(f,null,{default:n(()=>[t(p,null,{default:n(()=>[a("Lademodus")]),_:1}),t(M,{size:"lg","model-value":e.mqttStore.getChargePointConnectedVehicleChargeMode(e.modalChargePointSettingsId),placeholder:"Bitte auswählen..","onUpdate:modelValue":l[1]||(l[1]=i=>g.setChargePointConnectedVehicleChargeMode(e.modalChargePointSettingsId,i))},{default:n(()=>[(r(!0),_(x,null,T(e.mqttStore.chargeModeList(),i=>(r(),C(F,{key:i.id,value:i.id,label:i.label,class:w("_background:"+i.class)},null,8,["value","label","class"]))),128))]),_:1},8,["model-value"])]),_:1}),t(f,{inline:"",class:"_justify-content:space-around"},{default:n(()=>[t(f,{inline:""},{default:n(()=>[t(p,{placement:"left",class:"_align-items:center"},{default:n(()=>[t(s,{"fixed-width":"",icon:["far","fa-star"]}),a(" Priorität ")]),_:1}),t(B,{size:"lg","model-value":e.mqttStore.getChargePointConnectedVehiclePriority(e.modalChargePointSettingsId),"onUpdate:modelValue":l[2]||(l[2]=i=>g.setChargePointConnectedVehiclePriority(e.modalChargePointSettingsId,i))},null,8,["model-value"])]),_:1}),t(f,{inline:"",class:"_margin-top:0"},{default:n(()=>[t(p,{placement:"left",class:"_align-items:center"},{default:n(()=>[t(s,{"fixed-width":"",icon:["far","fa-clock"]}),a(" Zeitladen ")]),_:1}),t(B,{size:"lg","model-value":e.mqttStore.getChargePointConnectedVehicleTimeChargingActive(e.modalChargePointSettingsId),"onUpdate:modelValue":l[3]||(l[3]=i=>g.setChargePointConnectedVehicleTimeChargingActive(e.modalChargePointSettingsId,i))},null,8,["model-value"])]),_:1})]),_:1})]),_:1})]),_:1}),t(y,{name:"tab-instant-charging"},{default:n(()=>[t(I,null,{default:n(()=>[t(f,null,{default:n(()=>[t(p,null,{default:n(()=>[a("Stromstärke")]),_:1}),t(b,{unit:"A",min:6,max:32,"model-value":e.mqttStore.getChargePointConnectedVehicleInstantChargingCurrent(e.modalChargePointSettingsId),"onUpdate:modelValue":l[4]||(l[4]=i=>g.setChargePointConnectedVehicleInstantChargingCurrent(e.modalChargePointSettingsId,i))},null,8,["model-value"])]),_:1}),t(f,null,{default:n(()=>[t(p,null,{default:n(()=>[a("Begrenzung")]),_:1}),t(U,{block:""},{default:n(()=>[t(v,{color:e.mqttStore.getChargePointConnectedVehicleInstantChargingLimit(e.modalChargePointSettingsId).selected=="none"?"primary":"",active:e.mqttStore.getChargePointConnectedVehicleInstantChargingLimit(e.modalChargePointSettingsId).selected=="none",onClick:l[5]||(l[5]=i=>g.setChargePointConnectedVehicleInstantChargingLimit(e.modalChargePointSettingsId,"none"))},{default:n(()=>[a(" Keine ")]),_:1},8,["color","active"]),t(v,{color:e.mqttStore.getChargePointConnectedVehicleInstantChargingLimit(e.modalChargePointSettingsId).selected=="soc"?"primary":"",active:e.mqttStore.getChargePointConnectedVehicleInstantChargingLimit(e.modalChargePointSettingsId).selected=="soc",onClick:l[6]||(l[6]=i=>g.setChargePointConnectedVehicleInstantChargingLimit(e.modalChargePointSettingsId,"soc"))},{default:n(()=>[a(" EV-SoC ")]),_:1},8,["color","active"]),t(v,{color:e.mqttStore.getChargePointConnectedVehicleInstantChargingLimit(e.modalChargePointSettingsId).selected=="amount"?"primary":"",active:e.mqttStore.getChargePointConnectedVehicleInstantChargingLimit(e.modalChargePointSettingsId).selected=="amount",onClick:l[7]||(l[7]=i=>g.setChargePointConnectedVehicleInstantChargingLimit(e.modalChargePointSettingsId,"amount"))},{default:n(()=>[a(" Energie ")]),_:1},8,["color","active"])]),_:1})]),_:1}),e.mqttStore.getChargePointConnectedVehicleInstantChargingLimit(e.modalChargePointSettingsId).selected=="soc"?(r(),C(f,{key:0},{default:n(()=>[t(p,null,{default:n(()=>[a("Max. SoC")]),_:1}),t(b,{unit:"%",min:5,max:100,step:5,"model-value":e.mqttStore.getChargePointConnectedVehicleInstantChargingLimit(e.modalChargePointSettingsId).soc,"onUpdate:modelValue":l[8]||(l[8]=i=>g.setChargePointConnectedVehicleInstantChargingLimitSoc(e.modalChargePointSettingsId,i))},null,8,["model-value"])]),_:1})):h("v-if",!0),e.mqttStore.getChargePointConnectedVehicleInstantChargingLimit(e.modalChargePointSettingsId).selected=="amount"?(r(),C(f,{key:1},{default:n(()=>[t(p,null,{default:n(()=>[a("Max. Energie")]),_:1}),t(b,{unit:"kWh",min:1,max:100,"model-value":e.mqttStore.getChargePointConnectedVehicleInstantChargingLimit(e.modalChargePointSettingsId).amount/1e3,"onUpdate:modelValue":l[9]||(l[9]=i=>g.setChargePointConnectedVehicleInstantChargingLimitAmount(e.modalChargePointSettingsId,i*1e3))},null,8,["model-value"])]),_:1})):h("v-if",!0)]),_:1})]),_:1}),t(y,{name:"tab-pv-charging"},{default:n(()=>[t(I,null,{default:n(()=>[t(f,{inline:""},{default:n(()=>[t(p,{placement:"left",class:"_align-items:center"},{default:n(()=>[a(" Einspeisegrenze beachten ")]),_:1}),t(B,{size:"lg","model-value":e.mqttStore.getChargePointConnectedVehiclePvChargingFeedInLimit(e.modalChargePointSettingsId),"onUpdate:modelValue":l[10]||(l[10]=i=>g.setChargePointConnectedVehiclePvChargingFeedInLimit(e.modalChargePointSettingsId,i))},null,8,["model-value"])]),_:1}),t(f,null,{default:n(()=>[t(p,null,{default:n(()=>[a("Mindeststrom")]),_:1}),t(b,{unit:"A",labels:[{label:"Aus",value:0},{label:6,value:6},{label:7,value:7},{label:8,value:8},{label:9,value:9},{label:10,value:10},{label:11,value:11},{label:12,value:12},{label:13,value:13},{label:14,value:14},{label:15,value:15},{label:16,value:16}],"model-value":e.mqttStore.getChargePointConnectedVehiclePvChargingMinCurrent(e.modalChargePointSettingsId),"onUpdate:modelValue":l[11]||(l[11]=i=>g.setChargePointConnectedVehiclePvChargingMinCurrent(e.modalChargePointSettingsId,i))},null,8,["model-value"])]),_:1}),t(f,null,{default:n(()=>[t(p,null,{default:n(()=>[a("Mindest-SoC")]),_:1}),t(b,{unit:"%",labels:[{label:"Aus",value:0},{label:5,value:5},{label:10,value:10},{label:15,value:15},{label:20,value:20},{label:25,value:25},{label:30,value:30},{label:35,value:35},{label:40,value:40},{label:45,value:45},{label:50,value:50},{label:55,value:55},{label:60,value:60},{label:65,value:65},{label:70,value:70},{label:75,value:75},{label:80,value:80},{label:85,value:85},{label:90,value:90},{label:95,value:95}],"model-value":e.mqttStore.getChargePointConnectedVehiclePvChargingMinSoc(e.modalChargePointSettingsId),"onUpdate:modelValue":l[12]||(l[12]=i=>g.setChargePointConnectedVehiclePvChargingMinSoc(e.modalChargePointSettingsId,i))},null,8,["model-value"])]),_:1}),t(f,null,{default:n(()=>[t(p,null,{default:n(()=>[a("Mindest-SoC Strom")]),_:1}),t(b,{min:6,max:32,unit:"A","model-value":e.mqttStore.getChargePointConnectedVehiclePvChargingMinSocCurrent(e.modalChargePointSettingsId),"onUpdate:modelValue":l[13]||(l[13]=i=>g.setChargePointConnectedVehiclePvChargingMinSocCurrent(e.modalChargePointSettingsId,i))},null,8,["model-value"])]),_:1}),t(f,null,{default:n(()=>[t(p,null,{default:n(()=>[a("SoC-Limit")]),_:1}),t(b,{unit:"%",labels:[{label:5,value:5},{label:10,value:10},{label:15,value:15},{label:20,value:20},{label:25,value:25},{label:30,value:30},{label:35,value:35},{label:40,value:40},{label:45,value:45},{label:50,value:50},{label:55,value:55},{label:60,value:60},{label:65,value:65},{label:70,value:70},{label:75,value:75},{label:80,value:80},{label:85,value:85},{label:90,value:90},{label:95,value:95},{label:100,value:100},{label:"Aus",value:101}],"model-value":e.mqttStore.getChargePointConnectedVehiclePvChargingMaxSoc(e.modalChargePointSettingsId),"onUpdate:modelValue":l[14]||(l[14]=i=>g.setChargePointConnectedVehiclePvChargingMaxSoc(e.modalChargePointSettingsId,i))},null,8,["model-value"])]),_:1})]),_:1})]),_:1}),t(y,{name:"tab-scheduled-charging"},{default:n(()=>[Object.keys(e.mqttStore.getChargePointConnectedVehicleScheduledChargingPlans(e.modalChargePointSettingsId)).length===0?(r(),C(A,{key:0},{icon:n(()=>[t(s,{"fixed-width":"",icon:["fas","fa-info-circle"]})]),default:n(()=>[a(" Es wurden noch keine Zeitpläne für das Zielladen eingerichtet. ")]),_:1})):(r(),C(I,{key:1},{default:n(()=>[(r(!0),_(x,null,T(e.mqttStore.getChargePointConnectedVehicleScheduledChargingPlans(e.modalChargePointSettingsId),(i,V)=>(r(),C(f,{key:V},{default:n(()=>[t(L,null,{default:n(()=>[t(S,null,{default:n(()=>[t(p,null,{default:n(()=>[a(u(i.name),1)]),_:2},1024)]),_:2},1024),t(S,null,{default:n(()=>[t(v,{size:"lg",block:"",color:i.active?"success":"danger",onClick:j=>g.setChargePointConnectedVehicleScheduledChargingPlanActive(V,!i.active)},{default:n(()=>[i.frequency.selected=="once"?(r(),_("span",Se,[t(s,{"fixed-width":"",icon:["fas","calendar-day"]}),a(" "+u(e.mqttStore.formatDate(i.frequency.once)),1)])):h("v-if",!0),i.frequency.selected=="daily"?(r(),_("span",Ve,[t(s,{"fixed-width":"",icon:["fas","calendar-week"]}),a(" täglich ")])):h("v-if",!0),i.frequency.selected=="weekly"?(r(),_("span",be,[t(s,{"fixed-width":"",icon:["fas","calendar-alt"]}),a(" "+u(e.mqttStore.formatWeeklyScheduleDays(i.frequency.weekly)),1)])):h("v-if",!0),t(s,{"fixed-width":"",icon:["fas","clock"]}),a(" "+u(i.time)+" ",1),i.limit.selected=="soc"?(r(),_("span",ke,[t(s,{"fixed-width":"",icon:["fas","car-battery"]}),a(" "+u(i.limit.soc_scheduled)+" % ",1)])):h("v-if",!0),i.limit.selected=="amount"?(r(),_("span",qe,[t(s,{"fixed-width":"",icon:["fas","bolt"]}),a(" "+u(i.limit.amount/1e3)+" kWh ",1)])):h("v-if",!0)]),_:2},1032,["color","onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1}))]),_:1}),t(y,{name:"tab-time-charging"},{default:n(()=>[Object.keys(e.mqttStore.getChargePointConnectedVehicleTimeChargingPlans(e.modalChargePointSettingsId)).length===0?(r(),C(A,{key:0},{icon:n(()=>[t(s,{"fixed-width":"",icon:["fas","fa-circle-info"]})]),default:n(()=>[a(" Es wurden noch keine Zeitpläne für das Zeitladen eingerichtet. ")]),_:1})):(r(),C(I,{key:1},{default:n(()=>[(r(!0),_(x,null,T(e.mqttStore.getChargePointConnectedVehicleTimeChargingPlans(e.modalChargePointSettingsId),(i,V)=>(r(),C(f,{key:V},{default:n(()=>[t(L,null,{default:n(()=>[t(S,null,{default:n(()=>[t(p,null,{default:n(()=>[a(u(i.name),1)]),_:2},1024)]),_:2},1024),t(S,null,{default:n(()=>[t(v,{size:"lg",block:"",color:i.active?"success":"danger",onClick:j=>g.setChargePointConnectedVehicleTimeChargingPlanActive(V,!i.active)},{default:n(()=>[i.frequency.selected=="once"?(r(),_("span",Ie,[t(s,{"fixed-width":"",icon:["fas","calendar-day"]}),a(" "+u(e.mqttStore.formatDateRange(i.frequency.once)),1)])):h("v-if",!0),i.frequency.selected=="daily"?(r(),_("span",ye,[t(s,{"fixed-width":"",icon:["fas","calendar-week"]}),a(" täglich ")])):h("v-if",!0),i.frequency.selected=="weekly"?(r(),_("span",xe,[t(s,{"fixed-width":"",icon:["fas","calendar-alt"]}),a(" "+u(e.mqttStore.formatWeeklyScheduleDays(i.frequency.weekly)),1)])):h("v-if",!0),t(s,{"fixed-width":"",icon:["fas","clock"]}),a(" "+u(i.time.join("-"))+" ",1),i.limit.selected=="soc"?(r(),_("span",we,[t(s,{"fixed-width":"",icon:["fas","car-battery"]}),a(" "+u(i.limit.soc)+" % ",1)])):h("v-if",!0),i.limit.selected=="amount"?(r(),_("span",Te,[t(s,{"fixed-width":"",icon:["fas","bolt"]}),a(" "+u(i.limit.amount/1e3)+" kWh ",1)])):h("v-if",!0)]),_:2},1032,["color","onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1}))]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["modelValue"])],64)}const Ne=z(pe,[["render",Le],["__scopeId","data-v-dd5faf5e"],["__file","/var/www/html/openWB/packages/modules/display_themes/cards/source/src/views/ChargePointsView.vue"]]);export{Ne as default};
