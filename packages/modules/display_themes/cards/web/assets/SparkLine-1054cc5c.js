import{l as d,o as n,p as m,q as r,t as u,f as _,i as y,e as l,F as C,A as k,n as D,j as P,O as N}from"./vendor-a9456d51.js";import{_ as v}from"./vendor-inkline-e555ebca.js";const $={name:"DashBoardCard",props:{color:String}};function B(t,o,e,a,c,i){const s=d("i-column"),h=d("i-row"),w=d("i-container"),x=d("i-card");return n(),m(x,{color:e.color},{header:r(()=>[u(w,null,{default:r(()=>[u(h,null,{default:r(()=>[u(s,null,{default:r(()=>[_(t.$slots,"headerLeft",{},void 0,!0)]),_:3}),t.$slots.headerRight?(n(),m(s,{key:0,class:"_text-align:right"},{default:r(()=>[_(t.$slots,"headerRight",{},void 0,!0)]),_:3})):y("v-if",!0)]),_:3})]),_:3})]),default:r(()=>[_(t.$slots,"default",{},void 0,!0)]),_:3},8,["color"])}const E=v($,[["render",B],["__scopeId","data-v-aa92abad"],["__file","/var/www/html/openWB/packages/modules/display_themes/cards/source/src/components/DashBoardCard.vue"]]);const f={props:{data:{required:!0,type:Array,default(){return[]}},socData:{required:!1,type:Array},width:{Number,default:250},height:{Number,default:70},gap:{Number,default:3},stroke:{Number,default:3},min:{Number,default:0},max:{Number,default:1},color:{String,default:"var(--color--primary)"},colorNegative:{String,default:void 0}},computed:{highestPoint(){return Math.max(1,this.max,...this.slicedData)},lowestPoint(){return Math.min(0,this.min,...this.slicedData)},maxPoints(){return Math.floor(this.width/(this.stroke+this.gap))},slicedData(){return this.data.slice(-this.maxPoints)},slicedSocData(){if(this.socData)return this.socData.slice(-this.maxPoints)},zeroHeight(){return this.height-(0-this.lowestPoint)/(this.highestPoint-this.lowestPoint)*this.height},coordinates(){return this.calculateCoordinates(this.slicedData,this.lowestPoint,this.highestPoint)},socCoordinates(){if(this.socData)return this.calculateCoordinates(this.slicedSocData,0,100)},bars(){const t=[];return this.coordinates.forEach(o=>{const e=o.x,a=o.y,c=this.stroke,i=Math.min(a,this.zeroHeight),s=Math.abs(a-this.zeroHeight),h=a>this.zeroHeight;t.push({x:e,y:i,width:c,height:s,negative:h})}),t},socPath(){if(this.socCoordinates){let o=this.socCoordinates.slice(0,1)[0],e=this.socCoordinates.slice(-1)[0];var t=`M 0,${this.height}`;return t+=` L 0,${o.y}`,this.socCoordinates.forEach(a=>{t+=` L ${a.x+this.stroke/2},${a.y}`}),t+=` L ${e.x+this.stroke},${e.y} L ${e.x+this.stroke},${this.height} Z`,t}}},methods:{calculateCoordinates(t,o,e){const a=[];return t.forEach((c,i)=>{const s=i*this.width/this.maxPoints+1,h=this.height-(c-o)/(e-o)*this.height;a.push({x:s,y:h})}),a}}},g=()=>{N(t=>({"fc7172b1-color":t.color,"fc7172b1-colorNegative":t.colorNegative}))},p=f.setup;f.setup=p?(t,o)=>(g(),p(t,o)):g;const S=f,b=["viewBox"],L=["d"],z=["x","y","width","height"],M=["y1","x2","y2"];function H(t,o,e,a,c,i){return n(),l("svg",{class:"spark-line",viewBox:`0 0 ${e.width} ${e.height}`,width:"100%",preserveAspectRatio:"xMinYMin"},[e.socData?(n(),l("path",{key:0,class:"soc-path",d:i.socPath},null,8,L)):y("v-if",!0),(n(!0),l(C,null,k(i.bars,s=>(n(),l("rect",{key:s.x,x:s.x,y:s.y,width:s.width,height:s.height,class:D(e.colorNegative&&s.negative?"negative":"")},null,10,z))),128)),P("line",{class:"zero-line",x1:0,y1:i.zeroHeight,x2:e.width,y2:i.zeroHeight},null,8,M)],8,b)}const q=v(S,[["render",H],["__scopeId","data-v-fc7172b1"],["__file","/var/www/html/openWB/packages/modules/display_themes/cards/source/src/components/SparkLine.vue"]]);export{E as D,q as S};
