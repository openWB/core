"use strict";(self["webpackChunkopenwb_ui_settings"]=self["webpackChunkopenwb_ui_settings"]||[]).push([[4614],{2702:function(e,t,l){l.r(t),l.d(t,{default:function(){return A}});var n=l(6252),o=l(3577);const a=e=>((0,n.dD)("data-v-2bfda8ba"),e=e(),(0,n.Cn)(),e),s={class:"status"},i=(0,n.Uk)("Historie"),r=(0,n.Uk)(" Modulmeldung:"),u=a((()=>(0,n._)("br",null,null,-1))),d=(0,n.Uk)(" Statusmeldung:"),p=a((()=>(0,n._)("br",null,null,-1))),m=(0,n.Uk)("Werte pro Phase"),g=(0,n.Uk)("Phasen"),c=(0,n.Uk)(" Modulmeldung:"),W=a((()=>(0,n._)("br",null,null,-1))),h=(0,n.Uk)(" Statusmeldung:"),v=a((()=>(0,n._)("br",null,null,-1))),y=(0,n.Uk)("Zählerstände"),x=(0,n.Uk)("Saldierte Werte"),f=(0,n.Uk)("Werte pro Phase"),w=(0,n.Uk)("Erträge"),b=(0,n.Uk)(" Modulmeldung:"),B=a((()=>(0,n._)("br",null,null,-1))),_=(0,n.Uk)("Zählerstände"),k=(0,n.Uk)("Tageswerte"),q=(0,n.Uk)("Saldierte Werte"),$=(0,n.Uk)(" Modulmeldung:"),C=a((()=>(0,n._)("br",null,null,-1))),I=(0,n.Uk)("Aktuelle Werte"),j=(0,n.Uk)("Zählerstände");function P(e,t,l,a,P,U){const L=(0,n.up)("openwb-base-number-input"),D=(0,n.up)("openwb-base-heading"),S=(0,n.up)("openwb-base-card"),T=(0,n.up)("font-awesome-icon"),z=(0,n.up)("openwb-base-alert"),H=(0,n.up)("openwb-base-checkbox-input"),A=(0,n.up)("openwb-base-text-input");return(0,n.wg)(),(0,n.iD)("div",s,[U.numChargePointsInstalled>1?((0,n.wg)(),(0,n.j4)(S,{key:0,title:"Alle Ladepunkte",subtype:"primary",collapsible:!0,collapsed:!0},{default:(0,n.w5)((()=>[(0,n.Wm)(L,{title:"Leistung",readonly:"",class:"text-right text-monospace",step:"0.001",unit:"W","model-value":e.$store.state.mqtt["openWB/chargepoint/get/power"]},null,8,["model-value"]),(0,n.Wm)(L,{title:"Zählerstand",readonly:"",class:"text-right text-monospace",step:"0.001",unit:"Wh","model-value":e.$store.state.mqtt["openWB/chargepoint/get/counter"]},null,8,["model-value"]),(0,n.Wm)(D,null,{default:(0,n.w5)((()=>[i])),_:1}),(0,n.Wm)(L,{title:"Heute",readonly:"",class:"text-right text-monospace",step:"0.001",unit:"Wh","model-value":e.$store.state.mqtt["openWB/chargepoint/get/daily_yield"]},null,8,["model-value"])])),_:1})):(0,n.kq)("",!0),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(U.installedChargePoints,((t,l)=>((0,n.wg)(),(0,n.j4)(S,{key:l,title:t.name+" (ID: "+U.getChargePointIndex(l)+")",collapsible:!0,collapsed:!0,subtype:"primary"},{default:(0,n.w5)((()=>[(0,n.Wm)(z,{subtype:P.statusLevel[e.$store.state.mqtt["openWB/chargepoint/"+U.getChargePointIndex(l)+"/get/fault_state"]]},{default:(0,n.w5)((()=>[1==e.$store.state.mqtt["openWB/chargepoint/"+U.getChargePointIndex(l)+"/get/fault_state"]?((0,n.wg)(),(0,n.j4)(T,{key:0,"fixed-width":"",icon:["fas","exclamation-triangle"]})):2==e.$store.state.mqtt["openWB/chargepoint/"+U.getChargePointIndex(l)+"/get/fault_state"]?((0,n.wg)(),(0,n.j4)(T,{key:1,"fixed-width":"",icon:["fas","times-circle"]})):((0,n.wg)(),(0,n.j4)(T,{key:2,"fixed-width":"",icon:["fas","check-circle"]})),r,u,(0,n.Uk)(" "+(0,o.zw)(e.$store.state.mqtt["openWB/chargepoint/"+U.getChargePointIndex(l)+"/get/fault_str"]),1)])),_:2},1032,["subtype"]),(0,n.Wm)(z,{subtype:"info"},{default:(0,n.w5)((()=>[d,p,(0,n.Uk)(" "+(0,o.zw)(e.$store.state.mqtt["openWB/chargepoint/"+U.getChargePointIndex(l)+"/get/state_str"]),1)])),_:2},1024),(0,n.Wm)(H,{title:"Fahrzeug angesteckt",disabled:"","model-value":1==e.$store.state.mqtt["openWB/chargepoint/"+U.getChargePointIndex(l)+"/get/plug_state"]},null,8,["model-value"]),(0,n.Wm)(H,{title:"Ladevorgang aktiv",disabled:"","model-value":1==e.$store.state.mqtt["openWB/chargepoint/"+U.getChargePointIndex(l)+"/get/charge_state"]},null,8,["model-value"]),(0,n.Wm)(L,{title:"Zählerstand",readonly:"",class:"text-right text-monospace",step:"0.001",unit:"Wh","model-value":e.$store.state.mqtt["openWB/chargepoint/"+U.getChargePointIndex(l)+"/get/counter"]},null,8,["model-value"]),(0,n.Wm)(L,{title:"Heute geladen",readonly:"",class:"text-right text-monospace",step:"0.001",unit:"Wh","model-value":e.$store.state.mqtt["openWB/chargepoint/"+U.getChargePointIndex(l)+"/get/daily_yield"]},null,8,["model-value"]),(0,n.Wm)(L,{title:"Leistung",readonly:"",class:"text-right text-monospace",step:"0.001",unit:"W","model-value":e.$store.state.mqtt["openWB/chargepoint/"+U.getChargePointIndex(l)+"/get/power"]},null,8,["model-value"]),(0,n.Wm)(L,{title:"Ladestromvorgabe",readonly:"",class:"text-right text-monospace",step:"0.01",unit:"A","model-value":e.$store.state.mqtt["openWB/chargepoint/"+U.getChargePointIndex(l)+"/set/current"]},null,8,["model-value"]),(0,n.Wm)(D,null,{default:(0,n.w5)((()=>[m])),_:1}),(0,n.Wm)(A,{title:"Spannung",readonly:"",class:"text-right text-monospace",subtype:"json",unit:"V","model-value":e.$store.state.mqtt["openWB/chargepoint/"+U.getChargePointIndex(l)+"/get/voltages"]},null,8,["model-value"]),(0,n.Wm)(A,{title:"Strom",readonly:"",class:"text-right text-monospace",subtype:"json",unit:"A","model-value":e.$store.state.mqtt["openWB/chargepoint/"+U.getChargePointIndex(l)+"/get/currents"]},null,8,["model-value"]),(0,n.Wm)(A,{title:"Leistungsfaktor",readonly:"",class:"text-right text-monospace",subtype:"json","model-value":e.$store.state.mqtt["openWB/chargepoint/"+U.getChargePointIndex(l)+"/get/power_factors"]},null,8,["model-value"]),(0,n.Wm)(D,null,{default:(0,n.w5)((()=>[g])),_:1}),(0,n.Wm)(L,{title:"Vorgabe",readonly:"",class:"text-right text-monospace","model-value":e.$store.state.mqtt["openWB/chargepoint/"+U.getChargePointIndex(l)+"/set/phases_to_use"]},null,8,["model-value"]),(0,n.Wm)(L,{title:"Aktuell",readonly:"",class:"text-right text-monospace","model-value":e.$store.state.mqtt["openWB/chargepoint/"+U.getChargePointIndex(l)+"/get/phases_in_use"]},null,8,["model-value"])])),_:2},1032,["title"])))),128)),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(U.counterConfigs,(t=>((0,n.wg)(),(0,n.j4)(S,{key:t.id,title:t.name+" (ID: "+t.id+")",collapsible:!0,collapsed:!0,subtype:"danger"},{default:(0,n.w5)((()=>[(0,n.Wm)(z,{subtype:P.statusLevel[e.$store.state.mqtt["openWB/counter/"+t.id+"/get/fault_state"]]},{default:(0,n.w5)((()=>[1==e.$store.state.mqtt["openWB/counter/"+t.id+"/get/fault_state"]?((0,n.wg)(),(0,n.j4)(T,{key:0,"fixed-width":"",icon:["fas","exclamation-triangle"]})):2==e.$store.state.mqtt["openWB/counter/"+t.id+"/get/fault_state"]?((0,n.wg)(),(0,n.j4)(T,{key:1,"fixed-width":"",icon:["fas","times-circle"]})):((0,n.wg)(),(0,n.j4)(T,{key:2,"fixed-width":"",icon:["fas","check-circle"]})),c,W,(0,n.Uk)(" "+(0,o.zw)(e.$store.state.mqtt["openWB/counter/"+t.id+"/get/fault_str"]),1)])),_:2},1032,["subtype"]),void 0!=e.$store.state.mqtt["openWB/counter/"+t.id+"/get/state_str"]?((0,n.wg)(),(0,n.j4)(z,{key:0,subtype:"info"},{default:(0,n.w5)((()=>[h,v,(0,n.Uk)(" "+(0,o.zw)(e.$store.state.mqtt["openWB/counter/"+t.id+"/get/state_str"]),1)])),_:2},1024)):(0,n.kq)("",!0),(0,n.Wm)(D,null,{default:(0,n.w5)((()=>[y])),_:1}),(0,n.Wm)(L,{title:"Export",readonly:"",class:"text-right text-monospace",step:"0.001",unit:"Wh","model-value":e.$store.state.mqtt["openWB/counter/"+t.id+"/get/exported"]},null,8,["model-value"]),(0,n.Wm)(L,{title:"Import",readonly:"",class:"text-right text-monospace",step:"0.001",unit:"Wh","model-value":e.$store.state.mqtt["openWB/counter/"+t.id+"/get/imported"]},null,8,["model-value"]),(0,n.Wm)(D,null,{default:(0,n.w5)((()=>[x])),_:1}),(0,n.Wm)(L,{title:"Leistung",readonly:"",class:"text-right text-monospace",step:"0.001",unit:"W","model-value":e.$store.state.mqtt["openWB/counter/"+t.id+"/get/power"]},null,8,["model-value"]),(0,n.Wm)(L,{title:"Netzfrequenz",readonly:"",class:"text-right text-monospace",step:"0.001",unit:"Hz","model-value":e.$store.state.mqtt["openWB/counter/"+t.id+"/get/frequency"]},null,8,["model-value"]),(0,n.Wm)(D,null,{default:(0,n.w5)((()=>[f])),_:1}),(0,n.Wm)(A,{title:"Spannung",readonly:"",class:"text-right text-monospace",subtype:"json",unit:"V","model-value":e.$store.state.mqtt["openWB/counter/"+t.id+"/get/voltages"]},null,8,["model-value"]),(0,n.Wm)(A,{title:"Strom",readonly:"",class:"text-right text-monospace",subtype:"json",unit:"A","model-value":e.$store.state.mqtt["openWB/counter/"+t.id+"/get/currents"]},null,8,["model-value"]),(0,n.Wm)(A,{title:"Leistung",readonly:"",class:"text-right text-monospace",subtype:"json",unit:"W","model-value":e.$store.state.mqtt["openWB/counter/"+t.id+"/get/powers"]},null,8,["model-value"]),(0,n.Wm)(A,{title:"Leistungsfaktor",readonly:"",class:"text-right text-monospace",subtype:"json","model-value":e.$store.state.mqtt["openWB/counter/"+t.id+"/get/power_factors"]},null,8,["model-value"])])),_:2},1032,["title"])))),128)),U.numInvertersInstalled>1?((0,n.wg)(),(0,n.j4)(S,{key:1,title:"Alle Wechselrichter",subtype:"success",collapsible:!0,collapsed:!0},{default:(0,n.w5)((()=>[(0,n.Wm)(L,{title:"Zählerstand",readonly:"",class:"text-right text-monospace",step:"0.001",unit:"Wh","model-value":e.$store.state.mqtt["openWB/pv/get/counter"]},null,8,["model-value"]),(0,n.Wm)(L,{title:"Leistung",readonly:"",class:"text-right text-monospace",step:"0.001",unit:"W","model-value":e.$store.state.mqtt["openWB/pv/get/power"]},null,8,["model-value"]),(0,n.Wm)(D,null,{default:(0,n.w5)((()=>[w])),_:1}),(0,n.Wm)(L,{title:"Heute",readonly:"",class:"text-right text-monospace",step:"0.001",unit:"Wh","model-value":e.$store.state.mqtt["openWB/pv/get/daily_yield"]},null,8,["model-value"]),(0,n.Wm)(L,{title:"Dieser Monat",readonly:"",class:"text-right text-monospace",step:"0.001",unit:"Wh","model-value":e.$store.state.mqtt["openWB/pv/get/monthly_yield"]},null,8,["model-value"]),(0,n.Wm)(L,{title:"Dieses Jahr",readonly:"",class:"text-right text-monospace",step:"0.001",unit:"Wh","model-value":e.$store.state.mqtt["openWB/pv/get/yearly_yield"]},null,8,["model-value"])])),_:1})):(0,n.kq)("",!0),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(U.inverterConfigs,(t=>((0,n.wg)(),(0,n.j4)(S,{key:t.id,title:t.name+" (ID: "+t.id+")",collapsible:!0,collapsed:!0,subtype:"success"},{default:(0,n.w5)((()=>[(0,n.Wm)(z,{subtype:P.statusLevel[e.$store.state.mqtt["openWB/pv/"+t.id+"/get/fault_state"]]},{default:(0,n.w5)((()=>[1==e.$store.state.mqtt["openWB/pv/"+t.id+"/get/fault_state"]?((0,n.wg)(),(0,n.j4)(T,{key:0,"fixed-width":"",icon:["fas","exclamation-triangle"]})):2==e.$store.state.mqtt["openWB/pv/"+t.id+"/get/fault_state"]?((0,n.wg)(),(0,n.j4)(T,{key:1,"fixed-width":"",icon:["fas","times-circle"]})):((0,n.wg)(),(0,n.j4)(T,{key:2,"fixed-width":"",icon:["fas","check-circle"]})),b,B,(0,n.Uk)(" "+(0,o.zw)(e.$store.state.mqtt["openWB/pv/"+t.id+"/get/fault_str"]),1)])),_:2},1032,["subtype"]),(0,n.Wm)(L,{title:"Zählerstand",readonly:"",class:"text-right text-monospace",step:"0.001",unit:"Wh","model-value":e.$store.state.mqtt["openWB/pv/"+t.id+"/get/counter"]},null,8,["model-value"]),(0,n.Wm)(L,{title:"Leistung",readonly:"",class:"text-right text-monospace",step:"0.001",unit:"W","model-value":e.$store.state.mqtt["openWB/pv/"+t.id+"/get/power"]},null,8,["model-value"])])),_:2},1032,["title"])))),128)),U.numBatteriesInstalled>1?((0,n.wg)(),(0,n.j4)(S,{key:2,title:"Alle Speicher",subtype:"warning",collapsible:!0,collapsed:!0},{default:(0,n.w5)((()=>[(0,n.Wm)(D,null,{default:(0,n.w5)((()=>[_])),_:1}),(0,n.Wm)(L,{title:"Ladung",readonly:"",class:"text-right text-monospace",step:"0.001",unit:"Wh","model-value":e.$store.state.mqtt["openWB/bat/get/imported"]},null,8,["model-value"]),(0,n.Wm)(L,{title:"Entladung",readonly:"",class:"text-right text-monospace",step:"0.001",unit:"Wh","model-value":e.$store.state.mqtt["openWB/bat/get/exported"]},null,8,["model-value"]),(0,n.Wm)(D,null,{default:(0,n.w5)((()=>[k])),_:1}),(0,n.Wm)(L,{title:"Ladung",readonly:"",class:"text-right text-monospace",step:"0.001",unit:"Wh","model-value":e.$store.state.mqtt["openWB/bat/get/daily_yield_import"]},null,8,["model-value"]),(0,n.Wm)(L,{title:"Entladung",readonly:"",class:"text-right text-monospace",step:"0.001",unit:"Wh","model-value":e.$store.state.mqtt["openWB/bat/get/daily_yield_export"]},null,8,["model-value"]),(0,n.Wm)(D,null,{default:(0,n.w5)((()=>[q])),_:1}),(0,n.Wm)(L,{title:"Leistung",readonly:"",class:"text-right text-monospace",step:"0.001",unit:"W","model-value":e.$store.state.mqtt["openWB/bat/get/power"]},null,8,["model-value"]),(0,n.Wm)(L,{title:"Ladestand",readonly:"",class:"text-right text-monospace",unit:"%","model-value":e.$store.state.mqtt["openWB/bat/get/soc"]},null,8,["model-value"])])),_:1})):(0,n.kq)("",!0),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(U.batteryConfigs,(t=>((0,n.wg)(),(0,n.j4)(S,{key:t.id,title:t.name+" (ID: "+t.id+")",collapsible:!0,collapsed:!0,subtype:"warning"},{default:(0,n.w5)((()=>[(0,n.Wm)(z,{subtype:P.statusLevel[e.$store.state.mqtt["openWB/bat/"+t.id+"/get/fault_state"]]},{default:(0,n.w5)((()=>[1==e.$store.state.mqtt["openWB/bat/"+t.id+"/get/fault_state"]?((0,n.wg)(),(0,n.j4)(T,{key:0,"fixed-width":"",icon:["fas","exclamation-triangle"]})):2==e.$store.state.mqtt["openWB/bat/"+t.id+"/get/fault_state"]?((0,n.wg)(),(0,n.j4)(T,{key:1,"fixed-width":"",icon:["fas","times-circle"]})):((0,n.wg)(),(0,n.j4)(T,{key:2,"fixed-width":"",icon:["fas","check-circle"]})),$,C,(0,n.Uk)(" "+(0,o.zw)(e.$store.state.mqtt["openWB/bat/"+t.id+"/get/fault_str"]),1)])),_:2},1032,["subtype"]),(0,n.Wm)(D,null,{default:(0,n.w5)((()=>[I])),_:1}),(0,n.Wm)(L,{title:"Leistung",readonly:"",class:"text-right text-monospace",step:"0.001",unit:"W","model-value":e.$store.state.mqtt["openWB/bat/"+t.id+"/get/power"]},null,8,["model-value"]),(0,n.Wm)(L,{title:"Ladestand",readonly:"",class:"text-right text-monospace",unit:"%","model-value":e.$store.state.mqtt["openWB/bat/"+t.id+"/get/soc"]},null,8,["model-value"]),(0,n.Wm)(D,null,{default:(0,n.w5)((()=>[j])),_:1}),(0,n.Wm)(L,{title:"Ladung",readonly:"",class:"text-right text-monospace",step:"0.001",unit:"Wh","model-value":e.$store.state.mqtt["openWB/bat/"+t.id+"/get/imported"]},null,8,["model-value"]),(0,n.Wm)(L,{title:"Entladung",readonly:"",class:"text-right text-monospace",step:"0.001",unit:"Wh","model-value":e.$store.state.mqtt["openWB/bat/"+t.id+"/get/exported"]},null,8,["model-value"])])),_:2},1032,["title"])))),128))])}var U=l(8947),L=l(1436),D=l(7810),S=l(6061);U.vI.add(L.f8k,L.eHv,L.nYk);var T={name:"OpenwbStatus",mixins:[S.Z],components:{FontAwesomeIcon:D.GN},data(){return{mqttTopicsToSubscribe:["openWB/general/extern","openWB/chargepoint/get/power","openWB/chargepoint/get/counter","openWB/chargepoint/get/daily_yield","openWB/chargepoint/+/config","openWB/chargepoint/+/get/+","openWB/chargepoint/+/get/connected_vehicle/info","openWB/chargepoint/+/set/+","openWB/system/device/+/component/+/config","openWB/counter/+/get/+","openWB/pv/get/+","openWB/pv/+/get/+","openWB/bat/get/+","openWB/bat/+/get/+"],statusLevel:["success","warning","danger"]}},computed:{installedChargePoints:{get(){return this.getWildcardTopics("openWB/chargepoint/+/config")}},numChargePointsInstalled:{get(){return Object.keys(this.installedChargePoints).length}},counterConfigs:{get(){return this.filterComponentsByType(this.getWildcardTopics("openWB/system/device/+/component/+/config"),"counter")}},numInvertersInstalled:{get(){return Object.keys(this.inverterConfigs).length}},inverterConfigs:{get(){return this.filterComponentsByType(this.getWildcardTopics("openWB/system/device/+/component/+/config"),"inverter")}},numBatteriesInstalled:{get(){return Object.keys(this.batteryConfigs).length}},batteryConfigs:{get(){return this.filterComponentsByType(this.getWildcardTopics("openWB/system/device/+/component/+/config"),"bat")}}},methods:{filterComponentsByType(e,t){return Object.keys(e).filter((l=>e[l].type.includes(t))).reduce(((t,l)=>({...t,[l]:e[l]})),{})},getChargePointIndex(e){return parseInt(e.match(/(?:\/)(\d+)(?=\/)/)[1])},getComponentIndex(e){return parseInt(e.match(/(?:\/)(\d+)(?=\/)/)[1])}}},z=l(8118);const H=(0,z.Z)(T,[["render",P],["__scopeId","data-v-2bfda8ba"]]);var A=H}}]);
//# sourceMappingURL=Status.33e089df.js.map