"use strict";(self["webpackChunkopenwb_ui_settings"]=self["webpackChunkopenwb_ui_settings"]||[]).push([[4614],{2702:function(t,e,n){n.r(e),n.d(e,{default:function(){return E}});n(8309);var l=n(6252),o=n(3577),a=function(t){return(0,l.dD)("data-v-2bfda8ba"),t=t(),(0,l.Cn)(),t},s={class:"status"},r=(0,l.Uk)("Historie"),u=(0,l.Uk)(" Modulmeldung:"),i=a((function(){return(0,l._)("br",null,null,-1)})),d=(0,l.Uk)(" Statusmeldung:"),c=a((function(){return(0,l._)("br",null,null,-1)})),p=(0,l.Uk)("Werte pro Phase"),m=(0,l.Uk)("Phasen"),g=(0,l.Uk)(" Modulmeldung:"),W=a((function(){return(0,l._)("br",null,null,-1)})),h=(0,l.Uk)(" Statusmeldung:"),f=a((function(){return(0,l._)("br",null,null,-1)})),v=(0,l.Uk)("Zählerstände"),y=(0,l.Uk)("Saldierte Werte"),x=(0,l.Uk)("Werte pro Phase"),w=(0,l.Uk)("Erträge"),b=(0,l.Uk)(" Modulmeldung:"),B=a((function(){return(0,l._)("br",null,null,-1)})),_=(0,l.Uk)("Zählerstände"),k=(0,l.Uk)("Tageswerte"),q=(0,l.Uk)("Saldierte Werte"),$=(0,l.Uk)(" Modulmeldung:"),C=a((function(){return(0,l._)("br",null,null,-1)})),I=(0,l.Uk)("Aktuelle Werte"),j=(0,l.Uk)("Zählerstände");function P(t,e,n,a,P,U){var L=(0,l.up)("openwb-base-number-input"),D=(0,l.up)("openwb-base-heading"),Z=(0,l.up)("openwb-base-card"),S=(0,l.up)("font-awesome-icon"),T=(0,l.up)("openwb-base-alert"),z=(0,l.up)("openwb-base-checkbox-input"),H=(0,l.up)("openwb-base-text-input");return(0,l.wg)(),(0,l.iD)("div",s,[U.numChargePointsInstalled>1?((0,l.wg)(),(0,l.j4)(Z,{key:0,title:"Alle Ladepunkte",subtype:"primary",collapsible:!0,collapsed:!0},{default:(0,l.w5)((function(){return[(0,l.Wm)(L,{title:"Leistung",readonly:"",class:"text-right text-monospace",step:"0.001",unit:"W","model-value":t.$store.state.mqtt["openWB/chargepoint/get/power"]},null,8,["model-value"]),(0,l.Wm)(L,{title:"Zählerstand",readonly:"",class:"text-right text-monospace",step:"0.001",unit:"Wh","model-value":t.$store.state.mqtt["openWB/chargepoint/get/counter"]},null,8,["model-value"]),(0,l.Wm)(D,null,{default:(0,l.w5)((function(){return[r]})),_:1}),(0,l.Wm)(L,{title:"Heute",readonly:"",class:"text-right text-monospace",step:"0.001",unit:"Wh","model-value":t.$store.state.mqtt["openWB/chargepoint/get/daily_yield"]},null,8,["model-value"])]})),_:1})):(0,l.kq)("",!0),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(U.installedChargePoints,(function(e,n){return(0,l.wg)(),(0,l.j4)(Z,{key:n,title:e.name+" (ID: "+U.getChargePointIndex(n)+")",collapsible:!0,collapsed:!0,subtype:"primary"},{default:(0,l.w5)((function(){return[(0,l.Wm)(T,{subtype:P.statusLevel[t.$store.state.mqtt["openWB/chargepoint/"+U.getChargePointIndex(n)+"/get/fault_state"]]},{default:(0,l.w5)((function(){return[1==t.$store.state.mqtt["openWB/chargepoint/"+U.getChargePointIndex(n)+"/get/fault_state"]?((0,l.wg)(),(0,l.j4)(S,{key:0,"fixed-width":"",icon:["fas","exclamation-triangle"]})):2==t.$store.state.mqtt["openWB/chargepoint/"+U.getChargePointIndex(n)+"/get/fault_state"]?((0,l.wg)(),(0,l.j4)(S,{key:1,"fixed-width":"",icon:["fas","times-circle"]})):((0,l.wg)(),(0,l.j4)(S,{key:2,"fixed-width":"",icon:["fas","check-circle"]})),u,i,(0,l.Uk)(" "+(0,o.zw)(t.$store.state.mqtt["openWB/chargepoint/"+U.getChargePointIndex(n)+"/get/fault_str"]),1)]})),_:2},1032,["subtype"]),(0,l.Wm)(T,{subtype:"info"},{default:(0,l.w5)((function(){return[d,c,(0,l.Uk)(" "+(0,o.zw)(t.$store.state.mqtt["openWB/chargepoint/"+U.getChargePointIndex(n)+"/get/state_str"]),1)]})),_:2},1024),(0,l.Wm)(z,{title:"Fahrzeug angesteckt",disabled:"","model-value":1==t.$store.state.mqtt["openWB/chargepoint/"+U.getChargePointIndex(n)+"/get/plug_state"]},null,8,["model-value"]),(0,l.Wm)(z,{title:"Ladevorgang aktiv",disabled:"","model-value":1==t.$store.state.mqtt["openWB/chargepoint/"+U.getChargePointIndex(n)+"/get/charge_state"]},null,8,["model-value"]),(0,l.Wm)(L,{title:"Zählerstand",readonly:"",class:"text-right text-monospace",step:"0.001",unit:"Wh","model-value":t.$store.state.mqtt["openWB/chargepoint/"+U.getChargePointIndex(n)+"/get/counter"]},null,8,["model-value"]),(0,l.Wm)(L,{title:"Heute geladen",readonly:"",class:"text-right text-monospace",step:"0.001",unit:"Wh","model-value":t.$store.state.mqtt["openWB/chargepoint/"+U.getChargePointIndex(n)+"/get/daily_yield"]},null,8,["model-value"]),(0,l.Wm)(L,{title:"Leistung",readonly:"",class:"text-right text-monospace",step:"0.001",unit:"W","model-value":t.$store.state.mqtt["openWB/chargepoint/"+U.getChargePointIndex(n)+"/get/power"]},null,8,["model-value"]),(0,l.Wm)(L,{title:"Ladestromvorgabe",readonly:"",class:"text-right text-monospace",step:"0.01",unit:"A","model-value":t.$store.state.mqtt["openWB/chargepoint/"+U.getChargePointIndex(n)+"/set/current"]},null,8,["model-value"]),(0,l.Wm)(D,null,{default:(0,l.w5)((function(){return[p]})),_:1}),(0,l.Wm)(H,{title:"Spannung",readonly:"",class:"text-right text-monospace",subtype:"json",unit:"V","model-value":t.$store.state.mqtt["openWB/chargepoint/"+U.getChargePointIndex(n)+"/get/voltages"]},null,8,["model-value"]),(0,l.Wm)(H,{title:"Strom",readonly:"",class:"text-right text-monospace",subtype:"json",unit:"A","model-value":t.$store.state.mqtt["openWB/chargepoint/"+U.getChargePointIndex(n)+"/get/currents"]},null,8,["model-value"]),(0,l.Wm)(H,{title:"Leistungsfaktor",readonly:"",class:"text-right text-monospace",subtype:"json","model-value":t.$store.state.mqtt["openWB/chargepoint/"+U.getChargePointIndex(n)+"/get/power_factors"]},null,8,["model-value"]),(0,l.Wm)(D,null,{default:(0,l.w5)((function(){return[m]})),_:1}),(0,l.Wm)(L,{title:"Vorgabe",readonly:"",class:"text-right text-monospace","model-value":t.$store.state.mqtt["openWB/chargepoint/"+U.getChargePointIndex(n)+"/set/phases_to_use"]},null,8,["model-value"]),(0,l.Wm)(L,{title:"Aktuell",readonly:"",class:"text-right text-monospace","model-value":t.$store.state.mqtt["openWB/chargepoint/"+U.getChargePointIndex(n)+"/get/phases_in_use"]},null,8,["model-value"])]})),_:2},1032,["title"])})),128)),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(U.counterConfigs,(function(e){return(0,l.wg)(),(0,l.j4)(Z,{key:e.id,title:e.name+" (ID: "+e.id+")",collapsible:!0,collapsed:!0,subtype:"danger"},{default:(0,l.w5)((function(){return[(0,l.Wm)(T,{subtype:P.statusLevel[t.$store.state.mqtt["openWB/counter/"+e.id+"/get/fault_state"]]},{default:(0,l.w5)((function(){return[1==t.$store.state.mqtt["openWB/counter/"+e.id+"/get/fault_state"]?((0,l.wg)(),(0,l.j4)(S,{key:0,"fixed-width":"",icon:["fas","exclamation-triangle"]})):2==t.$store.state.mqtt["openWB/counter/"+e.id+"/get/fault_state"]?((0,l.wg)(),(0,l.j4)(S,{key:1,"fixed-width":"",icon:["fas","times-circle"]})):((0,l.wg)(),(0,l.j4)(S,{key:2,"fixed-width":"",icon:["fas","check-circle"]})),g,W,(0,l.Uk)(" "+(0,o.zw)(t.$store.state.mqtt["openWB/counter/"+e.id+"/get/fault_str"]),1)]})),_:2},1032,["subtype"]),void 0!=t.$store.state.mqtt["openWB/counter/"+e.id+"/get/state_str"]?((0,l.wg)(),(0,l.j4)(T,{key:0,subtype:"info"},{default:(0,l.w5)((function(){return[h,f,(0,l.Uk)(" "+(0,o.zw)(t.$store.state.mqtt["openWB/counter/"+e.id+"/get/state_str"]),1)]})),_:2},1024)):(0,l.kq)("",!0),(0,l.Wm)(D,null,{default:(0,l.w5)((function(){return[v]})),_:1}),(0,l.Wm)(L,{title:"Export",readonly:"",class:"text-right text-monospace",step:"0.001",unit:"Wh","model-value":t.$store.state.mqtt["openWB/counter/"+e.id+"/get/exported"]},null,8,["model-value"]),(0,l.Wm)(L,{title:"Import",readonly:"",class:"text-right text-monospace",step:"0.001",unit:"Wh","model-value":t.$store.state.mqtt["openWB/counter/"+e.id+"/get/imported"]},null,8,["model-value"]),(0,l.Wm)(D,null,{default:(0,l.w5)((function(){return[y]})),_:1}),(0,l.Wm)(L,{title:"Leistung",readonly:"",class:"text-right text-monospace",step:"0.001",unit:"W","model-value":t.$store.state.mqtt["openWB/counter/"+e.id+"/get/power"]},null,8,["model-value"]),(0,l.Wm)(L,{title:"Netzfrequenz",readonly:"",class:"text-right text-monospace",step:"0.001",unit:"Hz","model-value":t.$store.state.mqtt["openWB/counter/"+e.id+"/get/frequency"]},null,8,["model-value"]),(0,l.Wm)(D,null,{default:(0,l.w5)((function(){return[x]})),_:1}),(0,l.Wm)(H,{title:"Spannung",readonly:"",class:"text-right text-monospace",subtype:"json",unit:"V","model-value":t.$store.state.mqtt["openWB/counter/"+e.id+"/get/voltages"]},null,8,["model-value"]),(0,l.Wm)(H,{title:"Strom",readonly:"",class:"text-right text-monospace",subtype:"json",unit:"A","model-value":t.$store.state.mqtt["openWB/counter/"+e.id+"/get/currents"]},null,8,["model-value"]),(0,l.Wm)(H,{title:"Leistung",readonly:"",class:"text-right text-monospace",subtype:"json",unit:"W","model-value":t.$store.state.mqtt["openWB/counter/"+e.id+"/get/powers"]},null,8,["model-value"]),(0,l.Wm)(H,{title:"Leistungsfaktor",readonly:"",class:"text-right text-monospace",subtype:"json","model-value":t.$store.state.mqtt["openWB/counter/"+e.id+"/get/power_factors"]},null,8,["model-value"])]})),_:2},1032,["title"])})),128)),U.numInvertersInstalled>1?((0,l.wg)(),(0,l.j4)(Z,{key:1,title:"Alle Wechselrichter",subtype:"success",collapsible:!0,collapsed:!0},{default:(0,l.w5)((function(){return[(0,l.Wm)(L,{title:"Zählerstand",readonly:"",class:"text-right text-monospace",step:"0.001",unit:"Wh","model-value":t.$store.state.mqtt["openWB/pv/get/counter"]},null,8,["model-value"]),(0,l.Wm)(L,{title:"Leistung",readonly:"",class:"text-right text-monospace",step:"0.001",unit:"W","model-value":t.$store.state.mqtt["openWB/pv/get/power"]},null,8,["model-value"]),(0,l.Wm)(D,null,{default:(0,l.w5)((function(){return[w]})),_:1}),(0,l.Wm)(L,{title:"Heute",readonly:"",class:"text-right text-monospace",step:"0.001",unit:"Wh","model-value":t.$store.state.mqtt["openWB/pv/get/daily_yield"]},null,8,["model-value"]),(0,l.Wm)(L,{title:"Dieser Monat",readonly:"",class:"text-right text-monospace",step:"0.001",unit:"Wh","model-value":t.$store.state.mqtt["openWB/pv/get/monthly_yield"]},null,8,["model-value"]),(0,l.Wm)(L,{title:"Dieses Jahr",readonly:"",class:"text-right text-monospace",step:"0.001",unit:"Wh","model-value":t.$store.state.mqtt["openWB/pv/get/yearly_yield"]},null,8,["model-value"])]})),_:1})):(0,l.kq)("",!0),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(U.inverterConfigs,(function(e){return(0,l.wg)(),(0,l.j4)(Z,{key:e.id,title:e.name+" (ID: "+e.id+")",collapsible:!0,collapsed:!0,subtype:"success"},{default:(0,l.w5)((function(){return[(0,l.Wm)(T,{subtype:P.statusLevel[t.$store.state.mqtt["openWB/pv/"+e.id+"/get/fault_state"]]},{default:(0,l.w5)((function(){return[1==t.$store.state.mqtt["openWB/pv/"+e.id+"/get/fault_state"]?((0,l.wg)(),(0,l.j4)(S,{key:0,"fixed-width":"",icon:["fas","exclamation-triangle"]})):2==t.$store.state.mqtt["openWB/pv/"+e.id+"/get/fault_state"]?((0,l.wg)(),(0,l.j4)(S,{key:1,"fixed-width":"",icon:["fas","times-circle"]})):((0,l.wg)(),(0,l.j4)(S,{key:2,"fixed-width":"",icon:["fas","check-circle"]})),b,B,(0,l.Uk)(" "+(0,o.zw)(t.$store.state.mqtt["openWB/pv/"+e.id+"/get/fault_str"]),1)]})),_:2},1032,["subtype"]),(0,l.Wm)(L,{title:"Zählerstand",readonly:"",class:"text-right text-monospace",step:"0.001",unit:"Wh","model-value":t.$store.state.mqtt["openWB/pv/"+e.id+"/get/counter"]},null,8,["model-value"]),(0,l.Wm)(L,{title:"Leistung",readonly:"",class:"text-right text-monospace",step:"0.001",unit:"W","model-value":t.$store.state.mqtt["openWB/pv/"+e.id+"/get/power"]},null,8,["model-value"])]})),_:2},1032,["title"])})),128)),U.numBatteriesInstalled>1?((0,l.wg)(),(0,l.j4)(Z,{key:2,title:"Alle Speicher",subtype:"warning",collapsible:!0,collapsed:!0},{default:(0,l.w5)((function(){return[(0,l.Wm)(D,null,{default:(0,l.w5)((function(){return[_]})),_:1}),(0,l.Wm)(L,{title:"Ladung",readonly:"",class:"text-right text-monospace",step:"0.001",unit:"Wh","model-value":t.$store.state.mqtt["openWB/bat/get/imported"]},null,8,["model-value"]),(0,l.Wm)(L,{title:"Entladung",readonly:"",class:"text-right text-monospace",step:"0.001",unit:"Wh","model-value":t.$store.state.mqtt["openWB/bat/get/exported"]},null,8,["model-value"]),(0,l.Wm)(D,null,{default:(0,l.w5)((function(){return[k]})),_:1}),(0,l.Wm)(L,{title:"Ladung",readonly:"",class:"text-right text-monospace",step:"0.001",unit:"Wh","model-value":t.$store.state.mqtt["openWB/bat/get/daily_yield_import"]},null,8,["model-value"]),(0,l.Wm)(L,{title:"Entladung",readonly:"",class:"text-right text-monospace",step:"0.001",unit:"Wh","model-value":t.$store.state.mqtt["openWB/bat/get/daily_yield_export"]},null,8,["model-value"]),(0,l.Wm)(D,null,{default:(0,l.w5)((function(){return[q]})),_:1}),(0,l.Wm)(L,{title:"Leistung",readonly:"",class:"text-right text-monospace",step:"0.001",unit:"W","model-value":t.$store.state.mqtt["openWB/bat/get/power"]},null,8,["model-value"]),(0,l.Wm)(L,{title:"Ladestand",readonly:"",class:"text-right text-monospace",unit:"%","model-value":t.$store.state.mqtt["openWB/bat/get/soc"]},null,8,["model-value"])]})),_:1})):(0,l.kq)("",!0),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(U.batteryConfigs,(function(e){return(0,l.wg)(),(0,l.j4)(Z,{key:e.id,title:e.name+" (ID: "+e.id+")",collapsible:!0,collapsed:!0,subtype:"warning"},{default:(0,l.w5)((function(){return[(0,l.Wm)(T,{subtype:P.statusLevel[t.$store.state.mqtt["openWB/bat/"+e.id+"/get/fault_state"]]},{default:(0,l.w5)((function(){return[1==t.$store.state.mqtt["openWB/bat/"+e.id+"/get/fault_state"]?((0,l.wg)(),(0,l.j4)(S,{key:0,"fixed-width":"",icon:["fas","exclamation-triangle"]})):2==t.$store.state.mqtt["openWB/bat/"+e.id+"/get/fault_state"]?((0,l.wg)(),(0,l.j4)(S,{key:1,"fixed-width":"",icon:["fas","times-circle"]})):((0,l.wg)(),(0,l.j4)(S,{key:2,"fixed-width":"",icon:["fas","check-circle"]})),$,C,(0,l.Uk)(" "+(0,o.zw)(t.$store.state.mqtt["openWB/bat/"+e.id+"/get/fault_str"]),1)]})),_:2},1032,["subtype"]),(0,l.Wm)(D,null,{default:(0,l.w5)((function(){return[I]})),_:1}),(0,l.Wm)(L,{title:"Leistung",readonly:"",class:"text-right text-monospace",step:"0.001",unit:"W","model-value":t.$store.state.mqtt["openWB/bat/"+e.id+"/get/power"]},null,8,["model-value"]),(0,l.Wm)(L,{title:"Ladestand",readonly:"",class:"text-right text-monospace",unit:"%","model-value":t.$store.state.mqtt["openWB/bat/"+e.id+"/get/soc"]},null,8,["model-value"]),(0,l.Wm)(D,null,{default:(0,l.w5)((function(){return[j]})),_:1}),(0,l.Wm)(L,{title:"Ladung",readonly:"",class:"text-right text-monospace",step:"0.001",unit:"Wh","model-value":t.$store.state.mqtt["openWB/bat/"+e.id+"/get/imported"]},null,8,["model-value"]),(0,l.Wm)(L,{title:"Entladung",readonly:"",class:"text-right text-monospace",step:"0.001",unit:"Wh","model-value":t.$store.state.mqtt["openWB/bat/"+e.id+"/get/exported"]},null,8,["model-value"])]})),_:2},1032,["title"])})),128))])}var U=n(2482),L=n(5082),D=(n(7941),n(1539),n(7327),n(6699),n(2023),n(4916),n(4723),n(8947)),Z=n(1436),S=n(7810),T=n(4912);D.vI.add(Z.f8k,Z.eHv,Z.nYk);var z={name:"OpenwbStatus",mixins:[T.Z],components:{FontAwesomeIcon:S.GN},data:function(){return{mqttTopicsToSubscribe:["openWB/general/extern","openWB/chargepoint/get/power","openWB/chargepoint/get/counter","openWB/chargepoint/get/daily_yield","openWB/chargepoint/+/config","openWB/chargepoint/+/get/+","openWB/chargepoint/+/get/connected_vehicle/info","openWB/chargepoint/+/set/+","openWB/system/device/+/component/+/config","openWB/counter/+/get/+","openWB/pv/get/+","openWB/pv/+/get/+","openWB/bat/get/+","openWB/bat/+/get/+"],statusLevel:["success","warning","danger"]}},computed:{installedChargePoints:{get:function(){return this.getWildcardTopics("openWB/chargepoint/+/config")}},numChargePointsInstalled:{get:function(){return Object.keys(this.installedChargePoints).length}},counterConfigs:{get:function(){return this.filterComponentsByType(this.getWildcardTopics("openWB/system/device/+/component/+/config"),"counter")}},numInvertersInstalled:{get:function(){return Object.keys(this.inverterConfigs).length}},inverterConfigs:{get:function(){return this.filterComponentsByType(this.getWildcardTopics("openWB/system/device/+/component/+/config"),"inverter")}},numBatteriesInstalled:{get:function(){return Object.keys(this.batteryConfigs).length}},batteryConfigs:{get:function(){return this.filterComponentsByType(this.getWildcardTopics("openWB/system/device/+/component/+/config"),"bat")}}},methods:{filterComponentsByType:function(t,e){return Object.keys(t).filter((function(n){return t[n].type.includes(e)})).reduce((function(e,n){return(0,L.Z)((0,L.Z)({},e),{},(0,U.Z)({},n,t[n]))}),{})},getChargePointIndex:function(t){return parseInt(t.match(/(?:\/)(\d+)(?=\/)/)[1])},getComponentIndex:function(t){return parseInt(t.match(/(?:\/)(\d+)(?=\/)/)[1])}}},H=n(8118);const A=(0,H.Z)(z,[["render",P],["__scopeId","data-v-2bfda8ba"]]);var E=A}}]);
//# sourceMappingURL=Status-legacy.e2907fab.js.map