"use strict";(self["webpackChunkopenwb_ui_settings"]=self["webpackChunkopenwb_ui_settings"]||[]).push([[8128],{8875:function(e,t,n){n.r(t),n.d(t,{default:function(){return ie}});n(8309),n(7852);var a=n(6252),l=n(3577),o=function(e){return(0,a.dD)("data-v-3770d678"),e=e(),(0,a.Cn)(),e},u={class:"vehicleConfig"},i={name:"vehicleConfigForm"},r={key:0},d=(0,a.Uk)(' Diese Einstellungen sind nicht verfügbar, solange sich diese openWB im Modus "Nur Ladepunkt" befindet. '),m={key:1},c=(0,a.Uk)(" Das Standard-Fahrzeug kann nicht umbenannt werden. "),s=o((function(){return(0,a._)("hr",null,null,-1)})),p={key:0},h=(0,a.Uk)(' Diese Einstellungen sind nicht verfügbar, solange sich diese openWB im Modus "Nur Ladepunkt" befindet. '),g={key:1},f=(0,a.Uk)(" Die Standard-Vorlage kann nicht umbenannt werden. "),v=(0,a.Uk)(" Angaben zum Ladestrom "),b=(0,a.Uk)(" Angaben zur Batterie "),w=(0,a.Uk)(" Angaben zur Handhabung von Phasen "),k={key:0},_=(0,a.Uk)(' Diese Einstellungen sind nicht verfügbar, solange sich diese openWB im Modus "Nur Ladepunkt" befindet. '),V={key:1},W=(0,a.Uk)(" Die Standard-Vorlage kann nicht umbenannt werden. "),C=(0,a.Uk)(" Allgemeine Optionen "),U=(0,a.Uk)(" Fahrzeuge mit Priorität werden bevorzugt geladen. Erst wenn alle priorisierten Fahrzeuge die maximale Ladeleistung bekommen und noch zusätzlicher Überschuss vorhanden ist, werden auch Fahrzeuge ohne Priorität geladen. "),T=(0,a.Uk)(" Wird ein Fahrzeug mit diesem Profil abgesteckt, dann wird der betroffene Ladepunkt automatisch deaktiviert. "),x=(0,a.Uk)(" Falls diese Option aktiviert ist, wird der betroffene Ladepunkt nach dem Abstecken auf das Standard Ladeprofil zurückgesetzt. "),y=o((function(){return(0,a._)("hr",null,null,-1)})),S=(0,a.Uk)("Sofortladen"),q=(0,a.Uk)(" Sofortladen kann entweder durch den Ladestand der Fahrzeugbatterie (SoC) oder eine Energiemenge in kWh begrenzt werden. "),P=(0,a.Uk)(" Um diese Begrenzung nutzen zu können, muss ein SoC-Modul für das jeweilige Fahrzeug eingerichtet werden! "),z=o((function(){return(0,a._)("hr",null,null,-1)})),B=(0,a.Uk)("PV-laden"),$=(0,a.Uk)(" ToDo: Beschreibung ergänzen! "),M=(0,a.Uk)(' Bei der Einstellung "100%" wird die Ladung mit Erreichen der 100% ebenfalls beendet. Dadurch erfolgt kein Balancing der Batteriezellen. Ist dies gewünscht, muss hier "Aus" gewählt werden, um die Ladung nicht zu beenden.'),D=o((function(){return(0,a._)("br",null,null,-1)})),I=(0,a.Uk)(" Um diese Begrenzung nutzen zu können, muss ein SoC-Modul für das jeweilige Fahrzeug eingerichtet werden! "),E=(0,a.Uk)(' Liegt der Ladestand (SoC) der Fahrzeugbatterie unter dem hier eingestellten Wert, dann wird bis zum Erreichen dieses Wertes mit dem eingestellten "Mindest-SoC-Strom" geladen.'),L=o((function(){return(0,a._)("br",null,null,-1)})),A=(0,a.Uk)(" Um diese Begrenzung nutzen zu können, muss ein SoC-Modul für das jeweilige Fahrzeug eingerichtet werden! "),N=o((function(){return(0,a._)("hr",null,null,-1)})),F=(0,a.Uk)(" Zielladen "),j={key:0},Z={key:1},H={key:2},K={key:1},Y=o((function(){return(0,a._)("hr",null,null,-1)})),J=(0,a.Uk)(" Laden nach Zeitplan "),O={key:0},R={key:1},G={key:2},Q={key:2};function X(e,t,n,o,X,ee){var te=(0,a.up)("openwb-base-modal-dialog"),ne=(0,a.up)("font-awesome-icon"),ae=(0,a.up)("openwb-base-avatar"),le=(0,a.up)("openwb-base-alert"),oe=(0,a.up)("openwb-base-text-input"),ue=(0,a.up)("openwb-base-select-input"),ie=(0,a.up)("openwb-base-array-input"),re=(0,a.up)("openwb-base-card"),de=(0,a.up)("openwb-base-heading"),me=(0,a.up)("openwb-base-range-input"),ce=(0,a.up)("openwb-base-number-input"),se=(0,a.up)("openwb-base-button-group-input"),pe=(0,a.up)("openwb-base-submit-buttons");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(te,{show:X.showVehicleModal,title:"Fahrzeug löschen",subtype:"danger",buttons:[{text:"Löschen",event:"confirm",subtype:"danger"}],onModalResult:t[0]||(t[0]=function(e){return ee.removeVehicle(X.modalVehicleIndex,e)})},{default:(0,a.w5)((function(){return[(0,a.Uk)(' Wollen Sie das Fahrzeug "'+(0,l.zw)(ee.getVehicleName(X.modalVehicleIndex))+'" wirklich entfernen? Dieser Vorgang kann nicht rückgängig gemacht werden! ',1)]})),_:1},8,["show"]),(0,a.Wm)(te,{show:X.showEvTemplateModal,title:"Fahrzeug-Vorlage löschen",subtype:"danger",buttons:[{text:"Löschen",event:"confirm",subtype:"danger"}],onModalResult:t[1]||(t[1]=function(e){return ee.removeEvTemplate(X.modalEvTemplateIndex,e)})},{default:(0,a.w5)((function(){return[(0,a.Uk)(' Wollen Sie die Fahrzeug-Vorlage "'+(0,l.zw)(ee.getEvTemplateName(X.modalEvTemplateIndex))+'" wirklich entfernen? Dieser Vorgang kann nicht rückgängig gemacht werden! ',1)]})),_:1},8,["show"]),(0,a.Wm)(te,{show:X.showChargeTemplateModal,title:"Ladeprofil-Vorlage löschen",subtype:"danger",buttons:[{text:"Löschen",event:"confirm",subtype:"danger"}],onModalResult:t[2]||(t[2]=function(e){return ee.removeChargeTemplate(X.modalChargeTemplateIndex,e)})},{default:(0,a.w5)((function(){return[(0,a.Uk)(' Wollen Sie die Ladeprofil-Vorlage "'+(0,l.zw)(ee.getChargeTemplateName(X.modalChargeTemplateIndex))+'" wirklich entfernen? Dieser Vorgang kann nicht rückgängig gemacht werden! ',1)]})),_:1},8,["show"]),(0,a.Wm)(te,{show:X.showChargeTemplateSchedulePlanModal,title:"Zielladen Zeitplan löschen",subtype:"danger",buttons:[{text:"Löschen",event:"confirm",subtype:"danger"}],onModalResult:t[3]||(t[3]=function(e){return ee.removeChargeTemplateSchedulePlan(X.modalChargeTemplateIndex,X.modalChargeTemplateSchedulePlanIndex,e)})},{default:(0,a.w5)((function(){return[(0,a.Uk)(' Wollen Sie den Zielladen Zeitplan "'+(0,l.zw)(ee.getChargeTemplateSchedulePlanName(X.modalChargeTemplateIndex,X.modalChargeTemplateSchedulePlanIndex))+'" wirklich entfernen? Dieser Vorgang kann nicht rückgängig gemacht werden! ',1)]})),_:1},8,["show"]),(0,a.Wm)(te,{show:X.showChargeTemplateTimeChargingPlanModal,title:"Zeitladen Zeitplan löschen",subtype:"danger",buttons:[{text:"Löschen",event:"confirm",subtype:"danger"}],onModalResult:t[4]||(t[4]=function(e){return ee.removeChargeTemplateTimeChargingPlan(X.modalChargeTemplateIndex,X.modalChargeTemplateTimeChargingPlanIndex,e)})},{default:(0,a.w5)((function(){return[(0,a.Uk)(' Wollen Sie den Zeitladen Zeitplan "'+(0,l.zw)(ee.getChargeTemplateTimeChargingPlanName(X.modalChargeTemplateIndex,X.modalChargeTemplateTimeChargingPlanIndex))+'" wirklich entfernen? Dieser Vorgang kann nicht rückgängig gemacht werden! ',1)]})),_:1},8,["show"]),(0,a._)("div",u,[(0,a._)("form",i,[(0,a.Wm)(re,{title:"Fahrzeuge",collapsible:!0,collapsed:!0},{actions:(0,a.w5)((function(){return[!1===e.$store.state.mqtt["openWB/general/extern"]?((0,a.wg)(),(0,a.j4)(ae,{key:0,class:"bg-success clickable",onClick:ee.addVehicle},{default:(0,a.w5)((function(){return[(0,a.Wm)(ne,{"fixed-width":"",icon:["fas","plus"]})]})),_:1},8,["onClick"])):(0,a.kq)("",!0)]})),default:(0,a.w5)((function(){return[!0===e.$store.state.mqtt["openWB/general/extern"]?((0,a.wg)(),(0,a.iD)("div",r,[(0,a.Wm)(le,{subtype:"info"},{default:(0,a.w5)((function(){return[d]})),_:1})])):((0,a.wg)(),(0,a.iD)("div",m,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(ee.vehicleIndexes,(function(t){return(0,a.wg)(),(0,a.j4)(re,{key:t,title:ee.getVehicleName(t),collapsible:!0,collapsed:!0,subtype:"primary"},(0,a.Nv)({default:(0,a.w5)((function(){return[(0,a.Wm)(oe,{title:"Bezeichnung","model-value":e.$store.state.mqtt["openWB/vehicle/"+t+"/name"],"onUpdate:modelValue":function(n){return e.updateState("openWB/vehicle/"+t+"/name",n)},disabled:0===t},(0,a.Nv)({_:2},[0===t?{name:"help",fn:(0,a.w5)((function(){return[c]}))}:void 0]),1032,["model-value","onUpdate:modelValue","disabled"]),(0,a.Wm)(ue,{title:"Fahrzeug-Vorlage",options:ee.evTemplateList,"model-value":e.$store.state.mqtt["openWB/vehicle/"+t+"/ev_template"],"onUpdate:modelValue":function(n){return e.updateState("openWB/vehicle/"+t+"/ev_template",n)}},null,8,["options","model-value","onUpdate:modelValue"]),(0,a.Wm)(ue,{title:"Ladeprofil-Vorlage",options:ee.chargeTemplateList,"model-value":e.$store.state.mqtt["openWB/vehicle/"+t+"/charge_template"],"onUpdate:modelValue":function(n){return e.updateState("openWB/vehicle/"+t+"/charge_template",n)}},null,8,["options","model-value","onUpdate:modelValue"]),s,(0,a.Wm)(ie,{title:"Zugeordnete Tags","model-value":e.$store.state.mqtt["openWB/vehicle/"+t+"/tag_id"],"onUpdate:modelValue":function(n){return e.updateState("openWB/vehicle/"+t+"/tag_id",n)}},null,8,["model-value","onUpdate:modelValue"])]})),_:2},[0!==t?{name:"actions",fn:(0,a.w5)((function(){return[(0,a.Wm)(ae,{class:"bg-danger clickable",onClick:function(e){return ee.removeVehicleModal(t,e)}},{default:(0,a.w5)((function(){return[(0,a.Wm)(ne,{"fixed-width":"",icon:["fas","trash"]})]})),_:2},1032,["onClick"])]}))}:void 0]),1032,["title"])})),128))]))]})),_:1}),(0,a.Wm)(re,{title:"Fahrzeug-Vorlagen",collapsible:!0,collapsed:!0},{actions:(0,a.w5)((function(){return[!1===e.$store.state.mqtt["openWB/general/extern"]?((0,a.wg)(),(0,a.j4)(ae,{key:0,class:"bg-success clickable",onClick:ee.addEvTemplate},{default:(0,a.w5)((function(){return[(0,a.Wm)(ne,{"fixed-width":"",icon:["fas","plus"]})]})),_:1},8,["onClick"])):(0,a.kq)("",!0)]})),default:(0,a.w5)((function(){return[!0===e.$store.state.mqtt["openWB/general/extern"]?((0,a.wg)(),(0,a.iD)("div",p,[(0,a.Wm)(le,{subtype:"info"},{default:(0,a.w5)((function(){return[h]})),_:1})])):((0,a.wg)(),(0,a.iD)("div",g,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(ee.evTemplates,(function(t,n){return(0,a.wg)(),(0,a.j4)(re,{key:n,title:t.name?t.name:n,collapsible:!0,collapsed:!0,subtype:"primary"},(0,a.Nv)({default:(0,a.w5)((function(){return[(0,a.Wm)(oe,{title:"Bezeichnung","model-value":t.name,"onUpdate:modelValue":function(t){return e.updateState(n,t,"name")},disabled:n.endsWith("/0")},(0,a.Nv)({_:2},[n.endsWith("/0")?{name:"help",fn:(0,a.w5)((function(){return[f]}))}:void 0]),1032,["model-value","onUpdate:modelValue","disabled"]),(0,a.Wm)(de,null,{default:(0,a.w5)((function(){return[v]})),_:1}),(0,a.Wm)(me,{title:"Mindeststrom",min:6,max:16,step:1,unit:"A","model-value":t.min_current,"onUpdate:modelValue":function(t){return e.updateState(n,t,"min_current")}},null,8,["model-value","onUpdate:modelValue"]),(0,a.Wm)(me,{title:"Maximalstrom bei einer Phase",min:6,max:32,step:1,unit:"A","model-value":t.max_current_one_phase,"onUpdate:modelValue":function(t){return e.updateState(n,t,"max_current_one_phase")}},null,8,["model-value","onUpdate:modelValue"]),(0,a.Wm)(me,{title:"Maximalstrom mehrere Phasen",min:6,max:32,step:1,unit:"A","model-value":t.max_current_multi_phases,"onUpdate:modelValue":function(t){return e.updateState(n,t,"max_current_multi_phases")}},null,8,["model-value","onUpdate:modelValue"]),(0,a.Wm)(ce,{title:"Erlaubte Stromabweichung",unit:"A","model-value":t.nominal_difference,"onUpdate:modelValue":function(t){return e.updateState(n,t,"nominal_difference")}},null,8,["model-value","onUpdate:modelValue"]),(0,a.Wm)(de,null,{default:(0,a.w5)((function(){return[b]})),_:1}),(0,a.Wm)(ce,{title:"Kapazität der Batterie",unit:"kWh",min:10,step:1,"model-value":t.battery_capacity,"onUpdate:modelValue":function(t){return e.updateState(n,t,"battery_capacity")}},null,8,["model-value","onUpdate:modelValue"]),(0,a.Wm)(ce,{title:"Durchschnittsverbrauch",unit:"kWh / 100km",min:0,step:.1,"model-value":t.average_consump,"onUpdate:modelValue":function(t){return e.updateState(n,t,"average_consump")}},null,8,["step","model-value","onUpdate:modelValue"]),(0,a.Wm)(de,null,{default:(0,a.w5)((function(){return[w]})),_:1}),(0,a.Wm)(se,{title:"Unterstützte Phasen",buttons:[{buttonValue:1,text:"1"},{buttonValue:2,text:"2"},{buttonValue:3,text:"3"}],"model-value":t.max_phases,"onUpdate:modelValue":function(t){return e.updateState(n,t,"max_phases")}},null,8,["model-value","onUpdate:modelValue"]),(0,a.Wm)(se,{title:"CP-Unterbrechung",buttons:[{buttonValue:!1,text:"Aus",class:"btn-outline-danger"},{buttonValue:!0,text:"An",class:"btn-outline-success"}],"model-value":t.control_pilot_interruption,"onUpdate:modelValue":function(t){return e.updateState(n,t,"control_pilot_interruption")}},null,8,["model-value","onUpdate:modelValue"]),(0,a.Wm)(se,{title:"Phasenumschaltung blockieren",buttons:[{buttonValue:!1,text:"Aus",class:"btn-outline-danger"},{buttonValue:!0,text:"An",class:"btn-outline-success"}],"model-value":t.prevent_switch_stop,"onUpdate:modelValue":function(t){return e.updateState(n,t,"prevent_switch_stop")}},null,8,["model-value","onUpdate:modelValue"]),(0,a.Wm)(ce,{title:"Pause bei Phasenumschaltung",unit:"s",min:2,step:1,"model-value":t.phase_switch_pause,"onUpdate:modelValue":function(t){return e.updateState(n,t,"phase_switch_pause")}},null,8,["model-value","onUpdate:modelValue"])]})),_:2},[n.endsWith("/0")?void 0:{name:"actions",fn:(0,a.w5)((function(){return[!1===e.$store.state.mqtt["openWB/general/extern"]?((0,a.wg)(),(0,a.j4)(ae,{key:0,class:"bg-danger clickable",onClick:function(e){return ee.removeEvTemplateModal(n,e)}},{default:(0,a.w5)((function(){return[(0,a.Wm)(ne,{"fixed-width":"",icon:["fas","trash"]})]})),_:2},1032,["onClick"])):(0,a.kq)("",!0)]}))}]),1032,["title"])})),128))]))]})),_:1}),(0,a.Wm)(re,{title:"Ladeprofil-Vorlagen",collapsible:!0,collapsed:!0},{actions:(0,a.w5)((function(){return[!1===e.$store.state.mqtt["openWB/general/extern"]?((0,a.wg)(),(0,a.j4)(ae,{key:0,class:"bg-success clickable",onClick:ee.addChargeTemplate},{default:(0,a.w5)((function(){return[(0,a.Wm)(ne,{"fixed-width":"",icon:["fas","plus"]})]})),_:1},8,["onClick"])):(0,a.kq)("",!0)]})),default:(0,a.w5)((function(){return[!0===e.$store.state.mqtt["openWB/general/extern"]?((0,a.wg)(),(0,a.iD)("div",k,[(0,a.Wm)(le,{subtype:"info"},{default:(0,a.w5)((function(){return[_]})),_:1})])):((0,a.wg)(),(0,a.iD)("div",V,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(ee.chargeTemplates,(function(t,n){return(0,a.wg)(),(0,a.j4)(re,{key:n,title:t.name?t.name:n,collapsible:!0,collapsed:!0,subtype:"primary"},(0,a.Nv)({default:(0,a.w5)((function(){return[(0,a.Wm)(oe,{title:"Bezeichnung","model-value":t.name,"onUpdate:modelValue":function(t){return e.updateState(n,t,"name")},disabled:n.endsWith("/0")},(0,a.Nv)({_:2},[n.endsWith("/0")?{name:"help",fn:(0,a.w5)((function(){return[W]}))}:void 0]),1032,["model-value","onUpdate:modelValue","disabled"]),(0,a.Wm)(de,null,{default:(0,a.w5)((function(){return[C]})),_:1}),(0,a.Wm)(se,{title:"Priorität",buttons:[{buttonValue:!1,text:"Nein",class:"btn-outline-danger"},{buttonValue:!0,text:"Ja",class:"btn-outline-success"}],"model-value":t.prio,"onUpdate:modelValue":function(t){return e.updateState(n,t,"prio")}},{help:(0,a.w5)((function(){return[U]})),_:2},1032,["model-value","onUpdate:modelValue"]),(0,a.Wm)(se,{title:"Automatische Sperre",buttons:[{buttonValue:!1,text:"Nein",class:"btn-outline-danger"},{buttonValue:!0,text:"Ja",class:"btn-outline-success"}],"model-value":t.disable_after_unplug,"onUpdate:modelValue":function(t){return e.updateState(n,t,"disable_after_unplug")}},{help:(0,a.w5)((function(){return[T]})),_:2},1032,["model-value","onUpdate:modelValue"]),(0,a.Wm)(se,{title:"Standard nach Abstecken",buttons:[{buttonValue:!1,text:"Nein",class:"btn-outline-danger"},{buttonValue:!0,text:"Ja",class:"btn-outline-success"}],"model-value":t.load_default,"onUpdate:modelValue":function(t){return e.updateState(n,t,"load_default")}},{help:(0,a.w5)((function(){return[x]})),_:2},1032,["model-value","onUpdate:modelValue"]),y,(0,a.Wm)(de,null,{default:(0,a.w5)((function(){return[S]})),_:1}),(0,a.Wm)(me,{title:"Ladestrom",min:6,max:32,step:1,unit:"A","model-value":t.chargemode.instant_charging.current,"onUpdate:modelValue":function(t){return e.updateState(n,t,"chargemode.instant_charging.current")}},null,8,["model-value","onUpdate:modelValue"]),(0,a.Wm)(se,{title:"Begrenzung",buttons:[{buttonValue:"none",text:"Aus"},{buttonValue:"soc",text:"SoC"},{buttonValue:"amount",text:"Energie"}],"model-value":t.chargemode.instant_charging.limit.selected,"onUpdate:modelValue":function(t){return e.updateState(n,t,"chargemode.instant_charging.limit.selected")}},{help:(0,a.w5)((function(){return[q]})),_:2},1032,["model-value","onUpdate:modelValue"]),(0,a.Wm)(me,{title:"SoC-Limit",min:5,max:100,step:5,unit:"%","model-value":t.chargemode.instant_charging.limit.soc,"onUpdate:modelValue":function(t){return e.updateState(n,t,"chargemode.instant_charging.limit.soc")}},{help:(0,a.w5)((function(){return[P]})),_:2},1032,["model-value","onUpdate:modelValue"]),(0,a.Wm)(ce,{title:"Energie-Limit",unit:"kWh",min:5,step:1,"model-value":t.chargemode.instant_charging.limit.amount,"onUpdate:modelValue":function(t){return e.updateState(n,t,"chargemode.instant_charging.limit.amount")}},null,8,["model-value","onUpdate:modelValue"]),z,(0,a.Wm)(de,null,{default:(0,a.w5)((function(){return[B]})),_:1}),(0,a.Wm)(me,{title:"Mindeststrom",min:0,max:11,step:1,unit:"A",labels:[{label:"Aus",value:0},{label:6,value:6},{label:7,value:7},{label:8,value:8},{label:9,value:9},{label:10,value:10},{label:11,value:11},{label:12,value:12},{label:13,value:13},{label:14,value:14},{label:15,value:15},{label:16,value:16}],"model-value":t.chargemode.pv_charging.min_current,"onUpdate:modelValue":function(t){return e.updateState(n,t,"chargemode.pv_charging.min_current")}},{help:(0,a.w5)((function(){return[$]})),_:2},1032,["model-value","onUpdate:modelValue"]),(0,a.Wm)(me,{title:"SoC-Limit",min:0,max:20,step:1,unit:"%",labels:[{label:5,value:5},{label:10,value:10},{label:15,value:15},{label:20,value:20},{label:25,value:25},{label:30,value:30},{label:35,value:35},{label:40,value:40},{label:45,value:45},{label:50,value:50},{label:55,value:55},{label:60,value:60},{label:65,value:65},{label:70,value:70},{label:75,value:75},{label:80,value:80},{label:85,value:85},{label:90,value:90},{label:95,value:95},{label:100,value:100},{label:"Aus",value:101}],"model-value":t.chargemode.pv_charging.max_soc,"onUpdate:modelValue":function(t){return e.updateState(n,t,"chargemode.pv_charging.max_soc")}},{help:(0,a.w5)((function(){return[M,D,I]})),_:2},1032,["model-value","onUpdate:modelValue"]),(0,a.Wm)(me,{title:"Mindest-SoC",min:0,max:19,step:1,unit:"%",labels:[{label:"Aus",value:0},{label:5,value:5},{label:10,value:10},{label:15,value:15},{label:20,value:20},{label:25,value:25},{label:30,value:30},{label:35,value:35},{label:40,value:40},{label:45,value:45},{label:50,value:50},{label:55,value:55},{label:60,value:60},{label:65,value:65},{label:70,value:70},{label:75,value:75},{label:80,value:80},{label:85,value:85},{label:90,value:90},{label:95,value:95}],"model-value":t.chargemode.pv_charging.min_soc,"onUpdate:modelValue":function(t){return e.updateState(n,t,"chargemode.pv_charging.min_soc")}},{help:(0,a.w5)((function(){return[E,L,A]})),_:2},1032,["model-value","onUpdate:modelValue"]),(0,a.Wm)(me,{title:"Mindest-SoC-Strom",min:6,max:32,step:1,unit:"A","model-value":t.chargemode.pv_charging.min_soc_current,"onUpdate:modelValue":function(t){return e.updateState(n,t,"chargemode.pv_charging.min_soc_current")}},null,8,["model-value","onUpdate:modelValue"]),N,(0,a.Wm)(de,null,{actions:(0,a.w5)((function(){return[(0,a.Wm)(ae,{class:"bg-success clickable",onClick:function(e){return ee.addChargeTemplateSchedulePlan(n,e)}},{default:(0,a.w5)((function(){return[(0,a.Wm)(ne,{"fixed-width":"",icon:["fas","plus"]})]})),_:2},1032,["onClick"])]})),default:(0,a.w5)((function(){return[F]})),_:2},1024),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(ee.getChargeTemplateScheduledChargingPlans(n),(function(t,o){return(0,a.wg)(),(0,a.j4)(re,{key:o,title:t.name,collapsible:!0,collapsed:!0},{actions:(0,a.w5)((function(u){return[1==u.collapsed?((0,a.wg)(),(0,a.iD)("span",{key:0,class:(0,l.C_)(["subheader pill",t.active?"bg-success":"bg-danger"])},[(0,a.Wm)(ne,{"fixed-width":"",icon:["fas","car-battery"]}),(0,a.Uk)(" "+(0,l.zw)(t.soc)+"% ",1),(0,a.Wm)(ne,{"fixed-width":"",icon:["fas","clock"]}),(0,a.Uk)(" "+(0,l.zw)(t.time)+" ",1),"once"==t.frequency.selected?((0,a.wg)(),(0,a.iD)("span",j,[(0,a.Wm)(ne,{"fixed-width":"",icon:["fas","calendar-day"]}),(0,a.Uk)(" "+(0,l.zw)(e.formatDate(t.frequency.once)),1)])):(0,a.kq)("",!0),"daily"==t.frequency.selected?((0,a.wg)(),(0,a.iD)("span",Z,[(0,a.Wm)(ne,{"fixed-width":"",icon:["fas","calendar-week"]})])):(0,a.kq)("",!0),"weekly"==t.frequency.selected?((0,a.wg)(),(0,a.iD)("span",H,[(0,a.Wm)(ne,{"fixed-width":"",icon:["fas","calendar-alt"]})])):(0,a.kq)("",!0)],2)):(0,a.kq)("",!0),0==u.collapsed?((0,a.wg)(),(0,a.j4)(ae,{key:1,class:"bg-danger clickable",onClick:function(e){return ee.removeChargeTemplateSchedulePlanModal(n,o,e)}},{default:(0,a.w5)((function(){return[(0,a.Wm)(ne,{"fixed-width":"",icon:["fas","trash"]})]})),_:2},1032,["onClick"])):(0,a.kq)("",!0)]})),default:(0,a.w5)((function(){return[(0,a.Wm)(oe,{title:"Bezeichnung","model-value":t.name,"onUpdate:modelValue":function(t){return e.updateState(o,t,"name")}},null,8,["model-value","onUpdate:modelValue"]),(0,a.Wm)(se,{title:"Zeitpunkt aktiv",buttons:[{buttonValue:!1,text:"Nein",class:"btn-outline-danger"},{buttonValue:!0,text:"Ja",class:"btn-outline-success"}],"model-value":t.active,"onUpdate:modelValue":function(t){return e.updateState(o,t,"active")}},null,8,["model-value","onUpdate:modelValue"]),(0,a.Wm)(oe,{title:"Uhrzeit",subtype:"time","model-value":t.time,"onUpdate:modelValue":function(t){return e.updateState(o,t,"time")}},null,8,["model-value","onUpdate:modelValue"]),(0,a.Wm)(me,{title:"Ziel-SoC",min:5,max:100,step:5,unit:"%","model-value":t.soc,"onUpdate:modelValue":function(t){return e.updateState(o,t,"soc")}},null,8,["model-value","onUpdate:modelValue"]),(0,a.Wm)(se,{title:"Wiederholungen",buttons:[{buttonValue:"once",text:"Einmalig",class:"btn-outline-info"},{buttonValue:"daily",text:"Täglich",class:"btn-outline-info"},{buttonValue:"weekly",text:"Wöchentlich",class:"btn-outline-info"}],"model-value":t.frequency.selected,"onUpdate:modelValue":function(t){return e.updateState(o,t,"frequency.selected")}},null,8,["model-value","onUpdate:modelValue"]),"once"==t.frequency.selected?((0,a.wg)(),(0,a.j4)(oe,{key:0,title:"Datum",subtype:"date","model-value":t.frequency.once,"onUpdate:modelValue":function(t){return e.updateState(o,t,"frequency.once")}},null,8,["model-value","onUpdate:modelValue"])):(0,a.kq)("",!0),"weekly"==t.frequency.selected?((0,a.wg)(),(0,a.iD)("div",K,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.weekdays,(function(n,l){return(0,a.wg)(),(0,a.j4)(se,{key:l,title:n,buttons:[{buttonValue:!1,text:"Aus",class:"btn-outline-danger"},{buttonValue:!0,text:"An",class:"btn-outline-success"}],"model-value":t.frequency.weekly[l],"onUpdate:modelValue":function(t){return e.updateState(o,t,"frequency.weekly."+l)}},null,8,["title","model-value","onUpdate:modelValue"])})),128))])):(0,a.kq)("",!0)]})),_:2},1032,["title"])})),128)),Y,(0,a.Wm)(de,null,{actions:(0,a.w5)((function(){return[(0,a.Wm)(ae,{class:"bg-success clickable",onClick:function(e){return ee.addChargeTemplateTimeChargingPlan(n,e)}},{default:(0,a.w5)((function(){return[(0,a.Wm)(ne,{"fixed-width":"",icon:["fas","plus"]})]})),_:2},1032,["onClick"])]})),default:(0,a.w5)((function(){return[J]})),_:2},1024),(0,a.Wm)(se,{title:"Aktiviert",buttons:[{buttonValue:!1,text:"Nein",class:"btn-outline-danger"},{buttonValue:!0,text:"Ja",class:"btn-outline-success"}],"model-value":t.time_charging.active,"onUpdate:modelValue":function(t){return e.updateState(n,t,"time_charging.active")}},null,8,["model-value","onUpdate:modelValue"]),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(ee.getChargeTemplateTimeChargingPlans(n),(function(t,o){return(0,a.wg)(),(0,a.j4)(re,{key:o,title:t.name,collapsible:!0,collapsed:!0},{actions:(0,a.w5)((function(u){return[1==u.collapsed?((0,a.wg)(),(0,a.iD)("span",{key:0,class:(0,l.C_)(["subheader pill",t.active?"bg-success":"bg-danger"])},[(0,a.Wm)(ne,{"fixed-width":"",icon:["fas","clock"]}),(0,a.Uk)(" "+(0,l.zw)(t.time[0])+" - "+(0,l.zw)(t.time[1])+" ",1),"once"==t.frequency.selected?((0,a.wg)(),(0,a.iD)("span",O,[(0,a.Wm)(ne,{"fixed-width":"",icon:["fas","calendar-day"]}),(0,a.Uk)(" "+(0,l.zw)(e.formatDate(t.frequency.once[0])==e.formatDate(t.frequency.once[1])?e.formatDate(t.frequency.once[0]):e.formatDate(t.frequency.once[0])+"-"+e.formatDate(t.frequency.once[1])),1)])):(0,a.kq)("",!0),"daily"==t.frequency.selected?((0,a.wg)(),(0,a.iD)("span",R,[(0,a.Wm)(ne,{"fixed-width":"",icon:["fas","calendar-week"]})])):(0,a.kq)("",!0),"weekly"==t.frequency.selected?((0,a.wg)(),(0,a.iD)("span",G,[(0,a.Wm)(ne,{"fixed-width":"",icon:["fas","calendar-alt"]})])):(0,a.kq)("",!0)],2)):(0,a.kq)("",!0),0==u.collapsed?((0,a.wg)(),(0,a.j4)(ae,{key:1,class:"bg-danger clickable",onClick:function(e){return ee.removeChargeTemplateTimeChargingPlanModal(n,o,e)}},{default:(0,a.w5)((function(){return[(0,a.Wm)(ne,{"fixed-width":"",icon:["fas","trash"]})]})),_:2},1032,["onClick"])):(0,a.kq)("",!0)]})),default:(0,a.w5)((function(){return[(0,a.Wm)(oe,{title:"Bezeichnung","model-value":t.name,"onUpdate:modelValue":function(t){return e.updateState(o,t,"name")}},null,8,["model-value","onUpdate:modelValue"]),(0,a.Wm)(se,{title:"Zeitplan aktiv",buttons:[{buttonValue:!1,text:"Nein",class:"btn-outline-danger"},{buttonValue:!0,text:"Ja",class:"btn-outline-success"}],"model-value":t.active,"onUpdate:modelValue":function(t){return e.updateState(o,t,"active")}},null,8,["model-value","onUpdate:modelValue"]),(0,a.Wm)(me,{title:"Ladestrom",min:6,max:32,step:1,unit:"A","model-value":t.current,"onUpdate:modelValue":function(t){return e.updateState(o,t,"current")}},null,8,["model-value","onUpdate:modelValue"]),(0,a.Wm)(oe,{title:"Beginn",subtype:"time","model-value":t.time[0],"onUpdate:modelValue":function(t){return e.updateState(o,t,"time.0")}},null,8,["model-value","onUpdate:modelValue"]),(0,a.Wm)(oe,{title:"Ende",subtype:"time","model-value":t.time[1],"onUpdate:modelValue":function(t){return e.updateState(o,t,"time.1")}},null,8,["model-value","onUpdate:modelValue"]),(0,a.Wm)(se,{title:"Wiederholungen",buttons:[{buttonValue:"once",text:"Einmalig",class:"btn-outline-info"},{buttonValue:"daily",text:"Täglich",class:"btn-outline-info"},{buttonValue:"weekly",text:"Wöchentlich",class:"btn-outline-info"}],"model-value":t.frequency.selected,"onUpdate:modelValue":function(t){return e.updateState(o,t,"frequency.selected")}},null,8,["model-value","onUpdate:modelValue"]),"once"==t.frequency.selected?((0,a.wg)(),(0,a.j4)(oe,{key:0,title:"Gültig ab",subtype:"date","model-value":t.frequency.once[0],"onUpdate:modelValue":function(t){return e.updateState(o,t,"frequency.once.0")}},null,8,["model-value","onUpdate:modelValue"])):(0,a.kq)("",!0),"once"==t.frequency.selected?((0,a.wg)(),(0,a.j4)(oe,{key:1,title:"Gültig bis",subtype:"date",min:t.frequency.once[0],"model-value":t.frequency.once[1],"onUpdate:modelValue":function(t){return e.updateState(o,t,"frequency.once.1")}},null,8,["min","model-value","onUpdate:modelValue"])):(0,a.kq)("",!0),"weekly"==t.frequency.selected?((0,a.wg)(),(0,a.iD)("div",Q,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.weekdays,(function(n,l){return(0,a.wg)(),(0,a.j4)(se,{key:l,title:n,buttons:[{buttonValue:!1,text:"Aus",class:"btn-outline-danger"},{buttonValue:!0,text:"An",class:"btn-outline-success"}],"model-value":t.frequency.weekly[l],"onUpdate:modelValue":function(t){return e.updateState(o,t,"frequency.weekly."+l)}},null,8,["title","model-value","onUpdate:modelValue"])})),128))])):(0,a.kq)("",!0)]})),_:2},1032,["title"])})),128))]})),_:2},[n.endsWith("/0")?void 0:{name:"actions",fn:(0,a.w5)((function(){return[(0,a.Wm)(ae,{class:"bg-danger clickable",onClick:function(e){return ee.removeChargeTemplateModal(n,e)}},{default:(0,a.w5)((function(){return[(0,a.Wm)(ne,{"fixed-width":"",icon:["fas","trash"]})]})),_:2},1032,["onClick"])]}))}]),1032,["title"])})),128))]))]})),_:1}),(0,a.Wm)(pe,{formName:"vehicleConfigForm",onSave:t[5]||(t[5]=function(t){return e.$emit("save")}),onReset:t[6]||(t[6]=function(t){return e.$emit("reset")}),onDefaults:t[7]||(t[7]=function(t){return e.$emit("defaults")})})])])],64)}n(1539),n(4747),n(7941),n(4916),n(4723);var ee=n(8947),te=n(1436),ne=n(7810),ae=n(4912);ee.vI.add(te.r8p,te.$aW,te.$nv,te.IV4,te.Nl7,te.SZw,te.xrO);var le={name:"OpenwbVehicleConfig",mixins:[ae.Z],emits:["sendCommand"],components:{FontAwesomeIcon:ne.GN},data:function(){return{mqttTopicsToSubscribe:["openWB/general/extern","openWB/vehicle/template/ev_template/+","openWB/vehicle/template/charge_template/+","openWB/vehicle/template/charge_template/+/chargemode/scheduled_charging/plans/+","openWB/vehicle/template/charge_template/+/time_charging/plans/+","openWB/vehicle/+/name","openWB/vehicle/+/charge_template","openWB/vehicle/+/ev_template","openWB/vehicle/+/tag_id"],showVehicleModal:!1,modalVehicleIndex:void 0,showEvTemplateModal:!1,modalEvTemplateIndex:void 0,showChargeTemplateModal:!1,modalChargeTemplateIndex:void 0,showChargeTemplateSchedulePlanModal:!1,modalChargeTemplateSchedulePlanIndex:void 0,showChargeTemplateTimeChargingPlanModal:!1,modalChargeTemplateTimeChargingPlanIndex:void 0}},computed:{vehicleIndexes:{get:function(){return this.getWildcardIndexList("openWB/vehicle/+/name")}},evTemplates:{get:function(){return this.getWildcardTopics("openWB/vehicle/template/ev_template/+")}},evTemplateList:{get:function(){var e=this,t=[];return Object.keys(this.evTemplates).forEach((function(n){var a=parseInt(n.match(/([0-9]+)$/g)[0]),l=e.$store.state.mqtt["openWB/vehicle/template/ev_template/"+a].name;t.push({value:a,text:l})})),t}},chargeTemplates:{get:function(){return this.getWildcardTopics("openWB/vehicle/template/charge_template/+")}},chargeTemplateList:{get:function(){var e=this,t=[];return Object.keys(this.chargeTemplates).forEach((function(n){var a=parseInt(n.match(/([0-9]+)$/g)[0]),l=e.$store.state.mqtt["openWB/vehicle/template/charge_template/"+a].name;t.push({value:a,text:l})})),t}}},methods:{getChargeTemplateScheduledChargingPlans:function(e){var t=e.match(/([^/]+)$/)[0],n=this.getWildcardTopics("openWB/vehicle/template/charge_template/"+t+"/chargemode/scheduled_charging/plans/+");return n},getChargeTemplateTimeChargingPlans:function(e){var t=e.match(/([^/]+)$/)[0],n=this.getWildcardTopics("openWB/vehicle/template/charge_template/"+t+"/time_charging/plans/+");return n},addVehicle:function(e){e.stopPropagation(),console.info("requesting new vehicle..."),this.$emit("sendCommand",{command:"addVehicle",data:{}})},removeVehicleModal:function(e,t){t.stopPropagation(),this.modalVehicleIndex=e,this.showVehicleModal=!0},removeVehicle:function(e,t){this.showVehicleModal=!1,"confirm"==t&&(console.info("request removal of vehicle '"+e+"'"),this.$emit("sendCommand",{command:"removeVehicle",data:{id:e}}))},getVehicleName:function(e){return this.$store.state.mqtt["openWB/vehicle/"+e+"/name"]?this.$store.state.mqtt["openWB/vehicle/"+e+"/name"]:"Fahrzeug "+e},addEvTemplate:function(e){e.stopPropagation(),console.info("requesting new ev template..."),this.$emit("sendCommand",{command:"addEvTemplate",data:{}})},removeEvTemplateModal:function(e,t){t.stopPropagation(),this.modalEvTemplateIndex=parseInt(e.match(/([^/]+)$/)[0]),this.showEvTemplateModal=!0},removeEvTemplate:function(e,t){this.showEvTemplateModal=!1,"confirm"==t&&(console.info("request removal of ev template '"+e+"'"),this.$emit("sendCommand",{command:"removeEvTemplate",data:{id:e}}))},getEvTemplateName:function(e){return this.$store.state.mqtt["openWB/vehicle/template/ev_template/"+e]?this.$store.state.mqtt["openWB/vehicle/template/ev_template/"+e].name:"Fahrzeug-Vorlage "+e},addChargeTemplate:function(e){e.stopPropagation(),console.info("requesting new charge template..."),this.$emit("sendCommand",{command:"addChargeTemplate",data:{}})},removeChargeTemplateModal:function(e,t){t.stopPropagation(),this.modalChargeTemplateIndex=parseInt(e.match(/([^/]+)$/)[0]),this.showChargeTemplateModal=!0},removeChargeTemplate:function(e,t){this.showChargeTemplateModal=!1,"confirm"==t&&(console.info("request removal of charge template '"+e+"'"),this.$emit("sendCommand",{command:"removeChargeTemplate",data:{id:e}}))},getChargeTemplateName:function(e){return this.$store.state.mqtt["openWB/vehicle/template/charge_template/"+e]?this.$store.state.mqtt["openWB/vehicle/template/charge_template/"+e].name:"Ladeprofil-Vorlage "+e},getChargeTemplateSchedulePlanName:function(e,t){return this.$store.state.mqtt["openWB/vehicle/template/charge_template/"+e+"/chargemode/scheduled_charging/plans/"+t]?this.$store.state.mqtt["openWB/vehicle/template/charge_template/"+e+"/chargemode/scheduled_charging/plans/"+t].name:"Zielladen Zeitplan "+e+"/"+t},addChargeTemplateSchedulePlan:function(e,t){t.stopPropagation(),console.info("requesting new charge template schedule plan...");var n=parseInt(e.match(/([^/]+)$/)[0]);this.$emit("sendCommand",{command:"addChargeTemplateSchedulePlan",data:{template:n}})},removeChargeTemplateSchedulePlanModal:function(e,t,n){n.stopPropagation(),this.modalChargeTemplateIndex=parseInt(e.match(/([^/]+)$/)[0]),this.modalChargeTemplateSchedulePlanIndex=parseInt(t.match(/([^/]+)$/)[0]),this.showChargeTemplateSchedulePlanModal=!0},removeChargeTemplateSchedulePlan:function(e,t,n){this.showChargeTemplateSchedulePlanModal=!1,"confirm"==n&&(console.info("request removal of charge template '"+e+"' schedule plan '"+t+"'"),this.$emit("sendCommand",{command:"removeChargeTemplateSchedulePlan",data:{template:e,plan:t}}))},getChargeTemplateTimeChargingPlanName:function(e,t){return this.$store.state.mqtt["openWB/vehicle/template/charge_template/"+e+"/time_charging/plans/"+t]?this.$store.state.mqtt["openWB/vehicle/template/charge_template/"+e+"/time_charging/plans/"+t].name:"Zeitladen Zeitplan "+e+"/"+t},addChargeTemplateTimeChargingPlan:function(e,t){t.stopPropagation(),console.info("requesting new charge template time charging plan...");var n=parseInt(e.match(/([^/]+)$/)[0]);this.$emit("sendCommand",{command:"addChargeTemplateTimeChargingPlan",data:{template:n}})},removeChargeTemplateTimeChargingPlanModal:function(e,t,n){n.stopPropagation(),this.modalChargeTemplateIndex=parseInt(e.match(/([^/]+)$/)[0]),this.modalChargeTemplateTimeChargingPlanIndex=parseInt(t.match(/([^/]+)$/)[0]),this.showChargeTemplateTimeChargingPlanModal=!0},removeChargeTemplateTimeChargingPlan:function(e,t,n){this.showChargeTemplateTimeChargingPlanModal=!1,"confirm"==n&&(console.info("request removal of charge template '"+e+"' time charging plan '"+t+"'"),this.$emit("sendCommand",{command:"removeChargeTemplateTimeChargingPlan",data:{template:e,plan:t}}))}}},oe=n(8118);const ue=(0,oe.Z)(le,[["render",X],["__scopeId","data-v-3770d678"]]);var ie=ue},7852:function(e,t,n){var a=n(2109),l=n(1702),o=n(1236).f,u=n(7466),i=n(1340),r=n(3929),d=n(4488),m=n(4964),c=n(1913),s=l("".endsWith),p=l("".slice),h=Math.min,g=m("endsWith"),f=!c&&!g&&!!function(){var e=o(String.prototype,"endsWith");return e&&!e.writable}();a({target:"String",proto:!0,forced:!f&&!g},{endsWith:function(e){var t=i(d(this));r(e);var n=arguments.length>1?arguments[1]:void 0,a=t.length,l=void 0===n?a:h(u(n),a),o=i(e);return s?s(t,o,l):p(t,l-o.length,l)===o}})}}]);
//# sourceMappingURL=VehicleConfiguration-legacy.c9bf32ac.js.map