"use strict";(self["webpackChunkopenwb_ui_settings"]=self["webpackChunkopenwb_ui_settings"]||[]).push([[8128],{8875:function(e,a,t){t.r(a),t.d(a,{default:function(){return ie}});var l=t(6252),n=t(3577);const o=e=>((0,l.dD)("data-v-3770d678"),e=e(),(0,l.Cn)(),e),d={class:"vehicleConfig"},i={name:"vehicleConfigForm"},m={key:0},u=(0,l.Uk)(' Diese Einstellungen sind nicht verfügbar, solange sich diese openWB im Modus "Nur Ladepunkt" befindet. '),s={key:1},r=(0,l.Uk)(" Das Standard-Fahrzeug kann nicht umbenannt werden. "),c=o((()=>(0,l._)("hr",null,null,-1))),p={key:0},h=(0,l.Uk)(' Diese Einstellungen sind nicht verfügbar, solange sich diese openWB im Modus "Nur Ladepunkt" befindet. '),g={key:1},v=(0,l.Uk)(" Die Standard-Vorlage kann nicht umbenannt werden. "),b=(0,l.Uk)(" Angaben zum Ladestrom "),w=(0,l.Uk)(" Angaben zur Batterie "),f=(0,l.Uk)(" Angaben zur Handhabung von Phasen "),k={key:0},_=(0,l.Uk)(' Diese Einstellungen sind nicht verfügbar, solange sich diese openWB im Modus "Nur Ladepunkt" befindet. '),V={key:1},W=(0,l.Uk)(" Die Standard-Vorlage kann nicht umbenannt werden. "),C=(0,l.Uk)(" Allgemeine Optionen "),U=(0,l.Uk)(" Fahrzeuge mit Priorität werden bevorzugt geladen. Erst wenn alle priorisierten Fahrzeuge die maximale Ladeleistung bekommen und noch zusätzlicher Überschuss vorhanden ist, werden auch Fahrzeuge ohne Priorität geladen. "),T=(0,l.Uk)(" Wird ein Fahrzeug mit diesem Profil abgesteckt, dann wird der betroffene Ladepunkt automatisch deaktiviert. "),x=(0,l.Uk)(" Falls diese Option aktiviert ist, wird der betroffene Ladepunkt nach dem Abstecken auf das Standard Ladeprofil zurückgesetzt. "),y=o((()=>(0,l._)("hr",null,null,-1))),S=(0,l.Uk)("Sofortladen"),q=(0,l.Uk)(" Sofortladen kann entweder durch den Ladestand der Fahrzeugbatterie (SoC) oder eine Energiemenge in kWh begrenzt werden. "),P=(0,l.Uk)(" Um diese Begrenzung nutzen zu können, muss ein SoC-Modul für das jeweilige Fahrzeug eingerichtet werden! "),z=o((()=>(0,l._)("hr",null,null,-1))),B=(0,l.Uk)("PV-laden"),$=(0,l.Uk)(" ToDo: Beschreibung ergänzen! "),M=(0,l.Uk)(' Bei der Einstellung "100%" wird die Ladung mit Erreichen der 100% ebenfalls beendet. Dadurch erfolgt kein Balancing der Batteriezellen. Ist dies gewünscht, muss hier "Aus" gewählt werden, um die Ladung nicht zu beenden.'),D=o((()=>(0,l._)("br",null,null,-1))),I=(0,l.Uk)(" Um diese Begrenzung nutzen zu können, muss ein SoC-Modul für das jeweilige Fahrzeug eingerichtet werden! "),E=(0,l.Uk)(' Liegt der Ladestand (SoC) der Fahrzeugbatterie unter dem hier eingestellten Wert, dann wird bis zum Erreichen dieses Wertes mit dem eingestellten "Mindest-SoC-Strom" geladen.'),L=o((()=>(0,l._)("br",null,null,-1))),A=(0,l.Uk)(" Um diese Begrenzung nutzen zu können, muss ein SoC-Modul für das jeweilige Fahrzeug eingerichtet werden! "),N=o((()=>(0,l._)("hr",null,null,-1))),F=(0,l.Uk)(" Zielladen "),j={key:0},Z={key:1},H={key:2},K={key:1},Y=o((()=>(0,l._)("hr",null,null,-1))),J=(0,l.Uk)(" Laden nach Zeitplan "),O={key:0},R={key:1},G={key:2},Q={key:2};function X(e,a,t,o,X,ee){const ae=(0,l.up)("openwb-base-modal-dialog"),te=(0,l.up)("font-awesome-icon"),le=(0,l.up)("openwb-base-avatar"),ne=(0,l.up)("openwb-base-alert"),oe=(0,l.up)("openwb-base-text-input"),de=(0,l.up)("openwb-base-select-input"),ie=(0,l.up)("openwb-base-array-input"),me=(0,l.up)("openwb-base-card"),ue=(0,l.up)("openwb-base-heading"),se=(0,l.up)("openwb-base-range-input"),re=(0,l.up)("openwb-base-number-input"),ce=(0,l.up)("openwb-base-button-group-input"),pe=(0,l.up)("openwb-base-submit-buttons");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(ae,{show:X.showVehicleModal,title:"Fahrzeug löschen",subtype:"danger",buttons:[{text:"Löschen",event:"confirm",subtype:"danger"}],onModalResult:a[0]||(a[0]=e=>ee.removeVehicle(X.modalVehicleIndex,e))},{default:(0,l.w5)((()=>[(0,l.Uk)(' Wollen Sie das Fahrzeug "'+(0,n.zw)(ee.getVehicleName(X.modalVehicleIndex))+'" wirklich entfernen? Dieser Vorgang kann nicht rückgängig gemacht werden! ',1)])),_:1},8,["show"]),(0,l.Wm)(ae,{show:X.showEvTemplateModal,title:"Fahrzeug-Vorlage löschen",subtype:"danger",buttons:[{text:"Löschen",event:"confirm",subtype:"danger"}],onModalResult:a[1]||(a[1]=e=>ee.removeEvTemplate(X.modalEvTemplateIndex,e))},{default:(0,l.w5)((()=>[(0,l.Uk)(' Wollen Sie die Fahrzeug-Vorlage "'+(0,n.zw)(ee.getEvTemplateName(X.modalEvTemplateIndex))+'" wirklich entfernen? Dieser Vorgang kann nicht rückgängig gemacht werden! ',1)])),_:1},8,["show"]),(0,l.Wm)(ae,{show:X.showChargeTemplateModal,title:"Ladeprofil-Vorlage löschen",subtype:"danger",buttons:[{text:"Löschen",event:"confirm",subtype:"danger"}],onModalResult:a[2]||(a[2]=e=>ee.removeChargeTemplate(X.modalChargeTemplateIndex,e))},{default:(0,l.w5)((()=>[(0,l.Uk)(' Wollen Sie die Ladeprofil-Vorlage "'+(0,n.zw)(ee.getChargeTemplateName(X.modalChargeTemplateIndex))+'" wirklich entfernen? Dieser Vorgang kann nicht rückgängig gemacht werden! ',1)])),_:1},8,["show"]),(0,l.Wm)(ae,{show:X.showChargeTemplateSchedulePlanModal,title:"Zielladen Zeitplan löschen",subtype:"danger",buttons:[{text:"Löschen",event:"confirm",subtype:"danger"}],onModalResult:a[3]||(a[3]=e=>ee.removeChargeTemplateSchedulePlan(X.modalChargeTemplateIndex,X.modalChargeTemplateSchedulePlanIndex,e))},{default:(0,l.w5)((()=>[(0,l.Uk)(' Wollen Sie den Zielladen Zeitplan "'+(0,n.zw)(ee.getChargeTemplateSchedulePlanName(X.modalChargeTemplateIndex,X.modalChargeTemplateSchedulePlanIndex))+'" wirklich entfernen? Dieser Vorgang kann nicht rückgängig gemacht werden! ',1)])),_:1},8,["show"]),(0,l.Wm)(ae,{show:X.showChargeTemplateTimeChargingPlanModal,title:"Zeitladen Zeitplan löschen",subtype:"danger",buttons:[{text:"Löschen",event:"confirm",subtype:"danger"}],onModalResult:a[4]||(a[4]=e=>ee.removeChargeTemplateTimeChargingPlan(X.modalChargeTemplateIndex,X.modalChargeTemplateTimeChargingPlanIndex,e))},{default:(0,l.w5)((()=>[(0,l.Uk)(' Wollen Sie den Zeitladen Zeitplan "'+(0,n.zw)(ee.getChargeTemplateTimeChargingPlanName(X.modalChargeTemplateIndex,X.modalChargeTemplateTimeChargingPlanIndex))+'" wirklich entfernen? Dieser Vorgang kann nicht rückgängig gemacht werden! ',1)])),_:1},8,["show"]),(0,l._)("div",d,[(0,l._)("form",i,[(0,l.Wm)(me,{title:"Fahrzeuge",collapsible:!0,collapsed:!0},{actions:(0,l.w5)((()=>[!1===e.$store.state.mqtt["openWB/general/extern"]?((0,l.wg)(),(0,l.j4)(le,{key:0,class:"bg-success clickable",onClick:ee.addVehicle},{default:(0,l.w5)((()=>[(0,l.Wm)(te,{"fixed-width":"",icon:["fas","plus"]})])),_:1},8,["onClick"])):(0,l.kq)("",!0)])),default:(0,l.w5)((()=>[!0===e.$store.state.mqtt["openWB/general/extern"]?((0,l.wg)(),(0,l.iD)("div",m,[(0,l.Wm)(ne,{subtype:"info"},{default:(0,l.w5)((()=>[u])),_:1})])):((0,l.wg)(),(0,l.iD)("div",s,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(ee.vehicleIndexes,(a=>((0,l.wg)(),(0,l.j4)(me,{key:a,title:ee.getVehicleName(a),collapsible:!0,collapsed:!0,subtype:"primary"},(0,l.Nv)({default:(0,l.w5)((()=>[(0,l.Wm)(oe,{title:"Bezeichnung","model-value":e.$store.state.mqtt["openWB/vehicle/"+a+"/name"],"onUpdate:modelValue":t=>e.updateState("openWB/vehicle/"+a+"/name",t),disabled:0===a},(0,l.Nv)({_:2},[0===a?{name:"help",fn:(0,l.w5)((()=>[r]))}:void 0]),1032,["model-value","onUpdate:modelValue","disabled"]),(0,l.Wm)(de,{title:"Fahrzeug-Vorlage",options:ee.evTemplateList,"model-value":e.$store.state.mqtt["openWB/vehicle/"+a+"/ev_template"],"onUpdate:modelValue":t=>e.updateState("openWB/vehicle/"+a+"/ev_template",t)},null,8,["options","model-value","onUpdate:modelValue"]),(0,l.Wm)(de,{title:"Ladeprofil-Vorlage",options:ee.chargeTemplateList,"model-value":e.$store.state.mqtt["openWB/vehicle/"+a+"/charge_template"],"onUpdate:modelValue":t=>e.updateState("openWB/vehicle/"+a+"/charge_template",t)},null,8,["options","model-value","onUpdate:modelValue"]),c,(0,l.Wm)(ie,{title:"Zugeordnete Tags","model-value":e.$store.state.mqtt["openWB/vehicle/"+a+"/tag_id"],"onUpdate:modelValue":t=>e.updateState("openWB/vehicle/"+a+"/tag_id",t)},null,8,["model-value","onUpdate:modelValue"])])),_:2},[0!==a?{name:"actions",fn:(0,l.w5)((()=>[(0,l.Wm)(le,{class:"bg-danger clickable",onClick:e=>ee.removeVehicleModal(a,e)},{default:(0,l.w5)((()=>[(0,l.Wm)(te,{"fixed-width":"",icon:["fas","trash"]})])),_:2},1032,["onClick"])]))}:void 0]),1032,["title"])))),128))]))])),_:1}),(0,l.Wm)(me,{title:"Fahrzeug-Vorlagen",collapsible:!0,collapsed:!0},{actions:(0,l.w5)((()=>[!1===e.$store.state.mqtt["openWB/general/extern"]?((0,l.wg)(),(0,l.j4)(le,{key:0,class:"bg-success clickable",onClick:ee.addEvTemplate},{default:(0,l.w5)((()=>[(0,l.Wm)(te,{"fixed-width":"",icon:["fas","plus"]})])),_:1},8,["onClick"])):(0,l.kq)("",!0)])),default:(0,l.w5)((()=>[!0===e.$store.state.mqtt["openWB/general/extern"]?((0,l.wg)(),(0,l.iD)("div",p,[(0,l.Wm)(ne,{subtype:"info"},{default:(0,l.w5)((()=>[h])),_:1})])):((0,l.wg)(),(0,l.iD)("div",g,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(ee.evTemplates,((a,t)=>((0,l.wg)(),(0,l.j4)(me,{key:t,title:a.name?a.name:t,collapsible:!0,collapsed:!0,subtype:"primary"},(0,l.Nv)({default:(0,l.w5)((()=>[(0,l.Wm)(oe,{title:"Bezeichnung","model-value":a.name,"onUpdate:modelValue":a=>e.updateState(t,a,"name"),disabled:t.endsWith("/0")},(0,l.Nv)({_:2},[t.endsWith("/0")?{name:"help",fn:(0,l.w5)((()=>[v]))}:void 0]),1032,["model-value","onUpdate:modelValue","disabled"]),(0,l.Wm)(ue,null,{default:(0,l.w5)((()=>[b])),_:1}),(0,l.Wm)(se,{title:"Mindeststrom",min:6,max:16,step:1,unit:"A","model-value":a.min_current,"onUpdate:modelValue":a=>e.updateState(t,a,"min_current")},null,8,["model-value","onUpdate:modelValue"]),(0,l.Wm)(se,{title:"Maximalstrom bei einer Phase",min:6,max:32,step:1,unit:"A","model-value":a.max_current_one_phase,"onUpdate:modelValue":a=>e.updateState(t,a,"max_current_one_phase")},null,8,["model-value","onUpdate:modelValue"]),(0,l.Wm)(se,{title:"Maximalstrom mehrere Phasen",min:6,max:32,step:1,unit:"A","model-value":a.max_current_multi_phases,"onUpdate:modelValue":a=>e.updateState(t,a,"max_current_multi_phases")},null,8,["model-value","onUpdate:modelValue"]),(0,l.Wm)(re,{title:"Erlaubte Stromabweichung",unit:"A","model-value":a.nominal_difference,"onUpdate:modelValue":a=>e.updateState(t,a,"nominal_difference")},null,8,["model-value","onUpdate:modelValue"]),(0,l.Wm)(ue,null,{default:(0,l.w5)((()=>[w])),_:1}),(0,l.Wm)(re,{title:"Kapazität der Batterie",unit:"kWh",min:10,step:1,"model-value":a.battery_capacity,"onUpdate:modelValue":a=>e.updateState(t,a,"battery_capacity")},null,8,["model-value","onUpdate:modelValue"]),(0,l.Wm)(re,{title:"Durchschnittsverbrauch",unit:"kWh / 100km",min:0,step:.1,"model-value":a.average_consump,"onUpdate:modelValue":a=>e.updateState(t,a,"average_consump")},null,8,["step","model-value","onUpdate:modelValue"]),(0,l.Wm)(ue,null,{default:(0,l.w5)((()=>[f])),_:1}),(0,l.Wm)(ce,{title:"Unterstützte Phasen",buttons:[{buttonValue:1,text:"1"},{buttonValue:2,text:"2"},{buttonValue:3,text:"3"}],"model-value":a.max_phases,"onUpdate:modelValue":a=>e.updateState(t,a,"max_phases")},null,8,["model-value","onUpdate:modelValue"]),(0,l.Wm)(ce,{title:"CP-Unterbrechung",buttons:[{buttonValue:!1,text:"Aus",class:"btn-outline-danger"},{buttonValue:!0,text:"An",class:"btn-outline-success"}],"model-value":a.control_pilot_interruption,"onUpdate:modelValue":a=>e.updateState(t,a,"control_pilot_interruption")},null,8,["model-value","onUpdate:modelValue"]),(0,l.Wm)(ce,{title:"Phasenumschaltung blockieren",buttons:[{buttonValue:!1,text:"Aus",class:"btn-outline-danger"},{buttonValue:!0,text:"An",class:"btn-outline-success"}],"model-value":a.prevent_switch_stop,"onUpdate:modelValue":a=>e.updateState(t,a,"prevent_switch_stop")},null,8,["model-value","onUpdate:modelValue"]),(0,l.Wm)(re,{title:"Pause bei Phasenumschaltung",unit:"s",min:2,step:1,"model-value":a.phase_switch_pause,"onUpdate:modelValue":a=>e.updateState(t,a,"phase_switch_pause")},null,8,["model-value","onUpdate:modelValue"])])),_:2},[t.endsWith("/0")?void 0:{name:"actions",fn:(0,l.w5)((()=>[!1===e.$store.state.mqtt["openWB/general/extern"]?((0,l.wg)(),(0,l.j4)(le,{key:0,class:"bg-danger clickable",onClick:e=>ee.removeEvTemplateModal(t,e)},{default:(0,l.w5)((()=>[(0,l.Wm)(te,{"fixed-width":"",icon:["fas","trash"]})])),_:2},1032,["onClick"])):(0,l.kq)("",!0)]))}]),1032,["title"])))),128))]))])),_:1}),(0,l.Wm)(me,{title:"Ladeprofil-Vorlagen",collapsible:!0,collapsed:!0},{actions:(0,l.w5)((()=>[!1===e.$store.state.mqtt["openWB/general/extern"]?((0,l.wg)(),(0,l.j4)(le,{key:0,class:"bg-success clickable",onClick:ee.addChargeTemplate},{default:(0,l.w5)((()=>[(0,l.Wm)(te,{"fixed-width":"",icon:["fas","plus"]})])),_:1},8,["onClick"])):(0,l.kq)("",!0)])),default:(0,l.w5)((()=>[!0===e.$store.state.mqtt["openWB/general/extern"]?((0,l.wg)(),(0,l.iD)("div",k,[(0,l.Wm)(ne,{subtype:"info"},{default:(0,l.w5)((()=>[_])),_:1})])):((0,l.wg)(),(0,l.iD)("div",V,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(ee.chargeTemplates,((a,t)=>((0,l.wg)(),(0,l.j4)(me,{key:t,title:a.name?a.name:t,collapsible:!0,collapsed:!0,subtype:"primary"},(0,l.Nv)({default:(0,l.w5)((()=>[(0,l.Wm)(oe,{title:"Bezeichnung","model-value":a.name,"onUpdate:modelValue":a=>e.updateState(t,a,"name"),disabled:t.endsWith("/0")},(0,l.Nv)({_:2},[t.endsWith("/0")?{name:"help",fn:(0,l.w5)((()=>[W]))}:void 0]),1032,["model-value","onUpdate:modelValue","disabled"]),(0,l.Wm)(ue,null,{default:(0,l.w5)((()=>[C])),_:1}),(0,l.Wm)(ce,{title:"Priorität",buttons:[{buttonValue:!1,text:"Nein",class:"btn-outline-danger"},{buttonValue:!0,text:"Ja",class:"btn-outline-success"}],"model-value":a.prio,"onUpdate:modelValue":a=>e.updateState(t,a,"prio")},{help:(0,l.w5)((()=>[U])),_:2},1032,["model-value","onUpdate:modelValue"]),(0,l.Wm)(ce,{title:"Automatische Sperre",buttons:[{buttonValue:!1,text:"Nein",class:"btn-outline-danger"},{buttonValue:!0,text:"Ja",class:"btn-outline-success"}],"model-value":a.disable_after_unplug,"onUpdate:modelValue":a=>e.updateState(t,a,"disable_after_unplug")},{help:(0,l.w5)((()=>[T])),_:2},1032,["model-value","onUpdate:modelValue"]),(0,l.Wm)(ce,{title:"Standard nach Abstecken",buttons:[{buttonValue:!1,text:"Nein",class:"btn-outline-danger"},{buttonValue:!0,text:"Ja",class:"btn-outline-success"}],"model-value":a.load_default,"onUpdate:modelValue":a=>e.updateState(t,a,"load_default")},{help:(0,l.w5)((()=>[x])),_:2},1032,["model-value","onUpdate:modelValue"]),y,(0,l.Wm)(ue,null,{default:(0,l.w5)((()=>[S])),_:1}),(0,l.Wm)(se,{title:"Ladestrom",min:6,max:32,step:1,unit:"A","model-value":a.chargemode.instant_charging.current,"onUpdate:modelValue":a=>e.updateState(t,a,"chargemode.instant_charging.current")},null,8,["model-value","onUpdate:modelValue"]),(0,l.Wm)(ce,{title:"Begrenzung",buttons:[{buttonValue:"none",text:"Aus"},{buttonValue:"soc",text:"SoC"},{buttonValue:"amount",text:"Energie"}],"model-value":a.chargemode.instant_charging.limit.selected,"onUpdate:modelValue":a=>e.updateState(t,a,"chargemode.instant_charging.limit.selected")},{help:(0,l.w5)((()=>[q])),_:2},1032,["model-value","onUpdate:modelValue"]),(0,l.Wm)(se,{title:"SoC-Limit",min:5,max:100,step:5,unit:"%","model-value":a.chargemode.instant_charging.limit.soc,"onUpdate:modelValue":a=>e.updateState(t,a,"chargemode.instant_charging.limit.soc")},{help:(0,l.w5)((()=>[P])),_:2},1032,["model-value","onUpdate:modelValue"]),(0,l.Wm)(re,{title:"Energie-Limit",unit:"kWh",min:5,step:1,"model-value":a.chargemode.instant_charging.limit.amount,"onUpdate:modelValue":a=>e.updateState(t,a,"chargemode.instant_charging.limit.amount")},null,8,["model-value","onUpdate:modelValue"]),z,(0,l.Wm)(ue,null,{default:(0,l.w5)((()=>[B])),_:1}),(0,l.Wm)(se,{title:"Mindeststrom",min:0,max:11,step:1,unit:"A",labels:[{label:"Aus",value:0},{label:6,value:6},{label:7,value:7},{label:8,value:8},{label:9,value:9},{label:10,value:10},{label:11,value:11},{label:12,value:12},{label:13,value:13},{label:14,value:14},{label:15,value:15},{label:16,value:16}],"model-value":a.chargemode.pv_charging.min_current,"onUpdate:modelValue":a=>e.updateState(t,a,"chargemode.pv_charging.min_current")},{help:(0,l.w5)((()=>[$])),_:2},1032,["model-value","onUpdate:modelValue"]),(0,l.Wm)(se,{title:"SoC-Limit",min:0,max:20,step:1,unit:"%",labels:[{label:5,value:5},{label:10,value:10},{label:15,value:15},{label:20,value:20},{label:25,value:25},{label:30,value:30},{label:35,value:35},{label:40,value:40},{label:45,value:45},{label:50,value:50},{label:55,value:55},{label:60,value:60},{label:65,value:65},{label:70,value:70},{label:75,value:75},{label:80,value:80},{label:85,value:85},{label:90,value:90},{label:95,value:95},{label:100,value:100},{label:"Aus",value:101}],"model-value":a.chargemode.pv_charging.max_soc,"onUpdate:modelValue":a=>e.updateState(t,a,"chargemode.pv_charging.max_soc")},{help:(0,l.w5)((()=>[M,D,I])),_:2},1032,["model-value","onUpdate:modelValue"]),(0,l.Wm)(se,{title:"Mindest-SoC",min:0,max:19,step:1,unit:"%",labels:[{label:"Aus",value:0},{label:5,value:5},{label:10,value:10},{label:15,value:15},{label:20,value:20},{label:25,value:25},{label:30,value:30},{label:35,value:35},{label:40,value:40},{label:45,value:45},{label:50,value:50},{label:55,value:55},{label:60,value:60},{label:65,value:65},{label:70,value:70},{label:75,value:75},{label:80,value:80},{label:85,value:85},{label:90,value:90},{label:95,value:95}],"model-value":a.chargemode.pv_charging.min_soc,"onUpdate:modelValue":a=>e.updateState(t,a,"chargemode.pv_charging.min_soc")},{help:(0,l.w5)((()=>[E,L,A])),_:2},1032,["model-value","onUpdate:modelValue"]),(0,l.Wm)(se,{title:"Mindest-SoC-Strom",min:6,max:32,step:1,unit:"A","model-value":a.chargemode.pv_charging.min_soc_current,"onUpdate:modelValue":a=>e.updateState(t,a,"chargemode.pv_charging.min_soc_current")},null,8,["model-value","onUpdate:modelValue"]),N,(0,l.Wm)(ue,null,{actions:(0,l.w5)((()=>[(0,l.Wm)(le,{class:"bg-success clickable",onClick:e=>ee.addChargeTemplateSchedulePlan(t,e)},{default:(0,l.w5)((()=>[(0,l.Wm)(te,{"fixed-width":"",icon:["fas","plus"]})])),_:2},1032,["onClick"])])),default:(0,l.w5)((()=>[F])),_:2},1024),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(ee.getChargeTemplateScheduledChargingPlans(t),((a,o)=>((0,l.wg)(),(0,l.j4)(me,{key:o,title:a.name,collapsible:!0,collapsed:!0},{actions:(0,l.w5)((d=>[1==d.collapsed?((0,l.wg)(),(0,l.iD)("span",{key:0,class:(0,n.C_)(["subheader pill",a.active?"bg-success":"bg-danger"])},[(0,l.Wm)(te,{"fixed-width":"",icon:["fas","car-battery"]}),(0,l.Uk)(" "+(0,n.zw)(a.soc)+"% ",1),(0,l.Wm)(te,{"fixed-width":"",icon:["fas","clock"]}),(0,l.Uk)(" "+(0,n.zw)(a.time)+" ",1),"once"==a.frequency.selected?((0,l.wg)(),(0,l.iD)("span",j,[(0,l.Wm)(te,{"fixed-width":"",icon:["fas","calendar-day"]}),(0,l.Uk)(" "+(0,n.zw)(e.formatDate(a.frequency.once)),1)])):(0,l.kq)("",!0),"daily"==a.frequency.selected?((0,l.wg)(),(0,l.iD)("span",Z,[(0,l.Wm)(te,{"fixed-width":"",icon:["fas","calendar-week"]})])):(0,l.kq)("",!0),"weekly"==a.frequency.selected?((0,l.wg)(),(0,l.iD)("span",H,[(0,l.Wm)(te,{"fixed-width":"",icon:["fas","calendar-alt"]})])):(0,l.kq)("",!0)],2)):(0,l.kq)("",!0),0==d.collapsed?((0,l.wg)(),(0,l.j4)(le,{key:1,class:"bg-danger clickable",onClick:e=>ee.removeChargeTemplateSchedulePlanModal(t,o,e)},{default:(0,l.w5)((()=>[(0,l.Wm)(te,{"fixed-width":"",icon:["fas","trash"]})])),_:2},1032,["onClick"])):(0,l.kq)("",!0)])),default:(0,l.w5)((()=>[(0,l.Wm)(oe,{title:"Bezeichnung","model-value":a.name,"onUpdate:modelValue":a=>e.updateState(o,a,"name")},null,8,["model-value","onUpdate:modelValue"]),(0,l.Wm)(ce,{title:"Zeitpunkt aktiv",buttons:[{buttonValue:!1,text:"Nein",class:"btn-outline-danger"},{buttonValue:!0,text:"Ja",class:"btn-outline-success"}],"model-value":a.active,"onUpdate:modelValue":a=>e.updateState(o,a,"active")},null,8,["model-value","onUpdate:modelValue"]),(0,l.Wm)(oe,{title:"Uhrzeit",subtype:"time","model-value":a.time,"onUpdate:modelValue":a=>e.updateState(o,a,"time")},null,8,["model-value","onUpdate:modelValue"]),(0,l.Wm)(se,{title:"Ziel-SoC",min:5,max:100,step:5,unit:"%","model-value":a.soc,"onUpdate:modelValue":a=>e.updateState(o,a,"soc")},null,8,["model-value","onUpdate:modelValue"]),(0,l.Wm)(ce,{title:"Wiederholungen",buttons:[{buttonValue:"once",text:"Einmalig",class:"btn-outline-info"},{buttonValue:"daily",text:"Täglich",class:"btn-outline-info"},{buttonValue:"weekly",text:"Wöchentlich",class:"btn-outline-info"}],"model-value":a.frequency.selected,"onUpdate:modelValue":a=>e.updateState(o,a,"frequency.selected")},null,8,["model-value","onUpdate:modelValue"]),"once"==a.frequency.selected?((0,l.wg)(),(0,l.j4)(oe,{key:0,title:"Datum",subtype:"date","model-value":a.frequency.once,"onUpdate:modelValue":a=>e.updateState(o,a,"frequency.once")},null,8,["model-value","onUpdate:modelValue"])):(0,l.kq)("",!0),"weekly"==a.frequency.selected?((0,l.wg)(),(0,l.iD)("div",K,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.weekdays,((t,n)=>((0,l.wg)(),(0,l.j4)(ce,{key:n,title:t,buttons:[{buttonValue:!1,text:"Aus",class:"btn-outline-danger"},{buttonValue:!0,text:"An",class:"btn-outline-success"}],"model-value":a.frequency.weekly[n],"onUpdate:modelValue":a=>e.updateState(o,a,"frequency.weekly."+n)},null,8,["title","model-value","onUpdate:modelValue"])))),128))])):(0,l.kq)("",!0)])),_:2},1032,["title"])))),128)),Y,(0,l.Wm)(ue,null,{actions:(0,l.w5)((()=>[(0,l.Wm)(le,{class:"bg-success clickable",onClick:e=>ee.addChargeTemplateTimeChargingPlan(t,e)},{default:(0,l.w5)((()=>[(0,l.Wm)(te,{"fixed-width":"",icon:["fas","plus"]})])),_:2},1032,["onClick"])])),default:(0,l.w5)((()=>[J])),_:2},1024),(0,l.Wm)(ce,{title:"Aktiviert",buttons:[{buttonValue:!1,text:"Nein",class:"btn-outline-danger"},{buttonValue:!0,text:"Ja",class:"btn-outline-success"}],"model-value":a.time_charging.active,"onUpdate:modelValue":a=>e.updateState(t,a,"time_charging.active")},null,8,["model-value","onUpdate:modelValue"]),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(ee.getChargeTemplateTimeChargingPlans(t),((a,o)=>((0,l.wg)(),(0,l.j4)(me,{key:o,title:a.name,collapsible:!0,collapsed:!0},{actions:(0,l.w5)((d=>[1==d.collapsed?((0,l.wg)(),(0,l.iD)("span",{key:0,class:(0,n.C_)(["subheader pill",a.active?"bg-success":"bg-danger"])},[(0,l.Wm)(te,{"fixed-width":"",icon:["fas","clock"]}),(0,l.Uk)(" "+(0,n.zw)(a.time[0])+" - "+(0,n.zw)(a.time[1])+" ",1),"once"==a.frequency.selected?((0,l.wg)(),(0,l.iD)("span",O,[(0,l.Wm)(te,{"fixed-width":"",icon:["fas","calendar-day"]}),(0,l.Uk)(" "+(0,n.zw)(e.formatDate(a.frequency.once[0])==e.formatDate(a.frequency.once[1])?e.formatDate(a.frequency.once[0]):e.formatDate(a.frequency.once[0])+"-"+e.formatDate(a.frequency.once[1])),1)])):(0,l.kq)("",!0),"daily"==a.frequency.selected?((0,l.wg)(),(0,l.iD)("span",R,[(0,l.Wm)(te,{"fixed-width":"",icon:["fas","calendar-week"]})])):(0,l.kq)("",!0),"weekly"==a.frequency.selected?((0,l.wg)(),(0,l.iD)("span",G,[(0,l.Wm)(te,{"fixed-width":"",icon:["fas","calendar-alt"]})])):(0,l.kq)("",!0)],2)):(0,l.kq)("",!0),0==d.collapsed?((0,l.wg)(),(0,l.j4)(le,{key:1,class:"bg-danger clickable",onClick:e=>ee.removeChargeTemplateTimeChargingPlanModal(t,o,e)},{default:(0,l.w5)((()=>[(0,l.Wm)(te,{"fixed-width":"",icon:["fas","trash"]})])),_:2},1032,["onClick"])):(0,l.kq)("",!0)])),default:(0,l.w5)((()=>[(0,l.Wm)(oe,{title:"Bezeichnung","model-value":a.name,"onUpdate:modelValue":a=>e.updateState(o,a,"name")},null,8,["model-value","onUpdate:modelValue"]),(0,l.Wm)(ce,{title:"Zeitplan aktiv",buttons:[{buttonValue:!1,text:"Nein",class:"btn-outline-danger"},{buttonValue:!0,text:"Ja",class:"btn-outline-success"}],"model-value":a.active,"onUpdate:modelValue":a=>e.updateState(o,a,"active")},null,8,["model-value","onUpdate:modelValue"]),(0,l.Wm)(se,{title:"Ladestrom",min:6,max:32,step:1,unit:"A","model-value":a.current,"onUpdate:modelValue":a=>e.updateState(o,a,"current")},null,8,["model-value","onUpdate:modelValue"]),(0,l.Wm)(oe,{title:"Beginn",subtype:"time","model-value":a.time[0],"onUpdate:modelValue":a=>e.updateState(o,a,"time.0")},null,8,["model-value","onUpdate:modelValue"]),(0,l.Wm)(oe,{title:"Ende",subtype:"time","model-value":a.time[1],"onUpdate:modelValue":a=>e.updateState(o,a,"time.1")},null,8,["model-value","onUpdate:modelValue"]),(0,l.Wm)(ce,{title:"Wiederholungen",buttons:[{buttonValue:"once",text:"Einmalig",class:"btn-outline-info"},{buttonValue:"daily",text:"Täglich",class:"btn-outline-info"},{buttonValue:"weekly",text:"Wöchentlich",class:"btn-outline-info"}],"model-value":a.frequency.selected,"onUpdate:modelValue":a=>e.updateState(o,a,"frequency.selected")},null,8,["model-value","onUpdate:modelValue"]),"once"==a.frequency.selected?((0,l.wg)(),(0,l.j4)(oe,{key:0,title:"Gültig ab",subtype:"date","model-value":a.frequency.once[0],"onUpdate:modelValue":a=>e.updateState(o,a,"frequency.once.0")},null,8,["model-value","onUpdate:modelValue"])):(0,l.kq)("",!0),"once"==a.frequency.selected?((0,l.wg)(),(0,l.j4)(oe,{key:1,title:"Gültig bis",subtype:"date",min:a.frequency.once[0],"model-value":a.frequency.once[1],"onUpdate:modelValue":a=>e.updateState(o,a,"frequency.once.1")},null,8,["min","model-value","onUpdate:modelValue"])):(0,l.kq)("",!0),"weekly"==a.frequency.selected?((0,l.wg)(),(0,l.iD)("div",Q,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.weekdays,((t,n)=>((0,l.wg)(),(0,l.j4)(ce,{key:n,title:t,buttons:[{buttonValue:!1,text:"Aus",class:"btn-outline-danger"},{buttonValue:!0,text:"An",class:"btn-outline-success"}],"model-value":a.frequency.weekly[n],"onUpdate:modelValue":a=>e.updateState(o,a,"frequency.weekly."+n)},null,8,["title","model-value","onUpdate:modelValue"])))),128))])):(0,l.kq)("",!0)])),_:2},1032,["title"])))),128))])),_:2},[t.endsWith("/0")?void 0:{name:"actions",fn:(0,l.w5)((()=>[(0,l.Wm)(le,{class:"bg-danger clickable",onClick:e=>ee.removeChargeTemplateModal(t,e)},{default:(0,l.w5)((()=>[(0,l.Wm)(te,{"fixed-width":"",icon:["fas","trash"]})])),_:2},1032,["onClick"])]))}]),1032,["title"])))),128))]))])),_:1}),(0,l.Wm)(pe,{formName:"vehicleConfigForm",onSave:a[5]||(a[5]=a=>e.$emit("save")),onReset:a[6]||(a[6]=a=>e.$emit("reset")),onDefaults:a[7]||(a[7]=a=>e.$emit("defaults"))})])])],64)}var ee=t(8947),ae=t(1436),te=t(7810),le=t(6061);ee.vI.add(ae.r8p,ae.$aW,ae.$nv,ae.IV4,ae.Nl7,ae.SZw,ae.xrO);var ne={name:"OpenwbVehicleConfig",mixins:[le.Z],emits:["sendCommand"],components:{FontAwesomeIcon:te.GN},data(){return{mqttTopicsToSubscribe:["openWB/general/extern","openWB/vehicle/template/ev_template/+","openWB/vehicle/template/charge_template/+","openWB/vehicle/template/charge_template/+/chargemode/scheduled_charging/plans/+","openWB/vehicle/template/charge_template/+/time_charging/plans/+","openWB/vehicle/+/name","openWB/vehicle/+/charge_template","openWB/vehicle/+/ev_template","openWB/vehicle/+/tag_id"],showVehicleModal:!1,modalVehicleIndex:void 0,showEvTemplateModal:!1,modalEvTemplateIndex:void 0,showChargeTemplateModal:!1,modalChargeTemplateIndex:void 0,showChargeTemplateSchedulePlanModal:!1,modalChargeTemplateSchedulePlanIndex:void 0,showChargeTemplateTimeChargingPlanModal:!1,modalChargeTemplateTimeChargingPlanIndex:void 0}},computed:{vehicleIndexes:{get(){return this.getWildcardIndexList("openWB/vehicle/+/name")}},evTemplates:{get(){return this.getWildcardTopics("openWB/vehicle/template/ev_template/+")}},evTemplateList:{get(){let e=[];return Object.keys(this.evTemplates).forEach((a=>{let t=parseInt(a.match(/([0-9]+)$/g)[0]),l=this.$store.state.mqtt["openWB/vehicle/template/ev_template/"+t].name;e.push({value:t,text:l})})),e}},chargeTemplates:{get(){return this.getWildcardTopics("openWB/vehicle/template/charge_template/+")}},chargeTemplateList:{get(){let e=[];return Object.keys(this.chargeTemplates).forEach((a=>{let t=parseInt(a.match(/([0-9]+)$/g)[0]),l=this.$store.state.mqtt["openWB/vehicle/template/charge_template/"+t].name;e.push({value:t,text:l})})),e}}},methods:{getChargeTemplateScheduledChargingPlans(e){let a=e.match(/([^/]+)$/)[0],t=this.getWildcardTopics("openWB/vehicle/template/charge_template/"+a+"/chargemode/scheduled_charging/plans/+");return t},getChargeTemplateTimeChargingPlans(e){let a=e.match(/([^/]+)$/)[0],t=this.getWildcardTopics("openWB/vehicle/template/charge_template/"+a+"/time_charging/plans/+");return t},addVehicle(e){e.stopPropagation(),console.info("requesting new vehicle..."),this.$emit("sendCommand",{command:"addVehicle",data:{}})},removeVehicleModal(e,a){a.stopPropagation(),this.modalVehicleIndex=e,this.showVehicleModal=!0},removeVehicle(e,a){this.showVehicleModal=!1,"confirm"==a&&(console.info("request removal of vehicle '"+e+"'"),this.$emit("sendCommand",{command:"removeVehicle",data:{id:e}}))},getVehicleName(e){return this.$store.state.mqtt["openWB/vehicle/"+e+"/name"]?this.$store.state.mqtt["openWB/vehicle/"+e+"/name"]:"Fahrzeug "+e},addEvTemplate(e){e.stopPropagation(),console.info("requesting new ev template..."),this.$emit("sendCommand",{command:"addEvTemplate",data:{}})},removeEvTemplateModal(e,a){a.stopPropagation(),this.modalEvTemplateIndex=parseInt(e.match(/([^/]+)$/)[0]),this.showEvTemplateModal=!0},removeEvTemplate(e,a){this.showEvTemplateModal=!1,"confirm"==a&&(console.info("request removal of ev template '"+e+"'"),this.$emit("sendCommand",{command:"removeEvTemplate",data:{id:e}}))},getEvTemplateName(e){return this.$store.state.mqtt["openWB/vehicle/template/ev_template/"+e]?this.$store.state.mqtt["openWB/vehicle/template/ev_template/"+e].name:"Fahrzeug-Vorlage "+e},addChargeTemplate(e){e.stopPropagation(),console.info("requesting new charge template..."),this.$emit("sendCommand",{command:"addChargeTemplate",data:{}})},removeChargeTemplateModal(e,a){a.stopPropagation(),this.modalChargeTemplateIndex=parseInt(e.match(/([^/]+)$/)[0]),this.showChargeTemplateModal=!0},removeChargeTemplate(e,a){this.showChargeTemplateModal=!1,"confirm"==a&&(console.info("request removal of charge template '"+e+"'"),this.$emit("sendCommand",{command:"removeChargeTemplate",data:{id:e}}))},getChargeTemplateName(e){return this.$store.state.mqtt["openWB/vehicle/template/charge_template/"+e]?this.$store.state.mqtt["openWB/vehicle/template/charge_template/"+e].name:"Ladeprofil-Vorlage "+e},getChargeTemplateSchedulePlanName(e,a){return this.$store.state.mqtt["openWB/vehicle/template/charge_template/"+e+"/chargemode/scheduled_charging/plans/"+a]?this.$store.state.mqtt["openWB/vehicle/template/charge_template/"+e+"/chargemode/scheduled_charging/plans/"+a].name:"Zielladen Zeitplan "+e+"/"+a},addChargeTemplateSchedulePlan(e,a){a.stopPropagation(),console.info("requesting new charge template schedule plan...");let t=parseInt(e.match(/([^/]+)$/)[0]);this.$emit("sendCommand",{command:"addChargeTemplateSchedulePlan",data:{template:t}})},removeChargeTemplateSchedulePlanModal(e,a,t){t.stopPropagation(),this.modalChargeTemplateIndex=parseInt(e.match(/([^/]+)$/)[0]),this.modalChargeTemplateSchedulePlanIndex=parseInt(a.match(/([^/]+)$/)[0]),this.showChargeTemplateSchedulePlanModal=!0},removeChargeTemplateSchedulePlan(e,a,t){this.showChargeTemplateSchedulePlanModal=!1,"confirm"==t&&(console.info("request removal of charge template '"+e+"' schedule plan '"+a+"'"),this.$emit("sendCommand",{command:"removeChargeTemplateSchedulePlan",data:{template:e,plan:a}}))},getChargeTemplateTimeChargingPlanName(e,a){return this.$store.state.mqtt["openWB/vehicle/template/charge_template/"+e+"/time_charging/plans/"+a]?this.$store.state.mqtt["openWB/vehicle/template/charge_template/"+e+"/time_charging/plans/"+a].name:"Zeitladen Zeitplan "+e+"/"+a},addChargeTemplateTimeChargingPlan(e,a){a.stopPropagation(),console.info("requesting new charge template time charging plan...");let t=parseInt(e.match(/([^/]+)$/)[0]);this.$emit("sendCommand",{command:"addChargeTemplateTimeChargingPlan",data:{template:t}})},removeChargeTemplateTimeChargingPlanModal(e,a,t){t.stopPropagation(),this.modalChargeTemplateIndex=parseInt(e.match(/([^/]+)$/)[0]),this.modalChargeTemplateTimeChargingPlanIndex=parseInt(a.match(/([^/]+)$/)[0]),this.showChargeTemplateTimeChargingPlanModal=!0},removeChargeTemplateTimeChargingPlan(e,a,t){this.showChargeTemplateTimeChargingPlanModal=!1,"confirm"==t&&(console.info("request removal of charge template '"+e+"' time charging plan '"+a+"'"),this.$emit("sendCommand",{command:"removeChargeTemplateTimeChargingPlan",data:{template:e,plan:a}}))}}},oe=t(8118);const de=(0,oe.Z)(ne,[["render",X],["__scopeId","data-v-3770d678"]]);var ie=de}}]);
//# sourceMappingURL=VehicleConfiguration.cdf8352a.js.map