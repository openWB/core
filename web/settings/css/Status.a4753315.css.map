{"version":3,"file":"css/Status.a4753315.css","mappings":"AAwzBA,yBACC,YAAa,CACb,mCAAqC,CACrC,QACD,CAEA,+BACC,gBACD","sources":["webpack://openwb-ui-settings/./src/views/Status.vue"],"sourcesContent":["<template>\n\t<div class=\"status\">\n\t\t<!-- all charge points -->\n\t\t<openwb-base-card\n\t\t\ttitle=\"Alle Ladepunkte\"\n\t\t\tv-if=\"numChargePointsInstalled > 1\"\n\t\t\tsubtype=\"primary\"\n\t\t\t:collapsible=\"true\"\n\t\t\t:collapsed=\"true\"\n\t\t>\n\t\t\t<openwb-base-number-input\n\t\t\t\ttitle=\"Leistung\"\n\t\t\t\treadonly\n\t\t\t\tclass=\"text-right text-monospace\"\n\t\t\t\tstep=\"0.001\"\n\t\t\t\tunit=\"W\"\n\t\t\t\t:model-value=\"$store.state.mqtt['openWB/chargepoint/get/power']\"\n\t\t\t/>\n\t\t\t<openwb-base-number-input\n\t\t\t\ttitle=\"Zählerstand\"\n\t\t\t\treadonly\n\t\t\t\tclass=\"text-right text-monospace\"\n\t\t\t\tstep=\"0.001\"\n\t\t\t\tunit=\"Wh\"\n\t\t\t\t:model-value=\"\n\t\t\t\t\t$store.state.mqtt['openWB/chargepoint/get/counter']\n\t\t\t\t\"\n\t\t\t/>\n\t\t\t<openwb-base-heading>Historie</openwb-base-heading>\n\t\t\t<openwb-base-number-input\n\t\t\t\ttitle=\"Heute\"\n\t\t\t\treadonly\n\t\t\t\tclass=\"text-right text-monospace\"\n\t\t\t\tstep=\"0.001\"\n\t\t\t\tunit=\"Wh\"\n\t\t\t\t:model-value=\"\n\t\t\t\t\t$store.state.mqtt['openWB/chargepoint/get/daily_yield']\n\t\t\t\t\"\n\t\t\t/>\n\t\t</openwb-base-card>\n\t\t<!-- individual charge points -->\n\t\t<openwb-base-card\n\t\t\tv-for=\"(\n\t\t\t\tinstalledChargePoint, installedChargePointKey\n\t\t\t) in installedChargePoints\"\n\t\t\t:key=\"installedChargePointKey\"\n\t\t\t:title=\"\n\t\t\t\tinstalledChargePoint.name +\n\t\t\t\t' (ID: ' +\n\t\t\t\tgetChargePointIndex(installedChargePointKey) +\n\t\t\t\t')'\n\t\t\t\"\n\t\t\t:collapsible=\"true\"\n\t\t\t:collapsed=\"true\"\n\t\t\tsubtype=\"primary\"\n\t\t>\n\t\t\t<openwb-base-alert\n\t\t\t\t:subtype=\"\n\t\t\t\t\tstatusLevel[\n\t\t\t\t\t\t$store.state.mqtt[\n\t\t\t\t\t\t\t'openWB/chargepoint/' +\n\t\t\t\t\t\t\t\tgetChargePointIndex(installedChargePointKey) +\n\t\t\t\t\t\t\t\t'/get/fault_state'\n\t\t\t\t\t\t]\n\t\t\t\t\t]\n\t\t\t\t\"\n\t\t\t>\n\t\t\t\t<font-awesome-icon\n\t\t\t\t\tv-if=\"\n\t\t\t\t\t\t$store.state.mqtt[\n\t\t\t\t\t\t\t'openWB/chargepoint/' +\n\t\t\t\t\t\t\t\tgetChargePointIndex(installedChargePointKey) +\n\t\t\t\t\t\t\t\t'/get/fault_state'\n\t\t\t\t\t\t] == 1\n\t\t\t\t\t\"\n\t\t\t\t\tfixed-width\n\t\t\t\t\t:icon=\"['fas', 'exclamation-triangle']\"\n\t\t\t\t/>\n\t\t\t\t<font-awesome-icon\n\t\t\t\t\tv-else-if=\"\n\t\t\t\t\t\t$store.state.mqtt[\n\t\t\t\t\t\t\t'openWB/chargepoint/' +\n\t\t\t\t\t\t\t\tgetChargePointIndex(installedChargePointKey) +\n\t\t\t\t\t\t\t\t'/get/fault_state'\n\t\t\t\t\t\t] == 2\n\t\t\t\t\t\"\n\t\t\t\t\tfixed-width\n\t\t\t\t\t:icon=\"['fas', 'times-circle']\"\n\t\t\t\t/>\n\t\t\t\t<font-awesome-icon\n\t\t\t\t\tv-else\n\t\t\t\t\tfixed-width\n\t\t\t\t\t:icon=\"['fas', 'check-circle']\"\n\t\t\t\t/>\n\t\t\t\tModulmeldung:<br />\n\t\t\t\t{{\n\t\t\t\t\t$store.state.mqtt[\n\t\t\t\t\t\t\"openWB/chargepoint/\" +\n\t\t\t\t\t\t\tgetChargePointIndex(installedChargePointKey) +\n\t\t\t\t\t\t\t\"/get/fault_str\"\n\t\t\t\t\t]\n\t\t\t\t}}\n\t\t\t</openwb-base-alert>\n\t\t\t<openwb-base-alert subtype=\"info\">\n\t\t\t\tStatusmeldung:<br />\n\t\t\t\t{{\n\t\t\t\t\t$store.state.mqtt[\n\t\t\t\t\t\t\"openWB/chargepoint/\" +\n\t\t\t\t\t\t\tgetChargePointIndex(installedChargePointKey) +\n\t\t\t\t\t\t\t\"/get/state_str\"\n\t\t\t\t\t]\n\t\t\t\t}}\n\t\t\t</openwb-base-alert>\n\t\t\t<openwb-base-checkbox-input\n\t\t\t\ttitle=\"Fahrzeug angesteckt\"\n\t\t\t\tdisabled\n\t\t\t\t:model-value=\"\n\t\t\t\t\t$store.state.mqtt[\n\t\t\t\t\t\t'openWB/chargepoint/' +\n\t\t\t\t\t\t\tgetChargePointIndex(installedChargePointKey) +\n\t\t\t\t\t\t\t'/get/plug_state'\n\t\t\t\t\t] == 1\n\t\t\t\t\"\n\t\t\t/>\n\t\t\t<openwb-base-checkbox-input\n\t\t\t\ttitle=\"Ladevorgang aktiv\"\n\t\t\t\tdisabled\n\t\t\t\t:model-value=\"\n\t\t\t\t\t$store.state.mqtt[\n\t\t\t\t\t\t'openWB/chargepoint/' +\n\t\t\t\t\t\t\tgetChargePointIndex(installedChargePointKey) +\n\t\t\t\t\t\t\t'/get/charge_state'\n\t\t\t\t\t] == 1\n\t\t\t\t\"\n\t\t\t/>\n\t\t\t<openwb-base-number-input\n\t\t\t\ttitle=\"Zählerstand\"\n\t\t\t\treadonly\n\t\t\t\tclass=\"text-right text-monospace\"\n\t\t\t\tstep=\"0.001\"\n\t\t\t\tunit=\"Wh\"\n\t\t\t\t:model-value=\"\n\t\t\t\t\t$store.state.mqtt[\n\t\t\t\t\t\t'openWB/chargepoint/' +\n\t\t\t\t\t\t\tgetChargePointIndex(installedChargePointKey) +\n\t\t\t\t\t\t\t'/get/counter'\n\t\t\t\t\t]\n\t\t\t\t\"\n\t\t\t/>\n\t\t\t<openwb-base-number-input\n\t\t\t\ttitle=\"Heute geladen\"\n\t\t\t\treadonly\n\t\t\t\tclass=\"text-right text-monospace\"\n\t\t\t\tstep=\"0.001\"\n\t\t\t\tunit=\"Wh\"\n\t\t\t\t:model-value=\"\n\t\t\t\t\t$store.state.mqtt[\n\t\t\t\t\t\t'openWB/chargepoint/' +\n\t\t\t\t\t\t\tgetChargePointIndex(installedChargePointKey) +\n\t\t\t\t\t\t\t'/get/daily_yield'\n\t\t\t\t\t]\n\t\t\t\t\"\n\t\t\t/>\n\t\t\t<openwb-base-number-input\n\t\t\t\ttitle=\"Leistung\"\n\t\t\t\treadonly\n\t\t\t\tclass=\"text-right text-monospace\"\n\t\t\t\tstep=\"0.001\"\n\t\t\t\tunit=\"W\"\n\t\t\t\t:model-value=\"\n\t\t\t\t\t$store.state.mqtt[\n\t\t\t\t\t\t'openWB/chargepoint/' +\n\t\t\t\t\t\t\tgetChargePointIndex(installedChargePointKey) +\n\t\t\t\t\t\t\t'/get/power'\n\t\t\t\t\t]\n\t\t\t\t\"\n\t\t\t/>\n\t\t\t<openwb-base-number-input\n\t\t\t\ttitle=\"Ladestromvorgabe\"\n\t\t\t\treadonly\n\t\t\t\tclass=\"text-right text-monospace\"\n\t\t\t\tstep=\"0.01\"\n\t\t\t\tunit=\"A\"\n\t\t\t\t:model-value=\"\n\t\t\t\t\t$store.state.mqtt[\n\t\t\t\t\t\t'openWB/chargepoint/' +\n\t\t\t\t\t\t\tgetChargePointIndex(installedChargePointKey) +\n\t\t\t\t\t\t\t'/set/current'\n\t\t\t\t\t]\n\t\t\t\t\"\n\t\t\t/>\n\t\t\t<openwb-base-heading>Werte pro Phase</openwb-base-heading>\n\t\t\t<openwb-base-text-input\n\t\t\t\ttitle=\"Spannung\"\n\t\t\t\treadonly\n\t\t\t\tclass=\"text-right text-monospace\"\n\t\t\t\tsubtype=\"json\"\n\t\t\t\tunit=\"V\"\n\t\t\t\t:model-value=\"\n\t\t\t\t\t$store.state.mqtt[\n\t\t\t\t\t\t'openWB/chargepoint/' +\n\t\t\t\t\t\t\tgetChargePointIndex(installedChargePointKey) +\n\t\t\t\t\t\t\t'/get/voltages'\n\t\t\t\t\t]\n\t\t\t\t\"\n\t\t\t/>\n\t\t\t<openwb-base-text-input\n\t\t\t\ttitle=\"Strom\"\n\t\t\t\treadonly\n\t\t\t\tclass=\"text-right text-monospace\"\n\t\t\t\tsubtype=\"json\"\n\t\t\t\tunit=\"A\"\n\t\t\t\t:model-value=\"\n\t\t\t\t\t$store.state.mqtt[\n\t\t\t\t\t\t'openWB/chargepoint/' +\n\t\t\t\t\t\t\tgetChargePointIndex(installedChargePointKey) +\n\t\t\t\t\t\t\t'/get/currents'\n\t\t\t\t\t]\n\t\t\t\t\"\n\t\t\t/>\n\t\t\t<openwb-base-text-input\n\t\t\t\ttitle=\"Leistungsfaktor\"\n\t\t\t\treadonly\n\t\t\t\tclass=\"text-right text-monospace\"\n\t\t\t\tsubtype=\"json\"\n\t\t\t\t:model-value=\"\n\t\t\t\t\t$store.state.mqtt[\n\t\t\t\t\t\t'openWB/chargepoint/' +\n\t\t\t\t\t\t\tgetChargePointIndex(installedChargePointKey) +\n\t\t\t\t\t\t\t'/get/power_factors'\n\t\t\t\t\t]\n\t\t\t\t\"\n\t\t\t/>\n\t\t\t<openwb-base-heading>Phasen</openwb-base-heading>\n\t\t\t<openwb-base-number-input\n\t\t\t\ttitle=\"Vorgabe\"\n\t\t\t\treadonly\n\t\t\t\tclass=\"text-right text-monospace\"\n\t\t\t\t:model-value=\"\n\t\t\t\t\t$store.state.mqtt[\n\t\t\t\t\t\t'openWB/chargepoint/' +\n\t\t\t\t\t\t\tgetChargePointIndex(installedChargePointKey) +\n\t\t\t\t\t\t\t'/set/phases_to_use'\n\t\t\t\t\t]\n\t\t\t\t\"\n\t\t\t/>\n\t\t\t<openwb-base-number-input\n\t\t\t\ttitle=\"Aktuell\"\n\t\t\t\treadonly\n\t\t\t\tclass=\"text-right text-monospace\"\n\t\t\t\t:model-value=\"\n\t\t\t\t\t$store.state.mqtt[\n\t\t\t\t\t\t'openWB/chargepoint/' +\n\t\t\t\t\t\t\tgetChargePointIndex(installedChargePointKey) +\n\t\t\t\t\t\t\t'/get/phases_in_use'\n\t\t\t\t\t]\n\t\t\t\t\"\n\t\t\t/>\n\t\t</openwb-base-card>\n\t\t<!-- counters -->\n\t\t<openwb-base-card\n\t\t\tv-for=\"counter in counterConfigs\"\n\t\t\t:key=\"counter.id\"\n\t\t\t:title=\"counter.name + ' (ID: ' + counter.id + ')'\"\n\t\t\t:collapsible=\"true\"\n\t\t\t:collapsed=\"true\"\n\t\t\tsubtype=\"danger\"\n\t\t>\n\t\t\t<openwb-base-alert\n\t\t\t\t:subtype=\"\n\t\t\t\t\tstatusLevel[\n\t\t\t\t\t\t$store.state.mqtt[\n\t\t\t\t\t\t\t'openWB/counter/' + counter.id + '/get/fault_state'\n\t\t\t\t\t\t]\n\t\t\t\t\t]\n\t\t\t\t\"\n\t\t\t>\n\t\t\t\t<font-awesome-icon\n\t\t\t\t\tv-if=\"\n\t\t\t\t\t\t$store.state.mqtt[\n\t\t\t\t\t\t\t'openWB/counter/' + counter.id + '/get/fault_state'\n\t\t\t\t\t\t] == 1\n\t\t\t\t\t\"\n\t\t\t\t\tfixed-width\n\t\t\t\t\t:icon=\"['fas', 'exclamation-triangle']\"\n\t\t\t\t/>\n\t\t\t\t<font-awesome-icon\n\t\t\t\t\tv-else-if=\"\n\t\t\t\t\t\t$store.state.mqtt[\n\t\t\t\t\t\t\t'openWB/counter/' + counter.id + '/get/fault_state'\n\t\t\t\t\t\t] == 2\n\t\t\t\t\t\"\n\t\t\t\t\tfixed-width\n\t\t\t\t\t:icon=\"['fas', 'times-circle']\"\n\t\t\t\t/>\n\t\t\t\t<font-awesome-icon\n\t\t\t\t\tv-else\n\t\t\t\t\tfixed-width\n\t\t\t\t\t:icon=\"['fas', 'check-circle']\"\n\t\t\t\t/>\n\t\t\t\tModulmeldung:<br />\n\t\t\t\t{{\n\t\t\t\t\t$store.state.mqtt[\n\t\t\t\t\t\t\"openWB/counter/\" + counter.id + \"/get/fault_str\"\n\t\t\t\t\t]\n\t\t\t\t}}\n\t\t\t</openwb-base-alert>\n\t\t\t<openwb-base-alert\n\t\t\t\tv-if=\"\n\t\t\t\t\t$store.state.mqtt[\n\t\t\t\t\t\t'openWB/counter/' + counter.id + '/get/state_str'\n\t\t\t\t\t] != undefined\n\t\t\t\t\"\n\t\t\t\tsubtype=\"info\"\n\t\t\t>\n\t\t\t\tStatusmeldung:<br />\n\t\t\t\t{{\n\t\t\t\t\t$store.state.mqtt[\n\t\t\t\t\t\t\"openWB/counter/\" + counter.id + \"/get/state_str\"\n\t\t\t\t\t]\n\t\t\t\t}}\n\t\t\t</openwb-base-alert>\n\t\t\t<openwb-base-heading>Zählerstände</openwb-base-heading>\n\t\t\t<openwb-base-number-input\n\t\t\t\ttitle=\"Export\"\n\t\t\t\treadonly\n\t\t\t\tclass=\"text-right text-monospace\"\n\t\t\t\tstep=\"0.001\"\n\t\t\t\tunit=\"Wh\"\n\t\t\t\t:model-value=\"\n\t\t\t\t\t$store.state.mqtt[\n\t\t\t\t\t\t'openWB/counter/' + counter.id + '/get/exported'\n\t\t\t\t\t]\n\t\t\t\t\"\n\t\t\t/>\n\t\t\t<openwb-base-number-input\n\t\t\t\ttitle=\"Import\"\n\t\t\t\treadonly\n\t\t\t\tclass=\"text-right text-monospace\"\n\t\t\t\tstep=\"0.001\"\n\t\t\t\tunit=\"Wh\"\n\t\t\t\t:model-value=\"\n\t\t\t\t\t$store.state.mqtt[\n\t\t\t\t\t\t'openWB/counter/' + counter.id + '/get/imported'\n\t\t\t\t\t]\n\t\t\t\t\"\n\t\t\t/>\n\t\t\t<openwb-base-heading>Saldierte Werte</openwb-base-heading>\n\t\t\t<openwb-base-number-input\n\t\t\t\ttitle=\"Leistung\"\n\t\t\t\treadonly\n\t\t\t\tclass=\"text-right text-monospace\"\n\t\t\t\tstep=\"0.001\"\n\t\t\t\tunit=\"W\"\n\t\t\t\t:model-value=\"\n\t\t\t\t\t$store.state.mqtt[\n\t\t\t\t\t\t'openWB/counter/' + counter.id + '/get/power'\n\t\t\t\t\t]\n\t\t\t\t\"\n\t\t\t/>\n\t\t\t<openwb-base-number-input\n\t\t\t\ttitle=\"Netzfrequenz\"\n\t\t\t\treadonly\n\t\t\t\tclass=\"text-right text-monospace\"\n\t\t\t\tstep=\"0.001\"\n\t\t\t\tunit=\"Hz\"\n\t\t\t\t:model-value=\"\n\t\t\t\t\t$store.state.mqtt[\n\t\t\t\t\t\t'openWB/counter/' + counter.id + '/get/frequency'\n\t\t\t\t\t]\n\t\t\t\t\"\n\t\t\t/>\n\t\t\t<openwb-base-heading>Werte pro Phase</openwb-base-heading>\n\t\t\t<openwb-base-text-input\n\t\t\t\ttitle=\"Spannung\"\n\t\t\t\treadonly\n\t\t\t\tclass=\"text-right text-monospace\"\n\t\t\t\tsubtype=\"json\"\n\t\t\t\tunit=\"V\"\n\t\t\t\t:model-value=\"\n\t\t\t\t\t$store.state.mqtt[\n\t\t\t\t\t\t'openWB/counter/' + counter.id + '/get/voltages'\n\t\t\t\t\t]\n\t\t\t\t\"\n\t\t\t/>\n\t\t\t<openwb-base-text-input\n\t\t\t\ttitle=\"Strom\"\n\t\t\t\treadonly\n\t\t\t\tclass=\"text-right text-monospace\"\n\t\t\t\tsubtype=\"json\"\n\t\t\t\tunit=\"A\"\n\t\t\t\t:model-value=\"\n\t\t\t\t\t$store.state.mqtt[\n\t\t\t\t\t\t'openWB/counter/' + counter.id + '/get/currents'\n\t\t\t\t\t]\n\t\t\t\t\"\n\t\t\t/>\n\t\t\t<openwb-base-text-input\n\t\t\t\ttitle=\"Leistung\"\n\t\t\t\treadonly\n\t\t\t\tclass=\"text-right text-monospace\"\n\t\t\t\tsubtype=\"json\"\n\t\t\t\tunit=\"W\"\n\t\t\t\t:model-value=\"\n\t\t\t\t\t$store.state.mqtt[\n\t\t\t\t\t\t'openWB/counter/' + counter.id + '/get/powers'\n\t\t\t\t\t]\n\t\t\t\t\"\n\t\t\t/>\n\t\t\t<openwb-base-text-input\n\t\t\t\ttitle=\"Leistungsfaktor\"\n\t\t\t\treadonly\n\t\t\t\tclass=\"text-right text-monospace\"\n\t\t\t\tsubtype=\"json\"\n\t\t\t\t:model-value=\"\n\t\t\t\t\t$store.state.mqtt[\n\t\t\t\t\t\t'openWB/counter/' + counter.id + '/get/power_factors'\n\t\t\t\t\t]\n\t\t\t\t\"\n\t\t\t/>\n\t\t</openwb-base-card>\n\t\t<!-- all inverters -->\n\t\t<openwb-base-card\n\t\t\ttitle=\"Alle Wechselrichter\"\n\t\t\tv-if=\"numInvertersInstalled > 1\"\n\t\t\tsubtype=\"success\"\n\t\t\t:collapsible=\"true\"\n\t\t\t:collapsed=\"true\"\n\t\t>\n\t\t\t<openwb-base-number-input\n\t\t\t\ttitle=\"Zählerstand\"\n\t\t\t\treadonly\n\t\t\t\tclass=\"text-right text-monospace\"\n\t\t\t\tstep=\"0.001\"\n\t\t\t\tunit=\"Wh\"\n\t\t\t\t:model-value=\"$store.state.mqtt['openWB/pv/get/counter']\"\n\t\t\t/>\n\t\t\t<openwb-base-number-input\n\t\t\t\ttitle=\"Leistung\"\n\t\t\t\treadonly\n\t\t\t\tclass=\"text-right text-monospace\"\n\t\t\t\tstep=\"0.001\"\n\t\t\t\tunit=\"W\"\n\t\t\t\t:model-value=\"$store.state.mqtt['openWB/pv/get/power']\"\n\t\t\t/>\n\t\t\t<openwb-base-heading>Erträge</openwb-base-heading>\n\t\t\t<openwb-base-number-input\n\t\t\t\ttitle=\"Heute\"\n\t\t\t\treadonly\n\t\t\t\tclass=\"text-right text-monospace\"\n\t\t\t\tstep=\"0.001\"\n\t\t\t\tunit=\"Wh\"\n\t\t\t\t:model-value=\"$store.state.mqtt['openWB/pv/get/daily_yield']\"\n\t\t\t/>\n\t\t\t<openwb-base-number-input\n\t\t\t\ttitle=\"Dieser Monat\"\n\t\t\t\treadonly\n\t\t\t\tclass=\"text-right text-monospace\"\n\t\t\t\tstep=\"0.001\"\n\t\t\t\tunit=\"Wh\"\n\t\t\t\t:model-value=\"$store.state.mqtt['openWB/pv/get/monthly_yield']\"\n\t\t\t/>\n\t\t\t<openwb-base-number-input\n\t\t\t\ttitle=\"Dieses Jahr\"\n\t\t\t\treadonly\n\t\t\t\tclass=\"text-right text-monospace\"\n\t\t\t\tstep=\"0.001\"\n\t\t\t\tunit=\"Wh\"\n\t\t\t\t:model-value=\"$store.state.mqtt['openWB/pv/get/yearly_yield']\"\n\t\t\t/>\n\t\t</openwb-base-card>\n\t\t<!-- individual inverters -->\n\t\t<openwb-base-card\n\t\t\tv-for=\"inverter in inverterConfigs\"\n\t\t\t:key=\"inverter.id\"\n\t\t\t:title=\"inverter.name + ' (ID: ' + inverter.id + ')'\"\n\t\t\t:collapsible=\"true\"\n\t\t\t:collapsed=\"true\"\n\t\t\tsubtype=\"success\"\n\t\t>\n\t\t\t<openwb-base-alert\n\t\t\t\t:subtype=\"\n\t\t\t\t\tstatusLevel[\n\t\t\t\t\t\t$store.state.mqtt[\n\t\t\t\t\t\t\t'openWB/pv/' + inverter.id + '/get/fault_state'\n\t\t\t\t\t\t]\n\t\t\t\t\t]\n\t\t\t\t\"\n\t\t\t>\n\t\t\t\t<font-awesome-icon\n\t\t\t\t\tv-if=\"\n\t\t\t\t\t\t$store.state.mqtt[\n\t\t\t\t\t\t\t'openWB/pv/' + inverter.id + '/get/fault_state'\n\t\t\t\t\t\t] == 1\n\t\t\t\t\t\"\n\t\t\t\t\tfixed-width\n\t\t\t\t\t:icon=\"['fas', 'exclamation-triangle']\"\n\t\t\t\t/>\n\t\t\t\t<font-awesome-icon\n\t\t\t\t\tv-else-if=\"\n\t\t\t\t\t\t$store.state.mqtt[\n\t\t\t\t\t\t\t'openWB/pv/' + inverter.id + '/get/fault_state'\n\t\t\t\t\t\t] == 2\n\t\t\t\t\t\"\n\t\t\t\t\tfixed-width\n\t\t\t\t\t:icon=\"['fas', 'times-circle']\"\n\t\t\t\t/>\n\t\t\t\t<font-awesome-icon\n\t\t\t\t\tv-else\n\t\t\t\t\tfixed-width\n\t\t\t\t\t:icon=\"['fas', 'check-circle']\"\n\t\t\t\t/>\n\t\t\t\tModulmeldung:<br />\n\t\t\t\t{{\n\t\t\t\t\t$store.state.mqtt[\n\t\t\t\t\t\t\"openWB/pv/\" + inverter.id + \"/get/fault_str\"\n\t\t\t\t\t]\n\t\t\t\t}}\n\t\t\t</openwb-base-alert>\n\t\t\t<openwb-base-number-input\n\t\t\t\ttitle=\"Zählerstand\"\n\t\t\t\treadonly\n\t\t\t\tclass=\"text-right text-monospace\"\n\t\t\t\tstep=\"0.001\"\n\t\t\t\tunit=\"Wh\"\n\t\t\t\t:model-value=\"\n\t\t\t\t\t$store.state.mqtt[\n\t\t\t\t\t\t'openWB/pv/' + inverter.id + '/get/counter'\n\t\t\t\t\t]\n\t\t\t\t\"\n\t\t\t/>\n\t\t\t<openwb-base-number-input\n\t\t\t\ttitle=\"Leistung\"\n\t\t\t\treadonly\n\t\t\t\tclass=\"text-right text-monospace\"\n\t\t\t\tstep=\"0.001\"\n\t\t\t\tunit=\"W\"\n\t\t\t\t:model-value=\"\n\t\t\t\t\t$store.state.mqtt['openWB/pv/' + inverter.id + '/get/power']\n\t\t\t\t\"\n\t\t\t/>\n\t\t</openwb-base-card>\n\t\t<!-- all batteries -->\n\t\t<openwb-base-card\n\t\t\ttitle=\"Alle Speicher\"\n\t\t\tv-if=\"numBatteriesInstalled > 1\"\n\t\t\tsubtype=\"warning\"\n\t\t\t:collapsible=\"true\"\n\t\t\t:collapsed=\"true\"\n\t\t>\n\t\t\t<openwb-base-heading>Zählerstände</openwb-base-heading>\n\t\t\t<openwb-base-number-input\n\t\t\t\ttitle=\"Ladung\"\n\t\t\t\treadonly\n\t\t\t\tclass=\"text-right text-monospace\"\n\t\t\t\tstep=\"0.001\"\n\t\t\t\tunit=\"Wh\"\n\t\t\t\t:model-value=\"$store.state.mqtt['openWB/bat/get/imported']\"\n\t\t\t/>\n\t\t\t<openwb-base-number-input\n\t\t\t\ttitle=\"Entladung\"\n\t\t\t\treadonly\n\t\t\t\tclass=\"text-right text-monospace\"\n\t\t\t\tstep=\"0.001\"\n\t\t\t\tunit=\"Wh\"\n\t\t\t\t:model-value=\"$store.state.mqtt['openWB/bat/get/exported']\"\n\t\t\t/>\n\t\t\t<openwb-base-heading>Tageswerte</openwb-base-heading>\n\t\t\t<openwb-base-number-input\n\t\t\t\ttitle=\"Ladung\"\n\t\t\t\treadonly\n\t\t\t\tclass=\"text-right text-monospace\"\n\t\t\t\tstep=\"0.001\"\n\t\t\t\tunit=\"Wh\"\n\t\t\t\t:model-value=\"\n\t\t\t\t\t$store.state.mqtt['openWB/bat/get/daily_yield_import']\n\t\t\t\t\"\n\t\t\t/>\n\t\t\t<openwb-base-number-input\n\t\t\t\ttitle=\"Entladung\"\n\t\t\t\treadonly\n\t\t\t\tclass=\"text-right text-monospace\"\n\t\t\t\tstep=\"0.001\"\n\t\t\t\tunit=\"Wh\"\n\t\t\t\t:model-value=\"\n\t\t\t\t\t$store.state.mqtt['openWB/bat/get/daily_yield_export']\n\t\t\t\t\"\n\t\t\t/>\n\t\t\t<openwb-base-heading>Saldierte Werte</openwb-base-heading>\n\t\t\t<openwb-base-number-input\n\t\t\t\ttitle=\"Leistung\"\n\t\t\t\treadonly\n\t\t\t\tclass=\"text-right text-monospace\"\n\t\t\t\tstep=\"0.001\"\n\t\t\t\tunit=\"W\"\n\t\t\t\t:model-value=\"$store.state.mqtt['openWB/bat/get/power']\"\n\t\t\t/>\n\t\t\t<openwb-base-number-input\n\t\t\t\ttitle=\"Ladestand\"\n\t\t\t\treadonly\n\t\t\t\tclass=\"text-right text-monospace\"\n\t\t\t\tunit=\"%\"\n\t\t\t\t:model-value=\"$store.state.mqtt['openWB/bat/get/soc']\"\n\t\t\t/>\n\t\t</openwb-base-card>\n\t\t<!-- individual batteries -->\n\t\t<openwb-base-card\n\t\t\tv-for=\"battery in batteryConfigs\"\n\t\t\t:key=\"battery.id\"\n\t\t\t:title=\"battery.name + ' (ID: ' + battery.id + ')'\"\n\t\t\t:collapsible=\"true\"\n\t\t\t:collapsed=\"true\"\n\t\t\tsubtype=\"warning\"\n\t\t>\n\t\t\t<openwb-base-alert\n\t\t\t\t:subtype=\"\n\t\t\t\t\tstatusLevel[\n\t\t\t\t\t\t$store.state.mqtt[\n\t\t\t\t\t\t\t'openWB/bat/' + battery.id + '/get/fault_state'\n\t\t\t\t\t\t]\n\t\t\t\t\t]\n\t\t\t\t\"\n\t\t\t>\n\t\t\t\t<font-awesome-icon\n\t\t\t\t\tv-if=\"\n\t\t\t\t\t\t$store.state.mqtt[\n\t\t\t\t\t\t\t'openWB/bat/' + battery.id + '/get/fault_state'\n\t\t\t\t\t\t] == 1\n\t\t\t\t\t\"\n\t\t\t\t\tfixed-width\n\t\t\t\t\t:icon=\"['fas', 'exclamation-triangle']\"\n\t\t\t\t/>\n\t\t\t\t<font-awesome-icon\n\t\t\t\t\tv-else-if=\"\n\t\t\t\t\t\t$store.state.mqtt[\n\t\t\t\t\t\t\t'openWB/bat/' + battery.id + '/get/fault_state'\n\t\t\t\t\t\t] == 2\n\t\t\t\t\t\"\n\t\t\t\t\tfixed-width\n\t\t\t\t\t:icon=\"['fas', 'times-circle']\"\n\t\t\t\t/>\n\t\t\t\t<font-awesome-icon\n\t\t\t\t\tv-else\n\t\t\t\t\tfixed-width\n\t\t\t\t\t:icon=\"['fas', 'check-circle']\"\n\t\t\t\t/>\n\t\t\t\tModulmeldung:<br />\n\t\t\t\t{{\n\t\t\t\t\t$store.state.mqtt[\n\t\t\t\t\t\t\"openWB/bat/\" + battery.id + \"/get/fault_str\"\n\t\t\t\t\t]\n\t\t\t\t}}\n\t\t\t</openwb-base-alert>\n\t\t\t<openwb-base-heading>Aktuelle Werte</openwb-base-heading>\n\t\t\t<openwb-base-number-input\n\t\t\t\ttitle=\"Leistung\"\n\t\t\t\treadonly\n\t\t\t\tclass=\"text-right text-monospace\"\n\t\t\t\tstep=\"0.001\"\n\t\t\t\tunit=\"W\"\n\t\t\t\t:model-value=\"\n\t\t\t\t\t$store.state.mqtt['openWB/bat/' + battery.id + '/get/power']\n\t\t\t\t\"\n\t\t\t/>\n\t\t\t<openwb-base-number-input\n\t\t\t\ttitle=\"Ladestand\"\n\t\t\t\treadonly\n\t\t\t\tclass=\"text-right text-monospace\"\n\t\t\t\tunit=\"%\"\n\t\t\t\t:model-value=\"\n\t\t\t\t\t$store.state.mqtt['openWB/bat/' + battery.id + '/get/soc']\n\t\t\t\t\"\n\t\t\t/>\n\t\t\t<openwb-base-heading>Zählerstände</openwb-base-heading>\n\t\t\t<openwb-base-number-input\n\t\t\t\ttitle=\"Ladung\"\n\t\t\t\treadonly\n\t\t\t\tclass=\"text-right text-monospace\"\n\t\t\t\tstep=\"0.001\"\n\t\t\t\tunit=\"Wh\"\n\t\t\t\t:model-value=\"\n\t\t\t\t\t$store.state.mqtt[\n\t\t\t\t\t\t'openWB/bat/' + battery.id + '/get/imported'\n\t\t\t\t\t]\n\t\t\t\t\"\n\t\t\t/>\n\t\t\t<openwb-base-number-input\n\t\t\t\ttitle=\"Entladung\"\n\t\t\t\treadonly\n\t\t\t\tclass=\"text-right text-monospace\"\n\t\t\t\tstep=\"0.001\"\n\t\t\t\tunit=\"Wh\"\n\t\t\t\t:model-value=\"\n\t\t\t\t\t$store.state.mqtt[\n\t\t\t\t\t\t'openWB/bat/' + battery.id + '/get/exported'\n\t\t\t\t\t]\n\t\t\t\t\"\n\t\t\t/>\n\t\t</openwb-base-card>\n\t</div>\n</template>\n\n<script>\nimport { library } from \"@fortawesome/fontawesome-svg-core\";\nimport {\n\tfaCheckCircle as fasCheckCircle,\n\tfaExclamationTriangle as fasExclamationTriangle,\n\tfaTimesCircle as fasTimesCircle,\n} from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/vue-fontawesome\";\n\nlibrary.add(fasCheckCircle, fasExclamationTriangle, fasTimesCircle);\n\nimport ComponentStateMixin from \"@/components/mixins/ComponentState.vue\";\n\nexport default {\n\tname: \"OpenwbStatus\",\n\tmixins: [ComponentStateMixin],\n\tcomponents: {\n\t\tFontAwesomeIcon,\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tmqttTopicsToSubscribe: [\n\t\t\t\t\"openWB/general/extern\",\n\t\t\t\t// charge points total\n\t\t\t\t\"openWB/chargepoint/get/power\",\n\t\t\t\t\"openWB/chargepoint/get/counter\",\n\t\t\t\t\"openWB/chargepoint/get/daily_yield\",\n\t\t\t\t// individual charge points\n\t\t\t\t\"openWB/chargepoint/+/config\",\n\t\t\t\t\"openWB/chargepoint/+/get/+\",\n\t\t\t\t\"openWB/chargepoint/+/get/connected_vehicle/info\",\n\t\t\t\t\"openWB/chargepoint/+/set/+\",\n\t\t\t\t// components\n\t\t\t\t\"openWB/system/device/+/component/+/config\",\n\t\t\t\t// counter\n\t\t\t\t\"openWB/counter/+/get/+\",\n\t\t\t\t// pv\n\t\t\t\t\"openWB/pv/get/+\",\n\t\t\t\t\"openWB/pv/+/get/+\",\n\t\t\t\t// batteries\n\t\t\t\t\"openWB/bat/get/+\",\n\t\t\t\t\"openWB/bat/+/get/+\",\n\t\t\t],\n\t\t\tstatusLevel: [\"success\", \"warning\", \"danger\"],\n\t\t};\n\t},\n\tcomputed: {\n\t\tinstalledChargePoints: {\n\t\t\tget() {\n\t\t\t\treturn this.getWildcardTopics(\"openWB/chargepoint/+/config\");\n\t\t\t},\n\t\t},\n\t\tnumChargePointsInstalled: {\n\t\t\tget() {\n\t\t\t\treturn Object.keys(this.installedChargePoints).length;\n\t\t\t},\n\t\t},\n\t\tcounterConfigs: {\n\t\t\tget() {\n\t\t\t\treturn this.filterComponentsByType(\n\t\t\t\t\tthis.getWildcardTopics(\n\t\t\t\t\t\t\"openWB/system/device/+/component/+/config\"\n\t\t\t\t\t),\n\t\t\t\t\t\"counter\"\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t\tnumInvertersInstalled: {\n\t\t\tget() {\n\t\t\t\treturn Object.keys(this.inverterConfigs).length;\n\t\t\t},\n\t\t},\n\t\tinverterConfigs: {\n\t\t\tget() {\n\t\t\t\treturn this.filterComponentsByType(\n\t\t\t\t\tthis.getWildcardTopics(\n\t\t\t\t\t\t\"openWB/system/device/+/component/+/config\"\n\t\t\t\t\t),\n\t\t\t\t\t\"inverter\"\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t\tnumBatteriesInstalled: {\n\t\t\tget() {\n\t\t\t\treturn Object.keys(this.batteryConfigs).length;\n\t\t\t},\n\t\t},\n\t\tbatteryConfigs: {\n\t\t\tget() {\n\t\t\t\treturn this.filterComponentsByType(\n\t\t\t\t\tthis.getWildcardTopics(\n\t\t\t\t\t\t\"openWB/system/device/+/component/+/config\"\n\t\t\t\t\t),\n\t\t\t\t\t\"bat\"\n\t\t\t\t);\n\t\t\t},\n\t\t},\n\t},\n\tmethods: {\n\t\tfilterComponentsByType(components, type) {\n\t\t\treturn Object.keys(components)\n\t\t\t\t.filter((key) => {\n\t\t\t\t\treturn components[key].type.includes(type);\n\t\t\t\t})\n\t\t\t\t.reduce((obj, key) => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\t...obj,\n\t\t\t\t\t\t[key]: components[key],\n\t\t\t\t\t};\n\t\t\t\t}, {});\n\t\t},\n\t\tgetChargePointIndex(key) {\n\t\t\treturn parseInt(key.match(/(?:\\/)(\\d+)(?=\\/)/)[1]);\n\t\t},\n\t\tgetComponentIndex(key) {\n\t\t\treturn parseInt(key.match(/(?:\\/)(\\d+)(?=\\/)/)[1]);\n\t\t},\n\t},\n};\n</script>\n\n<style scoped>\n.status {\n\tdisplay: grid;\n\tgrid-template-columns: repeat(2, 1fr);\n\tgap: 10px;\n}\n\n.status .card {\n\talign-self: start;\n}\n</style>\n"],"names":[],"sourceRoot":""}