const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/displayTheme-D-_yk8TY.js","assets/vendor-Cm2BcoGA.js","assets/vendor-sortablejs-BIKIFH7x.js","assets/vendor-D1GV4U4l.css","assets/index-UZ-qidAy.js","assets/vendor-fortawesome-DunXjMUr.js","assets/vendor-bootstrap-CFWPZPj5.js","assets/vendor-jquery-CEMonh9Y.js","assets/vendor-bootstrap-Ct-dCSDz.css","assets/vendor-axios-DnM0A367.js","assets/index-BqSnybEn.css","assets/dynamic-import-helper-BheWnx7M.js","assets/displayTheme-BmukUGEP.js"])))=>i.map(i=>d[i]);
import{_ as T,C}from"./index-UZ-qidAy.js";import{_ as z}from"./dynamic-import-helper-BheWnx7M.js";import{F as S,l as $,aa as O,ab as V,ac as q,ad as E}from"./vendor-fortawesome-DunXjMUr.js";import{_,m as l,l as p,f as d,z as g,u as a,D as i,K as m,q as n,y as u,a2 as M,a3 as L,L as P,x as w}from"./vendor-Cm2BcoGA.js";const j={props:{displayTheme:{type:Object,required:!0}},emits:["update:configuration"],methods:{updateConfiguration(t,e=void 0){this.$emit("update:configuration",{value:t,object:e})}}},A=_(j,[["__file","/opt/openWB-dev/openwb-ui-settings/src/components/display_themes/DisplayThemeConfigMixin.vue"]]),N={name:"DisplayThemeFallback",mixins:[A]},F={class:"display-theme-fallback"},U={key:1};function x(t,e,s,v,c,y){const r=l("openwb-base-alert"),b=l("openwb-base-textarea");return p(),d("div",F,[Object.keys(t.displayTheme.configuration).length==0?(p(),g(r,{key:0,subtype:"info"},{default:a(()=>[i(' Das Display-Theme "'+m(t.displayTheme.name)+'" bietet keine Einstellungen. ',1)]),_:1})):(p(),d("div",U,[n(r,{subtype:"warning"},{default:a(()=>[i(' Es wurde keine Konfigurationsseite für das Display-Theme "'+m(t.displayTheme.name)+'" gefunden. Die Einstellungen können als JSON direkt bearbeitet werden. ',1)]),_:1}),n(b,{title:"Konfiguration",subtype:"json","model-value":t.displayTheme.configuration,"onUpdate:modelValue":e[0]||(e[0]=f=>t.updateConfiguration(f,"configuration"))},{help:a(()=>[...e[1]||(e[1]=[i(" Bitte prüfe, ob die Eingaben richtig interpretiert werden. ",-1)])]),_:1},8,["model-value"]),n(r,{subtype:"info"},{default:a(()=>[u("pre",null,m(JSON.stringify(t.displayTheme.configuration,void 0,2)),1)]),_:1})]))])}const I=_(N,[["render",x],["__file","/opt/openWB-dev/openwb-ui-settings/src/components/display_themes/OpenwbDisplayThemeFallback.vue"]]);$.add(O,V,q,E);const R={name:"OpenwbDisplayThemeProxy",components:{FontAwesomeIcon:S},props:{displayTheme:{type:Object,required:!0}},emits:["update:configuration"],methods:{getDisplayThemeComponent(){return console.debug(`loading display theme: ${this.displayTheme.type}`),M({loader:()=>z(Object.assign({"./cards/displayTheme.vue":()=>T(()=>import("./displayTheme-D-_yk8TY.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11])),"./colors/displayTheme.vue":()=>T(()=>import("./displayTheme-BmukUGEP.js"),__vite__mapDeps([12,1,2,3,4,5,6,7,8,9,10,11]))}),`./${this.displayTheme.type}/displayTheme.vue`,3),errorComponent:I})},updateConfiguration(t){this.$emit("update:configuration",t)}}};function H(t,e,s,v,c,y){const r=l("font-awesome-icon"),b=l("openwb-base-alert"),f=l("openwb-base-heading");return p(),d(P,null,[s.displayTheme.official?(p(),g(b,{key:0,subtype:"success"},{default:a(()=>[n(r,{icon:["fas","certificate"]}),i(' Das ausgewählte Display Theme "'+m(s.displayTheme.name)+'" wird von openWB gepflegt. ',1)]),_:1})):(p(),g(b,{key:1,subtype:"info"},{default:a(()=>[n(r,{icon:["fas","people-group"]}),i(' Das ausgewählte Display Theme "'+m(s.displayTheme.name)+'" wird in unserer Community gepflegt. Rückfragen oder Probleme bitte im Forum diskutieren. ',1)]),_:1})),n(b,{subtype:s.displayTheme.userManagementSupported?"success":"warning"},{default:a(()=>[n(r,{icon:["fas",s.displayTheme.userManagementSupported?"user-check":"user-slash"]},null,8,["icon"]),i(' Das ausgewählte Display Theme "'+m(s.displayTheme.name)+'" unterstützt die Benutzerverwaltung'+m(s.displayTheme.userManagementSupported?"":" nicht")+". ",1)]),_:1},8,["subtype"]),n(f,null,{default:a(()=>[i(' Einstellungen für Display Theme "'+m(s.displayTheme.name)+'" ',1)]),_:1}),(p(),g(L(y.getDisplayThemeComponent()),{"display-theme":s.displayTheme,"onUpdate:configuration":e[0]||(e[0]=h=>y.updateConfiguration(h))},null,40,["display-theme"]))],64)}const J=_(R,[["render",H],["__file","/opt/openWB-dev/openwb-ui-settings/src/components/display_themes/OpenwbDisplayThemeProxy.vue"]]),G={name:"OpenwbOptionalComponentsView",components:{OpenwbDisplayThemeProxy:J},mixins:[C],emits:["save","reset","defaults"],data(){return{mqttTopicsToSubscribe:["openWB/general/extern","openWB/optional/int_display/active","openWB/optional/int_display/on_if_plugged_in","openWB/optional/int_display/only_local_charge_points","openWB/optional/int_display/rotation","openWB/optional/int_display/standby","openWB/optional/int_display/theme","openWB/system/configurable/display_themes"],mqttTopicsToPublish:["openWB/optional/int_display/active","openWB/optional/int_display/only_local_charge_points","openWB/optional/int_display/rotation","openWB/optional/int_display/standby","openWB/optional/int_display/theme"]}},computed:{displayThemeList(){return this.$store.state.mqtt["openWB/system/configurable/display_themes"]},displayThemeGroupList(){let t=[{label:"openWB",options:[]},{label:"Community",options:[]}];return this.displayThemeList?.forEach(e=>{e.official===!0?t[0].options.push(e):t[1].options.push(e)}),t}},methods:{getDisplayThemeDefaults(t){const e=this.displayThemeList.find(s=>s.value==t);return Object.prototype.hasOwnProperty.call(e,"defaults")?{...JSON.parse(JSON.stringify(e.defaults))}:(console.warn("no default configuration found for display theme type!",t),{})},updateSelectedDisplayTheme(t){this.updateState("openWB/optional/int_display/theme",this.getDisplayThemeDefaults(t))},updateConfiguration(t,e){console.debug("updateConfiguration",t,e),this.updateState(t,e.value,e.object)}}},K={class:"optionalComponents"},Z={name:"optionalComponentsForm"},Q={key:0},X={key:1},Y={key:2},ee={key:0};function te(t,e,s,v,c,y){const r=l("openwb-base-button-group-input"),b=l("openwb-base-heading"),f=l("openwb-base-range-input"),h=l("openwb-base-alert"),B=l("openwb-base-select-input"),D=l("openwb-display-theme-proxy"),W=l("openwb-base-card"),k=l("openwb-base-submit-buttons");return p(),d("div",K,[u("form",Z,[n(W,{title:"Display (intern oder extern)"},{default:a(()=>[n(r,{title:"Integriertes Display","model-value":t.$store.state.mqtt["openWB/optional/int_display/active"],buttons:[{buttonValue:!1,text:"Nein",class:"btn-outline-danger"},{buttonValue:!0,text:"Ja",class:"btn-outline-success"}],"onUpdate:modelValue":e[0]||(e[0]=o=>t.updateState("openWB/optional/int_display/active",o))},{help:a(()=>[...e[9]||(e[9]=[i(' Je nach Bestellung kann die openWB mit oder ohne Display geliefert worden sein. Auch die Variante "Standalone" bietet beide Optionen. Bitte prüfe zuerst die Hardwareausstattung deiner openWB (z.B. Lieferschein). ',-1)])]),_:1},8,["model-value"]),t.$store.state.mqtt["openWB/optional/int_display/active"]==!0?(p(),d("div",Q,[n(r,{title:"Orientierung","model-value":t.$store.state.mqtt["openWB/optional/int_display/rotation"],buttons:[{buttonValue:0,text:"0°"},{buttonValue:90,text:"90°"},{buttonValue:180,text:"180°"},{buttonValue:270,text:"270°"}],"onUpdate:modelValue":e[1]||(e[1]=o=>t.updateState("openWB/optional/int_display/rotation",o))},{help:a(()=>[...e[10]||(e[10]=[i(" Mit dieser Einstellung kann das Display im Uhrzeigersinn gedreht werden, falls erforderlich. Nach einer Änderung ist ein Neustart erforderlich!",-1),u("br",null,null,-1),i(" Diese Einstellung erfordert ein Raspberry Pi Display. Für eine openWB series2 mit integriertem Display muss 0° ausgewählt werden, für eine Standalone mit Display 180°. Anzeigen, welche über HDMI angeschlossen sind, werden nicht unterstützt. ",-1)])]),_:1},8,["model-value"]),e[13]||(e[13]=u("hr",null,null,-1)),n(b,null,{default:a(()=>[...e[11]||(e[11]=[i(" Display Standby ",-1)])]),_:1}),n(f,{title:"Ausschaltzeit",min:0,max:12,step:1,"model-value":t.$store.state.mqtt["openWB/optional/int_display/standby"],unit:"Sek",labels:[{label:5,value:5},{label:10,value:10},{label:15,value:15},{label:30,value:30},{label:45,value:45},{label:"1 Min",value:60},{label:"1,5 Min",value:90},{label:"2 Min",value:120},{label:"3 Min",value:180},{label:"4 Min",value:240},{label:"5 Min",value:300},{label:"10 Min",value:600},{label:"Immer an",value:0}],"onUpdate:modelValue":e[2]||(e[2]=o=>t.updateState("openWB/optional/int_display/standby",o))},{help:a(()=>[...e[12]||(e[12]=[i(" Hier kann eine Zeitspanne angegeben werden, nach der das Display ausgeschaltet wird. ",-1)])]),_:1},8,["model-value"])])):w("",!0),t.$store.state.mqtt["openWB/general/extern"]===!0?(p(),d("div",X,[e[15]||(e[15]=u("hr",null,null,-1)),n(h,{subtype:"info"},{default:a(()=>[...e[14]||(e[14]=[i(' Weitere Einstellungen sind nicht verfügbar, solange sich diese openWB im Steuerungsmodus "secondary" befindet. ',-1)])]),_:1})])):(p(),d("div",Y,[e[19]||(e[19]=u("hr",null,null,-1)),n(r,{title:"Ladepunkte auf secondary openWB","model-value":t.$store.state.mqtt["openWB/optional/int_display/only_local_charge_points"],buttons:[{buttonValue:!1,text:"Alle",class:"btn-outline-danger"},{buttonValue:!0,text:"Nur Lokale",class:"btn-outline-success"}],"onUpdate:modelValue":e[3]||(e[3]=o=>t.updateState("openWB/optional/int_display/only_local_charge_points",o))},{help:a(()=>[...e[16]||(e[16]=[i(" Hiermit kann festgelegt werden, ob an angebundenen secondary openWB alle oder nur die jeweils lokalen Ladepunkte angezeigt werden sollen. ",-1)])]),_:1},8,["model-value"]),n(h,{subtype:"info",class:"mb-3"},{default:a(()=>[...e[17]||(e[17]=[i(" Wenn die Benutzerverwaltung aktiviert ist, werden nur die Ladepunkte angezeigt, für welche dem jeweiligen Display-Benutzer auch Zugriffsrechte gegeben wurden. Ebenfalls ist es möglich, dass bestimmte Daten von Wechselrichtern, Fahrzeugen, etc. nicht angezeigt werden, wenn der Benutzer hierfür keine Berechtigung besitzt.",-1),u("br",null,null,-1),i(' Bei aktivierter Benutzerverwaltung wird empfohlen, die Anzeige auf "Alle" Ladepunkte zu setzen, damit es nicht zu Überschneidungen zwischen diesen Einschränkungen kommt. ',-1)])]),_:1}),e[20]||(e[20]=u("hr",null,null,-1)),t.$store.state.mqtt["openWB/optional/int_display/theme"]!==void 0?(p(),d("div",ee,[n(B,{class:"mb-2",title:"Theme des Displays",groups:y.displayThemeGroupList,"model-value":t.$store.state.mqtt["openWB/optional/int_display/theme"].type,"onUpdate:modelValue":e[4]||(e[4]=o=>y.updateSelectedDisplayTheme(o))},{help:a(()=>[...e[18]||(e[18]=[i(" Hier können unterschiedliche Display-Anzeigen, s.g. Themes, ausgewählt werden. Die Anzahl der Themes wird sich mit zukünftigen Releases erhöhen. ",-1)])]),_:1},8,["groups","model-value"]),t.$store.state.mqtt["openWB/optional/int_display/theme"].type?(p(),g(D,{key:0,"display-theme":t.$store.state.mqtt["openWB/optional/int_display/theme"],"onUpdate:configuration":e[5]||(e[5]=o=>y.updateConfiguration("openWB/optional/int_display/theme",o))},null,8,["display-theme"])):w("",!0)])):w("",!0)]))]),_:1}),n(k,{"form-name":"optionalComponentsForm",onSave:e[6]||(e[6]=o=>t.$emit("save",c.mqttTopicsToPublish)),onReset:e[7]||(e[7]=o=>t.$emit("reset")),onDefaults:e[8]||(e[8]=o=>t.$emit("defaults"))})])])}const ne=_(G,[["render",te],["__file","/opt/openWB-dev/openwb-ui-settings/src/views/DisplayConfiguration.vue"]]),le=Object.freeze(Object.defineProperty({__proto__:null,default:ne},Symbol.toStringTag,{value:"Module"}));export{A as D,le as a};
