import{l as $,d as H,R as j,A as J,S as G,T as Q,z as X,K as Y,W as K,I as ee,U as te,X as ae,F as ne,V as le}from"./vendor-fortawesome-396ff0d4.js";import{_ as S,C as ie}from"./index-7f257223.js";import{_ as oe}from"./dynamic-import-helper-be004503.js";import{_ as D,p as V,k as r,l as g,A as a,L as n,u as l,x as k,q as c,a0 as de,y as f,a1 as re,z as s,G as B,I as A,a2 as M,n as I,Q as ue,R as se}from"./vendor-6e5b23b4.js";import"./vendor-bootstrap-6c75b4fa.js";import"./vendor-jquery-921f231b.js";import"./vendor-axios-86f7a224.js";import"./vendor-sortablejs-b3476726.js";const me={name:"VehicleConfigFallback",emits:["update:configuration"],props:{configuration:{type:Object,required:!0},vehicleId:{default:void 0},vehicleType:String},methods:{updateConfiguration(e,o=void 0){this.$emit("update:configuration",{value:e,object:o})}}},ce={class:"vehicle-fallback"};function he(e,o,p,E,v,m){const W=V("openwb-base-alert"),b=V("openwb-base-textarea");return r(),g("div",ce,[a(W,{subtype:"warning"},{default:n(()=>[l(' Es wurde keine Konfigurationsseite für den Fahrzeug-Typ "'+k(p.vehicleType)+'" gefunden. Die Einstellungen können als JSON direkt bearbeitet werden. ',1)]),_:1}),a(b,{title:"Konfiguration",subtype:"json","model-value":p.configuration,"onUpdate:modelValue":o[0]||(o[0]=z=>m.updateConfiguration(z,"configuration"))},{help:n(()=>[l(" Bitte prüfen Sie, ob die Eingaben richtig interpretiert werden. ")]),_:1},8,["model-value"]),a(W,{subtype:"info"},{default:n(()=>[c("pre",null,k(JSON.stringify(p.configuration,void 0,2)),1)]),_:1})])}const ge=D(me,[["render",he],["__file","/opt/openWB-dev/openwb-ui-settings/src/components/vehicles/OpenwbVehicleConfigFallback.vue"]]),pe={name:"OpenwbVehicleProxy",emits:["update:configuration"],props:{vehicleId:{required:!0},vehicleType:{type:String,required:!0},configuration:{type:Object,required:!0}},computed:{myComponent(){return console.debug(`loading vehicle: ${this.vehicleType}`),de({loader:()=>oe(Object.assign({"./bmw/vehicle.vue":()=>S(()=>import("./vehicle-e76a744b.js"),["assets/vehicle-e76a744b.js","assets/vendor-6e5b23b4.js","assets/vendor-sortablejs-b3476726.js","assets/vendor-7b9e30aa.css"]),"./evnotify/vehicle.vue":()=>S(()=>import("./vehicle-e146fe0e.js"),["assets/vehicle-e146fe0e.js","assets/vendor-6e5b23b4.js","assets/vendor-sortablejs-b3476726.js","assets/vendor-7b9e30aa.css"]),"./http/vehicle.vue":()=>S(()=>import("./vehicle-4b98a311.js"),["assets/vehicle-4b98a311.js","assets/vendor-6e5b23b4.js","assets/vendor-sortablejs-b3476726.js","assets/vendor-7b9e30aa.css"]),"./kia/vehicle.vue":()=>S(()=>import("./vehicle-c5a65e75.js"),["assets/vehicle-c5a65e75.js","assets/vendor-6e5b23b4.js","assets/vendor-sortablejs-b3476726.js","assets/vendor-7b9e30aa.css"]),"./manual/vehicle.vue":()=>S(()=>import("./vehicle-e377a977.js"),["assets/vehicle-e377a977.js","assets/vendor-6e5b23b4.js","assets/vendor-sortablejs-b3476726.js","assets/vendor-7b9e30aa.css"]),"./mercedeseq/vehicle.vue":()=>S(()=>import("./vehicle-7cd93604.js"),["assets/vehicle-7cd93604.js","assets/vendor-6e5b23b4.js","assets/vendor-sortablejs-b3476726.js","assets/vendor-7b9e30aa.css"]),"./mqtt/vehicle.vue":()=>S(()=>import("./vehicle-20cc743a.js"),["assets/vehicle-20cc743a.js","assets/vendor-6e5b23b4.js","assets/vendor-sortablejs-b3476726.js","assets/vendor-7b9e30aa.css"]),"./psa/vehicle.vue":()=>S(()=>import("./vehicle-6c139591.js"),["assets/vehicle-6c139591.js","assets/vendor-6e5b23b4.js","assets/vendor-sortablejs-b3476726.js","assets/vendor-7b9e30aa.css"]),"./renault/vehicle.vue":()=>S(()=>import("./vehicle-50dd5eb2.js"),["assets/vehicle-50dd5eb2.js","assets/vendor-6e5b23b4.js","assets/vendor-sortablejs-b3476726.js","assets/vendor-7b9e30aa.css"]),"./skodaconnect/vehicle.vue":()=>S(()=>import("./vehicle-85f19442.js"),["assets/vehicle-85f19442.js","assets/vendor-6e5b23b4.js","assets/vendor-sortablejs-b3476726.js","assets/vendor-7b9e30aa.css"]),"./smarteq/vehicle.vue":()=>S(()=>import("./vehicle-575fb854.js"),["assets/vehicle-575fb854.js","assets/vendor-6e5b23b4.js","assets/vendor-sortablejs-b3476726.js","assets/vendor-7b9e30aa.css"]),"./tesla/vehicle.vue":()=>S(()=>import("./vehicle-4b3522a6.js"),["assets/vehicle-4b3522a6.js","assets/vendor-6e5b23b4.js","assets/vendor-sortablejs-b3476726.js","assets/vendor-7b9e30aa.css","assets/vendor-axios-86f7a224.js","assets/index-7f257223.js","assets/vendor-fortawesome-396ff0d4.js","assets/vendor-bootstrap-6c75b4fa.js","assets/vendor-jquery-921f231b.js","assets/vendor-bootstrap-0cf52758.css","assets/index-27f04b3e.css"]),"./vwid/vehicle.vue":()=>S(()=>import("./vehicle-eb74ae86.js"),["assets/vehicle-eb74ae86.js","assets/vendor-6e5b23b4.js","assets/vendor-sortablejs-b3476726.js","assets/vendor-7b9e30aa.css"])}),`./${this.vehicleType}/vehicle.vue`),errorComponent:ge})}},methods:{updateConfiguration(e){this.$emit("update:configuration",e)}}};function be(e,o,p,E,v,m){return r(),f(re(m.myComponent),{configuration:p.configuration,vehicleId:p.vehicleId,vehicleType:p.vehicleType,"onUpdate:configuration":o[0]||(o[0]=W=>m.updateConfiguration(W))},null,40,["configuration","vehicleId","vehicleType"])}const fe=D(pe,[["render",be],["__file","/opt/openWB-dev/openwb-ui-settings/src/components/vehicles/OpenwbVehicleProxy.vue"]]);$.add(H,j,J,G,Q,X,Y,K,ee,te,ae);const ve={name:"OpenwbVehicleConfig",mixins:[ie],emits:["sendCommand"],components:{FontAwesomeIcon:ne,FontAwesomeLayers:le,OpenwbVehicleProxy:fe},data(){return{mqttTopicsToSubscribe:["openWB/general/extern","openWB/optional/rfid/active","openWB/vehicle/template/ev_template/+","openWB/vehicle/template/charge_template/+","openWB/vehicle/template/charge_template/+/chargemode/scheduled_charging/plans/+","openWB/vehicle/template/charge_template/+/time_charging/plans/+","openWB/vehicle/+/name","openWB/vehicle/+/charge_template","openWB/vehicle/+/ev_template","openWB/vehicle/+/tag_id","openWB/system/configurable/soc_modules","openWB/vehicle/+/soc_module/config","openWB/vehicle/+/soc_module/interval_config"],showVehicleModal:!1,modalVehicleIndex:void 0,showEvTemplateModal:!1,modalEvTemplateIndex:void 0,showChargeTemplateModal:!1,modalChargeTemplateIndex:void 0,showChargeTemplateSchedulePlanModal:!1,modalChargeTemplateSchedulePlanIndex:void 0,showChargeTemplateTimeChargingPlanModal:!1,modalChargeTemplateTimeChargingPlanIndex:void 0}},computed:{vehicleIndexes:{get(){return this.getWildcardIndexList("openWB/vehicle/+/name")}},evTemplates:{get(){return this.getWildcardTopics("openWB/vehicle/template/ev_template/+")}},evTemplateList:{get(){let e=[];return Object.keys(this.evTemplates).forEach(o=>{let p=parseInt(o.match(/([0-9]+)$/g)[0]),E=this.$store.state.mqtt["openWB/vehicle/template/ev_template/"+p].name;e.push({value:p,text:E})}),e}},chargeTemplates:{get(){return this.getWildcardTopics("openWB/vehicle/template/charge_template/+")}},chargeTemplateList:{get(){let e=[];return Object.keys(this.chargeTemplates).forEach(o=>{let p=parseInt(o.match(/([0-9]+)$/g)[0]),E=this.$store.state.mqtt["openWB/vehicle/template/charge_template/"+p].name;e.push({value:p,text:E})}),e}},socModuleList:{get(){return this.$store.state.mqtt["openWB/system/configurable/soc_modules"]}}},methods:{getChargeTemplateScheduledChargingPlans(e){let o=e.match(/([^/]+)$/)[0];return this.getWildcardTopics("openWB/vehicle/template/charge_template/"+o+"/chargemode/scheduled_charging/plans/+")},getChargeTemplateTimeChargingPlans(e){let o=e.match(/([^/]+)$/)[0];return this.getWildcardTopics("openWB/vehicle/template/charge_template/"+o+"/time_charging/plans/+")},addVehicle(e){e.stopPropagation(),console.info("requesting new vehicle..."),this.$emit("sendCommand",{command:"addVehicle",data:{}})},removeVehicleModal(e,o){o.stopPropagation(),this.modalVehicleIndex=e,this.showVehicleModal=!0},removeVehicle(e,o){this.showVehicleModal=!1,o=="confirm"&&(console.info("request removal of vehicle '"+e+"'"),this.$emit("sendCommand",{command:"removeVehicle",data:{id:e}}))},getVehicleName(e){return this.$store.state.mqtt["openWB/vehicle/"+e+"/name"]?this.$store.state.mqtt["openWB/vehicle/"+e+"/name"]:"Fahrzeug "+e},getSocDefaultConfiguration(e){const o=this.socModuleList.find(p=>p.value==e);return Object.prototype.hasOwnProperty.call(o,"defaults")?{...o.defaults}:(console.warn("no default configuration found for soc type!",e),{})},updateSelectedSocModule(e,o){this.updateState("openWB/vehicle/"+e+"/soc_module/config",o,"type"),this.updateState("openWB/vehicle/"+e+"/soc_module/config",this.getSocDefaultConfiguration(o))},updateConfiguration(e,o){console.debug("updateConfiguration",e,o),this.updateState(e,o.value,o.object)},addEvTemplate(e){e.stopPropagation(),console.info("requesting new ev template..."),this.$emit("sendCommand",{command:"addEvTemplate",data:{}})},removeEvTemplateModal(e,o){o.stopPropagation(),this.modalEvTemplateIndex=parseInt(e.match(/([^/]+)$/)[0]),this.showEvTemplateModal=!0},removeEvTemplate(e,o){this.showEvTemplateModal=!1,o=="confirm"&&(console.info("request removal of ev template '"+e+"'"),this.$emit("sendCommand",{command:"removeEvTemplate",data:{id:e}}))},getEvTemplateName(e){return this.$store.state.mqtt["openWB/vehicle/template/ev_template/"+e]?this.$store.state.mqtt["openWB/vehicle/template/ev_template/"+e].name:"Fahrzeug-Profil "+e},addChargeTemplate(e){e.stopPropagation(),console.info("requesting new charge template..."),this.$emit("sendCommand",{command:"addChargeTemplate",data:{}})},getChargeTemplateIndex(e){return parseInt(e.match(/([^/]+)$/)[0])},removeChargeTemplateModal(e,o){o.stopPropagation(),this.modalChargeTemplateIndex=this.getChargeTemplateIndex(e),this.showChargeTemplateModal=!0},removeChargeTemplate(e,o){this.showChargeTemplateModal=!1,o=="confirm"&&(console.info("request removal of charge template '"+e+"'"),this.$emit("sendCommand",{command:"removeChargeTemplate",data:{id:e}}))},getChargeTemplateName(e){return this.$store.state.mqtt["openWB/vehicle/template/charge_template/"+e]?this.$store.state.mqtt["openWB/vehicle/template/charge_template/"+e].name:"Lade-Profil "+e},getChargeTemplateSchedulePlanName(e,o){return this.$store.state.mqtt["openWB/vehicle/template/charge_template/"+e+"/chargemode/scheduled_charging/plans/"+o]?this.$store.state.mqtt["openWB/vehicle/template/charge_template/"+e+"/chargemode/scheduled_charging/plans/"+o].name:"Zielladen Zeitplan "+e+"/"+o},addChargeTemplateSchedulePlan(e,o){o.stopPropagation(),console.info("requesting new charge template schedule plan...");let p=parseInt(e.match(/([^/]+)$/)[0]);this.$emit("sendCommand",{command:"addChargeTemplateSchedulePlan",data:{template:p}})},removeChargeTemplateSchedulePlanModal(e,o,p){p.stopPropagation(),this.modalChargeTemplateIndex=parseInt(e.match(/([^/]+)$/)[0]),this.modalChargeTemplateSchedulePlanIndex=parseInt(o.match(/([^/]+)$/)[0]),this.showChargeTemplateSchedulePlanModal=!0},removeChargeTemplateSchedulePlan(e,o,p){this.showChargeTemplateSchedulePlanModal=!1,p=="confirm"&&(console.info("request removal of charge template '"+e+"' schedule plan '"+o+"'"),this.$emit("sendCommand",{command:"removeChargeTemplateSchedulePlan",data:{template:e,plan:o}}))},getChargeTemplateTimeChargingPlanName(e,o){return this.$store.state.mqtt["openWB/vehicle/template/charge_template/"+e+"/time_charging/plans/"+o]?this.$store.state.mqtt["openWB/vehicle/template/charge_template/"+e+"/time_charging/plans/"+o].name:"Zeitladen Zeitplan "+e+"/"+o},addChargeTemplateTimeChargingPlan(e,o){o.stopPropagation(),console.info("requesting new charge template time charging plan...");let p=parseInt(e.match(/([^/]+)$/)[0]);this.$emit("sendCommand",{command:"addChargeTemplateTimeChargingPlan",data:{template:p}})},removeChargeTemplateTimeChargingPlanModal(e,o,p){p.stopPropagation(),this.modalChargeTemplateIndex=parseInt(e.match(/([^/]+)$/)[0]),this.modalChargeTemplateTimeChargingPlanIndex=parseInt(o.match(/([^/]+)$/)[0]),this.showChargeTemplateTimeChargingPlanModal=!0},removeChargeTemplateTimeChargingPlan(e,o,p){this.showChargeTemplateTimeChargingPlanModal=!1,p=="confirm"&&(console.info("request removal of charge template '"+e+"' time charging plan '"+o+"'"),this.$emit("sendCommand",{command:"removeChargeTemplateTimeChargingPlan",data:{template:e,plan:o}}))}}},w=e=>(ue("data-v-d7193cf0"),e=e(),se(),e),_e={class:"vehicleConfig"},we={name:"vehicleConfigForm"},Ve={key:0},ke={key:1},Ce=w(()=>c("hr",null,null,-1)),Se={key:0},ze=w(()=>c("br",null,null,-1)),Te=["innerHTML"],Ue=w(()=>c("hr",null,null,-1)),Pe=w(()=>c("br",null,null,-1)),We=w(()=>c("br",null,null,-1)),ye=w(()=>c("br",null,null,-1)),Le={key:1},Be={key:0},Ae=w(()=>c("hr",{class:"border-secondary"},null,-1)),Ee={key:0},qe={key:1},Me={key:0},Fe={key:1},xe=w(()=>c("br",null,null,-1)),De=w(()=>c("br",null,null,-1)),Ze=w(()=>c("ol",null,[c("li",null," Zielladen (Sofortladen) mit Priorität "),c("li",null,"Zielladen (Sofortladen)"),c("li",null,"Zeitladen mit Priorität"),c("li",null,"Zeitladen"),c("li",null,"Sofortladen mit Priorität"),c("li",null,"Sofortladen"),c("li",null,"PV (Min-Anteil) mit Priorität"),c("li",null,"PV (Min-Anteil)"),c("li",null,"Zielladen (PV) mit Priorität"),c("li",null,"Zielladen (PV)"),c("li",null,"PV (PV-Anteil) mit Priorität"),c("li",null,"PV (PV-Anteil)")],-1)),Ie=w(()=>c("hr",null,null,-1)),Ne=w(()=>c("hr",null,null,-1)),Oe=w(()=>c("br",null,null,-1)),Re=w(()=>c("br",null,null,-1)),$e=w(()=>c("hr",null,null,-1)),He=w(()=>c("br",null,null,-1)),je=w(()=>c("br",null,null,-1)),Je={key:0},Ge={key:1},Qe={key:2},Xe={key:3},Ye={key:4},Ke={key:4},et=w(()=>c("hr",null,null,-1)),tt={key:0},at={key:1},nt={key:2},lt={key:3},it={key:4},ot={key:4};function dt(e,o,p,E,v,m){const W=V("openwb-base-modal-dialog"),b=V("font-awesome-icon"),z=V("openwb-base-avatar"),q=V("openwb-base-alert"),T=V("openwb-base-text-input"),F=V("openwb-base-select-input"),N=V("openwb-base-array-input"),O=V("openwb-vehicle-proxy"),y=V("openwb-base-heading"),U=V("openwb-base-number-input"),_=V("openwb-base-button-group-input"),L=V("openwb-base-card"),Z=V("font-awesome-layers"),C=V("openwb-base-range-input"),R=V("openwb-base-submit-buttons");return r(),g(B,null,[s(" modal dialogs "),a(W,{show:v.showVehicleModal,title:"Fahrzeug löschen",subtype:"danger",buttons:[{text:"Löschen",event:"confirm",subtype:"danger"}],onModalResult:o[0]||(o[0]=i=>m.removeVehicle(v.modalVehicleIndex,i))},{default:n(()=>[l(' Wollen Sie das Fahrzeug "'+k(m.getVehicleName(v.modalVehicleIndex))+'" wirklich entfernen? Dieser Vorgang kann nicht rückgängig gemacht werden! ',1)]),_:1},8,["show"]),a(W,{show:v.showEvTemplateModal,title:"Fahrzeug-Profil löschen",subtype:"danger",buttons:[{text:"Löschen",event:"confirm",subtype:"danger"}],onModalResult:o[1]||(o[1]=i=>m.removeEvTemplate(v.modalEvTemplateIndex,i))},{default:n(()=>[l(' Wollen Sie das Fahrzeug-Profil "'+k(m.getEvTemplateName(v.modalEvTemplateIndex))+'" wirklich entfernen? Dieser Vorgang kann nicht rückgängig gemacht werden! ',1)]),_:1},8,["show"]),a(W,{show:v.showChargeTemplateModal,title:"Lade-Profil löschen",subtype:"danger",buttons:[{text:"Löschen",event:"confirm",subtype:"danger"}],onModalResult:o[2]||(o[2]=i=>m.removeChargeTemplate(v.modalChargeTemplateIndex,i))},{default:n(()=>[l(' Wollen Sie das Lade-Profil "'+k(m.getChargeTemplateName(v.modalChargeTemplateIndex))+'" wirklich entfernen? Dieser Vorgang kann nicht rückgängig gemacht werden! ',1)]),_:1},8,["show"]),a(W,{show:v.showChargeTemplateSchedulePlanModal,title:"Zielladen Zeitplan löschen",subtype:"danger",buttons:[{text:"Löschen",event:"confirm",subtype:"danger"}],onModalResult:o[3]||(o[3]=i=>m.removeChargeTemplateSchedulePlan(v.modalChargeTemplateIndex,v.modalChargeTemplateSchedulePlanIndex,i))},{default:n(()=>[l(' Wollen Sie den Zielladen Zeitplan "'+k(m.getChargeTemplateSchedulePlanName(v.modalChargeTemplateIndex,v.modalChargeTemplateSchedulePlanIndex))+'" wirklich entfernen? Dieser Vorgang kann nicht rückgängig gemacht werden! ',1)]),_:1},8,["show"]),a(W,{show:v.showChargeTemplateTimeChargingPlanModal,title:"Zeitladen Zeitplan löschen",subtype:"danger",buttons:[{text:"Löschen",event:"confirm",subtype:"danger"}],onModalResult:o[4]||(o[4]=i=>m.removeChargeTemplateTimeChargingPlan(v.modalChargeTemplateIndex,v.modalChargeTemplateTimeChargingPlanIndex,i))},{default:n(()=>[l(' Wollen Sie den Zeitladen Zeitplan "'+k(m.getChargeTemplateTimeChargingPlanName(v.modalChargeTemplateIndex,v.modalChargeTemplateTimeChargingPlanIndex))+'" wirklich entfernen? Dieser Vorgang kann nicht rückgängig gemacht werden! ',1)]),_:1},8,["show"]),s(" main content "),c("div",_e,[c("form",we,[s(" vehicle card "),a(L,{subtype:"info",collapsible:!0,collapsed:e.$route.params.section!="vehicle"},{header:n(()=>[a(b,{"fixed-width":"",icon:["fas","car"]}),l(" Fahrzeuge ")]),actions:n(()=>[e.$store.state.mqtt["openWB/general/extern"]===!1?(r(),f(z,{key:0,class:"bg-success clickable",onClick:m.addVehicle},{default:n(()=>[a(b,{"fixed-width":"",icon:["fas","plus"]})]),_:1},8,["onClick"])):s("v-if",!0)]),default:n(()=>[e.$store.state.mqtt["openWB/general/extern"]===!0?(r(),g("div",Ve,[a(q,{subtype:"info"},{default:n(()=>[l(' Diese Einstellungen sind nicht verfügbar, solange sich diese openWB im Steuerungsmodus "secondary" befindet. ')]),_:1})])):(r(),g("div",ke,[(r(!0),g(B,null,A(m.vehicleIndexes,i=>(r(),f(L,{key:i,title:m.getVehicleName(i),collapsible:!0,collapsed:!(e.$route.params.section=="vehicle"&&parseInt(e.$route.params.section_index)==i),subtype:"info"},M({default:n(()=>[a(T,{title:"Bezeichnung","model-value":e.$store.state.mqtt["openWB/vehicle/"+i+"/name"],"onUpdate:modelValue":d=>e.updateState("openWB/vehicle/"+i+"/name",d),disabled:i===0},M({_:2},[i===0?{name:"help",fn:n(()=>[l(" Das Standard-Fahrzeug kann nicht umbenannt werden. ")]),key:"0"}:void 0]),1032,["model-value","onUpdate:modelValue","disabled"]),a(q,{subtype:"info"},{default:n(()=>[l(" Ein anderes Fahrzeug-Profil wird erst NACH dem Abstecken übernommen, da es sonst durch die Änderung bestimmter Einstellungen im laufenden Ladevorgang zu Widersprüchen kommen kann. ")]),_:1}),a(F,{title:"Fahrzeug-Profil",options:m.evTemplateList,"model-value":e.$store.state.mqtt["openWB/vehicle/"+i+"/ev_template"],"onUpdate:modelValue":d=>e.updateState("openWB/vehicle/"+i+"/ev_template",d)},null,8,["options","model-value","onUpdate:modelValue"]),a(F,{title:"Lade-Profil",options:m.chargeTemplateList,"model-value":e.$store.state.mqtt["openWB/vehicle/"+i+"/charge_template"],"onUpdate:modelValue":d=>e.updateState("openWB/vehicle/"+i+"/charge_template",d)},null,8,["options","model-value","onUpdate:modelValue"]),Ce,e.$store.state.mqtt["openWB/optional/rfid/active"]===!0?(r(),g("div",Se,[a(N,{title:"Zugeordnete Tags","model-value":e.$store.state.mqtt["openWB/vehicle/"+i+"/tag_id"],"onUpdate:modelValue":d=>e.updateState("openWB/vehicle/"+i+"/tag_id",d)},null,8,["model-value","onUpdate:modelValue"]),a(q,{subtype:"info"},{default:n(()=>[l(" Der/die RFID-Tag(s) müssen in dem Ladepunkt-Profil eingetragen werden, um zuzuordnen, an welchem Ladepunkt die Tags verwendet werden dürfen."),ze,c("span",{innerHTML:e.$store.state.text.rfidWiki},null,8,Te)]),_:1}),Ue])):s("v-if",!0),a(F,{class:"mb-2",title:"SoC-Modul",options:m.socModuleList,"model-value":e.$store.state.mqtt["openWB/vehicle/"+i+"/soc_module/config"].type,"onUpdate:modelValue":d=>m.updateSelectedSocModule(i,d)},{help:n(()=>[l(" Mit einem SoC-Modul kann der Ladestand des Fahrzeugs ermittelt und geregelt werden. Z.B. lassen sich unabhängig vom Fahrzeug bestimmte SoC-Werte einstellen, um den Fahrzeugakku zu schonen. Aktuell werden die SoC-Werte mittels der App-Zugangsdaten aus dem Herstellerserver des Fahrzeuges ausgelesen. Zukünftig soll auch eine direkte SoC-Auslesung aus dem Fahrzeug möglich werden (openWB Pro)."),Pe,l(" Die SoC-Abfrage erfolgt automatisch beim Anstecken des Fahrzeuges und zusätzlich über einstellbare Abfrageintervalle während des Ladens und Nichtladens. Die Abfrage kann auch manuell durch Klick auf den Reload-Pfeil auf der Hauptseite ausgelöst werden."),We,l(" Wenn eine Abfrage fehlschlägt, wird noch drei weitere Male im Abstand von 5 Minuten versucht, den SoC abzufragen. Wenn dies nicht erfolgreich ist, wird der SoC auf 0% gesetzt um zu vermeiden, dass ein Auto beim SoC-basierten Laden nicht geladen wird. Die Abfrage erfolgt dann wieder in den oben genannten Intervallen."),ye,l(" Da aktuell die SoC-Abfragen über Onlineserver der Fahrzeughersteller laufen, ist infolge möglicher Umstellungen/Wartungen keine 100%-ig sichere SoC-Abfrage garantiert. Auch kann es zu SoC-Abweichungen infolge von zeitlicher Verzögerungen kommen. Hilfestellung erfolgt primär im openWB-Forum. ")]),_:2},1032,["options","model-value","onUpdate:modelValue"]),e.$store.state.mqtt["openWB/vehicle/"+i+"/soc_module/config"].type?(r(),g("div",Le,[a(O,{vehicleId:i,vehicleType:e.$store.state.mqtt["openWB/vehicle/"+i+"/soc_module/config"].type,configuration:e.$store.state.mqtt["openWB/vehicle/"+i+"/soc_module/config"].configuration,"onUpdate:configuration":d=>m.updateConfiguration("openWB/vehicle/"+i+"/soc_module/config",d)},null,8,["vehicleId","vehicleType","configuration","onUpdate:configuration"]),e.$store.state.mqtt["openWB/vehicle/"+i+"/soc_module/interval_config"]?(r(),g("div",Be,[a(y,null,{help:n(()=>[l(" Einige Hersteller begrenzen die möglichen Abfragen. Sobald ein gewisses Limit in einem Zeitraum überschritten wird, werden weitere Anfragen blockiert. Die Zeitintervalle sollten daher nicht zu klein gewählt werden. ")]),default:n(()=>[l(" Aktualisierung der Fahrzeugdaten ")]),_:1}),a(U,{title:"Während der Ladung",unit:"Min.","model-value":e.$store.state.mqtt["openWB/vehicle/"+i+"/soc_module/interval_config"].request_interval_charging,"onUpdate:modelValue":d=>e.updateState("openWB/vehicle/"+i+"/soc_module/interval_config",d,"request_interval_charging")},{help:n(()=>[l(" Der Ladestand des Fahrzeugs (SoC) wird bei einem laufenden Ladevorgang in dem hier eingestellten Intervall in Minuten abgefragt. ")]),_:2},1032,["model-value","onUpdate:modelValue"]),a(U,{title:"Ohne laufende Ladung",unit:"Min.","model-value":e.$store.state.mqtt["openWB/vehicle/"+i+"/soc_module/interval_config"].request_interval_not_charging,"onUpdate:modelValue":d=>e.updateState("openWB/vehicle/"+i+"/soc_module/interval_config",d,"request_interval_not_charging")},{help:n(()=>[l(" Der Ladestand des Fahrzeugs (SoC) wird in dem hier eingestellten Intervall in Minuten abgefragt, falls kein Ladevorgang aktiv ist. ")]),_:2},1032,["model-value","onUpdate:modelValue"]),a(_,{title:"Nur aktualisieren wenn angesteckt",buttons:[{buttonValue:!1,text:"Nein",class:"btn-outline-danger"},{buttonValue:!0,text:"Ja",class:"btn-outline-success"}],"model-value":e.$store.state.mqtt["openWB/vehicle/"+i+"/soc_module/interval_config"].request_only_plugged,"onUpdate:modelValue":d=>e.updateState("openWB/vehicle/"+i+"/soc_module/interval_config",d,"request_only_plugged")},{help:n(()=>[l(' Wird hier "Ja" ausgewählt, dann wird der Ladestand des Fahrzeugs nur abgefragt, wenn das Ladekabel angesteckt ist. ')]),_:2},1032,["model-value","onUpdate:modelValue"])])):s("v-if",!0)])):s("v-if",!0)]),_:2},[i!==0?{name:"actions",fn:n(d=>[d.collapsed?s("v-if",!0):(r(),f(z,{key:0,class:"bg-danger clickable",onClick:t=>m.removeVehicleModal(i,t)},{default:n(()=>[a(b,{"fixed-width":"",icon:["fas","trash"]})]),_:2},1032,["onClick"]))]),key:"0"}:void 0]),1032,["title","collapsed"]))),128))]))]),_:1},8,["collapsed"]),Ae,a(y,null,{default:n(()=>[l("Profile")]),_:1}),s(" vehicle template card "),a(L,{collapsible:!0,collapsed:!0},{header:n(()=>[a(Z,{"fixed-width":"",class:"fa-lg"},{default:n(()=>[a(b,{"fixed-width":"",icon:["far","file"]}),a(b,{"fixed-width":"",icon:["fas","car"],transform:"shrink-8"})]),_:1}),l(" Fahrzeug-Profile ")]),actions:n(()=>[e.$store.state.mqtt["openWB/general/extern"]===!1?(r(),f(z,{key:0,class:"bg-success clickable",onClick:m.addEvTemplate},{default:n(()=>[a(b,{"fixed-width":"",icon:["fas","plus"]})]),_:1},8,["onClick"])):s("v-if",!0)]),default:n(()=>[e.$store.state.mqtt["openWB/general/extern"]===!0?(r(),g("div",Ee,[a(q,{subtype:"info"},{default:n(()=>[l(' Diese Einstellungen sind nicht verfügbar, solange sich diese openWB im Steuerungsmodus "secondary" befindet. ')]),_:1})])):(r(),g("div",qe,[a(q,{subtype:"info"},{default:n(()=>[l(" Ein anderes Fahrzeug-Profil wird erst NACH dem Abstecken übernommen, da es sonst durch die Änderung bestimmter Einstellungen im laufenden Ladevorgang zu Widersprüchen kommen kann. ")]),_:1}),(r(!0),g(B,null,A(m.evTemplates,(i,d)=>(r(),f(L,{key:d,title:i.name?i.name:d,collapsible:!0,collapsed:!0},M({default:n(()=>[a(T,{title:"Bezeichnung","model-value":i.name,"onUpdate:modelValue":t=>e.updateState(d,t,"name"),disabled:d.endsWith("/0")},M({_:2},[d.endsWith("/0")?{name:"help",fn:n(()=>[l(" Das Standard-Profil kann nicht umbenannt werden. ")]),key:"0"}:void 0]),1032,["model-value","onUpdate:modelValue","disabled"]),a(y,null,{default:n(()=>[l(" Angaben zum Ladestrom ")]),_:1}),a(C,{title:"Mindeststrom",min:6,max:16,step:1,unit:"A","model-value":i.min_current,"onUpdate:modelValue":t=>e.updateState(d,t,"min_current")},null,8,["model-value","onUpdate:modelValue"]),a(C,{title:"Maximalstrom bei einer Phase",min:6,max:32,step:1,unit:"A","model-value":i.max_current_single_phase,"onUpdate:modelValue":t=>e.updateState(d,t,"max_current_single_phase")},null,8,["model-value","onUpdate:modelValue"]),a(C,{title:"Maximalstrom mehrere Phasen",min:6,max:32,step:1,unit:"A","model-value":i.max_current_multi_phases,"onUpdate:modelValue":t=>e.updateState(d,t,"max_current_multi_phases")},null,8,["model-value","onUpdate:modelValue"]),a(U,{title:"Erlaubte Stromabweichung",step:.1,unit:"A","model-value":i.nominal_difference,"onUpdate:modelValue":t=>e.updateState(d,t,"nominal_difference")},{help:n(()=>[l(" In manchen Lademodi, z.B. bei der automatischen Phasenumschaltung, wird geprüft, ob das Fahrzeug mit der vorgegebenen Stromstärke lädt. Manche Fahrzeuge laden nicht exakt mit der vorgegebenen Stromstärke. Die erlaubte Abweichung kann hier eingestellt werden. ")]),_:2},1032,["model-value","onUpdate:modelValue"]),a(y,null,{default:n(()=>[l(" Angaben zur Batterie ")]),_:1}),a(U,{title:"Kapazität der Batterie",unit:"kWh",min:10,step:1,"model-value":i.battery_capacity/1e3,"onUpdate:modelValue":t=>e.updateState(d,t*1e3,"battery_capacity")},{help:n(()=>[l(" Angabe der Netto-Kapazität der Fahrzeugbatterie. Dient zur Berechnung des manuellen SoC und der geladenen Reichweite. Die Netto-Kapazität unterscheidet sich meist von den Angaben der Fahrzeughersteller. So besitzt ein Tesla Model S 90 z. B. nur ca. 83kWh und nicht die durch die Typenbezeichnung suggerierten 90kWh. Andere Hersteller begrenzen die nutzbare Kapazität absichtlich, um eine höhere Lebensdauer der Akkus zu erreichen. Gängig sind eine Drosselung auf 90% der angegebenen Brutto-Kapazität. ")]),_:2},1032,["model-value","onUpdate:modelValue"]),a(U,{title:"Durchschnittsverbrauch",unit:"kWh / 100km",min:0,step:.1,"model-value":i.average_consump/1e3,"onUpdate:modelValue":t=>e.updateState(d,t*1e3,"average_consump")},null,8,["model-value","onUpdate:modelValue"]),a(y,null,{default:n(()=>[l(" Angaben zur Handhabung von Phasen ")]),_:1}),a(_,{title:"Unterstützte Phasen",buttons:[{buttonValue:1,text:"1"},{buttonValue:2,text:"2"},{buttonValue:3,text:"3"}],"model-value":i.max_phases,"onUpdate:modelValue":t=>e.updateState(d,t,"max_phases")},{help:n(()=>[l(" Anzahl der Phasen, die der Fahrzeuglader (s.g. OBC - OnboardCharger) bereitstellt. Plugin-Hybride haben meist nur eine Phase, reine E-Autos meist 2 bis 3 Phasen. ")]),_:2},1032,["model-value","onUpdate:modelValue"]),a(_,{title:"CP-Unterbrechung",buttons:[{buttonValue:!1,text:"Aus",class:"btn-outline-danger"},{buttonValue:!0,text:"An",class:"btn-outline-success"}],"model-value":i.control_pilot_interruption,"onUpdate:modelValue":t=>e.updateState(d,t,"control_pilot_interruption")},{help:n(()=>[l(' Erläuterung siehe "Konfiguration - Ladepunkte" -> Hardware-Optionen ')]),_:2},1032,["model-value","onUpdate:modelValue"]),i.control_pilot_interruption?(r(),f(U,{key:0,title:"Dauer der CP-Unterbrechung",min:4,step:1,unit:"s","model-value":i.control_pilot_interruption_duration,"onUpdate:modelValue":t=>e.updateState(d,t,"control_pilot_interruption_duration")},null,8,["model-value","onUpdate:modelValue"])):s("v-if",!0),a(_,{title:"Phasenumschaltung blockieren",buttons:[{buttonValue:!1,text:"Aus",class:"btn-outline-danger"},{buttonValue:!0,text:"An",class:"btn-outline-success"}],"model-value":i.prevent_phase_switch,"onUpdate:modelValue":t=>e.updateState(d,t,"prevent_phase_switch")},{help:n(()=>[l(' Erläuterung zu 1p3p siehe "Ladeeinstellungen" ')]),_:2},1032,["model-value","onUpdate:modelValue"]),a(_,{title:"Ladung aktiv halten",buttons:[{buttonValue:!1,text:"Aus",class:"btn-outline-danger"},{buttonValue:!0,text:"An",class:"btn-outline-success"}],"model-value":i.prevent_charge_stop,"onUpdate:modelValue":t=>e.updateState(d,t,"prevent_charge_stop")},{help:n(()=>[l(" In den Lademodi PV- und Zielladen wird die Abschaltverzögerung ausgesetzt und nach Ladebeginn der Ladevorgang nicht unterbrochen. Diese Einstellung sollte bei Fahrzeugen aktiviert werden, die nach Unterbrechen der Ladung keine Ladung mehr starten. ")]),_:2},1032,["model-value","onUpdate:modelValue"]),a(U,{title:"Pause bei Phasenumschaltung",unit:"s",min:2,step:1,"model-value":i.phase_switch_pause,"onUpdate:modelValue":t=>e.updateState(d,t,"phase_switch_pause")},null,8,["model-value","onUpdate:modelValue"]),a(U,{title:"Mindestzeit zwischen Umschaltungen",unit:"s",min:2,step:1,"model-value":i.keep_charge_active_duration,"onUpdate:modelValue":t=>e.updateState(d,t,"keep_charge_active_duration")},{help:n(()=>[l(" Manche Fahrzeuge benötigen nach der Umschaltung einige Zeit, bis sie mit der vorgegebenen Phasenzahl laden. In dieser Zeit wird keine neue Phasenumschaltung angestoßen. ")]),_:2},1032,["model-value","onUpdate:modelValue"])]),_:2},[d.endsWith("/0")?void 0:{name:"actions",fn:n(t=>[e.$store.state.mqtt["openWB/general/extern"]===!1&&!t.collapsed?(r(),f(z,{key:0,class:"bg-danger clickable",onClick:h=>m.removeEvTemplateModal(d,h)},{default:n(()=>[a(b,{"fixed-width":"",icon:["fas","trash"]})]),_:2},1032,["onClick"])):s("v-if",!0)]),key:"0"}]),1032,["title"]))),128))]))]),_:1}),s(" charge template card "),a(L,{collapsible:!0,collapsed:e.$route.params.section!="charge_template"},{header:n(()=>[a(Z,{"fixed-width":"",class:"fa-lg"},{default:n(()=>[a(b,{"fixed-width":"",icon:["far","file"]}),a(b,{"fixed-width":"",icon:["fas","plug"],transform:"shrink-8"})]),_:1}),l(" Lade-Profile ")]),actions:n(()=>[e.$store.state.mqtt["openWB/general/extern"]===!1?(r(),f(z,{key:0,class:"bg-success clickable",onClick:m.addChargeTemplate},{default:n(()=>[a(b,{"fixed-width":"",icon:["fas","plus"]})]),_:1},8,["onClick"])):s("v-if",!0)]),default:n(()=>[e.$store.state.mqtt["openWB/general/extern"]===!0?(r(),g("div",Me,[a(q,{subtype:"info"},{default:n(()=>[l(' Diese Einstellungen sind nicht verfügbar, solange sich diese openWB im Steuerungsmodus "secondary" befindet. ')]),_:1})])):(r(),g("div",Fe,[(r(!0),g(B,null,A(m.chargeTemplates,(i,d)=>(r(),f(L,{key:d,title:i.name?i.name:d,collapsible:!0,collapsed:!(e.$route.params.section=="charge_template"&&parseInt(e.$route.params.section_index)==m.getChargeTemplateIndex(d))},M({default:n(()=>[a(T,{title:"Bezeichnung","model-value":i.name,"onUpdate:modelValue":t=>e.updateState(d,t,"name"),disabled:d.endsWith("/0")},M({_:2},[d.endsWith("/0")?{name:"help",fn:n(()=>[l(" Das Standard-Profil kann nicht umbenannt werden. ")]),key:"0"}:void 0]),1032,["model-value","onUpdate:modelValue","disabled"]),a(y,null,{default:n(()=>[l(" Allgemeine Optionen ")]),_:1}),a(_,{title:"Aktiver Lademodus",buttons:[{buttonValue:"instant_charging",text:"Sofortladen",class:"btn-outline-danger"},{buttonValue:"pv_charging",text:"PV",class:"btn-outline-success"},{buttonValue:"scheduled_charging",text:"Zielladen",class:"btn-outline-primary"},{buttonValue:"standby",text:"Standby",class:"btn-outline-secondary"},{buttonValue:"stop",text:"Stop",class:"btn-outline-dark"}],"model-value":i.chargemode.selected,"onUpdate:modelValue":t=>e.updateState(d,t,"chargemode.selected")},{help:n(()=>[l(" Diese Einstellung entspricht dem gewählten Lademodus auf der Hauptseite und ist aktiv, wenn ein zugehöriges Fahrzeug angesteckt ist."),xe,l(" Die zur Verfügung stehende Leistung wird intern anhand folgender Prioritätenliste auf die Fahrzeuge bzw. Ladepunkte verteilt:"),De,Ze]),_:2},1032,["model-value","onUpdate:modelValue"]),a(_,{title:"Priorität",buttons:[{buttonValue:!1,text:"Nein",class:"btn-outline-danger"},{buttonValue:!0,text:"Ja",class:"btn-outline-success"}],"model-value":i.prio,"onUpdate:modelValue":t=>e.updateState(d,t,"prio")},{help:n(()=>[l(" Fahrzeuge mit Priorität werden bevorzugt geladen. Erst wenn alle priorisierten Fahrzeuge die maximale Ladeleistung bekommen und noch zusätzlicher Überschuss vorhanden ist, werden auch Fahrzeuge ohne Priorität geladen. ")]),_:2},1032,["model-value","onUpdate:modelValue"]),a(_,{title:"Zeitladen",buttons:[{buttonValue:!1,text:"Nein",class:"btn-outline-danger"},{buttonValue:!0,text:"Ja",class:"btn-outline-success"}],"model-value":i.time_charging.active,"onUpdate:modelValue":t=>e.updateState(d,t,"time_charging.active")},{help:n(()=>[l(' Der Lademodus Zeitladen kann parallel zu einem der anderen Lademodi aktiviert werden. Die Auswahl des Lademodus, der in der Regelung genutzt wird, erfolgt anhand der Übersicht in der Hilfe bei "Aktiver Lademodus". Wenn kein Zeitplan aktiv ist oder das Limit des Zeitplans erreicht wurde, wird der Lademodus verwendet, der bei "Aktiver Lademodus" ausgewählt ist. ')]),_:2},1032,["model-value","onUpdate:modelValue"]),a(_,{title:"Sperre nach Abstecken",buttons:[{buttonValue:!1,text:"Nein",class:"btn-outline-danger"},{buttonValue:!0,text:"Ja",class:"btn-outline-success"}],"model-value":i.disable_after_unplug,"onUpdate:modelValue":t=>e.updateState(d,t,"disable_after_unplug")},{help:n(()=>[l(" Wird ein Fahrzeug mit diesem Profil abgesteckt, dann wird der betroffene Ladepunkt automatisch deaktiviert. ")]),_:2},1032,["model-value","onUpdate:modelValue"]),a(_,{title:"Standard nach Abstecken",buttons:[{buttonValue:!1,text:"Nein",class:"btn-outline-danger"},{buttonValue:!0,text:"Ja",class:"btn-outline-success"}],"model-value":i.load_default,"onUpdate:modelValue":t=>e.updateState(d,t,"load_default")},{help:n(()=>[l(" Falls diese Option aktiviert ist, wird der betroffene Ladepunkt nach dem Abstecken auf das Standard Ladeprofil zurückgesetzt. ")]),_:2},1032,["model-value","onUpdate:modelValue"]),Ie,a(y,null,{default:n(()=>[l("Sofortladen")]),_:1}),a(C,{title:"Soll-Ladestrom",min:6,max:32,step:1,unit:"A","model-value":i.chargemode.instant_charging.current,"onUpdate:modelValue":t=>e.updateState(d,t,"chargemode.instant_charging.current")},null,8,["model-value","onUpdate:modelValue"]),a(_,{title:"Begrenzung",buttons:[{buttonValue:"none",text:"Aus"},{buttonValue:"soc",text:"SoC"},{buttonValue:"amount",text:"Energie"}],"model-value":i.chargemode.instant_charging.limit.selected,"onUpdate:modelValue":t=>e.updateState(d,t,"chargemode.instant_charging.limit.selected")},{help:n(()=>[l(" Sofortladen kann ohne Fahrzeug-SoC-Begrenzung (Aus), mit Begrenzung des Fahrzeug-SoC (SoC) bei konfiguriertem SoC-Auslesemodul oder mittels Vorgabe eine gewünschten Energiemenge in kWh (Energie) genutzt werden. ")]),_:2},1032,["model-value","onUpdate:modelValue"]),a(C,{title:"SoC-Limit",min:5,max:100,step:5,unit:"%","model-value":i.chargemode.instant_charging.limit.soc,"onUpdate:modelValue":t=>e.updateState(d,t,"chargemode.instant_charging.limit.soc")},{help:n(()=>[l(' Um die Fahrzeug-SoC-Begrenzung nutzen zu können, muss ein SoC-Modul für das jeweilige Fahrzeug eingerichtet sein (siehe "Konfiguration" -> "Fahrzeuge" -> "SoC-Modul"). ')]),_:2},1032,["model-value","onUpdate:modelValue"]),a(U,{title:"Energie-Limit",unit:"kWh",min:1,max:100,step:1,"model-value":i.chargemode.instant_charging.limit.amount/1e3,"onUpdate:modelValue":t=>e.updateState(d,t*1e3,"chargemode.instant_charging.limit.amount")},{help:n(()=>[l(" Die geladene Energiemenge wird beim Wechsel des Lademodus oder nach dem Anstecken, wenn Sofortladen schon ausgewählt ist, neu gezählt. ")]),_:2},1032,["model-value","onUpdate:modelValue"]),Ne,a(y,null,{default:n(()=>[l("PV-Laden")]),_:1}),a(C,{title:"Mindeststrom",min:0,max:11,step:1,unit:"A",labels:[{label:"Aus",value:0},{label:6,value:6},{label:7,value:7},{label:8,value:8},{label:9,value:9},{label:10,value:10},{label:11,value:11},{label:12,value:12},{label:13,value:13},{label:14,value:14},{label:15,value:15},{label:16,value:16}],"model-value":i.chargemode.pv_charging.min_current,"onUpdate:modelValue":t=>e.updateState(d,t,"chargemode.pv_charging.min_current")},{help:n(()=>[l(' Hier kann ein Mindeststrom eingestellt werden, mit dem unabhängig vom vorhandenen Überschuss durchgeladen wird. Hierdurch wird z.B. an Tagen mit häufigem Sonne/Wolken-Wechsel oder mit nur wenig PV-Ertrag ein Laden ohne Unterbrechung ermöglicht. Folglich kann auch Netzbezug für das Fahrzeugladen entstehen, weshalb der niedrigste Stromwert empfohlen wird. Diese Einstellung entspricht weitestgehend dem Lademodus "Min+PV" der Version 1.x. ')]),_:2},1032,["model-value","onUpdate:modelValue"]),a(C,{title:"SoC-Limit",min:0,max:20,step:1,unit:"%",labels:[{label:5,value:5},{label:10,value:10},{label:15,value:15},{label:20,value:20},{label:25,value:25},{label:30,value:30},{label:35,value:35},{label:40,value:40},{label:45,value:45},{label:50,value:50},{label:55,value:55},{label:60,value:60},{label:65,value:65},{label:70,value:70},{label:75,value:75},{label:80,value:80},{label:85,value:85},{label:90,value:90},{label:95,value:95},{label:100,value:100},{label:"Aus",value:101}],"model-value":i.chargemode.pv_charging.max_soc,"onUpdate:modelValue":t=>e.updateState(d,t,"chargemode.pv_charging.max_soc")},{help:n(()=>[l(' Bei der Einstellung "100%" wird die Ladung sofort mit Erreichen der 100% beendet. Dadurch erfolgt KEIN Balancing der Batteriezellen. Ist dies gewünscht (sollte ab und an durchgeführt werden), muss hier "Aus" gewählt werden (Schieberegler ganz nach rechts stellen), um die Ladung MIT Balancing bis zur Beendigung durch das Fahrzeug weiterlaufen zu lassen.'),Oe,l(' Um die Fahrzeug-SoC-Begrenzung nutzen zu können, muss ein SoC-Modul für das jeweilige Fahrzeug eingerichtet sein (siehe "Konfiguration" -> "Fahrzeuge" -> "SoC-Modul"). ')]),_:2},1032,["model-value","onUpdate:modelValue"]),a(C,{title:"Mindest-SoC",min:0,max:19,step:1,unit:"%",labels:[{label:"Aus",value:0},{label:5,value:5},{label:10,value:10},{label:15,value:15},{label:20,value:20},{label:25,value:25},{label:30,value:30},{label:35,value:35},{label:40,value:40},{label:45,value:45},{label:50,value:50},{label:55,value:55},{label:60,value:60},{label:65,value:65},{label:70,value:70},{label:75,value:75},{label:80,value:80},{label:85,value:85},{label:90,value:90},{label:95,value:95}],"model-value":i.chargemode.pv_charging.min_soc,"onUpdate:modelValue":t=>e.updateState(d,t,"chargemode.pv_charging.min_soc")},{help:n(()=>[l(' Liegt der Fahrzeug-Ladestand (SoC) unter dem hier eingestellten Wert, dann wird bis zum Erreichen dieses Wertes mit dem eingestellten "Mindest-SoC-Strom" geladen. Dies dient der Sicherstellung eines "Mindest-SoC" - z.B. für eine immer abzudeckende Fahrzeugreichweite - auch wenn kein oder zu wenig Überschuss verfügbar ist (=> Laden mit anteilig Netzstrom). Nach dem Erreichen des "Mindest-SoC" wird bei verfügbarem Überschuss geladen.'),Re,l(' Um die Fahrzeug-SoC-Begrenzung nutzen zu können, muss ein SoC-Modul für das jeweilige Fahrzeug eingerichtet sein (siehe "Konfiguration" -> "Fahrzeuge" -> "SoC-Modul"). ')]),_:2},1032,["model-value","onUpdate:modelValue"]),a(C,{title:"Mindest-SoC-Strom",min:6,max:32,step:1,unit:"A","model-value":i.chargemode.pv_charging.min_soc_current,"onUpdate:modelValue":t=>e.updateState(d,t,"chargemode.pv_charging.min_soc_current")},{help:n(()=>[l(' Wird der oben eingestellte "Mindest-SoC" des Fahrzeuges unterschritten, dann wird unabhängig vom Überschuss ein Ladevorgang mit dem hier festgelegten "Mindest-SoC-Strom" initiiert (ggf. mit anteilig Netzbezug). ')]),_:2},1032,["model-value","onUpdate:modelValue"]),a(_,{title:"Einspeisegrenze beachten",buttons:[{buttonValue:!1,text:"Nein",class:"btn-outline-danger"},{buttonValue:!0,text:"Ja",class:"btn-outline-success"}],"model-value":i.chargemode.pv_charging.feed_in_limit,"onUpdate:modelValue":t=>e.updateState(d,t,"chargemode.pv_charging.feed_in_limit")},{help:n(()=>[l(' Erläuterung siehe "Ladeeinstellungen" -> "PV-Laden" -> "Regelparameter" -> "Regelpunkt Einspeisegrenze" ')]),_:2},1032,["model-value","onUpdate:modelValue"]),$e,a(y,null,{actions:n(()=>[a(z,{class:"bg-success clickable",onClick:t=>m.addChargeTemplateSchedulePlan(d,t)},{default:n(()=>[a(b,{"fixed-width":"",icon:["fas","plus"]})]),_:2},1032,["onClick"])]),help:n(()=>[l(' Im Lademodus "Zielladen" wird der Ladestrom so angepasst, dass das Fahrzeug zum angegebenen Zeitpunkt den eingestellten SoC bzw. die einzuladende Energiemenge erreicht. Anhand des vorgegebenen Ladestroms wird der Zeitpunkt berechnet, an dem die Ladung spätestens starten muss.'),He,l(' Ist der berechnete Zeitpunkt des Ladestarts noch nicht erreicht, wird mit Überschuss geladen. Auch nach Erreichen des Ziel-SoCs wird mit Überschuss geladen, solange bis das "SoC-Limit" erreicht wird.'),je,l(" Kann der Ziel-SoC bzw. die Energiemenge NICHT erreicht werden, z.B. weil das Auto zu spät angesteckt wurde oder das Lastmanagement eingegriffen hat, wird bis 20 Minuten nach dem angegebenen Termin mit der Maximalstromstärke geladen. Danach wird der Termin verworfen und mit Überschuss geladen. ")]),default:n(()=>[l(" Zielladen ")]),_:2},1024),(r(!0),g(B,null,A(m.getChargeTemplateScheduledChargingPlans(d),(t,h)=>(r(),f(L,{key:h,title:t.name,collapsible:!0,collapsed:!0},{actions:n(u=>[u.collapsed==!0?(r(),g("span",{key:0,class:I(["subheader pill",t.active?"bg-success":"bg-danger"])},[t.limit.selected=="soc"?(r(),g("span",Je,[a(b,{"fixed-width":"",icon:["fas","car-battery"]}),l(" "+k(t.limit.soc_scheduled)+"% ",1)])):s("v-if",!0),t.limit.selected=="amount"?(r(),g("span",Ge,[a(b,{"fixed-width":"",icon:["fas","bolt"]}),l(" "+k(t.limit.amount/1e3)+"kWh ",1)])):s("v-if",!0),a(b,{"fixed-width":"",icon:["fas","clock"]}),l(" "+k(t.time)+" ",1),t.frequency.selected=="once"?(r(),g("span",Qe,[a(b,{"fixed-width":"",icon:["fas","calendar-day"]}),l(" "+k(e.formatDate(t.frequency.once)),1)])):s("v-if",!0),t.frequency.selected=="daily"?(r(),g("span",Xe,[a(b,{"fixed-width":"",icon:["fas","calendar-week"]})])):s("v-if",!0),t.frequency.selected=="weekly"?(r(),g("span",Ye,[a(b,{"fixed-width":"",icon:["fas","calendar-alt"]})])):s("v-if",!0)],2)):s("v-if",!0),u.collapsed==!1?(r(),f(z,{key:1,class:"bg-danger clickable",onClick:P=>m.removeChargeTemplateSchedulePlanModal(d,h,P)},{default:n(()=>[a(b,{"fixed-width":"",icon:["fas","trash"]})]),_:2},1032,["onClick"])):s("v-if",!0)]),default:n(()=>[a(T,{title:"Bezeichnung","model-value":t.name,"onUpdate:modelValue":u=>e.updateState(h,u,"name")},null,8,["model-value","onUpdate:modelValue"]),a(_,{title:"Zeitpunkt aktiv",buttons:[{buttonValue:!1,text:"Nein",class:"btn-outline-danger"},{buttonValue:!0,text:"Ja",class:"btn-outline-success"}],"model-value":t.active,"onUpdate:modelValue":u=>e.updateState(h,u,"active")},null,8,["model-value","onUpdate:modelValue"]),a(T,{title:"Ziel-Uhrzeit",subtype:"time","model-value":t.time,"onUpdate:modelValue":u=>e.updateState(h,u,"time")},{help:n(()=>[l(" Hier ist die gewünschte Uhrzeit einzustellen, zu welcher das Fahrzeug den gewünschten SoC bzw. die zu ladende Energiemenge BEREITS ERREICHT haben soll. ")]),_:2},1032,["model-value","onUpdate:modelValue"]),a(C,{title:"Ladestrom",min:6,max:32,step:1,unit:"A","model-value":t.current,"onUpdate:modelValue":u=>e.updateState(h,u,"current")},{help:n(()=>[l(" Mit dieser Stromstärke wird der Zeitpunkt berechnet, wann die Ladung mit Netzbezug gestartet werden muss. Wird der Ziel-SoC nicht zum angegebenen Termin erreicht, weil z.B. das Auto erst später angesteckt wurde, wird auch mit einer höheren Stromstärke geladen. Um etwas Puffer zu haben, empfiehlt es sich, etwas weniger als die Maximalstromstärke des Fahrzeugs zu wählen. ")]),_:2},1032,["model-value","onUpdate:modelValue"]),a(_,{title:"Ziel",buttons:[{buttonValue:"soc",text:"SoC"},{buttonValue:"amount",text:"Energie"}],"model-value":t.limit.selected,"onUpdate:modelValue":u=>e.updateState(h,u,"limit.selected")},{help:n(()=>[l(" Bestimmt die Art der Grenze für den Ladevorgang. ")]),_:2},1032,["model-value","onUpdate:modelValue"]),t.limit.selected=="soc"?(r(),f(C,{key:0,title:"Ziel-SoC",min:5,max:100,step:5,unit:"%","model-value":t.limit.soc_scheduled,"onUpdate:modelValue":u=>e.updateState(h,u,"limit.soc_scheduled")},{help:n(()=>[l(" SoC, der zum angegebenen Zeitpunkt erreicht werden soll. ")]),_:2},1032,["model-value","onUpdate:modelValue"])):s("v-if",!0),t.limit.selected=="soc"?(r(),f(C,{key:1,title:"SoC-Limit",min:5,max:100,step:5,unit:"%","model-value":t.limit.soc_limit,"onUpdate:modelValue":u=>e.updateState(h,u,"limit.soc_limit")},{help:n(()=>[l(" Nach Erreichen des Ziel-SoCs wird mit Überschuss weiter geladen, bis das SoC-Limit erreicht wird. ")]),_:2},1032,["model-value","onUpdate:modelValue"])):s("v-if",!0),t.limit.selected=="amount"?(r(),f(U,{key:2,title:"Ziel-Energie",unit:"kWh",min:1,step:.5,"model-value":t.limit.amount/1e3,"onUpdate:modelValue":u=>e.updateState(h,u*1e3,"limit.amount")},{help:n(()=>[l(" Die geladene Energiemenge wird beim Wechsel des Lademodus, Wechsel des Plans oder nach dem Anstecken, wenn Zielladen schon ausgewählt ist, neu gezählt. ")]),_:2},1032,["model-value","onUpdate:modelValue"])):s("v-if",!0),a(_,{title:"Wiederholungen",buttons:[{buttonValue:"once",text:"Einmalig",class:"btn-outline-info"},{buttonValue:"daily",text:"Täglich",class:"btn-outline-info"},{buttonValue:"weekly",text:"Wöchentlich",class:"btn-outline-info"}],"model-value":t.frequency.selected,"onUpdate:modelValue":u=>e.updateState(h,u,"frequency.selected")},null,8,["model-value","onUpdate:modelValue"]),t.frequency.selected=="once"?(r(),f(T,{key:3,title:"Datum",subtype:"date","model-value":t.frequency.once,"onUpdate:modelValue":u=>e.updateState(h,u,"frequency.once")},null,8,["model-value","onUpdate:modelValue"])):s("v-if",!0),t.frequency.selected=="weekly"?(r(),g("div",Ke,[(r(!0),g(B,null,A(e.weekdays,(u,P)=>(r(),f(_,{key:P,title:u,buttons:[{buttonValue:!1,text:"Aus",class:"btn-outline-danger"},{buttonValue:!0,text:"An",class:"btn-outline-success"}],"model-value":t.frequency.weekly[P],"onUpdate:modelValue":x=>e.updateState(h,x,"frequency.weekly."+P)},null,8,["title","model-value","onUpdate:modelValue"]))),128))])):s("v-if",!0)]),_:2},1032,["title"]))),128)),et,a(y,null,{actions:n(()=>[a(z,{class:"bg-success clickable",onClick:t=>m.addChargeTemplateTimeChargingPlan(d,t)},{default:n(()=>[a(b,{"fixed-width":"",icon:["fas","plus"]})]),_:2},1032,["onClick"])]),help:n(()=>[l(" Mit einem Zeitplan kann ein klar abgegrenzter Zeitbereich zum Fahrzeugladen definiert werden. Dies wird häufig genutzt, um einem Fahrzeug kurz vor der Abfahrt Strom anzubieten, damit dessen Vorklimatisierung nicht aus dem Fahrzeugakku, sondern aus der openWB bezogen wird (Enteisung, Vorwärmung, Abkühlung). Nicht von der Vorklimatisierung benötigter Strom erhöht dabei den Fahrzeug-SoC. Um das Stromnetz am Morgen nicht unnötig zu strapazieren, sollte eine moderate Stromvorgabe und ein beschränkter Zeitbereich vorgegeben werden (z.B. max. 10A; 30min - in Übereinstimmung mit den Fahrzeug-App-Vorklimatisierungsvorgaben). ")]),default:n(()=>[l(" Laden nach Zeitplan ")]),_:2},1024),(r(!0),g(B,null,A(m.getChargeTemplateTimeChargingPlans(d),(t,h)=>(r(),f(L,{key:h,title:t.name,collapsible:!0,collapsed:!0},{actions:n(u=>[u.collapsed==!0?(r(),g("span",{key:0,class:I(["subheader pill",t.active?"bg-success":"bg-danger"])},[t.limit.selected=="soc"?(r(),g("span",tt,[a(b,{"fixed-width":"",icon:["fas","car-battery"]}),l(" "+k(t.limit.soc)+"% ",1)])):s("v-if",!0),t.limit.selected=="amount"?(r(),g("span",at,[a(b,{"fixed-width":"",icon:["fas","bolt"]}),l(" "+k(t.limit.amount/1e3)+"kWh ",1)])):s("v-if",!0),a(b,{"fixed-width":"",icon:["fas","clock"]}),l(" "+k(t.time[0])+" - "+k(t.time[1])+" ",1),t.frequency.selected=="once"?(r(),g("span",nt,[a(b,{"fixed-width":"",icon:["fas","calendar-day"]}),l(" "+k(e.formatDate(t.frequency.once[0])==e.formatDate(t.frequency.once[1])?e.formatDate(t.frequency.once[0]):e.formatDate(t.frequency.once[0])+" - "+e.formatDate(t.frequency.once[1])),1)])):s("v-if",!0),t.frequency.selected=="daily"?(r(),g("span",lt,[a(b,{"fixed-width":"",icon:["fas","calendar-week"]})])):s("v-if",!0),t.frequency.selected=="weekly"?(r(),g("span",it,[a(b,{"fixed-width":"",icon:["fas","calendar-alt"]})])):s("v-if",!0)],2)):s("v-if",!0),u.collapsed==!1?(r(),f(z,{key:1,class:"bg-danger clickable",onClick:P=>m.removeChargeTemplateTimeChargingPlanModal(d,h,P)},{default:n(()=>[a(b,{"fixed-width":"",icon:["fas","trash"]})]),_:2},1032,["onClick"])):s("v-if",!0)]),default:n(()=>[a(T,{title:"Bezeichnung","model-value":t.name,"onUpdate:modelValue":u=>e.updateState(h,u,"name")},null,8,["model-value","onUpdate:modelValue"]),a(_,{title:"Zeitplan aktiv",buttons:[{buttonValue:!1,text:"Nein",class:"btn-outline-danger"},{buttonValue:!0,text:"Ja",class:"btn-outline-success"}],"model-value":t.active,"onUpdate:modelValue":u=>e.updateState(h,u,"active")},null,8,["model-value","onUpdate:modelValue"]),a(C,{title:"Ladestrom",min:6,max:32,step:1,unit:"A","model-value":t.current,"onUpdate:modelValue":u=>e.updateState(h,u,"current")},null,8,["model-value","onUpdate:modelValue"]),a(_,{title:"Ziel",buttons:[{buttonValue:"none",text:"Aus"},{buttonValue:"soc",text:"SoC"},{buttonValue:"amount",text:"Energie"}],"model-value":t.limit.selected,"onUpdate:modelValue":u=>e.updateState(h,u,"limit.selected")},{help:n(()=>[l(" Bestimmt die Art der Grenze für den Ladevorgang. ")]),_:2},1032,["model-value","onUpdate:modelValue"]),t.limit.selected=="soc"?(r(),f(C,{key:0,title:"Ziel-SoC",min:5,max:100,step:5,unit:"%","model-value":t.limit.soc,"onUpdate:modelValue":u=>e.updateState(h,u,"limit.soc")},{help:n(()=>[l(" Ladestand des Akku (State of Charge, SoC), bis zu welchem maximal geladen werden soll. ")]),_:2},1032,["model-value","onUpdate:modelValue"])):s("v-if",!0),t.limit.selected=="amount"?(r(),f(U,{key:1,title:"Ziel-Energie",unit:"kWh",min:1,step:.5,"model-value":t.limit.amount/1e3,"onUpdate:modelValue":u=>e.updateState(h,u*1e3,"limit.amount")},{help:n(()=>[l(" Maximal zu ladende Energie innerhalb des Zeitfensters. Eignet sich immer dann wenn kein SoC zur Verfügung steht. Die geladene Energiemenge wird beim Wechsel des Lademodus, Wechsel des Plans oder nach dem Anstecken, wenn Zeitladen schon aktiv ist, neu gezählt. ")]),_:2},1032,["model-value","onUpdate:modelValue"])):s("v-if",!0),a(T,{title:"Zeitpunkt des Ladebeginns",subtype:"time","model-value":t.time[0],"onUpdate:modelValue":u=>e.updateState(h,u,"time.0")},null,8,["model-value","onUpdate:modelValue"]),a(T,{title:"Zeitpunkt des Ladeendes",subtype:"time","model-value":t.time[1],"onUpdate:modelValue":u=>e.updateState(h,u,"time.1")},null,8,["model-value","onUpdate:modelValue"]),a(_,{title:"Wiederholungen",buttons:[{buttonValue:"once",text:"Einmalig",class:"btn-outline-info"},{buttonValue:"daily",text:"Täglich",class:"btn-outline-info"},{buttonValue:"weekly",text:"Wöchentlich",class:"btn-outline-info"}],"model-value":t.frequency.selected,"onUpdate:modelValue":u=>e.updateState(h,u,"frequency.selected")},null,8,["model-value","onUpdate:modelValue"]),t.frequency.selected=="once"?(r(),f(T,{key:2,title:"Gültig ab",subtype:"date","model-value":t.frequency.once[0],"onUpdate:modelValue":u=>e.updateState(h,u,"frequency.once.0")},null,8,["model-value","onUpdate:modelValue"])):s("v-if",!0),t.frequency.selected=="once"?(r(),f(T,{key:3,title:"Gültig bis",subtype:"date",min:t.frequency.once[0],"model-value":t.frequency.once[1],"onUpdate:modelValue":u=>e.updateState(h,u,"frequency.once.1")},null,8,["min","model-value","onUpdate:modelValue"])):s("v-if",!0),t.frequency.selected=="weekly"?(r(),g("div",ot,[(r(!0),g(B,null,A(e.weekdays,(u,P)=>(r(),f(_,{key:P,title:u,buttons:[{buttonValue:!1,text:"Aus",class:"btn-outline-danger"},{buttonValue:!0,text:"An",class:"btn-outline-success"}],"model-value":t.frequency.weekly[P],"onUpdate:modelValue":x=>e.updateState(h,x,"frequency.weekly."+P)},null,8,["title","model-value","onUpdate:modelValue"]))),128))])):s("v-if",!0)]),_:2},1032,["title"]))),128))]),_:2},[d.endsWith("/0")?void 0:{name:"actions",fn:n(t=>[t.collapsed?s("v-if",!0):(r(),f(z,{key:0,class:"bg-danger clickable",onClick:h=>m.removeChargeTemplateModal(d,h)},{default:n(()=>[a(b,{"fixed-width":"",icon:["fas","trash"]})]),_:2},1032,["onClick"]))]),key:"0"}]),1032,["title","collapsed"]))),128))]))]),_:1},8,["collapsed"]),a(R,{formName:"vehicleConfigForm",onSave:o[5]||(o[5]=i=>e.$emit("save")),onReset:o[6]||(o[6]=i=>e.$emit("reset")),onDefaults:o[7]||(o[7]=i=>e.$emit("defaults"))})])])],64)}const bt=D(ve,[["render",dt],["__scopeId","data-v-d7193cf0"],["__file","/opt/openWB-dev/openwb-ui-settings/src/views/VehicleConfig.vue"]]);export{bt as default};
