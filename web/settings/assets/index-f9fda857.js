import{_ as y,k as r,l as d,m as h,q as k,u as g,x as o,y as p,z as b,A as _,B as c,D as m,E as B,F as x,G as S,I as z,J as T,K as P,L as G,M as J,N as f,O as K,P as Q,T as R,Q as Y,R as j,S as Z,U as X,V as ee,W as te,X as se,Y as ne,Z as oe}from"./vendor-a21b3a62.js";import{l as C,f as I,a as V,b as ae,c as le,d as ie,e as re,F as O,g as D,h as de,i as ue,j as ce,k as pe,m as me,n as fe,o as ge,p as he,q as _e,r as be,s as ve,t as ye,u as we,v as ke,w as Se,x as Be,y as Ce,z as Oe,A as $e,B as xe,C as Te,D as Ie,E as Ve,G as Me,H as Ae,I as qe,J as Pe}from"./vendor-fortawesome-41164876.js";import"./vendor-bootstrap-d0c3645c.js";import{p as He,a as De}from"./vendor-axios-0e6de98a.js";import"./vendor-sortablejs-3016fed8.js";import"./vendor-jquery-a5dbbab1.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))u(l);new MutationObserver(l=>{for(const s of l)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&u(a)}).observe(document,{childList:!0,subtree:!0});function n(l){const s={};return l.integrity&&(s.integrity=l.integrity),l.referrerPolicy&&(s.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?s.credentials="include":l.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function u(l){if(l.ep)return;l.ep=!0;const s=n(l);fetch(l.href,s)}})();const Ee={name:"OpenwbAlert",props:{subtype:{validator:function(t){return["info","success","warning","danger","primary","secondary","light","dark"].indexOf(t)!==-1},default:"secondary"}}};function Le(t,e,n,u,l,s){return r(),d("div",{class:k(["card-text alert","alert-"+n.subtype])},[h(t.$slots,"default")],2)}const je=y(Ee,[["render",Le],["__file","/opt/openWB-dev/openwb-ui-settings/src/components/OpenwbBaseAlert.vue"]]),We=Object.freeze(Object.defineProperty({__proto__:null,default:je},Symbol.toStringTag,{value:"Module"}));C.add(I,V,ae,le,ie,re);const Re={name:"OpenwbArrayInput",components:{FontAwesomeIcon:O},inheritAttrs:!1,props:{title:{type:String,required:!0,default:"#TITLE#"},modelValue:{type:Array,default:()=>[]},noElementsMessage:{type:String,default:()=>"Keine Elemente zugeordnet."}},emits:["update:modelValue"],data(){return{newTag:"",showHelp:!1}},computed:{value:{get(){return this.modelValue},set(t){this.$emit("update:modelValue",t)}},newTagValid:{get(){return this.newTag.length>0&&this.value.indexOf(this.newTag)==-1}}},methods:{toggleHelp(){this.showHelp=!this.showHelp&&this.$slots.help!==void 0},addTag(){if(this.newTagValid){let t=this.value;t.push(this.newTag),t.sort(),this.value=t,this.newTag=""}this.$refs.tagInput.focus()},removeTag(t){let e=this.value;e.splice(t,1),this.value=e}}},Ne={class:"form-row mb-1"},Fe={class:"col-md-8"},Ue={class:"form-row"},ze={class:"input-group"},Ge={class:"input-group-prepend"},Je={class:"input-group-text"},Ke={class:"input-group-append"},Qe={class:"form-row tagList mt-1"},Ye={key:0,class:"noTag"},Ze={key:0,class:"form-row alert alert-info my-1 small"};function Xe(t,e,n,u,l,s){const a=g("font-awesome-icon");return r(),d("div",Ne,[o("label",{class:"col-md-4 col-form-label",onClick:e[0]||(e[0]=(...i)=>s.toggleHelp&&s.toggleHelp(...i))},[p(b(n.title)+" ",1),t.$slots.help?(r(),_(a,{key:0,icon:l.showHelp?["fas","question-circle"]:["far","question-circle"],class:k(l.showHelp?"text-info":"")},null,8,["icon","class"])):c("",!0)]),o("div",Fe,[o("div",Ue,[o("div",ze,[o("div",Ge,[o("div",Je,[h(t.$slots,"input-prefix",{},()=>[m(a,{"fixed-width":"",icon:["fas","tag"]})],!0)])]),B(o("input",S({ref:"tagInput","onUpdate:modelValue":e[1]||(e[1]=i=>l.newTag=i),type:"text",class:"form-control"},t.$attrs,{onKeyup:e[2]||(e[2]=z((...i)=>s.addTag&&s.addTag(...i),["enter"]))}),null,16),[[x,l.newTag]]),o("div",Ke,[o("div",{class:k(["input-group-text",s.newTagValid?"bg-success clickable":"notClickable"]),onClick:e[3]||(e[3]=(...i)=>s.addTag&&s.addTag(...i))},[h(t.$slots,"input-add",{},()=>[m(a,{"fixed-width":"",icon:["fas","plus"]})],!0)],2)])])]),o("div",Qe,[s.value.length==0?(r(),d("span",Ye,[m(a,{icon:["fas","info-circle"]}),p(" "+b(n.noElementsMessage),1)])):c("",!0),(r(!0),d(T,null,P(s.value,(i,v)=>(r(),d("span",{key:v,class:"tag"},[h(t.$slots,"element-prefix",{},()=>[m(a,{icon:["fas","tag"]})],!0),p(" "+b(i)+" ",1),m(a,{class:"clickable remove-element",icon:["fas","times-circle"],onClick:$=>s.removeTag(v)},null,8,["onClick"])]))),128))]),l.showHelp?(r(),d("span",Ze,[h(t.$slots,"help",{},void 0,!0)])):c("",!0)])])}const et=y(Re,[["render",Xe],["__scopeId","data-v-9de93d37"],["__file","/opt/openWB-dev/openwb-ui-settings/src/components/OpenwbBaseArrayInput.vue"]]),tt=Object.freeze(Object.defineProperty({__proto__:null,default:et},Symbol.toStringTag,{value:"Module"}));const st={name:"OpenwbAvatar"},nt={class:"avatar"};function ot(t,e,n,u,l,s){return r(),d("div",nt,[h(t.$slots,"default",{},()=>[e[0]||(e[0]=p("?"))],!0)])}const at=y(st,[["render",ot],["__scopeId","data-v-06082a1a"],["__file","/opt/openWB-dev/openwb-ui-settings/src/components/OpenwbBaseAvatar.vue"]]),lt=Object.freeze(Object.defineProperty({__proto__:null,default:at},Symbol.toStringTag,{value:"Module"}));C.add(I,V,D);const it={name:"OpenwbButtonGroupInput",components:{FontAwesomeIcon:O},inheritAttrs:!1,props:{title:{type:String,required:!1,default:""},modelValue:{type:[String,Number,Boolean],default:void 0},buttons:{type:Array,required:!0}},emits:["update:modelValue"],data(){return{showHelp:!1}},computed:{value:{get(){return this.modelValue},set(t){this.$emit("update:modelValue",t)}}},methods:{toggleHelp(){this.showHelp=!this.showHelp&&this.$slots.help!==void 0}}},rt={class:"form-row mb-1"},dt={class:"col-md-8"},ut={class:"form-row"},ct={class:"btn-group btn-block btn-group-toggle"},pt=["value"],mt={key:0,class:"form-row alert alert-info my-1 small"};function ft(t,e,n,u,l,s){const a=g("font-awesome-icon");return r(),d("div",rt,[o("label",{class:"col-md-4 col-form-label",onClick:e[0]||(e[0]=(...i)=>s.toggleHelp&&s.toggleHelp(...i))},[h(t.$slots,"default",{},()=>[p(b(n.title),1)]),t.$slots.help?(r(),_(a,{key:0,"fixed-width":"",icon:l.showHelp?["fas","question-circle"]:["far","question-circle"],class:k(l.showHelp?"text-info":"")},null,8,["icon","class"])):c("",!0)]),o("div",dt,[o("div",ut,[o("div",ct,[(r(!0),d(T,null,P(n.buttons,i=>(r(),d("label",{key:i.value,class:k(["btn",[s.value==i.buttonValue?"active":"",i.class?i.class:"btn-outline-info"]])},[B(o("input",S({"onUpdate:modelValue":e[1]||(e[1]=v=>s.value=v),type:"radio",value:i.buttonValue,ref_for:!0},t.$attrs),null,16,pt),[[G,s.value]]),h(t.$slots,"label-"+i.buttonValue,{},()=>[p(b(i.text),1)]),m(a,{icon:["fas","check"],style:J([s.value==i.buttonValue?"visibility: visible":"visibility: hidden"])},null,8,["style"])],2))),128))])]),l.showHelp?(r(),d("span",mt,[h(t.$slots,"help")])):c("",!0)])])}const gt=y(it,[["render",ft],["__file","/opt/openWB-dev/openwb-ui-settings/src/components/OpenwbBaseButtonGroupInput.vue"]]),ht=Object.freeze(Object.defineProperty({__proto__:null,default:gt},Symbol.toStringTag,{value:"Module"}));C.add(I,V);const _t={name:"OpenwbButtonInput",components:{FontAwesomeIcon:O},inheritAttrs:!1,props:{title:{type:String,required:!1,default:""},buttonText:{type:String,required:!1,default:void 0},disabled:{type:Boolean,default:!1},subtype:{type:String,validator:function(t){return["info","success","warning","danger","primary","secondary","light","dark"].indexOf(t)!==-1},default:"secondary"}},emits:["buttonClicked"],data(){return{showHelp:!1}},methods:{toggleHelp(){this.showHelp=!this.showHelp&&this.$slots.help!==void 0},handleClick(t){this.$emit("buttonClicked",t)}}},bt={class:"form-row mb-1"},vt={class:"col-md-8"},yt={class:"form-row"},wt={key:0,class:"form-row alert alert-info my-1 small"};function kt(t,e,n,u,l,s){const a=g("font-awesome-icon"),i=g("openwb-base-click-button");return r(),d("div",bt,[o("label",{class:"col-md-4 col-form-label",onClick:e[0]||(e[0]=(...v)=>s.toggleHelp&&s.toggleHelp(...v))},[p(b(n.title)+" ",1),t.$slots.help?(r(),_(a,{key:0,icon:l.showHelp?["fas","question-circle"]:["far","question-circle"],class:k(l.showHelp?"text-info":"")},null,8,["icon","class"])):c("",!0)]),o("div",vt,[o("div",yt,[m(i,S({class:(n.disabled?"btn-outline-":"btn-")+n.subtype,disabled:n.disabled},t.$attrs,{onButtonClicked:s.handleClick}),{default:f(()=>[h(t.$slots,"default",{},()=>[p(b(n.buttonText),1)])]),_:3},16,["class","disabled","onButtonClicked"])]),l.showHelp?(r(),d("span",wt,[h(t.$slots,"help")])):c("",!0)])])}const St=y(_t,[["render",kt],["__file","/opt/openWB-dev/openwb-ui-settings/src/components/OpenwbBaseButtonInput.vue"]]),Bt=Object.freeze(Object.defineProperty({__proto__:null,default:St},Symbol.toStringTag,{value:"Module"}));C.add(de,ue);const Ct={name:"OpenwbCard",components:{FontAwesomeIcon:O},inheritAttrs:!1,props:{title:{type:String,default:"# no title set #"},subtype:{validator:function(t){return["info","success","warning","danger","primary","secondary","light","dark","pink"].indexOf(t)!==-1},default:"secondary"},collapsible:{type:Boolean,default:!1},collapsed:{type:Boolean,default:!1}},data(){return{isCollapsed:this.collapsible&&this.collapsed}},methods:{toggleBody(){this.collapsible===!0&&(this.isCollapsed=!this.isCollapsed)}}},Ot={class:"form-group mb-0"},$t={class:"form-row vaRow mb-0 py-2"},xt={class:"col"},Tt={class:"card-actions ml-4"},It={key:0,class:"card-actions mr-4"},Vt={key:1,class:"card-footer"};function Mt(t,e,n,u,l,s){const a=g("font-awesome-icon");return r(),d("div",{class:k(["card","border-"+n.subtype])},[o("div",{class:k(["card-header py-1","bg-"+n.subtype]),onClick:e[0]||(e[0]=(...i)=>s.toggleBody&&s.toggleBody(...i))},[o("div",Ot,[o("div",$t,[o("div",xt,[h(t.$slots,"header",{collapsed:l.isCollapsed},()=>[p(b(n.title),1)])])])]),o("span",Tt,[t.$slots.actions?(r(),d("span",It,[h(t.$slots,"actions",{collapsed:l.isCollapsed})])):c("",!0),n.collapsible?(r(),_(a,{key:1,"fixed-width":"",icon:l.isCollapsed?["fas","chevron-right"]:["fas","chevron-down"]},null,8,["icon"])):c("",!0)])],2),l.isCollapsed===!1?(r(),d("div",S({key:0,class:"card-body"},t.$attrs),[h(t.$slots,"default")],16)):c("",!0),t.$slots.footer&&l.isCollapsed===!1?(r(),d("div",Vt,[h(t.$slots,"footer")])):c("",!0)],2)}const At=y(Ct,[["render",Mt],["__file","/opt/openWB-dev/openwb-ui-settings/src/components/OpenwbBaseCard.vue"]]),qt=Object.freeze(Object.defineProperty({__proto__:null,default:At},Symbol.toStringTag,{value:"Module"}));C.add(I,V);const Pt={name:"OpenwbCheckboxInput",components:{FontAwesomeIcon:O},inheritAttrs:!1,props:{title:{type:String,required:!1,default:""},modelValue:{type:Boolean}},emits:["update:modelValue"],data(){return{showHelp:!1}},computed:{value:{get(){return this.modelValue},set(t){this.$emit("update:modelValue",t)}}},methods:{toggleHelp(){this.showHelp=!this.showHelp&&this.$slots.help!==void 0}}},Ht={class:"form-row mb-1"},Dt={class:"col-md-8"},Et={class:"form-row"},Lt={key:0,class:"form-row alert alert-info my-1 small"};function jt(t,e,n,u,l,s){const a=g("font-awesome-icon");return r(),d("div",Ht,[o("label",{class:"col-md-4 col-form-label",onClick:e[0]||(e[0]=(...i)=>s.toggleHelp&&s.toggleHelp(...i))},[p(b(n.title)+" ",1),t.$slots.help?(r(),_(a,{key:0,icon:l.showHelp?["fas","question-circle"]:["far","question-circle"],class:k(l.showHelp?"text-info":"")},null,8,["icon","class"])):c("",!0)]),o("div",Dt,[o("div",Et,[B(o("input",S({"onUpdate:modelValue":e[1]||(e[1]=i=>s.value=i),class:"form-control",type:"checkbox"},t.$attrs),null,16),[[K,s.value]])]),l.showHelp?(r(),d("span",Lt,[h(t.$slots,"help")])):c("",!0)])])}const Wt=y(Pt,[["render",jt],["__file","/opt/openWB-dev/openwb-ui-settings/src/components/OpenwbBaseCheckboxInput.vue"]]),Rt=Object.freeze(Object.defineProperty({__proto__:null,default:Wt},Symbol.toStringTag,{value:"Module"}));const Nt={name:"OpenwbClickButton",props:{title:{type:String,required:!1,default:""}},emits:["buttonClicked"],methods:{click(t){this.$emit("buttonClicked",t)}}};function Ft(t,e,n,u,l,s){return r(),d("button",{type:"button",class:"btn btn-block",onClick:e[0]||(e[0]=Q((...a)=>s.click&&s.click(...a),["prevent"]))},[h(t.$slots,"default",{},()=>[p(b(n.title),1)],!0)])}const Ut=y(Nt,[["render",Ft],["__scopeId","data-v-2e9c095b"],["__file","/opt/openWB-dev/openwb-ui-settings/src/components/OpenwbBaseClickButton.vue"]]),zt=Object.freeze(Object.defineProperty({__proto__:null,default:Ut},Symbol.toStringTag,{value:"Module"}));C.add(ce,pe);const Gt={name:"OpenwbCopyToClipboard",components:{FontAwesomeIcon:O},props:{tooltip:{type:String,default:"Wert kopieren"}},data(){return{clipboardApiAvailable:navigator.clipboard!=null,isCopied:!1}},methods:{click(){if(console.debug(this.$refs["slot-wrapper"].innerText),this.clipboardApiAvailable)navigator.clipboard.writeText(this.$refs["slot-wrapper"].innerText).then(()=>{this.isCopied=!0},()=>{console.error("copy to clipboard failed")});else{if(console.debug("clipboard api not supported/enabled, fallback to select"),window.getSelection){console.debug("using 'window.getSelection'");const t=window.getSelection(),e=document.createRange();e.selectNodeContents(this.$refs["slot-wrapper"]),t.removeAllRanges(),t.addRange(e);return}if(document.body.createTextRange){console.debug("using 'document.body.createTextRange'");const t=document.body.createTextRange();t.moveToElementText(this.$refs["slot-wrapper"]),t.select()}else console.warn("could not select text, unsupported browser")}}}},Jt=["title"];function Kt(t,e,n,u,l,s){const a=g("font-awesome-icon");return r(),d("span",{ref:"slot-wrapper",title:n.tooltip,class:"copy-me",onClick:e[0]||(e[0]=(...i)=>s.click&&s.click(...i))},[h(t.$slots,"default",{},void 0,!0),m(a,{"fixed-width":"",icon:l.isCopied?["fas","clipboard-check"]:["fas","clipboard"]},null,8,["icon"])],8,Jt)}const Qt=y(Gt,[["render",Kt],["__scopeId","data-v-81826ebe"],["__file","/opt/openWB-dev/openwb-ui-settings/src/components/OpenwbBaseCopyToClipboard.vue"]]),Yt=Object.freeze(Object.defineProperty({__proto__:null,default:Qt},Symbol.toStringTag,{value:"Module"}));C.add(I,V,D);const Zt={name:"OpenwbHeading",components:{FontAwesomeIcon:O},inheritAttrs:!1,data(){return{showHelp:!1}},methods:{toggleHelp(){this.showHelp=!this.showHelp&&this.$slots.help!==void 0}}},Xt={key:0,class:"actions"},es={class:""},ts={key:0,class:"form-row alert alert-info small"};function ss(t,e,n,u,l,s){const a=g("font-awesome-icon");return r(),d(T,null,[o("div",S({class:"card-text card-text-heading"},t.$attrs),[o("div",{class:"heading-text",onClick:e[0]||(e[0]=(...i)=>s.toggleHelp&&s.toggleHelp(...i))},[h(t.$slots,"default",{},void 0,!0),t.$slots.help?(r(),_(a,{key:0,icon:l.showHelp?["fas","question-circle"]:["far","question-circle"],class:k(l.showHelp?"text-info":"")},null,8,["icon","class"])):c("",!0)]),t.$slots.actions?(r(),d("span",Xt,[h(t.$slots,"actions",{},void 0,!0)])):c("",!0)],16),o("div",es,[l.showHelp?(r(),d("span",ts,[h(t.$slots,"help",{},void 0,!0)])):c("",!0)])],64)}const ns=y(Zt,[["render",ss],["__scopeId","data-v-cbe4e96e"],["__file","/opt/openWB-dev/openwb-ui-settings/src/components/OpenwbBaseHeading.vue"]]),os=Object.freeze(Object.defineProperty({__proto__:null,default:ns},Symbol.toStringTag,{value:"Module"})),as={name:"OpenwbModalDialog",props:{title:{type:String,required:!1,default:""},subtype:{type:String,validator:function(t){return["info","success","warning","danger","primary","secondary","light","dark"].indexOf(t)!==-1},default:"secondary"},buttons:{type:Array,default:void 0},footerAlignment:{type:String,validator:function(t){return["around","between","center","end","start"].indexOf(t)!==-1},default:"end"},preventClose:{type:Boolean,default:!1},show:{type:Boolean,default:!1}},emits:["modal-result"],computed:{myButtons(){var t=[];return this.buttons!==void 0&&(t=this.buttons),this.preventClose||t.push({text:"Schließen",event:"close"}),t}},methods:{handleClick(t){t.stopPropagation();let e=t.target.getAttribute("data-event");e===null&&(e="close"),(e!="close"||!this.preventClose)&&this.$emit("modal-result",e)}}},ls={class:"modal-dialog modal-dialog-centered modal-dialog-scrollable",role:"document"},is={class:"modal-content"},rs={class:"modal-title"},ds={class:"modal-body"},us=["data-event"];function cs(t,e,n,u,l,s){return n.show?(r(),_(R,{key:0,to:"body"},[e[4]||(e[4]=o("div",{class:"modal-backdrop fade show"},null,-1)),o("div",{class:"modal fade d-block show",role:"dialog",onClick:e[2]||(e[2]=(...a)=>s.handleClick&&s.handleClick(...a))},[o("div",ls,[o("div",is,[o("div",{class:k(["modal-header","bg-"+n.subtype])},[o("h4",rs,b(n.title),1),n.preventClose?c("",!0):(r(),d("button",{key:0,type:"button",class:"close",onClick:e[0]||(e[0]=(...a)=>s.handleClick&&s.handleClick(...a))}," × "))],2),o("div",ds,[h(t.$slots,"default",{},()=>[e[3]||(e[3]=p("# Body #"))])]),s.myButtons.length>0?(r(),d("div",{key:0,class:k(["modal-footer d-flex","justify-content-"+n.footerAlignment])},[(r(!0),d(T,null,P(s.myButtons,a=>(r(),d("button",{key:a.text,type:"button",class:k(["btn",a.subtype?"btn-"+a.subtype:"btn-secondary"]),"data-dismiss":"modal","data-event":a.event?a.event:"close",onClick:e[1]||(e[1]=(...i)=>s.handleClick&&s.handleClick(...i))},b(a.text),11,us))),128))],2)):c("",!0)])])])])):c("",!0)}const ps=y(as,[["render",cs],["__file","/opt/openWB-dev/openwb-ui-settings/src/components/OpenwbBaseModalDialog.vue"]]),ms=Object.freeze(Object.defineProperty({__proto__:null,default:ps},Symbol.toStringTag,{value:"Module"}));C.add(I,V,me);const fs={name:"OpenwbNumberInput",components:{FontAwesomeIcon:O},inheritAttrs:!1,props:{title:{type:String,required:!1,default:""},modelValue:{type:Number,required:!1,default:void 0},unit:{type:String,required:!1,default:void 0},precision:{type:Number,default:void 0},emptyValue:{type:[Number,null],required:!1,default:null}},emits:["update:modelValue"],data(){return{showHelp:!1}},computed:{value:{get(){return this.precision!==void 0?parseFloat(Math.round(this.modelValue*Math.pow(10,this.precision))/Math.pow(10,this.precision)):this.modelValue},set(t){(isNaN(t)||typeof t!="number")&&(t=this.emptyValue),this.$emit("update:modelValue",t)}}},methods:{toggleHelp(){this.showHelp=!this.showHelp&&this.$slots.help!==void 0}}},gs={class:"form-row mb-1"},hs={class:"col-md-8"},_s={class:"form-row"},bs={class:"input-group"},vs={class:"input-group-prepend"},ys={class:"input-group-text"},ws={key:0,class:"input-group-append"},ks={class:"input-group-text"},Ss={key:0,class:"form-row alert alert-info my-1 small"};function Bs(t,e,n,u,l,s){const a=g("font-awesome-icon");return r(),d("div",gs,[o("label",{class:"col-md-4 col-form-label",onClick:e[0]||(e[0]=(...i)=>s.toggleHelp&&s.toggleHelp(...i))},[p(b(n.title)+" ",1),t.$slots.help?(r(),_(a,{key:0,icon:l.showHelp?["fas","question-circle"]:["far","question-circle"],class:k(l.showHelp?"text-info":"")},null,8,["icon","class"])):c("",!0)]),o("div",hs,[o("div",_s,[o("div",bs,[o("div",vs,[o("div",ys,[m(a,{"fixed-width":"",icon:["fas","calculator"]})])]),B(o("input",S({"onUpdate:modelValue":e[1]||(e[1]=i=>s.value=i),type:"number",class:"form-control"},t.$attrs),null,16),[[x,s.value,void 0,{number:!0}]]),n.unit?(r(),d("div",ws,[o("div",ks,b(n.unit),1)])):c("",!0)])]),l.showHelp?(r(),d("span",Ss,[h(t.$slots,"help",{},void 0,!0)])):c("",!0)])])}const Cs=y(fs,[["render",Bs],["__scopeId","data-v-c2fb7eef"],["__file","/opt/openWB-dev/openwb-ui-settings/src/components/OpenwbBaseNumberInput.vue"]]),Os=Object.freeze(Object.defineProperty({__proto__:null,default:Cs},Symbol.toStringTag,{value:"Module"}));C.add(I,V,fe,ge);const $s={name:"OpenwbRangeInput",components:{FontAwesomeIcon:O},inheritAttrs:!1,props:{title:{type:String,required:!1,default:""},modelValue:{type:Number,required:!1,default:void 0},unit:{type:String,required:!1,default:void 0},min:{type:Number,required:!0,default:0},max:{type:Number,required:!0,default:100},step:{type:Number,required:!1,default:1},labels:{type:Array,required:!1,default:void 0}},emits:["update:modelValue"],data(){return{showHelp:!1}},computed:{label(){var t;return this.labels&&this.sliderValue!=null?this.sliderValue<this.labels.length?t=this.labels[this.sliderValue].label:console.error("index out of bounds: "+this.sliderValue):t=this.sliderValue,typeof t=="number"&&(t=t.toLocaleString(void 0,{minimumFractionDigits:this.precision,maximumFractionDigits:this.precision}),this.unit&&(t+=" "+this.unit)),t},precision(){if(!isFinite(this.step))return 0;for(var t=1,e=0;Math.round(this.step*t)/t!==this.step;)t*=10,e++;return e},sliderValue:{get(){if(this.labels){var t=void 0;for(let e=0;e<this.labels.length;e++)if(this.labels[e].value==this.modelValue){t=e;break}return t===void 0&&this.modelValue!==void 0?(console.warn("sliderValue: not found in values: ",this.modelValue,"using min as default: ",this.min),this.min):t}return this.modelValue},set(t){if(this.labels){var e=this.labels[t].value;this.$emit("update:modelValue",e)}else this.$emit("update:modelValue",t)}}},methods:{toggleHelp(){this.showHelp=!this.showHelp&&this.$slots.help!==void 0},increment(){var t=Math.min(this.sliderValue+this.step,this.max);this.sliderValue=Math.round(t*Math.pow(10,this.precision))/Math.pow(10,this.precision)},decrement(){var t=Math.max(this.sliderValue-this.step,this.min);this.sliderValue=Math.round(t*Math.pow(10,this.precision))/Math.pow(10,this.precision)}}},xs={class:"form-row mb-1"},Ts={class:"col-md-8"},Is={class:"form-row vaRow mb-1"},Vs={key:0,class:"col-2 col-form-label valueLabel"},Ms={class:"col"},As=["min","max","step"],qs={key:0,class:"form-row alert alert-info my-1 small"},Ps={class:"col"};function Hs(t,e,n,u,l,s){const a=g("font-awesome-icon");return r(),d("div",xs,[o("label",{class:"col-md-4 col-form-label",onClick:e[0]||(e[0]=(...i)=>s.toggleHelp&&s.toggleHelp(...i))},[p(b(n.title)+" ",1),t.$slots.help?(r(),_(a,{key:0,icon:l.showHelp?["fas","question-circle"]:["far","question-circle"],class:k(l.showHelp?"text-info":"")},null,8,["icon","class"])):c("",!0)]),o("div",Ts,[o("div",Is,[s.label?(r(),d("label",Vs,b(s.label),1)):c("",!0),o("button",{class:"col-1 btn btn-block btn-info",type:"button",onClick:e[1]||(e[1]=(...i)=>s.decrement&&s.decrement(...i))},[m(a,{icon:["fas","step-backward"]})]),o("div",Ms,[B(o("input",S({"onUpdate:modelValue":e[2]||(e[2]=i=>s.sliderValue=i),type:"range",class:"form-control-range rangeInput",min:n.min,max:n.max,step:n.step},t.$attrs),null,16,As),[[x,s.sliderValue,void 0,{number:!0}]])]),o("button",{class:"col-1 btn btn-block btn-info",type:"button",onClick:e[3]||(e[3]=(...i)=>s.increment&&s.increment(...i))},[m(a,{icon:["fas","step-forward"]})])]),l.showHelp?(r(),d("div",qs,[o("div",Ps,[h(t.$slots,"help",{},void 0,!0)])])):c("",!0)])])}const Ds=y($s,[["render",Hs],["__scopeId","data-v-449fb0a5"],["__file","/opt/openWB-dev/openwb-ui-settings/src/components/OpenwbBaseRangeInput.vue"]]),Es=Object.freeze(Object.defineProperty({__proto__:null,default:Ds},Symbol.toStringTag,{value:"Module"}));C.add(I,V);const Ls={name:"OpenwbSelectInput",components:{FontAwesomeIcon:O},inheritAttrs:!1,props:{title:{type:String,required:!1,default:""},modelValue:{type:[String,Number,Array,null],required:!1,default:void 0},groups:{type:Array,required:!1,default:void 0},options:{type:Array,required:!1,default:void 0},notSelected:{type:String,default:void 0}},emits:["update:modelValue"],data(){return{showHelp:!1}},computed:{value:{get(){return this.modelValue},set(t){this.$emit("update:modelValue",t)}}},methods:{toggleHelp(){this.showHelp=!this.showHelp&&this.$slots.help!==void 0}}},js={class:"form-row mb-1"},Ws={class:"col-md-8"},Rs={class:"form-row"},Ns={key:0,value:void 0,disabled:""},Fs=["value"],Us=["label"],zs=["value"],Gs={key:0,class:"form-row alert alert-info my-1 small"};function Js(t,e,n,u,l,s){const a=g("font-awesome-icon");return r(),d("div",js,[o("label",{class:"col-md-4 col-form-label",onClick:e[0]||(e[0]=(...i)=>s.toggleHelp&&s.toggleHelp(...i))},[p(b(n.title)+" ",1),t.$slots.help?(r(),_(a,{key:0,icon:l.showHelp?["fas","question-circle"]:["far","question-circle"],class:k(l.showHelp?"text-info":"")},null,8,["icon","class"])):c("",!0)]),o("div",Ws,[o("div",Rs,[B(o("select",S({"onUpdate:modelValue":e[1]||(e[1]=i=>s.value=i),class:"col form-control"},t.$attrs),[n.notSelected!==void 0?(r(),d("option",Ns," -- "+b(n.notSelected)+" -- ",1)):c("",!0),(r(!0),d(T,null,P(n.options,i=>(r(),d("option",{key:i.value,value:i.value},b(i.text),9,Fs))),128)),(r(!0),d(T,null,P(n.groups,i=>(r(),d("optgroup",{key:i.label,label:i.label},[(r(!0),d(T,null,P(i.options,v=>(r(),d("option",{key:v.value,value:v.value},b(v.text),9,zs))),128))],8,Us))),128))],16),[[Y,s.value]]),h(t.$slots,"append")]),l.showHelp?(r(),d("span",Gs,[h(t.$slots,"help")])):c("",!0)])])}const Ks=y(Ls,[["render",Js],["__file","/opt/openWB-dev/openwb-ui-settings/src/components/OpenwbBaseSelectInput.vue"]]),Qs=Object.freeze(Object.defineProperty({__proto__:null,default:Ks},Symbol.toStringTag,{value:"Module"}));C.add(D,he,_e);const Ys={name:"OpenwbSubmitButtons",components:{FontAwesomeIcon:O},props:{formName:{type:String,default:void 0},hideReset:{type:Boolean,default:!1},hideDefaults:{type:Boolean,default:!0}},emits:["reset","defaults","save"],data(){return{showModalReset:!1,showModalDefaults:!1}},computed:{showModalSave(){return this.$store.state.local.savingData}},methods:{showResetModal(){this.showModalReset=!0},handleModalReset(t){this.showModalReset=!1,t=="confirm"&&this.$emit("reset")},showDefaultsModal(){this.showModalDefaults=!0},handleModalDefaults(t){this.showModalDefaults=!1,t=="confirm"&&this.$emit("defaults")},saveSettings(){if(this.formName){if(!document.forms[this.formName].reportValidity()){console.debug("form invalid");return}}else console.debug("no form to validate");this.$emit("save")}}},Zs={class:"row justify-content-center mb-1"},Xs={class:"col-md-4 d-flex py-1 justify-content-center"},en={key:0,class:"col-md-4 d-flex py-1 justify-content-center"},tn={key:1,class:"col-md-4 d-flex py-1 justify-content-center"};function sn(t,e,n,u,l,s){const a=g("openwb-base-modal-dialog"),i=g("font-awesome-icon");return r(),d(T,null,[m(a,{show:s.showModalSave,title:"Speichern",subtype:"success","prevent-close":!0},{default:f(()=>e[3]||(e[3]=[p(" Einstellungen werden gespeichert... ")])),_:1},8,["show"]),m(a,{show:l.showModalReset,title:"Änderungen verwerfen",subtype:"warning",buttons:[{text:"Ok",event:"confirm",subtype:"warning"}],onModalResult:s.handleModalReset},{default:f(()=>e[4]||(e[4]=[p(" Wollen Sie die nicht gespeicherten Änderungen wirklich verwerfen? ")])),_:1},8,["show","onModalResult"]),m(a,{show:l.showModalDefaults,title:"Werkseinstellungen",subtype:"danger",buttons:[{text:"Ok",event:"confirm",subtype:"danger"}],onModalResult:s.handleModalDefaults},{default:f(()=>e[5]||(e[5]=[p(" Wollen Sie wirklich alle Werte dieser Seite auf die Werkseinstellungen zurücksetzen? ")])),_:1},8,["show","onModalResult"]),o("div",Zs,[o("div",Xs,[o("button",{id:"saveSettingsBtn",type:"button",class:"btn btn-block btn-success",onClick:e[0]||(e[0]=(...v)=>s.saveSettings&&s.saveSettings(...v))},[e[6]||(e[6]=p(" Speichern ")),m(i,{"fixed-width":"",icon:["fas","check"]})])]),n.hideReset?c("",!0):(r(),d("div",en,[o("button",{id:"modalResetBtn",type:"button",class:"btn btn-block btn-warning",onClick:e[1]||(e[1]=(...v)=>s.showResetModal&&s.showResetModal(...v))},[e[7]||(e[7]=p(" Änderungen verwerfen ")),m(i,{"fixed-width":"",icon:["fas","undo"]})])])),n.hideDefaults?c("",!0):(r(),d("div",tn,[o("button",{id:"modalDefaultsBtn",type:"button",class:"btn btn-block btn-danger",onClick:e[2]||(e[2]=(...v)=>s.showDefaultsModal&&s.showDefaultsModal(...v))},[e[8]||(e[8]=p(" Werkseinstellungen ")),m(i,{"fixed-width":"",icon:["fas","times"]})])]))])],64)}const nn=y(Ys,[["render",sn],["__file","/opt/openWB-dev/openwb-ui-settings/src/components/OpenwbBaseSubmitButtons.vue"]]),on=Object.freeze(Object.defineProperty({__proto__:null,default:nn},Symbol.toStringTag,{value:"Module"}));C.add(I,V,be,ve,ye,we,ke,Se,Be,Ce,Oe,$e,xe,Te);const an={name:"OpenwbTextInput",components:{FontAwesomeIcon:O},inheritAttrs:!1,props:{title:{type:String,required:!1,default:""},modelValue:{type:[String,Object],required:!1,default:void 0},subtype:{validator:function(t){return["text","email","host","url","user","json","password","time","date","month","year"].indexOf(t)!==-1},default:"text"},pattern:{type:String,required:!1,default:void 0},unit:{type:String,required:!1,default:void 0},emptyValue:{type:[String,Object,null],required:!1,default:null},showQuickButtons:{type:Boolean,default:!1}},emits:["update:modelValue"],data(){return{showHelp:!1,showPassword:!1,inputInvalid:!1,tempValue:this.modelValue}},computed:{value:{get(){return this.subtype=="json"?this.inputInvalid?(console.warn("returning invalid String"),this.tempValue):JSON.stringify(this.tempValue):this.modelValue},set(t){if(this.subtype=="json")try{let e=JSON.parse(t);this.inputInvalid=!1,this.$refs.jsonInput.setCustomValidity(""),this.tempValue=e,this.$emit("update:modelValue",e)}catch(e){console.error("parsing JSON failed: "+t,e),this.inputInvalid=!0,this.$refs.jsonInput.setCustomValidity("Ungültiger JSON Ausdruck!"),this.tempValue=t}else t==""&&(t=this.emptyValue),this.$emit("update:modelValue",t)}},inputRef(){switch(this.subtype){case"json":return this.$refs.jsonInput;case"password":return this.$refs.passwordInput;case"host":return this.$refs.hostInput;case"email":case"url":return this.$refs.urlInput;case"time":return this.$refs.timeInput;case"date":return this.$refs.dateInput;case"month":return this.$refs.monthInput;case"year":return this.$refs.yearInput}return this.$refs.textInput}},methods:{toggleHelp(){this.showHelp=!this.showHelp&&this.$slots.help!==void 0},togglePassword(){this.showPassword=!this.showPassword},modify(t){var e,n=new Date(this.modelValue);switch(this.subtype){case"date":n.setDate(n.getDate()+t),e=String(n.getFullYear())+"-"+String(n.getMonth()+1).padStart(2,"0")+"-"+String(n.getDate()).padStart(2,"0");break;case"month":n.setMonth(n.getMonth()+t),e=String(n.getFullYear())+"-"+String(n.getMonth()+1).padStart(2,"0");break;case"year":n.setYear(n.getFullYear()+t),e=String(n.getFullYear());break;default:console.warn(`cannot modify input of subtype '${this.subtype}'`);return}e>this.inputRef.max||e<this.inputRef.min||(this.value=e)}}},ln={class:"form-row mb-1"},rn={class:"col-md-8"},dn={class:"form-row"},un={class:"input-group"},cn={class:"input-group-prepend"},pn={class:"input-group-text"},mn=["pattern"],fn=["pattern"],gn=["type","pattern"],hn=["type"],_n={key:9,class:"input-group-append"},bn={class:"input-group-text"},vn={class:"input-group-text"},yn={key:0,class:"form-row alert alert-info my-1 small"};function wn(t,e,n,u,l,s){const a=g("font-awesome-icon");return r(),d("div",ln,[o("label",{class:"col-md-4 col-form-label",onClick:e[0]||(e[0]=(...i)=>s.toggleHelp&&s.toggleHelp(...i))},[p(b(n.title)+" ",1),t.$slots.help?(r(),_(a,{key:0,icon:l.showHelp?["fas","question-circle"]:["far","question-circle"],class:k(l.showHelp?"text-info":"")},null,8,["icon","class"])):c("",!0)]),o("div",rn,[o("div",dn,[o("div",un,[o("div",cn,[o("div",pn,[n.subtype=="text"?(r(),_(a,{key:0,"fixed-width":"",icon:["fas","keyboard"]})):c("",!0),n.subtype=="email"?(r(),_(a,{key:1,"fixed-width":"",icon:["fas","envelope"]})):c("",!0),n.subtype=="host"?(r(),_(a,{key:2,"fixed-width":"",icon:["fas","network-wired"]})):c("",!0),n.subtype=="url"?(r(),_(a,{key:3,"fixed-width":"",icon:["fas","globe"]})):c("",!0),n.subtype=="user"?(r(),_(a,{key:4,"fixed-width":"",icon:["fas","user"]})):c("",!0),n.subtype=="json"?(r(),_(a,{key:5,"fixed-width":"",icon:["fas","code"]})):c("",!0),n.subtype=="password"?(r(),_(a,{key:6,"fixed-width":"",icon:l.showPassword?["fas","unlock"]:["fas","lock"]},null,8,["icon"])):c("",!0),n.subtype=="time"?(r(),_(a,{key:7,"fixed-width":"",icon:["fas","clock"]})):c("",!0),n.subtype=="date"||n.subtype=="month"||n.subtype=="year"?(r(),_(a,{key:8,"fixed-width":"",icon:["fas","calendar-day"]})):c("",!0)])]),["text","user"].includes(n.subtype)?B((r(),d("input",S({key:0,ref:"textInput","onUpdate:modelValue":e[1]||(e[1]=i=>s.value=i),type:"text",class:["form-control",{invalid:l.inputInvalid}]},t.$attrs,{pattern:n.pattern}),null,16,mn)),[[x,s.value]]):c("",!0),n.subtype=="json"?B((r(),d("input",S({key:1,ref:"jsonInput","onUpdate:modelValue":e[2]||(e[2]=i=>s.value=i),type:"text",class:"form-control"},t.$attrs,{pattern:n.pattern}),null,16,fn)),[[x,s.value]]):c("",!0),n.subtype=="password"?B((r(),d("input",S({key:2,ref:"passwordInput","onUpdate:modelValue":e[3]||(e[3]=i=>s.value=i),type:l.showPassword?"text":"password",class:"form-control"},t.$attrs,{pattern:n.pattern}),null,16,gn)),[[j,s.value]]):c("",!0),n.subtype=="host"?B((r(),d("input",S({key:3,ref:"hostInput","onUpdate:modelValue":e[4]||(e[4]=i=>s.value=i),type:"text",class:"form-control"},t.$attrs),null,16)),[[x,s.value]]):c("",!0),["email","url"].includes(n.subtype)?B((r(),d("input",S({key:4,"onUpdate:modelValue":e[5]||(e[5]=i=>s.value=i),refs:"urlInput",type:n.subtype,class:"form-control"},t.$attrs),null,16,hn)),[[j,s.value]]):c("",!0),n.subtype=="time"?B((r(),d("input",S({key:5,ref:"timeInput","onUpdate:modelValue":e[6]||(e[6]=i=>s.value=i),type:"time",class:"form-control"},t.$attrs),null,16)),[[x,s.value]]):c("",!0),n.subtype=="date"?B((r(),d("input",S({key:6,ref:"dateInput","onUpdate:modelValue":e[7]||(e[7]=i=>s.value=i),type:"date",class:"form-control"},t.$attrs),null,16)),[[x,s.value]]):c("",!0),n.subtype=="month"?B((r(),d("input",S({key:7,ref:"monthInput","onUpdate:modelValue":e[8]||(e[8]=i=>s.value=i),type:"month",class:"form-control"},t.$attrs),null,16)),[[x,s.value]]):c("",!0),n.subtype=="year"?B((r(),d("input",S({key:8,ref:"yearInput","onUpdate:modelValue":e[9]||(e[9]=i=>s.value=i),type:"number",class:"form-control"},t.$attrs),null,16)),[[x,s.value]]):c("",!0),n.unit?(r(),d("div",_n,[o("div",bn,b(n.unit),1)])):c("",!0),n.subtype=="password"?(r(),d("div",{key:10,class:"input-group-append clickable",onClick:e[10]||(e[10]=(...i)=>s.togglePassword&&s.togglePassword(...i))},[o("div",vn,[m(a,{"fixed-width":"",icon:l.showPassword?["far","eye"]:["far","eye-slash"]},null,8,["icon"])])])):c("",!0),n.showQuickButtons&&(n.subtype=="date"||n.subtype=="month"||n.subtype=="year")?(r(),d("div",{key:11,class:"input-group-append clickable",onClick:e[11]||(e[11]=i=>s.modify(-1))},e[13]||(e[13]=[o("div",{class:"input-group-text"}," - ",-1)]))):c("",!0),n.showQuickButtons&&(n.subtype=="date"||n.subtype=="month"||n.subtype=="year")?(r(),d("div",{key:12,class:"input-group-append clickable",onClick:e[12]||(e[12]=i=>s.modify(1))},e[14]||(e[14]=[o("div",{class:"input-group-text"}," + ",-1)]))):c("",!0)])]),l.showHelp?(r(),d("span",yn,[h(t.$slots,"help",{},void 0,!0)])):c("",!0)])])}const kn=y(an,[["render",wn],["__scopeId","data-v-6927d479"],["__file","/opt/openWB-dev/openwb-ui-settings/src/components/OpenwbBaseTextInput.vue"]]),Sn=Object.freeze(Object.defineProperty({__proto__:null,default:kn},Symbol.toStringTag,{value:"Module"}));C.add(I,V);const Bn={name:"OpenwbTextareaInput",components:{FontAwesomeIcon:O},inheritAttrs:!1,props:{title:{type:String,required:!1,default:""},modelValue:{type:[String,Object],required:!1,default:void 0},subtype:{validator:function(t){return["text","json"].indexOf(t)!==-1},default:"text"}},emits:["update:modelValue"],data(){return{showHelp:!1,inputInvalid:!1,tempValue:this.modelValue}},computed:{value:{get(){return this.subtype=="json"?this.inputInvalid?(console.debug("returning invalid String"),this.tempValue):JSON.stringify(this.tempValue,void 0,2):this.modelValue},set(t){if(this.subtype=="json")try{let e=JSON.parse(t);this.inputInvalid=!1,this.$refs.jsonInput.setCustomValidity(""),this.tempValue=e,this.$emit("update:modelValue",e)}catch(e){console.warn("parsing JSON failed: "+t,e),this.inputInvalid=!0,this.$refs.jsonInput.setCustomValidity("Ungültiger JSON Ausdruck!"),this.tempValue=t}else this.$emit("update:modelValue",t)}},length:{get(){return this.value!==void 0?this.value.length:0}}},methods:{toggleHelp(){this.showHelp=!this.showHelp&&this.$slots.help!==void 0}}},Cn={class:"form-row mb-1"},On={class:"col-md-8"},$n={class:"form-row"},xn={class:"input-group"},Tn={class:"input-group-prepend"},In={class:"input-group-text"},Vn={key:2,class:"input-group-append"},Mn={class:"input-group-text"},An={class:"form-text text-muted text-right"},qn={key:0,class:"form-row alert alert-info my-1 small"};function Pn(t,e,n,u,l,s){const a=g("font-awesome-icon");return r(),d("div",Cn,[o("label",{class:"col-md-4 col-form-label",onClick:e[0]||(e[0]=(...i)=>s.toggleHelp&&s.toggleHelp(...i))},[p(b(n.title)+" ",1),t.$slots.help?(r(),_(a,{key:0,icon:l.showHelp?["fas","question-circle"]:["far","question-circle"],class:k(l.showHelp?"text-info":"")},null,8,["icon","class"])):c("",!0)]),o("div",On,[o("div",$n,[o("div",xn,[o("div",Tn,[o("div",In,[n.subtype=="text"?(r(),_(a,{key:0,"fixed-width":"",icon:["fas","keyboard"]})):c("",!0),n.subtype=="json"?(r(),_(a,{key:1,"fixed-width":"",icon:["fas","code"]})):c("",!0)])]),n.subtype==="json"?B((r(),d("textarea",S({key:0,ref:"jsonInput","onUpdate:modelValue":e[1]||(e[1]=i=>s.value=i),class:"form-control"},t.$attrs),null,16)),[[x,s.value,void 0,{lazy:!0}]]):B((r(),d("textarea",S({key:1,"onUpdate:modelValue":e[2]||(e[2]=i=>s.value=i),class:"form-control"},t.$attrs),null,16)),[[x,s.value]]),t.$attrs.maxlength?(r(),d("div",Vn,[o("div",Mn,[o("small",An,b(s.length)+" / "+b(t.$attrs.maxlength),1)])])):c("",!0)])]),l.showHelp?(r(),d("span",qn,[h(t.$slots,"help",{},void 0,!0)])):c("",!0)])])}const Hn=y(Bn,[["render",Pn],["__scopeId","data-v-3d93046b"],["__file","/opt/openWB-dev/openwb-ui-settings/src/components/OpenwbBaseTextarea.vue"]]),Dn=Object.freeze(Object.defineProperty({__proto__:null,default:Hn},Symbol.toStringTag,{value:"Module"}));const En={name:"OpenwbToast",props:{topic:{type:String,required:!0},subtype:{validator:function(t){return["info","success","warning","danger","primary","secondary","light","dark"].indexOf(t)!==-1},default:"secondary"},source:{type:String,required:!0,validator:function(t){return["system","client","command"].indexOf(t)!==-1}},timestamp:{type:Number,required:!0}},emits:["dismiss","hide"],data(){return{handle:void 0,relativeTime:void 0,hidden:!1}},mounted(){this.handle=window.setInterval(this.updateRelativeTime,1e3)},unmounted(){window.clearInterval(this.handle)},methods:{dismiss(){this.$emit("dismiss",{topic:this.topic})},updateRelativeTime(){const t={year:31536e6,month:2628e6,day:864e5,hour:36e5,minute:6e4,second:1e3};var e=new Intl.RelativeTimeFormat("de",{numeric:"auto"});const u=new Date-this.timestamp*1e3;for(var l in t)if(Math.abs(u)>t[l]){this.relativeTime=e.format(Math.round(-u/t[l]),l);break}u>10*1e3&&!this.hidden&&(this.hidden=!0,this.$emit("hide",{topic:this.topic}))}}},Ln={key:0,class:"time-diff"},jn={class:"toast-body"};function Wn(t,e,n,u,l,s){return r(),d("div",{class:k(["toast","border-"+n.subtype]),role:"alert"},[o("div",{class:k(["toast-header","bg-"+n.subtype])},[e[2]||(e[2]=o("strong",{class:"pr-2 mr-auto"},"OpenWB",-1)),n.timestamp?(r(),d("small",Ln,b(l.relativeTime),1)):c("",!0),o("button",{type:"button",class:"ml-2 mb-1 close","data-dismiss":"toast","aria-label":"Close",onClick:e[0]||(e[0]=(...a)=>s.dismiss&&s.dismiss(...a))},e[1]||(e[1]=[o("span",{"aria-hidden":"true"},"×",-1)]))],2),o("div",jn,[h(t.$slots,"default",{},void 0,!0)])],2)}const Rn=y(En,[["render",Wn],["__scopeId","data-v-c51b5764"],["__file","/opt/openWB-dev/openwb-ui-settings/src/components/OpenwbBaseToast.vue"]]),Nn=Object.freeze(Object.defineProperty({__proto__:null,default:Rn},Symbol.toStringTag,{value:"Module"}));C.add(Ie);const Fn={name:"OpenwbNavBar",components:{FontAwesomeIcon:O},computed:{nodeEnv(){return"development"}},watch:{$route(){this.$refs.collapsibleNavbar.classList.remove("show"),this.$refs.navbarButton.classList.add("collapsed"),this.$refs.navbarButton.setAttribute("aria-expanded",!1)}}},Un={class:"navbar navbar-expand-lg bg-dark navbar-dark fixed-top"},zn={ref:"navbarButton",class:"navbar-toggler mr-5",type:"button","data-toggle":"collapse","data-target":"#collapsibleNavbar"},Gn={id:"collapsibleNavbar",ref:"collapsibleNavbar",class:"collapse navbar-collapse navbar-nav-scroll"},Jn={class:"navbar-nav"},Kn={class:"nav-item"},Qn={class:"nav-item dropdown nav-separator-after"},Yn={class:"dropdown-menu","aria-labelledby":"navbarDropdown"},Zn={class:"nav-item dropdown"},Xn={class:"dropdown-menu","aria-labelledby":"navbarDropdown"},eo={class:"nav-item dropdown"},to={class:"dropdown-menu","aria-labelledby":"navbarDropdown"},so={class:"nav-item dropdown"},no={class:"dropdown-menu","aria-labelledby":"navbarDropdown"},oo={class:"nav-item dropdown"},ao={class:"dropdown-menu","aria-labelledby":"navbarDropdown"},lo={class:"nav-item nav-separator-before"},io={class:"nav-link",href:"https://github.com/openWB/core/wiki",target:"_blank"};function ro(t,e,n,u,l,s){const a=g("router-link"),i=g("font-awesome-icon");return r(),d("nav",Un,[e[31]||(e[31]=o("a",{class:"navbar-brand",href:"/openWB/web/"},[o("span",null,"openWB")],-1)),o("button",zn,e[0]||(e[0]=[o("span",{class:"navbar-toggler-icon"},null,-1)]),512),o("div",Gn,[o("ul",Jn,[o("li",Kn,[m(a,{to:"/Status",class:"nav-link","active-class":"active disabled"},{default:f(()=>e[1]||(e[1]=[p(" Status ")])),_:1})]),o("li",Qn,[e[4]||(e[4]=o("a",{class:"nav-link dropdown-toggle",href:"#",role:"button","data-toggle":"dropdown","aria-expanded":"false"}," Auswertungen ",-1)),o("div",Yn,[m(a,{to:"/Logging/ChargeLog",class:"dropdown-item","active-class":"active disabled"},{default:f(()=>e[2]||(e[2]=[p(" Ladeprotokoll ")])),_:1}),m(a,{to:"/Logging/Chart",class:"dropdown-item","active-class":"active disabled"},{default:f(()=>e[3]||(e[3]=[p(" Diagramme ")])),_:1})])]),o("li",Zn,[e[7]||(e[7]=o("a",{class:"nav-link dropdown-toggle",href:"#",role:"button","data-toggle":"dropdown","aria-expanded":"false"}," Einstellungen ",-1)),o("div",Xn,[m(a,{to:"/GeneralConfig",class:"dropdown-item","active-class":"active disabled"},{default:f(()=>e[5]||(e[5]=[p(" Allgemein ")])),_:1}),m(a,{to:"/OptionalComponents",class:"dropdown-item","active-class":"active disabled"},{default:f(()=>e[6]||(e[6]=[p(" Optionale Hardware ")])),_:1})])]),o("li",eo,[e[13]||(e[13]=o("a",{class:"nav-link dropdown-toggle",href:"#",role:"button","data-toggle":"dropdown","aria-expanded":"false"}," Ladeeinstellungen ",-1)),o("div",to,[m(a,{to:"/GeneralChargeConfig",class:"dropdown-item","active-class":"active disabled"},{default:f(()=>e[8]||(e[8]=[p(" Übergreifendes ")])),_:1}),m(a,{to:"/InstantChargeConfig",class:"dropdown-item","active-class":"active disabled"},{default:f(()=>e[9]||(e[9]=[p(" Sofortladen ")])),_:1}),m(a,{to:"/PVChargeConfig",class:"dropdown-item","active-class":"active disabled"},{default:f(()=>e[10]||(e[10]=[p(" PV-Laden ")])),_:1}),m(a,{to:"/TimeChargeConfig",class:"dropdown-item","active-class":"active disabled"},{default:f(()=>e[11]||(e[11]=[p(" Zeitladen ")])),_:1}),m(a,{to:"/ScheduledChargeConfig",class:"dropdown-item","active-class":"active disabled"},{default:f(()=>e[12]||(e[12]=[p(" Zielladen ")])),_:1})])]),o("li",so,[e[20]||(e[20]=o("a",{class:"nav-link dropdown-toggle",href:"#",role:"button","data-toggle":"dropdown","aria-expanded":"false"}," Konfiguration ",-1)),o("div",no,[m(a,{to:"/HardwareInstallation",class:"dropdown-item","active-class":"active disabled"},{default:f(()=>e[14]||(e[14]=[p(" Geräte und Komponenten ")])),_:1}),m(a,{to:"/LoadManagementConfiguration",class:"dropdown-item","active-class":"active disabled"},{default:f(()=>e[15]||(e[15]=[p(" Lastmanagement ")])),_:1}),m(a,{to:"/ChargePointInstallation",class:"dropdown-item","active-class":"active disabled"},{default:f(()=>e[16]||(e[16]=[p(" Ladepunkte ")])),_:1}),m(a,{to:"/VehicleConfiguration",class:"dropdown-item","active-class":"active disabled"},{default:f(()=>e[17]||(e[17]=[p(" Fahrzeuge ")])),_:1}),e[18]||(e[18]=o("div",{class:"dropdown-divider"},null,-1)),e[19]||(e[19]=o("a",{href:"modules/legacy_smart_home/smarthomeconfig.php",class:"dropdown-item",target:"_blank"}," SmartHome ",-1))])]),o("li",oo,[e[29]||(e[29]=o("a",{class:"nav-link dropdown-toggle",href:"#",role:"button","data-toggle":"dropdown","aria-expanded":"false"}," System ",-1)),o("div",ao,[m(a,{to:"/System/InstallAssistant",class:"dropdown-item","active-class":"active disabled"},{default:f(()=>e[21]||(e[21]=[p(" Einrichtungsassistent ")])),_:1}),m(a,{to:"/System/CloudConfiguration",class:"dropdown-item","active-class":"active disabled"},{default:f(()=>e[22]||(e[22]=[p(" openWB Cloud ")])),_:1}),m(a,{to:"/System/MqttBridgeConfiguration",class:"dropdown-item","active-class":"active disabled"},{default:f(()=>e[23]||(e[23]=[p(" MQTT-Brücken ")])),_:1}),m(a,{to:"/System/DebugConfiguration",class:"dropdown-item","active-class":"active disabled"},{default:f(()=>e[24]||(e[24]=[p(" Fehlersuche ")])),_:1}),m(a,{to:"/System/Support",class:"dropdown-item","active-class":"active disabled"},{default:f(()=>e[25]||(e[25]=[p(" Support ")])),_:1}),m(a,{to:"/System/DataManagement",class:"dropdown-item","active-class":"active disabled"},{default:f(()=>e[26]||(e[26]=[p(" Datenverwaltung ")])),_:1}),m(a,{to:"/System/SystemConfiguration",class:"dropdown-item","active-class":"active disabled"},{default:f(()=>e[27]||(e[27]=[p(" System ")])),_:1}),m(a,{to:"/System/LegalSettings",class:"dropdown-item","active-class":"active disabled"},{default:f(()=>e[28]||(e[28]=[p(" Rechtliches ")])),_:1})])]),o("li",lo,[o("a",io,[e[30]||(e[30]=p(" Wiki ")),m(i,{"fixed-width":"",icon:["fas","external-link-alt"]})])])])],512)])}const uo=y(Fn,[["render",ro],["__scopeId","data-v-e7a6d0c0"],["__file","/opt/openWB-dev/openwb-ui-settings/src/components/OpenwbPageNavbar.vue"]]);const co={name:"OpenwbPageFooter"},po={id:"footer",class:"footer bg-dark text-light font-small"},mo={class:"container text-center"};function fo(t,e,n,u,l,s){return r(),d("footer",po,[o("div",mo,[o("small",null," Sie befinden sich hier: Einstellungen / "+b(t.$route.meta.heading),1)])])}const go=y(co,[["render",fo],["__scopeId","data-v-3c9a239a"],["__file","/opt/openWB-dev/openwb-ui-settings/src/components/OpenwbPageFooter.vue"]]);C.add(Ve);const ho={name:"OpenwbDonationBanner",components:{FontAwesomeIcon:O}},_o={class:"mt-3 alert alert-dark text-center"},bo={action:"https://www.paypal.com/cgi-bin/webscr",method:"post",target:"_blank"},vo={type:"submit",class:"btn btn-primary"};function yo(t,e,n,u,l,s){const a=g("font-awesome-icon");return r(),d("div",_o,[e[3]||(e[3]=p(" Open Source made with love!")),e[4]||(e[4]=o("br",null,null,-1)),e[5]||(e[5]=p(" Jede Spende hilft die Weiterentwicklung von openWB voranzutreiben")),e[6]||(e[6]=o("br",null,null,-1)),o("form",bo,[e[1]||(e[1]=o("input",{type:"hidden",name:"cmd",value:"_s-xclick"},null,-1)),e[2]||(e[2]=o("input",{type:"hidden",name:"hosted_button_id",value:"2K8C4Y2JTGH7U"},null,-1)),o("button",vo,[e[0]||(e[0]=p(" Spenden ")),m(a,{icon:["fab","paypal"]})])])])}const wo=y(ho,[["render",yo],["__file","/opt/openWB-dev/openwb-ui-settings/src/components/OpenwbPageDonationBanner.vue"]]),ko={name:"ComponentState",emits:["reset","defaults","save"],data(){return{mqttTopicsToSubscribe:[]}},computed:{weekdays(){return["Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag","Sonntag"]},chargeModes(){return["instant_charging","pv_charging","scheduled_charging","time_charging","standby","stop"]}},mounted(){this.mqttTopicsToSubscribe.length>0&&this.$root.doSubscribe(this.mqttTopicsToSubscribe)},unmounted(){this.mqttTopicsToSubscribe.length>0&&this.$root.doUnsubscribe(this.mqttTopicsToSubscribe)},methods:{updateState(t,e,n=void 0){console.debug("updateState:",t,e,n),this.$store.commit({type:"updateTopic",topic:t,objectPath:n,payload:e})},ac_current2dc_power(t){return parseFloat((t*3*230/1e3).toFixed(2))},dc_power2ac_current(t){return parseFloat((t*1e3/230/3).toFixed(2))},getWildcardIndexList(t,e=!1){let n=t;e||(n="^"+t.replaceAll("/","\\/").replaceAll("+","[^+/]+").replaceAll("#","[^#/]+")+"$");let u=Object.keys(this.$store.state.mqtt).filter(l=>l.match(n));return u.forEach((l,s,a)=>{a[s]=parseInt(l.match(/(?:\/)([0-9]+)(?=\/)*/g)[0].replace(/[^0-9]+/g,""))}),u},getWildcardTopics(t,e=!1){let n=t;return e||(n="^"+t.replaceAll("/","\\/").replaceAll("+","[^+/]+").replaceAll("#","[^#/]+")+"$"),Object.keys(this.$store.state.mqtt).filter(u=>u.match(n)).reduce((u,l)=>({...u,[l]:this.$store.state.mqtt[l]}),{})},formatDate(t,e={year:"numeric",month:"2-digit",day:"2-digit"}){return new Date(t).toLocaleDateString(void 0,e)},formatNumber(t,e=0,n=e,u=1){if(!(t==null||isNaN(t)))return(t*u).toLocaleString(void 0,{minimumFractionDigits:e,maximumFractionDigits:n})},formatNumberTopic(t,e=0,n=e,u=1){return this.$store.state.mqtt[t]?this.formatNumber(this.$store.state.mqtt[t],e,n,u):"-"},formatPhaseArrayNumberTopic(t,e=0,n=e,u=1){return this.$store.state.mqtt[t]?this.$store.state.mqtt[t].map(l=>this.formatNumber(l,e,n,u)).join(" / "):"- / - / -"},translateChargeMode(t){switch(t){case"instant_charging":return"Sofort";case"pv_charging":return"PV";case"scheduled_charging":return"Zielladen";case"time_charging":return"Zeitladen";case"standby":return"Standby";case"stop":return"Stop";default:return console.warn("unknown charge mode:",t),t}}}},N=y(ko,[["__file","/opt/openWB-dev/openwb-ui-settings/src/components/mixins/ComponentState.vue"]]);C.add(Me,Ae);const So={name:"OpenwbPageMessages",components:{FontAwesomeIcon:O,FontAwesomeLayers:qe,FontAwesomeLayersText:Pe},mixins:[N],data(){return{mqttTopicsToSubscribe:["openWB/system/messages/+","openWB/command/"+this.$root.mqttClientId+"/messages/+"],showAllMessages:!1,hiddenMessages:[]}},computed:{alertLevel(){return this.messages.reduce((e,n)=>((e=="light"&&["info","success","warning","danger"].includes(n.type)||e=="info"&&["success","warning","danger"].includes(n.type)||e=="success"&&["warning","danger"].includes(n.type)||e=="warning"&&n.type=="danger")&&(e=n.type),e),"light")},messages(){const t=[];return this.systemMessages.forEach(e=>{t.push(e)}),this.clientMessages.forEach(e=>{t.push(e)}),t.sort(this.compareMessagesByTimestamp),t},recentMessages(){return this.showAllMessages?this.messages:this.messages.filter(t=>!this.hiddenMessages.includes(t.topic))},messageIndicatorClass(){return"text-"+this.alertLevel},systemMessages(){let t=this.getWildcardTopics("openWB/system/messages/+");var e=[];for(const[n,u]of Object.entries(t))e.push({topic:n,...u});return e},clientMessages(){let t=this.getWildcardTopics("openWB/command/"+this.$root.mqttClientId+"/messages/+");var e=[];for(const[n,u]of Object.entries(t))e.push({topic:n,...u});return e}},methods:{toggleAllMessages(){this.showAllMessages=!this.showAllMessages},compareMessagesByTimestamp(t,e){return e.timestamp-t.timestamp},clearTopic(t){this.$root.doPublish(t,void 0)},dismissMessage(t){this.clearTopic(t.topic);var e=this.hiddenMessages.indexOf(t.topic);e>-1&&this.hiddenMessages.splice(e,1)},dismissAllMessages(){this.messages.forEach(t=>{this.clearTopic(t.topic)}),this.hiddenMessages=[],this.toggleAllMessages()},hideMessage(t){this.hiddenMessages.includes(t.topic)||this.hiddenMessages.push(t.topic)}}},Bo=["innerHTML"];function Co(t,e,n,u,l,s){const a=g("font-awesome-icon"),i=g("font-awesome-layers-text"),v=g("font-awesome-layers"),$=g("openwb-base-alert"),M=g("openwb-base-click-button"),A=g("openwb-base-toast");return r(),d(T,null,[(r(),_(R,{to:"body"},[o("div",{id:"message-indicator",class:k(["text-light mt-1 p-2 mr-1 clickable",l.showAllMessages?"active":""]),onClick:e[0]||(e[0]=(...q)=>s.toggleAllMessages&&s.toggleAllMessages(...q))},[m(v,{"full-width":"",style:{"font-size":"175%"}},{default:f(()=>[m(a,{"fixed-width":"",icon:l.showAllMessages?["fas","bell"]:["far","bell"],class:k(s.messageIndicatorClass)},null,8,["icon","class"]),s.messages.length>0?(r(),_(i,{key:0,counter:"",value:s.messages.length,position:"top-right",class:"message-counter bg-light text-dark"},null,8,["value"])):c("",!0)]),_:1})],2)])),s.recentMessages.length>0||l.showAllMessages?(r(),d("div",{key:0,class:k(["openwb-toast-container",l.showAllMessages?"full-height":""])},[s.recentMessages.length==0?(r(),_($,{key:0,subtype:"info"},{default:f(()=>e[1]||(e[1]=[p(" Keine Nachrichten vorhanden. ")])),_:1})):l.showAllMessages?(r(),_(M,{key:1,class:"btn-sm btn-secondary mb-1",onButtonClicked:s.dismissAllMessages},{default:f(()=>e[2]||(e[2]=[p(" Alle Nachrichten löschen ")])),_:1},8,["onButtonClicked"])):c("",!0),(r(!0),d(T,null,P(s.recentMessages,q=>(r(),_(A,{key:q.topic,topic:q.topic,source:q.source,subtype:q.type,timestamp:q.timestamp,onDismiss:s.dismissMessage,onHide:s.hideMessage},{default:f(()=>[o("span",{innerHTML:q.message},null,8,Bo)]),_:2},1032,["topic","source","subtype","timestamp","onDismiss","onHide"]))),128))],2)):c("",!0)],64)}const Oo=y(So,[["render",Co],["__scopeId","data-v-2c25f0d0"],["__file","/opt/openWB-dev/openwb-ui-settings/src/components/OpenwbPageMessages.vue"]]),$o={name:"OpenwbPageBlocker",mixins:[N],data(){return{mqttTopicsToSubscribe:["openWB/system/boot_done","openWB/system/update_in_progress"]}},computed:{title(){return this.bootInProgress||this.updateInProgress?"openWB ist noch nicht bereit":this.reloadRequired?"Neues Laden der Seite erforderlich":"???"},myButtons(){return!(this.bootInProgress||this.updateInProgress)&&this.reloadRequired?[{text:"Jetzt neu laden",subtype:"success",event:"reload"}]:[]},bootInProgress(){return this.$store.state.mqtt["openWB/system/boot_done"]==null?!0:!this.$store.state.mqtt["openWB/system/boot_done"]},updateInProgress(){return this.$store.state.mqtt["openWB/system/update_in_progress"]==null?!1:this.$store.state.mqtt["openWB/system/update_in_progress"]},reloadRequired(){return this.$store.state.local.reloadRequired},showModalBlocker(){return this.bootInProgress||this.updateInProgress||this.reloadRequired}},methods:{handleModalResult(t){t=="reload"?location.reload():console.warn("unknown event",t)}}},xo={class:"openwb-blocker"},To={key:0},Io={key:1},Vo={key:2},Mo={key:3};function Ao(t,e,n,u,l,s){const a=g("openwb-base-modal-dialog");return r(),d("div",xo,[m(a,{show:s.showModalBlocker,title:s.title,subtype:"dark","prevent-close":!0,buttons:s.myButtons,onModalResult:e[0]||(e[0]=i=>s.handleModalResult(i))},{default:f(()=>[s.bootInProgress?(r(),d("p",To," Der Systemstart ist noch nicht abgeschlossen. ")):c("",!0),s.updateInProgress?(r(),d("p",Io," Es wird eine Systemaktualisierung ausgeführt. ")):c("",!0),!(s.bootInProgress||s.updateInProgress)&&s.reloadRequired?(r(),d("p",Vo," Bitte die Seite neu laden. ")):(r(),d("p",Mo," Bitte warten... "))]),_:1},8,["show","title","buttons"])])}const qo=y($o,[["render",Ao],["__file","/opt/openWB-dev/openwb-ui-settings/src/components/OpenwbPageBlocker.vue"]]);const Po={name:"OpenwbSettingsApp",components:{NavBar:uo,PageFooter:go,DonationBanner:wo,Messages:Oo,Blocker:qo},data(){return{client:{connected:!1},connection:{protocol:location.protocol=="https:"?"wss":"ws",host:location.hostname,port:parseInt(location.port)||(location.protocol=="https:"?443:80),endpoint:"/ws",connectTimeout:4e3,reconnectPeriod:4e3}}},computed:{mqttClientId(){try{return this.client.options.clientId}catch(t){console.error("mqttClientId error",t);return}},topicList(){return Object.keys(this.$store.state.mqtt)}},created(){this.createConnection()},methods:{async saveValues(t=void 0){function e(u){return new Promise(l=>setTimeout(l,u))}console.debug("saving values..."),this.$store.state.local.savingData=!0;let n={};t===void 0?(console.debug("no topics defined, so save everything we have in store"),n=this.$store.state.mqtt):Array.isArray(t)?t.forEach(u=>{n[u]=this.$store.state.mqtt[u]}):console.error("expected array, got ",typeof t);for(const[u,l]of Object.entries(n)){let s=u.replace("openWB/","openWB/set/");console.debug("saving data:",s,l),this.doPublish(s,l),await e(100)}console.debug("done saving data"),this.$store.state.local.savingData=!1},resetValues(t=this.topicList){console.debug("resetting values..."),console.debug("topics: ",t),this.doUnsubscribe(t),this.doSubscribe(t)},setDefaultValues(){console.debug("setting default values... (ToDo)")},sendCommand(t){this.doPublish("openWB/set/command/"+this.client.options.clientId+"/todo",t,!1)},createConnection(){const{protocol:t,host:e,port:n,endpoint:u,...l}=this.connection,s=`${t}://${e}:${n}${u}`;console.debug("connecting to broker:",s);try{this.client=Z.connect(s,l)}catch(a){console.error("mqtt.connect error",a)}this.client.on("connect",()=>{console.debug("Connection succeeded! ClientId: ",this.client.options.clientId),this.doSubscribe(["openWB/system/usage_terms_acknowledged"]),this.doSubscribe(["openWB/system/installAssistantDone"])}),this.client.on("error",a=>{console.error("Connection failed",a)}),this.client.on("message",(a,i)=>{if(i.toString().length>0){let v;try{v=JSON.parse(i.toString())}catch($){console.debug("Json parsing failed, fallback to string: ",a,$),v=i.toString()}this.$store.commit("updateTopic",{topic:a,payload:v})}else this.$store.commit("removeTopic",a)})},doSubscribe(t){console.debug("doSubscribe",t),t.forEach(e=>{this.$store.commit("addSubscription",e),this.$store.getters.subscriptionCount(e)==1?(e.includes("#")||e.includes("+")?console.debug("skipping init of wildcard topic:",e):this.$store.commit("addTopic",{topic:e,payload:void 0}),this.client.subscribe(e,{},n=>{if(n){console.error("Subscribe to topics error",n);return}})):console.debug("Already subscribed to topic: ",e)})},doUnsubscribe(t){console.debug("doUnsubscribe",t),t.forEach(e=>{this.$store.commit("removeSubscription",e),this.$store.getters.subscriptionCount(e)==0?(this.client.unsubscribe(e,n=>{n&&console.error("Unsubscribe error",n)}),e.includes("#")||e.includes("+")?(console.debug("expanding wildcard topic:",e),Object.keys(this.getWildcardTopics(e)).forEach(n=>{console.debug("removing wildcardTopic:",n),this.$store.commit("removeTopic",n)})):(console.debug("removing topic:",e),this.$store.commit("removeTopic",e))):console.debug("Still subscribed to topic: ",e)})},doPublish(t,e,n=!0,u=2){let l={qos:u,retain:n};this.client.publish(t,JSON.stringify(e),l,s=>{s&&console.error("Publish error",s)})},postClientMessage(t,e="secondary"){console.debug("postMessage:",t,e);const n=Date.now(),u="openWB/command/"+this.mqttClientId+"/messages/"+n;this.$store.commit({type:"addTopic",topic:u,payload:{message:t,type:e,source:"client",timestamp:Math.floor(n/1e3)}})},getWildcardTopics(t,e=!1){let n=t;return e||(n="^"+t.replaceAll("/","\\/").replaceAll("+","[^+/]+").replaceAll("#","[^#/]+")+"$"),Object.keys(this.$store.state.mqtt).filter(u=>u.match(n)).reduce((u,l)=>({...u,[l]:this.$store.state.mqtt[l]}),{})}}},Ho={role:"main",class:"container"},Do={id:"content"};function Eo(t,e,n,u,l,s){const a=g("nav-bar"),i=g("router-view"),v=g("donation-banner"),$=g("page-footer"),M=g("messages"),A=g("blocker");return r(),d(T,null,[o("header",null,[m(a)]),o("div",Ho,[o("div",Do,[o("h1",null,b(t.$route.meta.heading),1),m(i,{onSave:s.saveValues,onReset:s.resetValues,onDefaults:s.setDefaultValues,onSendCommand:s.sendCommand},null,8,["onSave","onReset","onDefaults","onSendCommand"])]),m(v)]),m($),m(M),m(A)],64)}const Lo=y(Po,[["render",Eo],["__file","/opt/openWB-dev/openwb-ui-settings/src/App.vue"]]),jo="modulepreload",Wo=function(t){return"/openWB/web/settings/"+t},W={},w=function(e,n,u){if(!n||n.length===0)return e();const l=document.getElementsByTagName("link");return Promise.all(n.map(s=>{if(s=Wo(s),s in W)return;W[s]=!0;const a=s.endsWith(".css"),i=a?'[rel="stylesheet"]':"";if(!!u)for(let M=l.length-1;M>=0;M--){const A=l[M];if(A.href===s&&(!a||A.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${i}`))return;const $=document.createElement("link");if($.rel=a?"stylesheet":jo,a||($.as="script",$.crossOrigin=""),$.href=s,document.head.appendChild($),a)return new Promise((M,A)=>{$.addEventListener("load",M),$.addEventListener("error",()=>A(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>e()).catch(s=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s})};let F={mqtt:{},mqttSubscriptions:{},local:{reloadRequired:!1,savingData:!1},text:{rfidWiki:'Bitte auch hiervon abhängige Einstellungen beachten. Eine Übersicht gibt es im <a href="https://github.com/openWB/core/wiki/Ladung-nur-nach-Freischaltung" target="_blank" rel="noopener noreferrer">Wiki</a>.'}};F.examples={text1:"Text...",text2:"mail@domain.com",text3:"openwb.local",text4:"http://www.openwb.de",text5:"Benutzername",text6:"12:34",text7:"2021-10-31",number1:5,number2:10,number3:28e-5,password1:"GeHeiM!",textarea1:"Langer Text...",range1:6,range2:10,select1:1,select2:"three",buttonGroup1:1,checkbox1:!0,json1:{text:"Text",number:123},hierarchy1:[{id:0,type:"counter",children:[{id:3,type:"inverter",children:[]},{id:4,type:"bat",children:[]},{id:1,type:"cp",children:[]},{id:2,type:"cp",children:[]}]}],hierarchy1Labels:{0:"EVU",1:"Ladepunkt 1",2:"Ladepunkt 2",3:"Wechselrichter",4:"Batteriespeicher"},tags:["1234","2345","3456"]};const H=X({state:F,mutations:{storeLocal(t,e){t.local[e.name]=e.value},addTopic(t,e){Object.keys(t.mqtt).includes(e.topic)?console.warn("topic already exists: ",e.topic):t.mqtt[e.topic]=e.payload},removeTopic(t,e){delete t.mqtt[e]},updateTopic(t,e){const n=(u,l,s)=>l.split(".").reduce((a,i,v)=>a[i]=l.split(".").length===++v?s:a[i]||{},u);e.topic in t.mqtt||!(e.topic in t.examples)?e.objectPath!=null?n(t.mqtt[e.topic],e.objectPath,e.payload):t.mqtt[e.topic]=e.payload:(console.debug("topic not found in state.mqtt: ",e.topic),e.topic in t.examples?e.objectPath!=null?n(t.examples[e.topic],e.objectPath,e.payload):t.examples[e.topic]=e.payload:console.warn("topic not found in state: ",e.topic," giving up"))},addSubscription(t,e){e in t.mqttSubscriptions?t.mqttSubscriptions[e]+=1:t.mqttSubscriptions[e]=1,console.debug("subscription count: ",e,t.mqttSubscriptions[e])},removeSubscription(t,e){e in t.mqttSubscriptions&&(t.mqttSubscriptions[e]-=1,t.mqttSubscriptions[e]<=0&&delete t.mqttSubscriptions[e])}},actions:{},modules:{},getters:{usageTermsAcknowledged(t){return new Promise(e=>{if(t.mqtt["openWB/system/usage_terms_acknowledged"]!==void 0)e(t.mqtt["openWB/system/usage_terms_acknowledged"]);else{var n,u;n=setTimeout(()=>{clearInterval(u),e(!1)},5e3),u=setInterval(()=>{t.mqtt["openWB/system/usage_terms_acknowledged"]!==void 0&&(clearTimeout(n),clearInterval(u),e(t.mqtt["openWB/system/usage_terms_acknowledged"]))},100)}})},installAssistantDone(t){return new Promise(e=>{if(t.mqtt["openWB/system/installAssistantDone"]!==void 0)e(t.mqtt["openWB/system/installAssistantDone"]);else{var n,u;n=setTimeout(()=>{clearInterval(u),e(!1)},5e3),u=setInterval(()=>{t.mqtt["openWB/system/installAssistantDone"]!==void 0&&(clearTimeout(n),clearInterval(u),e(t.mqtt["openWB/system/installAssistantDone"]))},100)}})},subscriptionCount:t=>e=>t.mqttSubscriptions[e]||0}}),U=[{path:"/",redirect:"/GeneralConfig"},{path:"/Status",name:"Status",meta:{heading:"Status"},component:()=>w(()=>import("./Status-bc2c7d27.js"),["assets/Status-bc2c7d27.js","assets/vendor-fortawesome-41164876.js","assets/vendor-a21b3a62.js","assets/vendor-sortablejs-3016fed8.js","assets/vendor-aab9f734.css","assets/vendor-chartjs-5fa56b74.js","assets/vendor-luxon-8ddd27a0.js","assets/vendor-bootstrap-d0c3645c.js","assets/vendor-jquery-a5dbbab1.js","assets/vendor-bootstrap-c4951098.css","assets/vendor-axios-0e6de98a.js","assets/Status-6557de7c.css"])},{path:"/Logging/ChargeLog",name:"ChargeLog",meta:{heading:"Auswertungen - Ladeprotokoll"},component:()=>w(()=>import("./ChargeLog-a730dd70.js"),["assets/ChargeLog-a730dd70.js","assets/vendor-fortawesome-41164876.js","assets/vendor-a21b3a62.js","assets/vendor-sortablejs-3016fed8.js","assets/vendor-aab9f734.css","assets/vendor-bootstrap-d0c3645c.js","assets/vendor-jquery-a5dbbab1.js","assets/vendor-bootstrap-c4951098.css","assets/vendor-axios-0e6de98a.js","assets/ChargeLog-1fb3fa68.css"])},{path:"/Logging/Chart/:chartRange?/:initialDate?",name:"DailyChart",meta:{heading:"Auswertungen - Diagramme"},component:()=>w(()=>import("./Chart-19a9b222.js"),["assets/Chart-19a9b222.js","assets/vendor-fortawesome-41164876.js","assets/vendor-a21b3a62.js","assets/vendor-sortablejs-3016fed8.js","assets/vendor-aab9f734.css","assets/vendor-chartjs-5fa56b74.js","assets/vendor-luxon-8ddd27a0.js","assets/vendor-bootstrap-d0c3645c.js","assets/vendor-jquery-a5dbbab1.js","assets/vendor-bootstrap-c4951098.css","assets/vendor-axios-0e6de98a.js","assets/Chart-e20451b4.css"])},{path:"/GeneralConfig",name:"GeneralConfig",meta:{heading:"Einstellungen - Allgemein"},component:()=>w(()=>import("./GeneralConfig-1c49e709.js").then(t=>t.a),["assets/GeneralConfig-1c49e709.js","assets/vendor-fortawesome-41164876.js","assets/vendor-a21b3a62.js","assets/vendor-sortablejs-3016fed8.js","assets/vendor-aab9f734.css","assets/dynamic-import-helper-be004503.js"])},{path:"/OptionalComponents",name:"OptionalComponents",meta:{heading:"Einstellungen - Optionale Hardware"},component:()=>w(()=>import("./OptionalComponents-36fd698f.js").then(t=>t.O),["assets/OptionalComponents-36fd698f.js","assets/dynamic-import-helper-be004503.js","assets/vendor-fortawesome-41164876.js","assets/vendor-a21b3a62.js","assets/vendor-sortablejs-3016fed8.js","assets/vendor-aab9f734.css"])},{path:"/GeneralChargeConfig",name:"GeneralChargeConfig",meta:{heading:"Ladeeinstellungen - Übergreifendes"},component:()=>w(()=>import("./GeneralChargeConfig-f6ca097b.js").then(t=>t.G),["assets/GeneralChargeConfig-f6ca097b.js","assets/dynamic-import-helper-be004503.js","assets/vendor-a21b3a62.js","assets/vendor-sortablejs-3016fed8.js","assets/vendor-aab9f734.css"])},{path:"/InstantChargeConfig",name:"InstantChargeConfig",meta:{heading:"Ladeeinstellungen - Sofortladen"},component:()=>w(()=>import("./InstantChargeConfig-61c4fd49.js"),["assets/InstantChargeConfig-61c4fd49.js","assets/vendor-a21b3a62.js","assets/vendor-sortablejs-3016fed8.js","assets/vendor-aab9f734.css","assets/vendor-fortawesome-41164876.js","assets/vendor-bootstrap-d0c3645c.js","assets/vendor-jquery-a5dbbab1.js","assets/vendor-bootstrap-c4951098.css","assets/vendor-axios-0e6de98a.js"])},{path:"/PVChargeConfig",name:"PVChargeConfig",meta:{heading:"Ladeeinstellungen - PV-Laden"},component:()=>w(()=>import("./PVChargeConfig-13001890.js"),["assets/PVChargeConfig-13001890.js","assets/vendor-fortawesome-41164876.js","assets/vendor-a21b3a62.js","assets/vendor-sortablejs-3016fed8.js","assets/vendor-aab9f734.css","assets/vendor-bootstrap-d0c3645c.js","assets/vendor-jquery-a5dbbab1.js","assets/vendor-bootstrap-c4951098.css","assets/vendor-axios-0e6de98a.js"])},{path:"/TimeChargeConfig",name:"TimeChargeConfig",meta:{heading:"Ladeeinstellungen - Zeitladen"},component:()=>w(()=>import("./TimeChargeConfig-9d481afa.js"),["assets/TimeChargeConfig-9d481afa.js","assets/vendor-a21b3a62.js","assets/vendor-sortablejs-3016fed8.js","assets/vendor-aab9f734.css","assets/vendor-fortawesome-41164876.js","assets/vendor-bootstrap-d0c3645c.js","assets/vendor-jquery-a5dbbab1.js","assets/vendor-bootstrap-c4951098.css","assets/vendor-axios-0e6de98a.js"])},{path:"/ScheduledChargeConfig",name:"ScheduledChargeConfig",meta:{heading:"Ladeeinstellungen - Zielladen"},component:()=>w(()=>import("./ScheduledChargeConfig-6a548cac.js"),["assets/ScheduledChargeConfig-6a548cac.js","assets/vendor-a21b3a62.js","assets/vendor-sortablejs-3016fed8.js","assets/vendor-aab9f734.css","assets/vendor-fortawesome-41164876.js","assets/vendor-bootstrap-d0c3645c.js","assets/vendor-jquery-a5dbbab1.js","assets/vendor-bootstrap-c4951098.css","assets/vendor-axios-0e6de98a.js"])},{path:"/HardwareInstallation",name:"HardwareInstallation",meta:{heading:"Konfiguration - Geräte und Komponenten"},component:()=>w(()=>import("./HardwareInstallation-70f156e6.js").then(t=>t.a),["assets/HardwareInstallation-70f156e6.js","assets/vendor-fortawesome-41164876.js","assets/vendor-a21b3a62.js","assets/vendor-sortablejs-3016fed8.js","assets/vendor-aab9f734.css","assets/dynamic-import-helper-be004503.js","assets/HardwareInstallation-1ee9693f.css"])},{path:"/LoadManagementConfiguration",name:"LoadManagementConfiguration",meta:{heading:"Konfiguration - Lastmanagement"},component:()=>w(()=>import("./LoadManagementConfig-da717df7.js"),["assets/LoadManagementConfig-da717df7.js","assets/vendor-fortawesome-41164876.js","assets/vendor-a21b3a62.js","assets/vendor-sortablejs-3016fed8.js","assets/vendor-aab9f734.css","assets/OpenwbSortableList-3ce7f991.js","assets/OpenwbSortableList-7ba533e4.css","assets/vendor-bootstrap-d0c3645c.js","assets/vendor-jquery-a5dbbab1.js","assets/vendor-bootstrap-c4951098.css","assets/vendor-axios-0e6de98a.js"])},{path:"/ChargePointInstallation",name:"ChargePointInstallation",meta:{heading:"Konfiguration - Ladepunkte"},component:()=>w(()=>import("./ChargePointInstallation-8dff21bc.js").then(t=>t.c),["assets/ChargePointInstallation-8dff21bc.js","assets/vendor-fortawesome-41164876.js","assets/vendor-a21b3a62.js","assets/vendor-sortablejs-3016fed8.js","assets/vendor-aab9f734.css","assets/dynamic-import-helper-be004503.js","assets/ChargePointInstallation-ed6a5c7e.css"])},{path:"/VehicleConfiguration/:section?/:section_index?/:section_part?/:action?",name:"VehicleConfiguration",meta:{heading:"Konfiguration - Fahrzeuge"},component:()=>w(()=>import("./VehicleConfig-e8ea05c9.js").then(t=>t.b),["assets/VehicleConfig-e8ea05c9.js","assets/vendor-fortawesome-41164876.js","assets/vendor-a21b3a62.js","assets/vendor-sortablejs-3016fed8.js","assets/vendor-aab9f734.css","assets/dynamic-import-helper-be004503.js","assets/VehicleConfig-4aeda6ca.css"])},{path:"/System/CloudConfiguration",name:"CloudConfig",meta:{heading:"System - openWB Cloud"},component:()=>w(()=>import("./CloudConfig-595194ca.js"),["assets/CloudConfig-595194ca.js","assets/vendor-fortawesome-41164876.js","assets/vendor-a21b3a62.js","assets/vendor-sortablejs-3016fed8.js","assets/vendor-aab9f734.css","assets/vendor-bootstrap-d0c3645c.js","assets/vendor-jquery-a5dbbab1.js","assets/vendor-bootstrap-c4951098.css","assets/vendor-axios-0e6de98a.js"])},{path:"/System/MqttBridgeConfiguration",name:"MqttBridgeConfig",meta:{heading:"System - MQTT-Brücken"},component:()=>w(()=>import("./MqttBridgeConfig-2e7d7922.js"),["assets/MqttBridgeConfig-2e7d7922.js","assets/vendor-fortawesome-41164876.js","assets/vendor-a21b3a62.js","assets/vendor-sortablejs-3016fed8.js","assets/vendor-aab9f734.css","assets/vendor-bootstrap-d0c3645c.js","assets/vendor-jquery-a5dbbab1.js","assets/vendor-bootstrap-c4951098.css","assets/vendor-axios-0e6de98a.js","assets/MqttBridgeConfig-3471079a.css"])},{path:"/System/DebugConfiguration",name:"Debugging",meta:{heading:"System - Fehlersuche"},component:()=>w(()=>import("./DebugConfig-d1261f2b.js"),["assets/DebugConfig-d1261f2b.js","assets/vendor-fortawesome-41164876.js","assets/vendor-a21b3a62.js","assets/vendor-sortablejs-3016fed8.js","assets/vendor-aab9f734.css","assets/vendor-bootstrap-d0c3645c.js","assets/vendor-jquery-a5dbbab1.js","assets/vendor-bootstrap-c4951098.css","assets/vendor-axios-0e6de98a.js","assets/DebugConfig-e21ab72c.css"])},{path:"/System/Support",name:"Support",meta:{heading:"System - Support"},component:()=>w(()=>import("./Support-a91e414e.js"),["assets/Support-a91e414e.js","assets/vendor-fortawesome-41164876.js","assets/vendor-a21b3a62.js","assets/vendor-sortablejs-3016fed8.js","assets/vendor-aab9f734.css","assets/vendor-bootstrap-d0c3645c.js","assets/vendor-jquery-a5dbbab1.js","assets/vendor-bootstrap-c4951098.css","assets/vendor-axios-0e6de98a.js"])},{path:"/System/LegalSettings",name:"LegalSettings",meta:{heading:"System - Rechtliches"},component:()=>w(()=>import("./LegalSettings-ddd5b296.js"),["assets/LegalSettings-ddd5b296.js","assets/vendor-fortawesome-41164876.js","assets/vendor-a21b3a62.js","assets/vendor-sortablejs-3016fed8.js","assets/vendor-aab9f734.css","assets/vendor-bootstrap-d0c3645c.js","assets/vendor-jquery-a5dbbab1.js","assets/vendor-bootstrap-c4951098.css","assets/vendor-axios-0e6de98a.js"])},{path:"/System/SystemConfiguration",name:"SystemConfig",meta:{heading:"System - System"},component:()=>w(()=>import("./System-aff61250.js"),["assets/System-aff61250.js","assets/vendor-fortawesome-41164876.js","assets/vendor-a21b3a62.js","assets/vendor-sortablejs-3016fed8.js","assets/vendor-aab9f734.css","assets/vendor-bootstrap-d0c3645c.js","assets/vendor-jquery-a5dbbab1.js","assets/vendor-bootstrap-c4951098.css","assets/vendor-axios-0e6de98a.js","assets/System-0f1d217b.css"])},{path:"/System/DataManagement",name:"DataManagement",meta:{heading:"System - Datenverwaltung"},component:()=>w(()=>import("./DataManagement-b9730b64.js").then(t=>t.a),["assets/DataManagement-b9730b64.js","assets/vendor-fortawesome-41164876.js","assets/vendor-a21b3a62.js","assets/vendor-sortablejs-3016fed8.js","assets/vendor-aab9f734.css","assets/dynamic-import-helper-be004503.js"])},{path:"/System/InstallAssistant",name:"InstallAssistant",meta:{heading:"System - Einrichtungsassistent"},component:()=>w(()=>import("./InstallAssistant-6d2c34f9.js"),["assets/InstallAssistant-6d2c34f9.js","assets/dynamic-import-helper-be004503.js","assets/vendor-a21b3a62.js","assets/vendor-sortablejs-3016fed8.js","assets/vendor-aab9f734.css","assets/vendor-fortawesome-41164876.js","assets/vendor-bootstrap-d0c3645c.js","assets/vendor-jquery-a5dbbab1.js","assets/vendor-bootstrap-c4951098.css","assets/vendor-axios-0e6de98a.js"])}];U.push({path:"/TestingStore",name:"VUEX Store",meta:{heading:"Beispiele - VUEX Store"},component:()=>w(()=>import("./TestingStore-c3e1bdb5.js"),["assets/TestingStore-c3e1bdb5.js","assets/OpenwbSortableList-3ce7f991.js","assets/vendor-a21b3a62.js","assets/vendor-sortablejs-3016fed8.js","assets/vendor-aab9f734.css","assets/vendor-fortawesome-41164876.js","assets/OpenwbSortableList-7ba533e4.css","assets/vendor-bootstrap-d0c3645c.js","assets/vendor-jquery-a5dbbab1.js","assets/vendor-bootstrap-c4951098.css","assets/vendor-axios-0e6de98a.js"])});const E=ee({history:te(),routes:U});E.beforeEach(async t=>{if(await H.getters.usageTermsAcknowledged){if(!await H.getters.installAssistantDone&&t.name!=="InstallAssistant")return{name:"InstallAssistant"}}else if(t.name!=="LegalSettings")return{name:"LegalSettings"}});E.afterEach(t=>{t.meta.heading?document.title="openWB | "+t.meta.heading:document.title="openWB"});const L=se(Lo);L.use(H).use(E).use(He,De);const Ro=Object.assign({"./components/OpenwbBaseAlert.vue":We,"./components/OpenwbBaseArrayInput.vue":tt,"./components/OpenwbBaseAvatar.vue":lt,"./components/OpenwbBaseButtonGroupInput.vue":ht,"./components/OpenwbBaseButtonInput.vue":Bt,"./components/OpenwbBaseCard.vue":qt,"./components/OpenwbBaseCheckboxInput.vue":Rt,"./components/OpenwbBaseClickButton.vue":zt,"./components/OpenwbBaseCopyToClipboard.vue":Yt,"./components/OpenwbBaseHeading.vue":os,"./components/OpenwbBaseModalDialog.vue":ms,"./components/OpenwbBaseNumberInput.vue":Os,"./components/OpenwbBaseRangeInput.vue":Es,"./components/OpenwbBaseSelectInput.vue":Qs,"./components/OpenwbBaseSubmitButtons.vue":on,"./components/OpenwbBaseTextInput.vue":Sn,"./components/OpenwbBaseTextarea.vue":Dn,"./components/OpenwbBaseToast.vue":Nn});Object.entries(Ro).forEach(([t,e])=>{const n=ne(oe(t.split("/").pop().replace(/\.\w+$/,"")));L.component(n,e.default)});L.mount("#app");export{N as C,w as _};
