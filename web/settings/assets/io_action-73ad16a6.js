import{a as b}from"./IoConfig-5ed626bf.js";import{O as v}from"./OpenwbIoSinglePattern-84bab335.js";import{_ as f,u as r,l as _,m as w,G as u,A as h,E as k,B as V,N as D}from"./vendor-3e356662.js";import"./vendor-fortawesome-ef7cec82.js";import"./index-cfd2d561.js";import"./vendor-bootstrap-0c918764.js";import"./vendor-jquery-dd8b8694.js";import"./vendor-axios-c995a1bc.js";import"./vendor-sortablejs-6ccb40db.js";import"./dynamic-import-helper-be004503.js";const x={name:"IoActionDimming",components:{OpenwbIoSinglePattern:v},mixins:[b],computed:{value:{get(){return this.ioAction.configuration.input_pattern},set(t){this.updateConfiguration(t,"configuration.input_pattern")}},ioDevicesOutputOptions(){let t=[];return this.availableIoDevices.forEach(e=>{let o=[];Object.keys(e==null?void 0:e.output.digital).forEach(a=>{o.push({text:`${a}`,value:{type:"io",id:e.id,digital_output:a}})}),o.length>0&&t.push({label:e.name,options:o})}),t},availableDevices(){return[{label:"Ladepunkte",options:this.availableChargePoints.map(t=>({value:{type:"cp",id:t.value},text:t.text}))}].concat(this.ioDevicesOutputOptions)}}};function A(t,e,o,a,O,n){var l,s,p,d;const m=r("openwb-io-single-pattern"),g=r("openwb-base-number-input"),c=r("openwb-base-select-input");return _(),w(D,null,[u(m,{modelValue:n.value,"onUpdate:modelValue":e[0]||(e[0]=i=>n.value=i),"digital-inputs":(s=(l=t.ioDevice)==null?void 0:l.input)==null?void 0:s.digital,"io-device":t.ioDevice},null,8,["modelValue","digital-inputs","io-device"]),u(g,{title:"maximale Bezugsleistung",unit:"kW",min:"0",step:"0.1",required:"",disabled:!(Object.keys(n.value[0].input_matrix).length>0),"model-value":((p=t.ioAction)==null?void 0:p.configuration.max_import_power)/1e3,"onUpdate:modelValue":e[1]||(e[1]=i=>t.updateConfiguration(i*1e3,"configuration.max_import_power"))},null,8,["disabled","model-value"]),e[4]||(e[4]=h("hr",null,null,-1)),u(c,{title:"Anwenden auf...",groups:n.availableDevices,required:"",multiple:"",disabled:!(Object.keys(n.value[0].input_matrix).length>0),"model-value":(d=t.ioAction)==null?void 0:d.configuration.devices,"onUpdate:modelValue":e[2]||(e[2]=i=>t.updateConfiguration(i,"configuration.devices"))},{help:k(()=>e[3]||(e[3]=[V(" Bitte die Ladepunkte und/oder digitale Ausgänge auswählen, welche berücksichtigt werden sollen. Es können mehrere Einträge ausgewählt werden. Bei steuerbaren Verbrauchseinrichtungen, die über einen digitalen Ausgang angesteuert werden, wird eine Leistung von 4,2 kW bei aktiver Dimmung angenommen. Ladepunkte werden so gesteuert, dass die angegebene Leistung am EVU-Punkt nicht überschritten wird. Dadurch wird eigene PV-Erzeugung verrechnet. ")])),_:1},8,["groups","disabled","model-value"])],64)}const W=f(x,[["render",A],["__file","/opt/openWB-dev/openwb-ui-settings/src/components/io_actions/controllable_consumers/dimming/io_action.vue"]]);export{W as default};
