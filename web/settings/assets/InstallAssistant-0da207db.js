import W from"./DataManagement-34fd8558.js";import D from"./System-fb2e3813.js";import $ from"./GeneralConfig-2d750c5d.js";import L from"./ChargePointInstallation-a82af7e2.js";import C from"./HardwareInstallation-bc90eb77.js";import _ from"./LoadManagementConfig-055e7370.js";import E from"./VehicleConfig-ab73bdde.js";import{C as A}from"./index-5ce27b86.js";import{l as I,a2 as F,a3 as V,F as M}from"./vendor-fortawesome-718f8bde.js";import{_ as Z,q as u,k as i,l as d,B as a,M as g,p as k,u as e,z as b,x as h,A as l,R as N,S as R}from"./vendor-493c2bec.js";import"./dynamic-import-helper-be004503.js";import"./OpenwbSortableList-4dae6aa4.js";import"./vendor-bootstrap-a615942d.js";import"./vendor-jquery-a64a4809.js";import"./vendor-axios-b1ba123b.js";import"./vendor-sortablejs-0b339223.js";I.add(F,V);const U={name:"InstallAssistant",mixins:[A],emits:["save","reset","default","sendCommand"],props:[],components:{FontAwesomeIcon:M,DataManagement:W,System:D,GeneralConfig:$,ChargePointInstallation:L,HardwareInstallation:C,LoadManagementConfig:_,VehicleConfig:E},data(){return{currentPage:0,prevent_err:0,pages:[{title:"Start"},{title:"Datenverwaltung"},{title:"System"},{title:"Allgemein"},{title:"Ladepunkte"},{title:"Geräte und Komponenten"},{title:"Lastmanagement"},{title:"Ladepunkte"},{title:"Lastmanagement"},{title:"Fahrzeuge"},{title:"Datenverwaltung"},{title:"Abgeschlossen"}]}},computed:{isLastPage(){return this.currentPage==this.pages.length-1}},methods:{nextPage(){this.isLastPage||(this.currentPage++,window.scrollTo(0,0)),this.$store.state.mqtt["openWB/general/extern"]!=!0&&this.currentPage==4?this.currentPage=5:console.warn("currentPage is already at lastPage")},previousPage(){this.currentPage&&(this.prevent_err=this.currentPage,this.currentPage--,window.scrollTo(0,0)),this.currentPage==4&&this.prevent_err==5&&(this.currentPage=5),this.currentPage==5&&(this.currentPage=3,this.prevent_err==6&&(this.currentPage=5)),this.prevent_err==6?this.prevent_err=0:console.warn("currentPage is already at 0")},endAssistant(){this.$store.state.mqtt["openWB/system/installAssistantDone"]||(this.updateState("openWB/system/installAssistantDone",!0),this.$root.doPublish("openWB/set/system/installAssistantDone",!0)),this.$router.push("/Status")}}},o=s=>(N("data-v-47c855c3"),s=s(),R(),s),G={class:"row justify-content-center mb-1"},K={class:"col-md-4 d-flex py-1 justify-content-center"},j={class:"col-md-4 d-flex py-1 justify-content-center"},H={class:"col-md-4 d-flex py-1 justify-content-center"},T={key:0,class:"p-2"},q=o(()=>e("h2",null," Vielen Dank, dass Du Dich für openWB entschieden hast. ",-1)),O=o(()=>e("p",null," Dieser Assistent führt Dich durch die Konfiguration der einzelnen Module: ",-1)),x=o(()=>e("ol",null,[e("li",null,"Datenverwaltung"),e("li",null,"Update des Systems"),e("li",null,"Auswahl primary / secondary openWB"),e("li",null,"Einrichten der Geräte und Komponenten"),e("li",null,"Konfiguration von Geräten und Komponenten"),e("li",null,"Konfiguration Lastmanagement"),e("li",null,"Einrichten der Ladepunkte"),e("li",null,"Einrichten der Fahrzeuge"),e("li",null,"Sicherung der Erstkonfiguration")],-1)),J=[q,O,x],Q={key:1,class:"row m-0"},X=o(()=>e("div",{class:"page-help-text col-md-3 py-2"},[e("p",null," Sicherung erzeugen wenn der Assistent erneut ausgeführt wird und die openWB bereits im Einsatz war. "),e("p",null," Dadurch werden gesammelte Daten/Einstellungen gesichert und können wieder hergestellt werden. "),e("p",null," Es wird empfohlen regelmäßige Sicherungen der Daten zu erstellen. "),e("p",null," Dieser Schritt kann auch übersprungen werden. ")],-1)),Y={class:"col py-2"},ee={key:2,class:"row m-0"},ne=o(()=>e("div",{class:"page-help-text col-md-3 py-2"},[e("p",null," Ein System Update durchführen um die Software auf den neuesten Stand zu bringen. "),e("p",null," Das garantiert, dass die openWB mit den neuesten Features und Funktionen ausgestattet ist. "),e("p",null," Dazu Warnung akzeptieren, auf Versions-Information / Aktualisierung gehen, Informationen aktualisieren und falls ein Update verfügbar ist, wird der Update button grün und kann bei Bedarf gedrückt werden. "),e("p",null," Dieser Schritt kann auch übersprungen werden. ")],-1)),te={class:"col py-2"},se={key:3,class:"row m-0"},re=o(()=>e("div",{class:"page-help-text col-md-3 py-2"},[e("p",null," Hier wird abgefragt, ob ihr System mit mehreren openWBs oder nur mit einer openWB betrieben wird. Eine openWB kann andere openWBs steuern, wobei für jeden Ladepunkt eine openWB benötigt wird. "),e("p",null," Beim ersten Konfigurieren reicht es meist aus das Feld Steuerungsmodus (primary oder secondary) anzuwählen. "),e("p",null," Eine openWB standalone hat keinen Ladepunkt (nur primary). Eine openWB Standard(+), custom, Duo und Buchse können als primary oder secondary betrieben werden. Eine openWB Pro und Satellit können nur als secondary (als ein Ladepunkt) angeschlossen werden.Eine openWB Duo kann zwei Ladepunkte bedienen. "),e("p",null," Die Steuerung über Modbus dient zur Fernsteuerung über ein Nicht- openWB-System und sollte nicht gewählt werden, wenn Sie nur openWBs besitzen und die openWB-Software zur Steuerung nutzen wollen. "),e("p",{class:"font-weight-bold"}," Änderungen werden nur bei klicken auf speichern wirksam ")],-1)),ie={class:"col py-2"},oe={key:4,class:"row m-0"},ae=o(()=>e("div",{class:"page-help-text col-md-3 py-2"},[e("p",null,' Diese openWB wurde als "secondary" konfiguriert und wird von einer anderen openWB ferngesteuert. '),e("p",null,' Tragen Sie unter Ladepunkte bei verfügbare Ladepunkte "Interne openWB" ein und wählen Sie die Bauart der openWB (z.B. openWB series 1/2 custom, Standard (+) oder Buchse) aus. '),e("p",null," Wenn eine openWB Duo gewählt wurde, können zwei Ladepunkte mit Ladepunkt-Nummer 1 und 2 konfiguriert werden. Bei der openWB Pro sind keine Einstellungen notwendig. "),e("p",null," Es sind keine weiteren Einstellungen notwendig. Der Assistent kann nach drücken von speichern beendet werden. "),e("p",{class:"font-weight-bold"}," Änderungen werden nur bei klicken auf speichern wirksam ")],-1)),le={class:"col py-2"},de={key:5,class:"row m-0"},ue=o(()=>e("div",{class:"page-help-text col-md-3 py-2"},[e("p",null,' Diese openWB wurde als "primary" konfiguriert und übernimmt die Steuerung anderer openWBs, falls vorhanden sowie die alleinige Regelung des Systems. Dazu müssen im Folgenden die Geräte und Komponenten eingerichtet werden. '),e("p",null,"Zuerst wird der EVU-Zähler eingerichtet."),e("p",null," Für jedes verfügbare Gerät eine IP-Adresse vergeben und für jedes verfügbare Gerät auch Zähler, Wechselrichter und falls vorhanden Speicher hinzufügen. "),e("p",null," Hier ein PV-Kit auszuwählen dient nur der Visualisierung in openWB, denn die PV wird automatisch mitgerechnet, wenn die openWB an den EVU-Zähler angeschlossen ist. "),e("p",{class:"font-weight-bold"}," Änderungen werden nur bei klicken auf speichern wirksam ")],-1)),me={class:"col py-2"},ge={key:6,class:"row m-0"},pe=o(()=>e("div",{class:"page-help-text col-md-3 py-2"},[e("p",null," Im Lastmanagement werden die maximale Leistung sowie die maximalen Ströme für jede Phase des Zählermoduls sowie die maximale Ausgangsleistung des Wechselrichters der PV Anlage eingetragen, falls eine solche vorhanden ist. "),e("p",null," Der erste Zähler ist in der Regel der Zähler am EVU-Punkt (also der letzte Punkt im Haus vor dem Verbrauchszähler des Energieversorgers) - hier muss die maximale Leistung eingetragen werden, die der Hausanschluss verträgt und nicht die Anschlussleistung der openWB. "),e("p",null," Es ist außerdem die Struktur des Lastmanagements zu überprüfen und ggf. anzupassen. Im Normalfall befinden sich Speicher und Wechselrichter in einer Ebene innerhalb des EVU-Zählers. "),e("p",null," Zwischenzähler können beliebig kaskadiert sein. Spezialfälle stellen Hybrid-Speicher, Solaredge mit mehreren Wechselrichtern sowie bspw. Victronspeicher mit integriertem Zähler dar. "),e("p",null," Werden hier keine vorhandenen Zählermodule oder Wechselrichtermodule angezeigt, dann bitte einen Schritt zurück und die entsprechenden Geräte und Komponenten hinzufügen. "),e("p",{class:"font-weight-bold"}," Änderungen werden nur bei klicken auf speichern wirksam ")],-1)),he={class:"col py-2"},ce={key:7,class:"row m-0"},fe=o(()=>e("div",{class:"page-help-text col-md-3 py-2"},[e("p",null,' Enthält die steuernde openWB Ladetechnik wird bei verfügbarer Ladepunkt "Interne openWB" ausgewählt. Ansonsten wird "Externe openWB" und Bauart (der secondary openWB) ausgewählt und die IP-Adresse der anderen openWB (secondary openWB) und Ladepunkt-Nummer eingetragen. Bei der openWB Duo als secondary openWB sind zwei Ladepunkte mit der Nummer 1 und 2 hinzuzufügen. '),e("p",null," Als weitere Hardware-Optionen können Phasenumschaltung, Control-Pilot-Unterbrechung, Anzahl angeschlossener Phasen sowie Phase 1 des Ladekabels konfiguriert werden. Jede openWB mit Phasenumschaltung kann auch Control-Pilot-Unterbrechung, wobei bei openWBs ohne Phasenumschaltung ist diese Option aufrüstbar. Bei mehreren openWBs ist es sinnvoll die Ladepunkte auf unterschiedliche Phasen aufzuteilen. "),e("p",null," Die Phase der Wallbox-Zuleitung muss korrekt ausgewählt werden, sonst ist eine Überlastung möglich, wenn bei einphasiger Ladung alle Ladepunkte auf derselben Phase liegen und gleichzeitig Strom ziehen. "),e("p",null," Im Menü Ladepunkt-Profile können Eintragungen bzgl. des Maximalstroms bei einer Phase bzw. mehreren Phasen vorgenommen werden sowie eine automatische Sperre eingerichtet und Zeitpläne dafür angelegt werden. "),e("p",{class:"font-weight-bold"}," Änderungen werden nur bei klicken auf speichern wirksam ")],-1)),we={class:"col py-2"},ve={key:8,class:"row m-0"},ke=o(()=>e("div",{class:"page-help-text col-md-3 py-2"},[e("p",null," Nachdem die Geräte konfiguriert und die Ladepunkte eingerichtet wurden, wird abschließend nochmal ein Blick auf das Lastmanagement geworfen. Dazu öffnet man den Menüpunkt Struktur. "),e("p",null," Im Normalfall befinden sich Speicher und Wechselrichter beide in einer Ebene innerhalb des EVU- Zählers. "),e("p",null," Die Ladepunkte (z.B. Externe openWB custom, Duo,...) befinden sich dann auch in derselben Ebene wie der Speicher und der Wechselrichter innerhalb der Ebene des EVU-Zählers. "),e("p",null," Wenn alles ok ist, kann dieser Schritt ohne weitere Anpassungen beendet werden. "),e("p",{class:"font-weight-bold"}," Änderungen werden nur bei klicken auf speichern wirksam ")],-1)),be={class:"col py-2"},Pe={key:9,class:"row m-0"},Se=o(()=>e("div",{class:"page-help-text col-md-3 py-2"},[e("p",null," Zuerst Fahrzeug-Profile und Lade- Profile konfigurieren. In den meisten Fällen reicht das Standard-Fahrzeug-Profil aus, vor allem wenn alle Autos mit dem gleichen Lademodus geladen werden oder eigene Profile definieren. "),e("p",null," Für jedes Modell eine Vorlage auswählen und die Einstellungen Mindeststromstärke, Maximalstromstärke bei einer/mehreren Phase/n sowie Angaben zur Batterie und Handhabung der Phasen entsprechend den Daten des Automobilherstellers eintragen. Im Zweifelsfall den Hersteller des Autos fragen. "),e("p",null," In den meisten Fällen sind die Einstellungen im Standard-Lade- Profil für sofortiges Laden ausreichend, eventuell Soll- Ladestrom anpassen. Ansonsten ein eigenes Lade-Profil anlegen. Dann Fahrzeug anlegen und Fahrzeug-Profil und Ladeprofil dem entsprechenden Fahrzeug zuordnen. "),e("p",null," Sind am Standort mehrere Fahrzeuge vorhanden und sollen diese in unterschiedlichen Modi geladen werden (z.B. eines mit PV- Überschuss und eines mit Modus Sofortladen), dann ist für jedes Fahrzeug ein eigenes Lade-Profil anzulegen. "),e("p",{class:"font-weight-bold"}," Wichtig: Die Phasigkeit des Fahrzeugs ist richtig einzutragen! "),e("p",null," Kennt man die Phasigkeit des Fahrzeugs nicht (z.B. Besucherfahrzeug) besser ein Besucherfahrzeugprofil anlegen, welches die Phasenumschaltung unterdrückt. "),e("p",{class:"font-weight-bold"}," Änderungen werden nur bei klicken auf speichern wirksam ")],-1)),Be={class:"col py-2"},ye={key:10,class:"row m-0"},ze=o(()=>e("div",{class:"page-help-text col-md-3 py-2"},[e("p",null," Zum Schluss eine Sicherung der vorgenommenen Konfiguration anfertigen, falls gewünscht. ")],-1)),We={class:"col py-2"},De={key:11},$e=o(()=>e("h2",null," Die Grundkonfiguration ist jetzt abgeschlossen. ",-1)),Le=o(()=>e("p",null," Bitte überprüfe die Ergebnisse im Status und passe bei Unstimmigkeiten die Einstellungen an. ",-1)),Ce=[$e,Le];function _e(s,n,Ee,Ae,r,m){const c=u("font-awesome-icon"),p=u("openwb-base-click-button"),f=u("DataManagement"),P=u("System"),S=u("GeneralConfig"),w=u("ChargePointInstallation"),B=u("HardwareInstallation"),v=u("LoadManagementConfig"),y=u("VehicleConfig"),z=u("openwb-base-card");return i(),d("div",null,[a(z,{title:r.currentPage+1+". "+r.pages[r.currentPage].title,class:k(r.currentPage>0&&!m.isLastPage?"p-0":"")},{footer:g(()=>[e("div",G,[e("div",K,[r.currentPage>0?(i(),b(p,{key:0,class:"btn-block btn-warning",onButtonClicked:n[0]||(n[0]=t=>m.previousPage())},{default:g(()=>[a(c,{"fixed-width":"",icon:["fas","caret-left"]}),h(" Zurück ")]),_:1})):l("",!0)]),e("div",j,[!m.isLastPage&&r.currentPage!=4?(i(),b(p,{key:0,class:"btn-block btn-success",onButtonClicked:n[1]||(n[1]=t=>m.nextPage())},{default:g(()=>[h(" Weiter "),a(c,{"fixed-width":"",icon:["fas","caret-right"]})]),_:1})):l("",!0)]),e("div",H,[a(p,{class:k("btn-block btn-"+(m.isLastPage?"success":"danger")),onButtonClicked:n[2]||(n[2]=t=>m.endAssistant())},{default:g(()=>[h(" Assistent beenden ")]),_:1},8,["class"])])])]),default:g(()=>[r.currentPage==0?(i(),d("div",T,[...J])):l("",!0),r.currentPage==1?(i(),d("div",Q,[X,e("div",Y,[a(f,{formName:"cloudBackupForm",hideReset:!0,hideDefaults:!0,onSave:n[3]||(n[3]=t=>s.$emit("save")),onReset:n[4]||(n[4]=t=>s.$emit("reset")),onDefaults:n[5]||(n[5]=t=>s.$emit("defaults")),onSendCommand:n[6]||(n[6]=t=>s.$emit("sendCommand",t))})])])):l("",!0),r.currentPage==2?(i(),d("div",ee,[ne,e("div",te,[a(P,{onSendCommand:n[7]||(n[7]=t=>s.$emit("sendCommand",t))})])])):l("",!0),r.currentPage==3?(i(),d("div",se,[re,e("div",ie,[a(S,{formName:"generalConfigForm",onSave:n[8]||(n[8]=t=>s.$emit("save")),onReset:n[9]||(n[9]=t=>s.$emit("reset")),onDefaults:n[10]||(n[10]=t=>s.$emit("defaults"))})])])):l("",!0),r.currentPage==4?(i(),d("div",oe,[ae,e("div",le,[a(w,{onSave:n[11]||(n[11]=t=>s.$emit("save")),onReset:n[12]||(n[12]=t=>s.$emit("reset")),onDefaults:n[13]||(n[13]=t=>s.$emit("defaults")),onSendCommand:n[14]||(n[14]=t=>s.$emit("sendCommand",t))})])])):l("",!0),r.currentPage==5?(i(),d("div",de,[ue,e("div",me,[a(B,{onSave:n[15]||(n[15]=t=>s.$emit("save")),onReset:n[16]||(n[16]=t=>s.$emit("reset")),onDefaults:n[17]||(n[17]=t=>s.$emit("defaults")),onSendCommand:n[18]||(n[18]=t=>s.$emit("sendCommand",t))})])])):l("",!0),r.currentPage==6?(i(),d("div",ge,[pe,e("div",he,[a(v,{formName:"loadManagementConfigForm",onSave:n[19]||(n[19]=t=>s.$emit("save")),onReset:n[20]||(n[20]=t=>s.$emit("reset")),onDefaults:n[21]||(n[21]=t=>s.$emit("defaults"))})])])):l("",!0),r.currentPage==7?(i(),d("div",ce,[fe,e("div",we,[a(w,{onSave:n[22]||(n[22]=t=>s.$emit("save")),onReset:n[23]||(n[23]=t=>s.$emit("reset")),onDefaults:n[24]||(n[24]=t=>s.$emit("defaults")),onSendCommand:n[25]||(n[25]=t=>s.$emit("sendCommand",t))})])])):l("",!0),r.currentPage==8?(i(),d("div",ve,[ke,e("div",be,[a(v,{formName:"loadManagementConfigForm",onSave:n[26]||(n[26]=t=>s.$emit("save")),onReset:n[27]||(n[27]=t=>s.$emit("reset")),onDefaults:n[28]||(n[28]=t=>s.$emit("defaults"))})])])):l("",!0),r.currentPage==9?(i(),d("div",Pe,[Se,e("div",Be,[a(y,{onSave:n[29]||(n[29]=t=>s.$emit("save")),onReset:n[30]||(n[30]=t=>s.$emit("reset")),onDefaults:n[31]||(n[31]=t=>s.$emit("defaults")),onSendCommand:n[32]||(n[32]=t=>s.$emit("sendCommand",t))})])])):l("",!0),r.currentPage==10?(i(),d("div",ye,[ze,e("div",We,[a(f,{formName:"cloudBackupForm",hideReset:!0,hideDefaults:!0,onSave:n[33]||(n[33]=t=>s.$emit("save")),onReset:n[34]||(n[34]=t=>s.$emit("reset")),onDefaults:n[35]||(n[35]=t=>s.$emit("defaults")),onSendCommand:n[36]||(n[36]=t=>s.$emit("sendCommand",t))})])])):l("",!0),m.isLastPage?(i(),d("div",De,[...Ce])):l("",!0)]),_:1},8,["title","class"])])}const Je=Z(U,[["render",_e],["__scopeId","data-v-47c855c3"],["__file","/opt/openWB-dev/openwb-ui-settings/src/views/InstallAssistant.vue"]]);export{Je as default};
