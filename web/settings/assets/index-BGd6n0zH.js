const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Status-CCpM5j7j.js","assets/vendor-fortawesome-2rHPxBiM.js","assets/vendor-BuEZ7_tV.js","assets/vendor-sortablejs-DntTU6yg.js","assets/vendor-D1GV4U4l.css","assets/vendor-chartjs-ToPnxDR_.js","assets/vendor-luxon-BDx6lZXm.js","assets/vendor-bootstrap-Bp8-4ina.js","assets/vendor-jquery-CEMonh9Y.js","assets/vendor-bootstrap-Ct-dCSDz.css","assets/vendor-axios-t3FRgHRH.js","assets/Status-C2EBkHqs.css","assets/ChargeLog-CiaEmIrn.js","assets/ChargeLog-D2ZLixbI.css","assets/Chart-Cjo9hfa6.js","assets/Chart-BggLkBbQ.css","assets/GeneralConfig-Bu0sOa1v.js","assets/dynamic-import-helper-BheWnx7M.js","assets/IdentificationConfig-MyRVbmMQ.js","assets/OptionalComponents-Bkbbpt9i.js","assets/GeneralChargeConfig-BPj8lOPS.js","assets/SurplusChargeConfig-XaFKLAaK.js","assets/ActiveBatControl-BJmYKWm4.js","assets/HardwareInstallation-DrtWXhYy.js","assets/LoadManagementConfig-DPCLS7WD.js","assets/OpenwbSortableList-L4hUnMdB.js","assets/OpenwbSortableList-C11EhIQj.css","assets/ChargePointInstallation-CLrs_oYU.js","assets/ChargePointInstallation-37TSBtDo.css","assets/VehicleConfig-BdmgzQk3.js","assets/IoConfig-3U8tXcXh.js","assets/CloudConfig-CEAS4vFE.js","assets/MqttBridgeConfig-DAkienwg.js","assets/DebugConfig-CR80Wkgc.js","assets/DebugConfig-CN753w98.css","assets/Support-kYy9IRKZ.js","assets/LegalSettings-BsDMPIf1.js","assets/System-tu-7eCtQ.js","assets/System-mIkhU2_b.css","assets/Security-CJ9EUBHN.js","assets/DataManagement-DyXuJ6mh.js","assets/InstallAssistant-BV-ggDqH.js","assets/TestingStore-D-6hgSF0.js"])))=>i.map(i=>d[i]);
import{_ as k,f as d,j as h,k as S,l as a,m as b,q as m,u as i,x as _,y as E,z as g,A as P,D as p,E as B,F as f,G as C,I as H,J as V,K as y,L as M,M as q,N as Z,O as re,P as de,Q as ue,R as ce,T as j,S as G,n as pe,U as me,V as fe,W as ge,X as be,Y as he,Z as _e,$ as ve,a0 as ye}from"./vendor-BuEZ7_tV.js";import{l as I,f as Q,a as Y,F as A,b as we,c as ke,d as R,e as Se,g as N,h as $e,i as Ce,j as Be,k as Oe,m as Ie,n as Ae,o as Me,p as Te,q as Ve,r as qe,s as Pe,t as De,u as Le,v as Ee,w as X,x as xe,y as We,z as je,A as Re,B as Ne,C as ee,D as ze,E as Ue,G as Fe,H as He,I as Ge,J as Ke,K as Je,L as Ze,M as Qe,N as Ye,O as Xe,P as te,Q as et,R as tt,S as st}from"./vendor-fortawesome-2rHPxBiM.js";import"./vendor-bootstrap-Bp8-4ina.js";import{p as nt,a as ot}from"./vendor-axios-t3FRgHRH.js";import"./vendor-sortablejs-DntTU6yg.js";import"./vendor-jquery-CEMonh9Y.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))u(l);new MutationObserver(l=>{for(const n of l)if(n.type==="childList")for(const o of n.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&u(o)}).observe(document,{childList:!0,subtree:!0});function s(l){const n={};return l.integrity&&(n.integrity=l.integrity),l.referrerPolicy&&(n.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?n.credentials="include":l.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function u(l){if(l.ep)return;l.ep=!0;const n=s(l);fetch(l.href,n)}})();const at={name:"OpenwbAlert",props:{subtype:{validator:function(e){return["info","success","warning","danger","primary","secondary","light","dark"].indexOf(e)!==-1},default:"secondary"}}};function it(e,t,s,u,l,n){return a(),d("div",{class:S(["card-text alert","alert-"+s.subtype])},[h(e.$slots,"default",{},void 0,!0)],2)}const lt=k(at,[["render",it],["__scopeId","data-v-055c15aa"],["__file","/opt/openWB-dev/openwb-ui-settings/src/components/OpenwbBaseAlert.vue"]]),rt=Object.freeze(Object.defineProperty({__proto__:null,default:lt},Symbol.toStringTag,{value:"Module"}));I.add(Q,Y);const dt={name:"OpenwbBaseSettingElement",components:{FontAwesomeIcon:A},data(){return{showHelp:!1}},methods:{toggleHelp(){this.showHelp=!this.showHelp&&this.$slots.help!==void 0}}},ut={key:0,class:"col-md-4 col-form-label"},ct={class:"form-row"},pt={key:0,class:"form-text alert alert-info my-1 small flex-fill"};function mt(e,t,s,u,l,n){const o=b("font-awesome-icon");return a(),d("div",{class:S(["form-row",e.$slots.title?"mb-1":"mx-0"])},[e.$slots.title?(a(),d("div",ut,[h(e.$slots,"title",{},void 0,!0),e.$slots.help?(a(),_(o,{key:0,icon:l.showHelp?["fas","question-circle"]:["far","question-circle"],class:S(["clickable ml-1",l.showHelp?"text-info":""]),onClick:E(n.toggleHelp,["stop"])},null,8,["icon","class","onClick"])):m("",!0)])):m("",!0),i("div",{class:S(e.$slots.title?"col-md-8":"col px-0")},[i("div",{class:S({"form-row":e.$slots.title})},[h(e.$slots,"default",{},()=>[t[0]||(t[0]=g("*ELEMENT MISSING*",-1))],!0)],2),i("div",ct,[l.showHelp?(a(),d("span",pt,[h(e.$slots,"help",{},void 0,!0)])):m("",!0)])],2)],2)}const D=k(dt,[["render",mt],["__scopeId","data-v-33864f66"],["__file","/opt/openWB-dev/openwb-ui-settings/src/components/OpenwbBaseSettingElement.vue"]]),ft=Object.freeze(Object.defineProperty({__proto__:null,default:D},Symbol.toStringTag,{value:"Module"})),gt={name:"BaseSettingComponents",data(){return{uid:Math.random().toString(36).substring(2,15)}}},L=k(gt,[["__file","/opt/openWB-dev/openwb-ui-settings/src/components/mixins/BaseSettingComponents.vue"]]);I.add(we,ke,R,Se);const bt={name:"OpenwbArrayInput",components:{FontAwesomeIcon:A,OpenwbBaseSettingElement:D},mixins:[L],inheritAttrs:!1,props:{title:{type:String,required:!0},modelValue:{type:Array,default:()=>[]},validElements:{type:Array,default:()=>null},noElementsMessage:{type:String,default:()=>"Keine Elemente zugeordnet."},readonly:{type:Boolean,default:()=>!1}},emits:["update:modelValue"],data(){return{newTag:""}},computed:{value:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}},remainingElements(){return this.validElements===null?null:this.validElements.filter(e=>!this.value.includes(e))},newTagValid:{get(){return this.newTag.length>0&&!this.value.includes(this.newTag)&&(this.validElements===null||this.validElements.includes(this.newTag))&&this.$refs.tagInput?.checkValidity()}}},methods:{addTag(){if(this.newTagValid){const e=[...this.value,this.newTag].sort();this.value=e,this.newTag=""}this.$refs.tagInput.focus()},removeTag(e){let t=[...this.value];t.splice(e,1),this.value=t}}},ht={key:0,class:"w-100"},_t={class:"input-group"},vt={class:"input-group-prepend"},yt={class:"input-group-text"},wt=["id"],kt=["id"],St={value:"",disabled:""},$t=["value"],Ct={class:"input-group-append"},Bt={class:"tagList mt-1 w-100"},Ot={key:0,class:"noTag"};function It(e,t,s,u,l,n){const o=b("font-awesome-icon"),c=b("openwb-base-setting-element");return a(),_(c,null,P({title:p(()=>[h(e.$slots,"title",{},()=>[g(y(s.title),1)],!0)]),default:p(()=>[s.readonly?m("",!0):(a(),d("div",ht,[i("div",_t,[i("div",vt,[i("div",yt,[h(e.$slots,"input-prefix",{},()=>[f(o,{icon:["fas","tag"]})],!0)])]),s.validElements===null?B((a(),d("input",C({key:0,id:`${e.uid}-tag-input`,ref:"tagInput","onUpdate:modelValue":t[0]||(t[0]=r=>l.newTag=r),type:"text",class:"form-control"},e.$attrs,{onKeyup:t[1]||(t[1]=H((...r)=>n.addTag&&n.addTag(...r),["enter"]))}),null,16,wt)),[[V,l.newTag]]):B((a(),d("select",C({key:1,id:`${e.uid}-tag-input`,ref:"tagInput","onUpdate:modelValue":t[2]||(t[2]=r=>l.newTag=r),class:"form-control"},e.$attrs,{onKeyup:t[3]||(t[3]=H((...r)=>n.addTag&&n.addTag(...r),["enter"]))}),[i("option",St,y(n.remainingElements.length>0?"Bitte wählen...":"Keine weiteren Optionen verfügbar"),1),(a(!0),d(M,null,q(n.remainingElements,(r,v)=>(a(),d("option",{key:v,value:r},y(r),9,$t))),128))],16,kt)),[[Z,l.newTag]]),i("div",Ct,[i("div",{class:S(["input-group-text",n.newTagValid?"bg-success clickable":"not-clickable"]),onClick:t[4]||(t[4]=(...r)=>n.addTag&&n.addTag(...r))},[h(e.$slots,"input-add",{},()=>[f(o,{icon:["fas","plus"]})],!0)],2)])])])),i("div",Bt,[n.value.length==0?(a(),d("span",Ot,[f(o,{icon:["fas","info-circle"]}),g(" "+y(s.noElementsMessage),1)])):m("",!0),(a(!0),d(M,null,q(n.value,(r,v)=>(a(),d("span",{key:v,class:"tag"},[h(e.$slots,"element-prefix",{},()=>[f(o,{icon:["fas","tag"]})],!0),g(" "+y(r)+" ",1),s.readonly?m("",!0):(a(),_(o,{key:0,class:"clickable remove-element",icon:["fas","times-circle"],onClick:w=>n.removeTag(v)},null,8,["onClick"]))]))),128))])]),_:2},[e.$slots.help?{name:"help",fn:p(()=>[h(e.$slots,"help",{},void 0,!0)]),key:"0"}:void 0]),1024)}const At=k(bt,[["render",It],["__scopeId","data-v-9de93d37"],["__file","/opt/openWB-dev/openwb-ui-settings/src/components/OpenwbBaseArrayInput.vue"]]),Mt=Object.freeze(Object.defineProperty({__proto__:null,default:At},Symbol.toStringTag,{value:"Module"})),Tt={name:"OpenwbAvatar"},Vt={class:"avatar"};function qt(e,t,s,u,l,n){return a(),d("div",Vt,[h(e.$slots,"default",{},()=>[t[0]||(t[0]=g("?",-1))],!0)])}const Pt=k(Tt,[["render",qt],["__scopeId","data-v-06082a1a"],["__file","/opt/openWB-dev/openwb-ui-settings/src/components/OpenwbBaseAvatar.vue"]]),Dt=Object.freeze(Object.defineProperty({__proto__:null,default:Pt},Symbol.toStringTag,{value:"Module"}));I.add(N);const Lt={name:"OpenwbButtonRow",components:{FontAwesomeIcon:A},inheritAttrs:!1,props:{buttons:{type:Array,required:!0},modelValue:{type:[String,Number,Boolean],default:null},disabled:{type:Boolean,default:!1},uid:{type:String,required:!0}},emits:["update:modelValue","button-click"],computed:{value:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}}}},Et={class:"btn-group btn-block btn-group-toggle"},xt=["for"],Wt=["id","value","disabled","onClick"];function jt(e,t,s,u,l,n){const o=b("font-awesome-icon");return a(),d("div",Et,[(a(!0),d(M,null,q(s.buttons,c=>(a(),d("label",{key:c.buttonValue,class:S(["btn btn-same-size btn-centered",[{active:s.modelValue===c.buttonValue},{disabled:s.disabled},c.class?c.class:"btn-outline-info"]]),for:`${s.uid}-${c.buttonValue}`},[i("span",null,[B(i("input",C({id:`${s.uid}-${c.buttonValue}`,"onUpdate:modelValue":t[0]||(t[0]=r=>n.value=r),type:"radio",value:c.buttonValue},{ref_for:!0},e.$attrs,{disabled:s.disabled,onClick:r=>e.$emit("button-click",c.buttonValue)}),null,16,Wt),[[re,n.value]]),h(e.$slots,"label-"+c.buttonValue,{},()=>[g(y(c.text),1)],!0),t[1]||(t[1]=i("span",null," ",-1)),f(o,{icon:["fas","check"],style:de([n.value==c.buttonValue?"visibility: visible":"visibility: hidden"])},null,8,["style"])])],10,xt))),128))])}const se=k(Lt,[["render",jt],["__scopeId","data-v-4bd221b6"],["__file","/opt/openWB-dev/openwb-ui-settings/src/components/OpenwbBaseButtonRow.vue"]]),Rt=Object.freeze(Object.defineProperty({__proto__:null,default:se},Symbol.toStringTag,{value:"Module"})),Nt={name:"OpenwbButtonGroupInput",components:{OpenwbBaseSettingElement:D,OpenwbBaseButtonRow:se},mixins:[L],inheritAttrs:!1,props:{title:{type:String,required:!1,default:""},modelValue:{type:[String,Number,Boolean],default:void 0},buttons:{type:Array,required:!0},disabled:{type:Boolean,required:!1,default:!1},maxButtonsPerRow:{type:Number,default:Number.POSITIVE_INFINITY}},emits:["update:modelValue","button-click"],data(){return{containerWidth:0}},computed:{value:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}},maxButtonsPerRowAuto(){return this.containerWidth<=200?1:this.containerWidth<=360?2:this.containerWidth<=550?3:1/0},buttonRows(){const e=[];for(let t=0;t<this.buttons.length;t+=this.maxButtonsPerRowAuto)e.push(this.buttons.slice(t,t+this.maxButtonsPerRowAuto));return e},screenSizeXs(){return this.containerWidth<=360},screenSizeSm(){return this.containerWidth<=550},screenSizeMd(){return this.containerWidth<=1024}},mounted(){this.updateContainerWidth(),window.addEventListener("resize",this.updateContainerWidth)},beforeUnmount(){window.removeEventListener("resize",this.updateContainerWidth)},methods:{updateContainerWidth(){const e=this.$refs.container;e&&(this.containerWidth=e.offsetWidth)}}},zt={ref:"container",class:"btn-group-multi"};function Ut(e,t,s,u,l,n){const o=b("openwb-base-button-row"),c=b("openwb-base-setting-element");return a(),_(c,null,P({title:p(()=>[h(e.$slots,"title",{},()=>[g(y(s.title),1)],!0)]),default:p(()=>[i("div",zt,[(a(!0),d(M,null,q(n.buttonRows,(r,v)=>(a(),_(o,C({key:v,buttons:r,uid:e.uid,"model-value":n.value,disabled:s.disabled},{ref_for:!0},e.$attrs,{"onUpdate:modelValue":t[0]||(t[0]=w=>n.value=w),onButtonClick:t[1]||(t[1]=w=>e.$emit("button-click",w))}),P({_:2},[q(r,w=>({name:`label-${w.buttonValue}`,fn:p(T=>[h(e.$slots,`label-${w.buttonValue}`,C({ref_for:!0},T),void 0,!0)])}))]),1040,["buttons","uid","model-value","disabled"]))),128))],512)]),_:2},[e.$slots.help?{name:"help",fn:p(()=>[h(e.$slots,"help",{},void 0,!0)]),key:"0"}:void 0]),1024)}const Ft=k(Nt,[["render",Ut],["__scopeId","data-v-31e583df"],["__file","/opt/openWB-dev/openwb-ui-settings/src/components/OpenwbBaseButtonGroupInput.vue"]]),Ht=Object.freeze(Object.defineProperty({__proto__:null,default:Ft},Symbol.toStringTag,{value:"Module"})),Gt={name:"OpenwbClickButton",props:{title:{type:String,required:!1,default:""},tooltip:{type:String,required:!1,default:""}},emits:["buttonClicked"],methods:{click(e){this.$emit("buttonClicked",e)}}},Kt=["title"];function Jt(e,t,s,u,l,n){return a(),d("button",{type:"button",class:"btn btn-block",title:s.tooltip,onClick:t[0]||(t[0]=E((...o)=>n.click&&n.click(...o),["prevent"]))},[h(e.$slots,"default",{},()=>[g(y(s.title),1)],!0)],8,Kt)}const ne=k(Gt,[["render",Jt],["__scopeId","data-v-2e9c095b"],["__file","/opt/openWB-dev/openwb-ui-settings/src/components/OpenwbBaseClickButton.vue"]]),Zt=Object.freeze(Object.defineProperty({__proto__:null,default:ne},Symbol.toStringTag,{value:"Module"})),Qt={name:"OpenwbButtonInput",components:{OpenwbBaseSettingElement:D,OpenwbBaseClickButton:ne},inheritAttrs:!1,props:{title:{type:String,required:!1,default:""},buttonText:{type:String,required:!1,default:void 0},disabled:{type:Boolean,default:!1},subtype:{type:String,validator:function(e){return["info","success","warning","danger","primary","secondary","light","dark"].indexOf(e)!==-1},default:"secondary"}},emits:["buttonClicked"],methods:{handleClick(e){this.$emit("buttonClicked",e)}}};function Yt(e,t,s,u,l,n){const o=b("openwb-base-click-button"),c=b("openwb-base-setting-element");return a(),_(c,null,P({title:p(()=>[h(e.$slots,"title",{},()=>[g(y(s.title),1)])]),default:p(()=>[f(o,C({class:(s.disabled?"btn-outline-":"btn-")+s.subtype,disabled:s.disabled},e.$attrs,{onButtonClicked:n.handleClick}),{default:p(()=>[g(y(s.buttonText),1)]),_:1},16,["class","disabled","onButtonClicked"])]),_:2},[e.$slots.help?{name:"help",fn:p(()=>[h(e.$slots,"help")]),key:"0"}:void 0]),1024)}const Xt=k(Qt,[["render",Yt],["__file","/opt/openWB-dev/openwb-ui-settings/src/components/OpenwbBaseButtonInput.vue"]]),es=Object.freeze(Object.defineProperty({__proto__:null,default:Xt},Symbol.toStringTag,{value:"Module"}));I.add($e,Ce);const ts={name:"OpenwbCard",components:{FontAwesomeIcon:A},inheritAttrs:!1,props:{title:{type:String,default:void 0},subtype:{validator:function(e){return["info","success","warning","danger","primary","secondary","light","dark","pink","white"].indexOf(e)!==-1},default:"secondary"},bodyBg:{validator:function(e){return["info","success","warning","danger","primary","secondary","light","dark","pink","white"].indexOf(e)!==-1},default:"light"},collapsible:{type:Boolean,default:!1},collapsed:{type:Boolean,default:!1}},emits:["collapsed","expanded"],data(){return{isCollapsed:this.collapsible&&this.collapsed}},methods:{toggleBody(){this.collapsible===!0&&(this.isCollapsed=!this.isCollapsed,this.$emit(this.isCollapsed?"collapsed":"expanded"))}}},ss={class:"form-group mb-0"},ns={class:"form-row vaRow mb-0 py-2"},os={class:"col"},as={class:"card-actions ml-4"},is={key:0,class:"card-actions mr-2"},ls={key:2,class:"card-footer"};function rs(e,t,s,u,l,n){const o=b("font-awesome-icon");return a(),d("div",{class:S(["card","border-"+s.subtype])},[s.title!==void 0||e.$slots.header?(a(),d("div",{key:0,class:S(["card-header py-1","bg-"+s.subtype]),onClick:t[0]||(t[0]=(...c)=>n.toggleBody&&n.toggleBody(...c))},[i("div",ss,[i("div",ns,[i("div",os,[h(e.$slots,"header",{collapsed:l.isCollapsed},()=>[g(y(s.title),1)],!0)])])]),i("div",as,[e.$slots.actions?(a(),d("div",is,[h(e.$slots,"actions",{collapsed:l.isCollapsed},void 0,!0)])):m("",!0),s.collapsible?(a(),_(o,{key:1,icon:l.isCollapsed?["fas","chevron-right"]:["fas","chevron-down"]},null,8,["icon"])):m("",!0)])],2)):m("",!0),l.isCollapsed===!1?(a(),d("div",C({key:1,class:["card-body",[s.title==null&&!e.$slots.header?"border-radius-top-inherit":"",e.$slots.footer?"":"border-radius-bottom-inherit","bg-"+s.bodyBg]]},e.$attrs),[h(e.$slots,"default",{},void 0,!0)],16)):m("",!0),e.$slots.footer&&l.isCollapsed===!1?(a(),d("div",ls,[h(e.$slots,"footer",{},void 0,!0)])):m("",!0)],2)}const ds=k(ts,[["render",rs],["__scopeId","data-v-9833c353"],["__file","/opt/openWB-dev/openwb-ui-settings/src/components/OpenwbBaseCard.vue"]]),us=Object.freeze(Object.defineProperty({__proto__:null,default:ds},Symbol.toStringTag,{value:"Module"})),cs={name:"OpenwbCheckboxInput",components:{OpenwbBaseSettingElement:D},mixins:[L],inheritAttrs:!1,props:{title:{type:String,required:!1,default:""},modelValue:{type:Boolean}},emits:["update:modelValue"],computed:{value:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}}}},ps={class:"col-md-8"},ms=["id"];function fs(e,t,s,u,l,n){const o=b("openwb-base-setting-element");return a(),_(o,null,P({title:p(()=>[h(e.$slots,"title",{},()=>[g(y(s.title),1)])]),default:p(()=>[i("div",ps,[B(i("input",C({id:`${e.uid}-checkbox-input`,"onUpdate:modelValue":t[0]||(t[0]=c=>n.value=c),class:"form-control",type:"checkbox"},e.$attrs),null,16,ms),[[ue,n.value]])])]),_:2},[e.$slots.help?{name:"help",fn:p(()=>[h(e.$slots,"help")]),key:"0"}:void 0]),1024)}const gs=k(cs,[["render",fs],["__file","/opt/openWB-dev/openwb-ui-settings/src/components/OpenwbBaseCheckboxInput.vue"]]),bs=Object.freeze(Object.defineProperty({__proto__:null,default:gs},Symbol.toStringTag,{value:"Module"}));I.add(Be);const hs={name:"OpenwbColorPicker",components:{FontAwesomeIcon:A},mixins:[L],props:{defaultColor:{type:String,required:!1,default:void 0,validator:e=>/^#[0-9A-F]{6}$/i.test(e)},modelValue:{type:String,required:!1,default:"#000000",validator:e=>/^#[0-9A-F]{6}$/i.test(e)}},emits:["update:model-value"],methods:{changed(e){this.$emit("update:model-value",e)}}},_s={class:"wrapper"},vs=["id","value","title"];function ys(e,t,s,u,l,n){const o=b("font-awesome-icon");return a(),d("div",_s,[i("input",{id:`${e.uid}-color-input`,type:"color",class:"custom-color-picker",value:s.modelValue,title:`Farbe: ${s.modelValue}`,onInput:t[0]||(t[0]=c=>n.changed(c.target.value))},null,40,vs),s.defaultColor?(a(),_(o,{key:0,class:"ml-1 clickable",icon:["fas","rotate-left"],title:`Zurücksetzen auf Standardfarbe (${s.defaultColor})`,onClick:t[1]||(t[1]=c=>n.changed(s.defaultColor))},null,8,["title"])):m("",!0)])}const ws=k(hs,[["render",ys],["__scopeId","data-v-1378b599"],["__file","/opt/openWB-dev/openwb-ui-settings/src/components/OpenwbBaseColorPicker.vue"]]),ks=Object.freeze(Object.defineProperty({__proto__:null,default:ws},Symbol.toStringTag,{value:"Module"})),{text:K,copy:Ss,copied:$s,isSupported:Cs}=ce({copiedDuring:3e3,legacy:!0});I.add(Oe,Ie);const Bs={name:"OpenwbCopyToClipboard",components:{FontAwesomeIcon:A},props:{tooltip:{type:String,default:"Wert kopieren"}},data(){return{}},computed:{contentText(){return this.$refs.content?this.$refs.content.innerText.trim():""},isCopied(){return $s.value&&K.value===this.contentText},copySupported(){return Cs.value}},methods:{click(){this.copySupported&&Ss(this.contentText).then(()=>{console.debug("Text copied to clipboard:",K.value)}).catch(e=>{console.error("Failed to copy text to clipboard:",e)})}}},Os=["title"],Is={ref:"content"};function As(e,t,s,u,l,n){const o=b("font-awesome-icon");return a(),d("span",{title:n.copySupported&&!n.isCopied?s.tooltip:"",class:S({"copy-me":n.copySupported&&!n.isCopied}),onClick:t[0]||(t[0]=E((...c)=>n.click&&n.click(...c),["stop"]))},[i("span",Is,[h(e.$slots,"default",{},void 0,!0)],512),n.copySupported?(a(),_(o,{key:0,class:"ml-1",icon:n.isCopied?["fas","clipboard-check"]:["fas","clipboard"]},null,8,["icon"])):m("",!0)],10,Os)}const Ms=k(Bs,[["render",As],["__scopeId","data-v-81826ebe"],["__file","/opt/openWB-dev/openwb-ui-settings/src/components/OpenwbBaseCopyToClipboard.vue"]]),Ts=Object.freeze(Object.defineProperty({__proto__:null,default:Ms},Symbol.toStringTag,{value:"Module"}));I.add(Q,Y,N);const Vs={name:"OpenwbHeading",components:{FontAwesomeIcon:A},inheritAttrs:!1,data(){return{showHelp:!1}},methods:{toggleHelp(){this.showHelp=!this.showHelp&&this.$slots.help!==void 0}}},qs={class:"heading-text"},Ps={key:0,class:"actions"},Ds={class:""},Ls={key:0,class:"form-row alert alert-info small flex-fill"};function Es(e,t,s,u,l,n){const o=b("font-awesome-icon");return a(),d(M,null,[i("div",C({class:"card-text card-text-heading"},e.$attrs),[i("div",qs,[h(e.$slots,"default",{},void 0,!0),e.$slots.help?(a(),_(o,{key:0,icon:l.showHelp?["fas","question-circle"]:["far","question-circle"],class:S(["clickable",l.showHelp?"text-info":""]),onClick:E(n.toggleHelp,["stop"])},null,8,["icon","class","onClick"])):m("",!0)]),e.$slots.actions?(a(),d("span",Ps,[h(e.$slots,"actions",{},void 0,!0)])):m("",!0)],16),i("div",Ds,[l.showHelp?(a(),d("span",Ls,[h(e.$slots,"help",{},void 0,!0)])):m("",!0)])],64)}const xs=k(Vs,[["render",Es],["__scopeId","data-v-cbe4e96e"],["__file","/opt/openWB-dev/openwb-ui-settings/src/components/OpenwbBaseHeading.vue"]]),Ws=Object.freeze(Object.defineProperty({__proto__:null,default:xs},Symbol.toStringTag,{value:"Module"}));I.add(Ae,Me,Te,Ve);const x={null:{value:null,icon:["fas","question"],iconClass:"text-secondary",title:"Nicht relevant",nextValue:!0},true:{value:!0,icon:["fas","square"],iconClass:"",title:"Geschlossen",nextValue:!1},false:{value:!1,icon:["far","square"],iconClass:"",title:"Offen",nextValue:null}},js={name:"OpenwbIoPattern",components:{FontAwesomeIcon:A},inheritAttrs:!1,props:{title:{type:String,required:!1,default:""},modelValue:{type:Array,required:!1,default:()=>[]}},emits:["update:modelValue"],computed:{value:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}}},methods:{getIcon(e){return x[e].icon},getIconClass(e){return x[e].iconClass},getTitle(e){return x[e].title},toggleInput(e,t){this.value[e]=x[t].nextValue}}};function Rs(e,t,s,u,l,n){const o=b("font-awesome-icon"),c=b("openwb-base-setting-element");return a(),_(c,null,P({title:p(()=>[h(e.$slots,"title",{},()=>[g(y(s.title),1)])]),default:p(()=>[(a(!0),d(M,null,q(n.value,(r,v)=>(a(),d("span",{key:v},[f(o,{title:n.getTitle(r),icon:n.getIcon(r),class:S([n.getIconClass(r),"fa-fw clickable"]),size:"2x",transform:r=="undefined"?"shrink-6":null,mask:r=="undefined"?["fas","square"]:null,onClick:E(w=>n.toggleInput(v,r),["stop","prevent"]),onMousedown:t[0]||(t[0]=E(()=>{},["stop","prevent"])),onMouseup:t[1]||(t[1]=E(()=>{},["stop","prevent"]))},null,8,["title","icon","class","transform","mask","onClick"])]))),128))]),_:2},[e.$slots.help?{name:"help",fn:p(()=>[h(e.$slots,"help")]),key:"0"}:void 0]),1024)}const Ns=k(js,[["render",Rs],["__file","/opt/openWB-dev/openwb-ui-settings/src/components/OpenwbBaseIoPattern.vue"]]),zs=Object.freeze(Object.defineProperty({__proto__:null,default:Ns},Symbol.toStringTag,{value:"Module"})),Us={name:"OpenwbModalDialog",props:{title:{type:String,required:!1,default:""},subtype:{type:String,validator:function(e){return["info","success","warning","danger","primary","secondary","light","dark"].indexOf(e)!==-1},default:"secondary"},buttons:{type:Array,default:void 0},footerAlignment:{type:String,validator:function(e){return["around","between","center","end","start"].indexOf(e)!==-1},default:"end"},preventClose:{type:Boolean,default:!1},show:{type:Boolean,default:!1}},emits:["modal-result"],computed:{myButtons(){var e=[];return this.buttons!==void 0&&(e=this.buttons),e.findIndex(t=>t.event==="close")===-1&&!this.preventClose&&e.push({text:"Schließen",event:"close"}),e}},methods:{handleClick(e){e.stopPropagation();let t=e.target.getAttribute("data-event");t===null&&(t="close"),(t!="close"||!this.preventClose)&&this.$emit("modal-result",t)}}},Fs={class:"modal-content"},Hs={class:"modal-title"},Gs={class:"modal-body"},Ks=["data-event"];function Js(e,t,s,u,l,n){return s.show?(a(),_(j,{key:0,to:"body"},[t[5]||(t[5]=i("div",{class:"modal-backdrop fade show"},null,-1)),i("div",{class:"modal fade d-block show",role:"dialog",onClick:t[3]||(t[3]=(...o)=>n.handleClick&&n.handleClick(...o))},[i("div",{class:"modal-dialog modal-dialog-centered modal-dialog-scrollable",role:"document",onClick:t[2]||(t[2]=E(()=>{},["stop"]))},[i("div",Fs,[i("div",{class:S(["modal-header","bg-"+s.subtype])},[i("h4",Hs,y(s.title),1),s.preventClose?m("",!0):(a(),d("button",{key:0,type:"button",class:"close",onClick:t[0]||(t[0]=(...o)=>n.handleClick&&n.handleClick(...o))}," × "))],2),i("div",Gs,[h(e.$slots,"default",{},()=>[t[4]||(t[4]=g("# Body #",-1))])]),n.myButtons.length>0?(a(),d("div",{key:0,class:S(["modal-footer d-flex","justify-content-"+s.footerAlignment])},[(a(!0),d(M,null,q(n.myButtons,o=>(a(),d("button",{key:o.text,type:"button",class:S(["btn",o.subtype?"btn-"+o.subtype:"btn-secondary"]),"data-dismiss":"modal","data-event":o.event?o.event:"close",onClick:t[1]||(t[1]=(...c)=>n.handleClick&&n.handleClick(...c))},y(o.text),11,Ks))),128))],2)):m("",!0)])])])])):m("",!0)}const Zs=k(Us,[["render",Js],["__file","/opt/openWB-dev/openwb-ui-settings/src/components/OpenwbBaseModalDialog.vue"]]),Qs=Object.freeze(Object.defineProperty({__proto__:null,default:Zs},Symbol.toStringTag,{value:"Module"}));I.add(qe);const Ys={name:"OpenwbNumberInput",components:{FontAwesomeIcon:A,OpenwbBaseSettingElement:D},mixins:[L],inheritAttrs:!1,props:{title:{type:String,required:!1,default:""},modelValue:{type:Number,required:!1,default:void 0},unit:{type:String,required:!1,default:void 0},precision:{type:Number,default:void 0},emptyValue:{type:[Number,null],required:!1,default:null}},emits:["update:modelValue"],computed:{value:{get(){return this.precision!==void 0?parseFloat(Math.round(this.modelValue*Math.pow(10,this.precision))/Math.pow(10,this.precision)):this.modelValue},set(e){(isNaN(e)||typeof e!="number")&&(e=this.emptyValue),this.$emit("update:modelValue",e)}}}},Xs={class:"input-group"},en={class:"input-group-prepend"},tn={class:"input-group-text"},sn=["id"],nn={key:0,class:"input-group-append"},on={class:"input-group-text"},an={key:1,class:"input-group-append"},ln={class:"input-group-text p-0"};function rn(e,t,s,u,l,n){const o=b("font-awesome-icon"),c=b("openwb-base-setting-element");return a(),_(c,null,P({title:p(()=>[h(e.$slots,"title",{},()=>[g(y(s.title),1)],!0)]),default:p(()=>[i("div",Xs,[i("div",en,[i("div",tn,[f(o,{icon:["fas","calculator"]})])]),B(i("input",C({id:`${e.uid}-number-input`,"onUpdate:modelValue":t[0]||(t[0]=r=>n.value=r),type:"number",class:"form-control"},e.$attrs),null,16,sn),[[V,n.value,void 0,{number:!0}]]),s.unit?(a(),d("div",nn,[i("div",on,y(s.unit),1)])):m("",!0),e.$slots.append?(a(),d("div",an,[i("div",ln,[h(e.$slots,"append",{},void 0,!0)])])):m("",!0)])]),_:2},[e.$slots.help?{name:"help",fn:p(()=>[h(e.$slots,"help",{},void 0,!0)]),key:"0"}:void 0]),1024)}const dn=k(Ys,[["render",rn],["__scopeId","data-v-c2fb7eef"],["__file","/opt/openWB-dev/openwb-ui-settings/src/components/OpenwbBaseNumberInput.vue"]]),un=Object.freeze(Object.defineProperty({__proto__:null,default:dn},Symbol.toStringTag,{value:"Module"}));I.add(Pe,De);const cn={name:"OpenwbRangeInput",components:{FontAwesomeIcon:A,OpenwbBaseSettingElement:D},mixins:[L],inheritAttrs:!1,props:{title:{type:String,required:!1,default:""},modelValue:{type:Number,required:!1,default:void 0},unit:{type:String,required:!1,default:void 0},min:{type:Number,required:!1,default:0},max:{type:Number,required:!1,default:100},step:{type:Number,required:!1,default:1},labels:{type:Array,required:!1,default:void 0}},emits:["update:modelValue"],computed:{label(){var e;return this.labels&&this.sliderValue!=null?this.sliderValue<this.labels.length?e=this.labels[this.sliderValue].label:console.error("index out of bounds: "+this.sliderValue):e=this.sliderValue,typeof e=="number"&&(e=e.toLocaleString(void 0,{minimumFractionDigits:this.precision,maximumFractionDigits:this.precision}),this.unit&&(e+=" "+this.unit)),e},precision(){if(!isFinite(this.step))return 0;for(var e=1,t=0;Math.round(this.step*e)/e!==this.step;)e*=10,t++;return t},sliderValue:{get(){if(this.labels){var e=void 0;for(let t=0;t<this.labels.length;t++)if(this.labels[t].value==this.modelValue){e=t;break}return e===void 0&&this.modelValue!==void 0?(console.warn("sliderValue: not found in values: ",this.modelValue,"using min as default: ",this.min),this.min):e}return this.modelValue},set(e){if(this.labels){var t=this.labels[e].value;this.$emit("update:modelValue",t)}else this.$emit("update:modelValue",e)}}},methods:{increment(){var e=Math.min(this.sliderValue+this.step,this.max);this.sliderValue=Math.round(e*Math.pow(10,this.precision))/Math.pow(10,this.precision)},decrement(){var e=Math.max(this.sliderValue-this.step,this.min);this.sliderValue=Math.round(e*Math.pow(10,this.precision))/Math.pow(10,this.precision)}}},pn={class:"w-100"},mn={class:"vaRow mb-1 w-100"},fn=["for"],gn=["id"],bn={class:"col"},hn=["min","max","step"];function _n(e,t,s,u,l,n){const o=b("font-awesome-icon"),c=b("openwb-base-setting-element");return a(),_(c,null,P({title:p(()=>[h(e.$slots,"title",{},()=>[g(y(s.title),1)],!0)]),default:p(()=>[i("div",pn,[i("div",mn,[n.label?(a(),d("label",{key:0,class:"col-2 pl-0 col-form-label valueLabel",for:`${e.uid}-button`},y(n.label),9,fn)):m("",!0),i("button",{id:`${e.uid}-button`,class:"col-1 btn btn-block btn-info",type:"button",onClick:t[0]||(t[0]=(...r)=>n.decrement&&n.decrement(...r))},[f(o,{icon:["fas","step-backward"]})],8,gn),i("div",bn,[B(i("input",C({"onUpdate:modelValue":t[1]||(t[1]=r=>n.sliderValue=r),type:"range",class:"form-control-range rangeInput",min:s.min,max:s.max,step:s.step},e.$attrs),null,16,hn),[[V,n.sliderValue,void 0,{number:!0}]])]),i("button",{class:"col-1 btn btn-block btn-info",type:"button",onClick:t[2]||(t[2]=(...r)=>n.increment&&n.increment(...r))},[f(o,{icon:["fas","step-forward"]})])])])]),_:2},[e.$slots.help?{name:"help",fn:p(()=>[h(e.$slots,"help",{},void 0,!0)]),key:"0"}:void 0]),1024)}const vn=k(cn,[["render",_n],["__scopeId","data-v-449fb0a5"],["__file","/opt/openWB-dev/openwb-ui-settings/src/components/OpenwbBaseRangeInput.vue"]]),yn=Object.freeze(Object.defineProperty({__proto__:null,default:vn},Symbol.toStringTag,{value:"Module"}));I.add(R);const wn={name:"OpenwbSelectInput",components:{FontAwesomeIcon:A,OpenwbBaseSettingElement:D},mixins:[L],inheritAttrs:!1,props:{title:{type:String,required:!1,default:void 0},modelValue:{type:[String,Number,Array,null],required:!1,default:void 0},emptyValue:{type:[String,Number,Array],required:!1,default:void 0},groups:{type:Array,required:!1,default:void 0},options:{type:Array,required:!1,default:void 0},notSelected:{type:String,default:void 0},addButton:{type:Boolean,default:!1}},emits:["update:modelValue","input:add"],computed:{value:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}},addDisabled:{get(){return this.value===void 0}}},methods:{addClicked(){this.addDisabled||this.$emit("input:add")}}},kn={class:"w-100"},Sn={class:"input-group"},$n={key:0,class:"input-group-prepend"},Cn={class:"input-group-text"},Bn=["id"],On=["value"],In=["value"],An=["label"],Mn=["value"],Tn={key:1,class:"input-group-append"};function Vn(e,t,s,u,l,n){const o=b("font-awesome-icon"),c=b("openwb-base-setting-element");return a(),_(c,null,P({default:p(()=>[i("div",kn,[i("div",Sn,[e.$slots.prefix?(a(),d("div",$n,[i("div",Cn,[h(e.$slots,"prefix")])])):m("",!0),B(i("select",C({id:`${e.uid}-select`,"onUpdate:modelValue":t[0]||(t[0]=r=>n.value=r),class:"col form-control"},e.$attrs),[s.notSelected!==void 0?(a(),d("option",{key:0,value:s.emptyValue,disabled:""}," -- "+y(s.notSelected)+" -- ",9,On)):m("",!0),(a(!0),d(M,null,q(s.options,r=>(a(),d("option",{key:r.value,value:r.value},y(r.text),9,In))),128)),(a(!0),d(M,null,q(s.groups,r=>(a(),d("optgroup",{key:r.label,label:r.label},[(a(!0),d(M,null,q(r.options,v=>(a(),d("option",{key:v.value,value:v.value},y(v.text),9,Mn))),128))],8,An))),128))],16,Bn),[[Z,n.value]]),s.addButton?(a(),d("div",Tn,[i("div",{class:S(["input-group-text",n.addDisabled?"not-clickable":"bg-success clickable"]),onClick:t[1]||(t[1]=r=>n.addClicked())},[h(e.$slots,"inputAdd",{},()=>[f(o,{icon:["fas","plus"]})])],2)])):m("",!0)])])]),_:2},[e.$slots.title||s.title?{name:"title",fn:p(()=>[h(e.$slots,"title",{},()=>[g(y(s.title),1)])]),key:"0"}:void 0,e.$slots.help?{name:"help",fn:p(()=>[h(e.$slots,"help")]),key:"1"}:void 0]),1024)}const qn=k(wn,[["render",Vn],["__file","/opt/openWB-dev/openwb-ui-settings/src/components/OpenwbBaseSelectInput.vue"]]),Pn=Object.freeze(Object.defineProperty({__proto__:null,default:qn},Symbol.toStringTag,{value:"Module"}));I.add(N,Le,Ee);const Dn={name:"OpenwbSubmitButtons",components:{FontAwesomeIcon:A},props:{formName:{type:String,default:void 0},hideReset:{type:Boolean,default:!1},hideDefaults:{type:Boolean,default:!0},saveLabel:{type:String,default:"Speichern"},saveDisabled:{type:Boolean,default:!1},saveId:{type:String,default:"saveSettingsBtn"},resetLabel:{type:String,default:"Änderungen verwerfen"},resetDisabled:{type:Boolean,default:!1},resetId:{type:String,default:"modalResetBtn"},defaultsLabel:{type:String,default:"Werkseinstellungen"},defaultsDisabled:{type:Boolean,default:!1},defaultsId:{type:String,default:"modalDefaultsBtn"}},emits:["reset","defaults","save"],data(){return{showModalReset:!1,showModalDefaults:!1}},computed:{showModalSave(){return this.$store.state.local.savingData}},methods:{showResetModal(){this.showModalReset=!0},handleModalReset(e){this.showModalReset=!1,e=="confirm"&&this.$emit("reset")},showDefaultsModal(){this.showModalDefaults=!0},handleModalDefaults(e){this.showModalDefaults=!1,e=="confirm"&&this.$emit("defaults")},saveSettings(){if(this.formName){if(!document.forms[this.formName].reportValidity()){console.debug("form invalid");return}}else console.debug("no form to validate");this.$emit("save")}}},Ln={class:"row justify-content-center mb-1"},En={class:"col-md-4 d-flex py-1 justify-content-center"},xn=["id","disabled"],Wn={key:0,class:"col-md-4 d-flex py-1 justify-content-center"},jn=["id","disabled"],Rn={key:1,class:"col-md-4 d-flex py-1 justify-content-center"},Nn=["id","disabled"];function zn(e,t,s,u,l,n){const o=b("openwb-base-modal-dialog"),c=b("font-awesome-icon");return a(),d(M,null,[f(o,{show:n.showModalSave,title:"Speichern",subtype:"success","prevent-close":!0},{default:p(()=>[...t[3]||(t[3]=[g(" Einstellungen werden gespeichert... ",-1)])]),_:1},8,["show"]),f(o,{show:l.showModalReset,title:"Änderungen verwerfen",subtype:"warning",buttons:[{text:"Ok",event:"confirm",subtype:"warning"}],onModalResult:n.handleModalReset},{default:p(()=>[...t[4]||(t[4]=[g(" Wollen Sie die nicht gespeicherten Änderungen wirklich verwerfen? ",-1)])]),_:1},8,["show","onModalResult"]),f(o,{show:l.showModalDefaults,title:"Werkseinstellungen",subtype:"danger",buttons:[{text:"Ok",event:"confirm",subtype:"danger"}],onModalResult:n.handleModalDefaults},{default:p(()=>[...t[5]||(t[5]=[g(" Wollen Sie wirklich alle Werte dieser Seite auf die Werkseinstellungen zurücksetzen? ",-1)])]),_:1},8,["show","onModalResult"]),i("div",Ln,[i("div",En,[i("button",{id:s.saveId,type:"button",class:S(["btn btn-block",[{disabled:s.saveDisabled},s.saveDisabled?"btn-outline-success":"btn-success"]]),disabled:s.saveDisabled,onClick:t[0]||(t[0]=(...r)=>n.saveSettings&&n.saveSettings(...r))},[g(y(s.saveLabel)+" ",1),f(c,{icon:["fas","check"]})],10,xn)]),s.hideReset?m("",!0):(a(),d("div",Wn,[i("button",{id:s.resetId,type:"button",class:S(["btn btn-block",[{disabled:s.resetDisabled},s.resetDisabled?"btn-outline-warning":"btn-warning"]]),disabled:s.saveDisabled,onClick:t[1]||(t[1]=(...r)=>n.showResetModal&&n.showResetModal(...r))},[g(y(s.resetLabel)+" ",1),f(c,{icon:["fas","undo"]})],10,jn)])),s.hideDefaults?m("",!0):(a(),d("div",Rn,[i("button",{id:s.defaultsId,type:"button",class:S(["btn btn-block",[{disabled:s.defaultsDisabled},s.defaultsDisabled?"btn-outline-danger":"btn-danger"]]),disabled:s.saveDisabled,onClick:t[2]||(t[2]=(...r)=>n.showDefaultsModal&&n.showDefaultsModal(...r))},[g(y(s.defaultsLabel)+" ",1),f(c,{icon:["fas","times"]})],10,Nn)]))])],64)}const Un=k(Dn,[["render",zn],["__file","/opt/openWB-dev/openwb-ui-settings/src/components/OpenwbBaseSubmitButtons.vue"]]),Fn=Object.freeze(Object.defineProperty({__proto__:null,default:Un},Symbol.toStringTag,{value:"Module"}));I.add(X,xe,We,je,Re,Ne,ee,ze,Ue,Fe,He,R,Ge,Ke);const Hn={name:"OpenwbTextInput",components:{FontAwesomeIcon:A,OpenwbBaseSettingElement:D},mixins:[L],inheritAttrs:!1,props:{title:{type:String,required:!1,default:""},modelValue:{type:[String,Object],required:!1,default:void 0},subtype:{validator:function(e){return["text","email","host","url","user","group","json","password","time","date","month","year"].indexOf(e)!==-1},default:"text"},pattern:{type:String,required:!1,default:void 0},unit:{type:String,required:!1,default:void 0},emptyValue:{type:[String,Object,null],required:!1,default:null},showQuickButtons:{type:Boolean,default:!1},addButton:{type:Boolean,default:!1}},emits:["update:modelValue","input:add"],data(){return{showPassword:!1,inputInvalid:!1,tempValue:this.modelValue}},computed:{value:{get(){return this.subtype=="json"?this.inputInvalid?(console.warn("returning invalid String"),this.tempValue):JSON.stringify(this.tempValue):this.modelValue},set(e){if(this.subtype=="json")try{let t=JSON.parse(e);this.inputInvalid=!1,this.$refs.jsonInput.setCustomValidity(""),this.tempValue=t,this.$emit("update:modelValue",t)}catch(t){console.error("parsing JSON failed: "+e,t),this.inputInvalid=!0,this.$refs.jsonInput.setCustomValidity("Ungültiger JSON Ausdruck!"),this.tempValue=e}else e==""&&(e=this.emptyValue),this.$emit("update:modelValue",e)}},inputRef(){switch(this.subtype){case"json":return this.$refs.jsonInput;case"password":return this.$refs.passwordInput;case"host":return this.$refs.hostInput;case"email":case"url":return this.$refs.urlInput;case"time":return this.$refs.timeInput;case"date":return this.$refs.dateInput;case"month":return this.$refs.monthInput;case"year":return this.$refs.yearInput}return this.$refs.textInput},hostPattern(){return"(^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$)|(^(?=.*[a-zA-Z].*$)([a-zA-Z0-9][a-zA-Z0-9\\-]*[a-zA-Z0-9])$)|(^((?=[^.]*[a-zA-Z][^.]*\\.)([a-zA-Z0-9][a-zA-Z0-9\\-]*[a-zA-Z0-9]\\.))+((?=[^.]*[a-zA-Z].*$)([a-zA-Z0-9][a-zA-Z0-9\\-]*[a-zA-Z0-9]))$)"},addDisabled:{get(){return this.value===this.emptyValue}}},methods:{togglePassword(){this.showPassword=!this.showPassword},modify(e){var t,s=new Date(this.modelValue);switch(this.subtype){case"date":s.setDate(s.getDate()+e),t=String(s.getFullYear())+"-"+String(s.getMonth()+1).padStart(2,"0")+"-"+String(s.getDate()).padStart(2,"0");break;case"month":s.setMonth(s.getMonth()+e),t=String(s.getFullYear())+"-"+String(s.getMonth()+1).padStart(2,"0");break;case"year":s.setYear(s.getFullYear()+e),t=String(s.getFullYear());break;default:console.warn(`cannot modify input of subtype '${this.subtype}'`);return}t>this.inputRef.max||t<this.inputRef.min||(this.value=t)},addClicked(){this.addDisabled||this.$emit("input:add")}}},Gn={class:"w-100"},Kn={class:"input-group"},Jn={class:"input-group-prepend"},Zn={class:"input-group-text"},Qn=["id","pattern"],Yn=["id","pattern"],Xn=["id","type","pattern"],eo=["id","pattern"],to=["id","type"],so=["id"],no=["id"],oo=["id"],ao=["id"],io={key:9,class:"input-group-append"},lo={class:"input-group-text"},ro={class:"input-group-text"},uo={key:13,class:"input-group-append"},co={key:14,class:"input-group-append"},po={class:"input-group-text p-0"};function mo(e,t,s,u,l,n){const o=b("font-awesome-icon"),c=b("openwb-base-setting-element");return a(),_(c,null,P({title:p(()=>[h(e.$slots,"title",{},()=>[g(y(s.title),1)],!0)]),default:p(()=>[i("div",Gn,[i("div",Kn,[i("div",Jn,[i("div",Zn,[s.subtype=="text"?(a(),_(o,{key:0,icon:["fas","keyboard"]})):m("",!0),s.subtype=="email"?(a(),_(o,{key:1,icon:["fas","envelope"]})):m("",!0),s.subtype=="host"?(a(),_(o,{key:2,icon:["fas","network-wired"]})):m("",!0),s.subtype=="url"?(a(),_(o,{key:3,icon:["fas","globe"]})):m("",!0),s.subtype=="user"?(a(),_(o,{key:4,icon:["fas","user"]})):m("",!0),s.subtype=="group"?(a(),_(o,{key:5,icon:["fas","users"]})):m("",!0),s.subtype=="json"?(a(),_(o,{key:6,icon:["fas","code"]})):m("",!0),s.subtype=="password"?(a(),_(o,{key:7,icon:l.showPassword?["fas","unlock"]:["fas","lock"]},null,8,["icon"])):m("",!0),s.subtype=="time"?(a(),_(o,{key:8,icon:["fas","clock"]})):m("",!0),s.subtype=="date"||s.subtype=="month"||s.subtype=="year"?(a(),_(o,{key:9,icon:["fas","calendar-day"]})):m("",!0)])]),["text","user","group"].includes(s.subtype)?B((a(),d("input",C({key:0,id:`${e.uid}-text-input`,ref:"textInput","onUpdate:modelValue":t[0]||(t[0]=r=>n.value=r),type:"text",class:["form-control",{invalid:l.inputInvalid}]},e.$attrs,{pattern:s.pattern}),null,16,Qn)),[[V,n.value]]):m("",!0),s.subtype=="json"?B((a(),d("input",C({key:1,id:`${e.uid}-json-input`,ref:"jsonInput","onUpdate:modelValue":t[1]||(t[1]=r=>n.value=r),type:"text",class:"form-control"},e.$attrs,{pattern:s.pattern}),null,16,Yn)),[[V,n.value]]):m("",!0),s.subtype=="password"?B((a(),d("input",C({key:2,id:`${e.uid}-password-input`,ref:"passwordInput","onUpdate:modelValue":t[2]||(t[2]=r=>n.value=r),type:l.showPassword?"text":"password",class:"form-control"},e.$attrs,{pattern:s.pattern}),null,16,Xn)),[[G,n.value]]):m("",!0),s.subtype=="host"?B((a(),d("input",C({key:3,id:`${e.uid}-host-input`,ref:"hostInput","onUpdate:modelValue":t[3]||(t[3]=r=>n.value=r),type:"text",class:"form-control"},e.$attrs,{pattern:n.hostPattern}),null,16,eo)),[[V,n.value]]):m("",!0),["email","url"].includes(s.subtype)?B((a(),d("input",C({key:4,id:`${e.uid}-url-input`,"onUpdate:modelValue":t[4]||(t[4]=r=>n.value=r),refs:"urlInput",type:s.subtype,class:"form-control"},e.$attrs),null,16,to)),[[G,n.value]]):m("",!0),s.subtype=="time"?B((a(),d("input",C({key:5,id:`${e.uid}-time-input`,ref:"timeInput","onUpdate:modelValue":t[5]||(t[5]=r=>n.value=r),type:"time",class:"form-control"},e.$attrs),null,16,so)),[[V,n.value]]):m("",!0),s.subtype=="date"?B((a(),d("input",C({key:6,id:`${e.uid}-date-input`,ref:"dateInput","onUpdate:modelValue":t[6]||(t[6]=r=>n.value=r),type:"date",class:"form-control"},e.$attrs),null,16,no)),[[V,n.value]]):m("",!0),s.subtype=="month"?B((a(),d("input",C({key:7,id:`${e.uid}-month-input`,ref:"monthInput","onUpdate:modelValue":t[7]||(t[7]=r=>n.value=r),type:"month",class:"form-control"},e.$attrs),null,16,oo)),[[V,n.value]]):m("",!0),s.subtype=="year"?B((a(),d("input",C({key:8,id:`${e.uid}-year-input`,ref:"yearInput","onUpdate:modelValue":t[8]||(t[8]=r=>n.value=r),type:"number",class:"form-control"},e.$attrs),null,16,ao)),[[V,n.value]]):m("",!0),s.unit?(a(),d("div",io,[i("div",lo,y(s.unit),1)])):m("",!0),s.subtype=="password"?(a(),d("div",{key:10,class:"input-group-append clickable",onClick:t[9]||(t[9]=(...r)=>n.togglePassword&&n.togglePassword(...r))},[i("div",ro,[f(o,{icon:l.showPassword?["far","eye"]:["far","eye-slash"]},null,8,["icon"])])])):m("",!0),s.showQuickButtons&&(s.subtype=="date"||s.subtype=="month"||s.subtype=="year")?(a(),d("div",{key:11,class:"input-group-append clickable",onClick:t[10]||(t[10]=r=>n.modify(-1))},[...t[13]||(t[13]=[i("div",{class:"input-group-text"},"-",-1)])])):m("",!0),s.showQuickButtons&&(s.subtype=="date"||s.subtype=="month"||s.subtype=="year")?(a(),d("div",{key:12,class:"input-group-append clickable",onClick:t[11]||(t[11]=r=>n.modify(1))},[...t[14]||(t[14]=[i("div",{class:"input-group-text"},"+",-1)])])):m("",!0),s.addButton?(a(),d("div",uo,[i("div",{class:S(["input-group-text",n.addDisabled?"not-clickable":"bg-success clickable"]),onClick:t[12]||(t[12]=r=>n.addClicked())},[h(e.$slots,"inputAdd",{},()=>[f(o,{icon:["fas","plus"]})],!0)],2)])):m("",!0),e.$slots.append?(a(),d("div",co,[i("div",po,[h(e.$slots,"append",{},void 0,!0)])])):m("",!0)])])]),_:2},[e.$slots.help?{name:"help",fn:p(()=>[h(e.$slots,"help",{},void 0,!0)]),key:"0"}:void 0]),1024)}const fo=k(Hn,[["render",mo],["__scopeId","data-v-6927d479"],["__file","/opt/openWB-dev/openwb-ui-settings/src/components/OpenwbBaseTextInput.vue"]]),go=Object.freeze(Object.defineProperty({__proto__:null,default:fo},Symbol.toStringTag,{value:"Module"}));I.add(X,ee);const bo={name:"OpenwbTextareaInput",components:{OpenwbBaseSettingElement:D,FontAwesomeIcon:A},mixins:[L],inheritAttrs:!1,props:{title:{type:String,required:!1,default:""},modelValue:{type:[String,Object],required:!1,default:void 0},subtype:{validator:function(e){return["text","json"].indexOf(e)!==-1},default:"text"}},emits:["update:modelValue"],data(){return{inputInvalid:!1,tempValue:this.modelValue}},computed:{value:{get(){return this.subtype=="json"?this.inputInvalid?(console.debug("returning invalid JSON as String"),this.tempValue):JSON.stringify(this.tempValue,void 0,2):this.modelValue},set(e){if(this.subtype=="json")try{let t=JSON.parse(e);this.inputInvalid=!1,this.$refs.jsonInput.setCustomValidity(""),this.tempValue=t,this.$emit("update:modelValue",t)}catch(t){console.warn("parsing JSON failed: "+e,t),this.inputInvalid=!0,this.$refs.jsonInput.setCustomValidity("Ungültiger JSON Ausdruck!"),this.tempValue=e}else this.$emit("update:modelValue",e)}},length:{get(){return this.value!==void 0?this.value.length:0}}}},ho={class:"w-100"},_o={class:"input-group"},vo={class:"input-group-prepend"},yo={class:"input-group-text"},wo=["id"],ko=["id"],So={key:2,class:"input-group-append"},$o={class:"input-group-text"},Co={class:"form-text text-muted text-right"};function Bo(e,t,s,u,l,n){const o=b("font-awesome-icon"),c=b("openwb-base-setting-element");return a(),_(c,null,P({title:p(()=>[h(e.$slots,"title",{},()=>[g(y(s.title),1)],!0)]),default:p(()=>[i("div",ho,[i("div",_o,[i("div",vo,[i("div",yo,[s.subtype=="text"?(a(),_(o,{key:0,icon:["fas","keyboard"]})):m("",!0),s.subtype=="json"?(a(),_(o,{key:1,icon:["fas","code"]})):m("",!0)])]),s.subtype==="json"?B((a(),d("textarea",C({key:0,id:`${e.uid}-textarea`,ref:"jsonInput","onUpdate:modelValue":t[0]||(t[0]=r=>n.value=r),class:"form-control"},e.$attrs),null,16,wo)),[[V,n.value,void 0,{lazy:!0}]]):B((a(),d("textarea",C({key:1,id:`${e.uid}-textarea`,"onUpdate:modelValue":t[1]||(t[1]=r=>n.value=r),class:"form-control"},e.$attrs),null,16,ko)),[[V,n.value]]),e.$attrs.maxlength?(a(),d("div",So,[i("div",$o,[i("small",Co,y(n.length)+" / "+y(e.$attrs.maxlength),1)])])):m("",!0)])])]),_:2},[e.$slots.help?{name:"help",fn:p(()=>[h(e.$slots,"help",{},void 0,!0)]),key:"0"}:void 0]),1024)}const Oo=k(bo,[["render",Bo],["__scopeId","data-v-3d93046b"],["__file","/opt/openWB-dev/openwb-ui-settings/src/components/OpenwbBaseTextarea.vue"]]),Io=Object.freeze(Object.defineProperty({__proto__:null,default:Oo},Symbol.toStringTag,{value:"Module"})),Ao={name:"OpenwbToast",props:{topic:{type:String,required:!0},subtype:{validator:function(e){return["info","success","warning","danger","primary","secondary","light","dark"].indexOf(e)!==-1},default:"secondary"},source:{type:String,required:!0,validator:function(e){return["system","client","command"].indexOf(e)!==-1}},timestamp:{type:Number,required:!0}},emits:["dismiss","hide"],data(){return{handle:void 0,relativeTime:void 0,hidden:!1}},mounted(){this.handle=window.setInterval(this.updateRelativeTime,1e3)},unmounted(){window.clearInterval(this.handle)},methods:{dismiss(){this.$emit("dismiss",{topic:this.topic})},updateRelativeTime(){const e={year:31536e6,month:2628e6,day:864e5,hour:36e5,minute:6e4,second:1e3};var t=new Intl.RelativeTimeFormat("de",{numeric:"auto"});const u=new Date-this.timestamp*1e3;for(var l in e)if(Math.abs(u)>e[l]){this.relativeTime=t.format(Math.round(-u/e[l]),l);break}u>10*1e3&&!this.hidden&&(this.hidden=!0,this.$emit("hide",{topic:this.topic}))}}},Mo={key:0,class:"time-diff"},To={class:"toast-body"};function Vo(e,t,s,u,l,n){return a(),d("div",{class:S(["toast","border-"+s.subtype]),role:"alert"},[i("div",{class:S(["toast-header","bg-"+s.subtype])},[t[2]||(t[2]=i("strong",{class:"pr-2 mr-auto"},"openWB",-1)),s.timestamp?(a(),d("small",Mo,y(l.relativeTime),1)):m("",!0),i("button",{type:"button",class:"ml-2 mb-1 close","data-dismiss":"toast","aria-label":"Close",onClick:t[0]||(t[0]=(...o)=>n.dismiss&&n.dismiss(...o))},[...t[1]||(t[1]=[i("span",{"aria-hidden":"true"},"×",-1)])])],2),i("div",To,[h(e.$slots,"default",{},void 0,!0)])],2)}const qo=k(Ao,[["render",Vo],["__scopeId","data-v-c51b5764"],["__file","/opt/openWB-dev/openwb-ui-settings/src/components/OpenwbBaseToast.vue"]]),Po=Object.freeze(Object.defineProperty({__proto__:null,default:qo},Symbol.toStringTag,{value:"Module"}));I.add(Je);const Do={name:"OpenwbNavBar",components:{FontAwesomeIcon:A},computed:{nodeEnv(){return"development"}},watch:{$route(){this.$refs.collapsibleNavbar.classList.remove("show"),this.$refs.navbarButton.classList.add("collapsed"),this.$refs.navbarButton.setAttribute("aria-expanded",!1)}}},Lo={class:"navbar navbar-expand-lg bg-dark navbar-dark fixed-top"},Eo={ref:"navbarButton",class:"navbar-toggler mr-auto",type:"button","data-toggle":"collapse","data-target":"#collapsibleNavbar"},xo={id:"collapsibleNavbar",ref:"collapsibleNavbar",class:"collapse navbar-collapse navbar-nav-scroll"},Wo={class:"navbar-nav mr-auto"},jo={class:"nav-item"},Ro={class:"nav-item dropdown nav-separator-after"},No={class:"dropdown-menu","aria-labelledby":"navbarDropdown"},zo={class:"nav-item dropdown"},Uo={class:"dropdown-menu","aria-labelledby":"navbarDropdown"},Fo={class:"nav-item dropdown"},Ho={class:"dropdown-menu","aria-labelledby":"navbarDropdown"},Go={class:"nav-item dropdown"},Ko={class:"dropdown-menu","aria-labelledby":"navbarDropdown"},Jo={class:"nav-item dropdown"},Zo={class:"dropdown-menu","aria-labelledby":"navbarDropdown"},Qo={class:"nav-item nav-separator-before"},Yo={class:"nav-link",href:"https://wiki.openwb.de/",target:"_blank"};function Xo(e,t,s,u,l,n){const o=b("router-link"),c=b("font-awesome-icon");return a(),d("nav",Lo,[t[32]||(t[32]=i("a",{class:"navbar-brand",href:"/openWB/web/"},[i("span",null,"openWB")],-1)),i("button",Eo,[...t[0]||(t[0]=[i("span",{class:"navbar-toggler-icon"},null,-1)])],512),i("div",xo,[i("ul",Wo,[i("li",jo,[f(o,{to:"/Status",class:"nav-link","active-class":"active disabled"},{default:p(()=>[...t[1]||(t[1]=[g(" Status ",-1)])]),_:1})]),i("li",Ro,[t[4]||(t[4]=i("a",{class:"nav-link dropdown-toggle",href:"#",role:"button","data-toggle":"dropdown","aria-expanded":"false"}," Auswertungen ",-1)),i("div",No,[f(o,{to:"/Logging/ChargeLog",class:"dropdown-item","active-class":"active disabled"},{default:p(()=>[...t[2]||(t[2]=[g(" Ladeprotokoll ",-1)])]),_:1}),f(o,{to:"/Logging/Chart",class:"dropdown-item","active-class":"active disabled"},{default:p(()=>[...t[3]||(t[3]=[g(" Diagramme ",-1)])]),_:1})])]),i("li",zo,[t[8]||(t[8]=i("a",{class:"nav-link dropdown-toggle",href:"#",role:"button","data-toggle":"dropdown","aria-expanded":"false"}," Einstellungen ",-1)),i("div",Uo,[f(o,{to:"/GeneralConfig",class:"dropdown-item","active-class":"active disabled"},{default:p(()=>[...t[5]||(t[5]=[g(" Allgemein ",-1)])]),_:1}),f(o,{to:"/OptionalComponents",class:"dropdown-item","active-class":"active disabled"},{default:p(()=>[...t[6]||(t[6]=[g(" Display ",-1)])]),_:1}),f(o,{to:"/IdentificationConfig",class:"dropdown-item","active-class":"active disabled"},{default:p(()=>[...t[7]||(t[7]=[g(" Identifikation ",-1)])]),_:1})])]),i("li",Fo,[t[12]||(t[12]=i("a",{class:"nav-link dropdown-toggle",href:"#",role:"button","data-toggle":"dropdown","aria-expanded":"false"}," Ladeeinstellungen ",-1)),i("div",Ho,[f(o,{to:"/GeneralChargeConfig",class:"dropdown-item","active-class":"active disabled"},{default:p(()=>[...t[9]||(t[9]=[g(" Übergreifendes ",-1)])]),_:1}),f(o,{to:"/SurplusChargeConfig",class:"dropdown-item","active-class":"active disabled"},{default:p(()=>[...t[10]||(t[10]=[g(" Überschuss-Laden ",-1)])]),_:1}),f(o,{to:"/ActiveBatControl",class:"dropdown-item","active-class":"active disabled"},{default:p(()=>[...t[11]||(t[11]=[g(" Speichersteuerung ",-1)])]),_:1})])]),i("li",Go,[t[20]||(t[20]=i("a",{class:"nav-link dropdown-toggle",href:"#",role:"button","data-toggle":"dropdown","aria-expanded":"false"}," Konfiguration ",-1)),i("div",Ko,[f(o,{to:"/HardwareInstallation",class:"dropdown-item","active-class":"active disabled"},{default:p(()=>[...t[13]||(t[13]=[g(" Geräte und Komponenten ",-1)])]),_:1}),f(o,{to:"/LoadManagementConfiguration",class:"dropdown-item","active-class":"active disabled"},{default:p(()=>[...t[14]||(t[14]=[g(" Lastmanagement ",-1)])]),_:1}),f(o,{to:"/ChargePointInstallation",class:"dropdown-item","active-class":"active disabled"},{default:p(()=>[...t[15]||(t[15]=[g(" Ladepunkte ",-1)])]),_:1}),f(o,{to:"/VehicleConfiguration",class:"dropdown-item","active-class":"active disabled"},{default:p(()=>[...t[16]||(t[16]=[g(" Fahrzeuge ",-1)])]),_:1}),f(o,{to:"/IoConfiguration",class:"dropdown-item","active-class":"active disabled"},{default:p(()=>[...t[17]||(t[17]=[g(" Ein-/Ausgänge ",-1)])]),_:1}),t[18]||(t[18]=i("div",{class:"dropdown-divider"},null,-1)),t[19]||(t[19]=i("a",{href:"modules/legacy_smart_home/smarthomeconfig.php",class:"dropdown-item",target:"_blank"}," SmartHome ",-1))])]),i("li",Jo,[t[30]||(t[30]=i("a",{class:"nav-link dropdown-toggle",href:"#",role:"button","data-toggle":"dropdown","aria-expanded":"false"}," System ",-1)),i("div",Zo,[f(o,{to:"/System/InstallAssistant",class:"dropdown-item","active-class":"active disabled"},{default:p(()=>[...t[21]||(t[21]=[g(" Einrichtungsassistent ",-1)])]),_:1}),f(o,{to:"/System/CloudConfiguration",class:"dropdown-item","active-class":"active disabled"},{default:p(()=>[...t[22]||(t[22]=[g(" openWB Cloud ",-1)])]),_:1}),f(o,{to:"/System/MqttBridgeConfiguration",class:"dropdown-item","active-class":"active disabled"},{default:p(()=>[...t[23]||(t[23]=[g(" MQTT-Brücken ",-1)])]),_:1}),f(o,{to:"/System/DebugConfiguration",class:"dropdown-item","active-class":"active disabled"},{default:p(()=>[...t[24]||(t[24]=[g(" Fehlersuche ",-1)])]),_:1}),f(o,{to:"/System/Support",class:"dropdown-item","active-class":"active disabled"},{default:p(()=>[...t[25]||(t[25]=[g(" Support ",-1)])]),_:1}),f(o,{to:"/System/DataManagement",class:"dropdown-item","active-class":"active disabled"},{default:p(()=>[...t[26]||(t[26]=[g(" Datenverwaltung ",-1)])]),_:1}),f(o,{to:"/System/SecurityConfiguration",class:"dropdown-item","active-class":"active disabled"},{default:p(()=>[...t[27]||(t[27]=[g(" Sicherheit ",-1)])]),_:1}),f(o,{to:"/System/SystemConfiguration",class:"dropdown-item","active-class":"active disabled"},{default:p(()=>[...t[28]||(t[28]=[g(" System ",-1)])]),_:1}),f(o,{to:"/System/LegalSettings",class:"dropdown-item","active-class":"active disabled"},{default:p(()=>[...t[29]||(t[29]=[g(" Rechtliches ",-1)])]),_:1})])]),i("li",Qo,[i("a",Yo,[t[31]||(t[31]=g(" Wiki ",-1)),f(c,{icon:["fas","external-link-alt"]})])])])],512),t[33]||(t[33]=i("div",{id:"infobar",class:"ml-auto d-flex flex-row align-items-center"},null,-1))])}const ea=k(Do,[["render",Xo],["__scopeId","data-v-e7a6d0c0"],["__file","/opt/openWB-dev/openwb-ui-settings/src/components/OpenwbPageNavbar.vue"]]),ta={name:"OpenwbPageFooter"},sa={id:"footer",class:"footer bg-dark text-light font-small"},na={class:"container text-center"};function oa(e,t,s,u,l,n){return a(),d("footer",sa,[i("div",na,[i("small",null," Sie befinden sich hier: Einstellungen / "+y(e.$route.meta.heading),1)])])}const aa=k(ta,[["render",oa],["__scopeId","data-v-3c9a239a"],["__file","/opt/openWB-dev/openwb-ui-settings/src/components/OpenwbPageFooter.vue"]]),ia={name:"ComponentState",emits:["reset","defaults","save"],data(){return{mqttTopicsToSubscribe:[]}},computed:{weekdays(){return["Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag","Sonntag"]},chargeModes(){return["instant_charging","pv_charging","scheduled_charging","time_charging","eco_charging","stop"]},statusLevel(){return["success","warning","danger"]},stateIcon:{get(){switch(this.$store.state.mqtt[this.baseTopic+"/get/fault_state"]){case 0:return["fas","check-circle"];case 1:return["fas","exclamation-triangle"];case 2:return["fas","times-circle"];default:return["fas","check-circle"]}}}},mounted(){this.mqttTopicsToSubscribe.length>0&&this.$root.doSubscribe(this.mqttTopicsToSubscribe)},unmounted(){this.mqttTopicsToSubscribe.length>0&&this.$root.doUnsubscribe(this.mqttTopicsToSubscribe)},methods:{updateState(e,t,s=void 0){console.debug("updateState:",e,t,s),this.$store.commit({type:"updateTopic",topic:e,objectPath:s,payload:t})},ac_current2dc_power(e){return parseFloat((e*3*230/1e3).toFixed(0))},dc_power2ac_current(e){return parseFloat((e*1e3/230/3).toFixed(2))},getWildcardIndexList(e,t=!1){let s=e;t||(s="^"+e.replaceAll("/","\\/").replaceAll("+","[^+/]+").replaceAll("#","[^#/]+")+"$");let u=Object.keys(this.$store.state.mqtt).filter(l=>l.match(s));return u.forEach((l,n,o)=>{o[n]=parseInt(l.match(/(?:\/)([0-9]+)(?=\/)*/g)[0].replace(/[^0-9]+/g,""))}),u},getWildcardTopics(e,t=!1){let s=e;return t||(s="^"+e.replaceAll("/","\\/").replaceAll("+","[^+/]+").replaceAll("#","[^#/]+")+"$"),Object.keys(this.$store.state.mqtt).filter(u=>u.match(s)).reduce((u,l)=>({...u,[l]:this.$store.state.mqtt[l]}),{})},formatDate(e,t={year:"numeric",month:"2-digit",day:"2-digit"}){return new Date(e).toLocaleDateString(void 0,t)},formatNumber(e,t=0,s=t,u=1){if(!(e==null||isNaN(e)))return e=e*u,e.toLocaleString(void 0,{minimumFractionDigits:t,maximumFractionDigits:s})},formatNumberTopic(e,t=0,s=t,u=1){return this.$store.state.mqtt[e]?this.formatNumber(this.$store.state.mqtt[e],t,s,u):"-"},formatPhaseArrayNumberTopic(e,t=0,s=t,u=1){return this.$store.state.mqtt[e]?this.$store.state.mqtt[e].map(l=>this.formatNumber(l,t,s,u)):["-","-","-"]},translateChargeMode(e){switch(e){case"instant_charging":return"Sofort";case"pv_charging":return"PV";case"scheduled_charging":return"Zielladen";case"time_charging":return"Zeitladen";case"eco_charging":return"Eco";case"standby":return"Standby";case"stop":return"Stop";default:return console.warn("unknown charge mode:",e),e}},getFaultStateSubtype(e){const t=this.$store.state.mqtt[e+"/get/fault_state"];if(t===void 0)return"warning";switch(t){case 0:return"success";case 1:return"warning";case 2:return"danger";default:return"dark"}}}},z=k(ia,[["__file","/opt/openWB-dev/openwb-ui-settings/src/components/mixins/ComponentState.vue"]]);I.add(Ze,Qe,Ye,Xe);const la={name:"OpenwbPageUser",components:{FontAwesomeIcon:A,FontAwesomeLayers:te},mixins:[z],data(){return{mqttTopicsToSubscribe:["openWB/system/security/user_management_active","openWB/system/security/access_allowed"],showLoginModal:!1,showLogoutModal:!1,username:"",password:""}},computed:{loggedInUser(){return this.$store.state.local.username||null},userManagementActive(){return this.$store.state.mqtt["openWB/system/security/user_management_active"]!==!1},accessAllowed(){return this.$store.state.mqtt["openWB/system/security/access_allowed"]===void 0?!1:this.$store.state.mqtt["openWB/system/security/access_allowed"]===!0},anonymousAccessAllowed(){return this.accessAllowed&&this.loggedInUser===null},settingsAccessible(){return this.$store.state.mqtt["openWB/system/security/settings_accessible"]===!0}},watch:{loggedInUser(e){e&&this.checkAutoLogin()},accessAllowed(){this.checkAutoLogin()}},mounted(){pe(()=>{this.checkAutoLogin()})},methods:{checkAutoLogin(){console.log("Checking auto login: ",this.userManagementActive,this.accessAllowed,this.loggedInUser),this.userManagementActive&&!this.accessAllowed?this.showLoginModal=!0:this.showLoginModal=!1},doLogin(e){if(e==="login"){if(!this.username||!this.password){this.$root.postClientMessage("Benutzername und Passwort erforderlich.","danger");return}console.warn("Login with:",this.username,"/",this.password),this.$cookies.set("mqtt",`${this.username}:${this.password}`),this.$root.reconnectMqttClient(),this.$router.go()}console.warn("Closing login modal",e),this.showLoginModal=!1,this.username="",this.password=""},doLogout(e){this.showLogoutModal=!1,e==="confirm"&&(console.warn("Logging out user"),this.$cookies.remove("mqtt"),this.$root.reconnectMqttClient(),this.$router.go())}}},ra={id:"user-indicator"},da={key:0,class:"pill bg-primary"},ua={class:"non-selectable"},ca={title:"Abmelden"},pa={key:1,class:"pill bg-secondary"},ma={title:"Nicht angemeldet"},fa={title:"Anmelden"},ga={name:"loginForm"};function ba(e,t,s,u,l,n){const o=b("FontAwesomeIcon"),c=b("FontAwesomeLayers"),r=b("openwb-base-modal-dialog"),v=b("openwb-base-text-input");return a(),d(M,null,[n.userManagementActive===!0?(a(),_(j,{key:0,defer:"",to:"#infobar"},[i("div",ra,[n.loggedInUser?(a(),d("span",da,[f(o,{icon:["fas","circle-user"],size:"lg"}),i("span",ua,y(n.loggedInUser),1),i("span",ca,[f(o,{class:"text-light clickable px-2",icon:["fas","arrow-right-from-bracket"],size:"lg",onClick:t[0]||(t[0]=w=>l.showLogoutModal=!0)})])])):(a(),d("span",pa,[i("span",ma,[f(c,null,{default:p(()=>[f(o,{icon:["fas","circle-user"]}),f(o,{icon:["fas","ban"],color:"red"})]),_:1})]),i("span",fa,[f(o,{class:"text-light clickable px-2",icon:["fas","arrow-right-to-bracket"],size:"lg",onClick:t[1]||(t[1]=w=>l.showLoginModal=!0)})])]))])])):m("",!0),n.userManagementActive?(a(),_(r,{key:1,show:l.showLogoutModal,title:"Abmelden",subtype:"warning",buttons:[{text:"Abmelden",event:"confirm",subtype:"danger"}],onModalResult:t[2]||(t[2]=w=>n.doLogout(w))},{default:p(()=>[...t[6]||(t[6]=[i("p",null,"Willst Du Dich wirklich abmelden?",-1)])]),_:1},8,["show"])):m("",!0),n.userManagementActive?(a(),_(r,{key:2,show:l.showLoginModal,"prevent-close":!n.anonymousAccessAllowed,title:"Anmelden",subtype:"success",buttons:[{text:"Anmelden",event:"login",subtype:"success"}],onModalResult:t[5]||(t[5]=w=>n.doLogin(w))},{default:p(()=>[i("form",ga,[f(v,{modelValue:l.username,"onUpdate:modelValue":t[3]||(t[3]=w=>l.username=w),title:"Benutzername",subtype:"user",required:"",autocomplete:"username"},null,8,["modelValue"]),f(v,{modelValue:l.password,"onUpdate:modelValue":t[4]||(t[4]=w=>l.password=w),title:"Passwort",subtype:"password",required:"",autocomplete:"current-password"},null,8,["modelValue"])])]),_:1},8,["show","prevent-close"])):m("",!0)],64)}const ha=k(la,[["render",ba],["__scopeId","data-v-adc196c2"],["__file","/opt/openWB-dev/openwb-ui-settings/src/components/OpenwbPageUser.vue"]]);I.add(et,tt);const _a={name:"OpenwbPageMessages",components:{FontAwesomeIcon:A,FontAwesomeLayers:te,FontAwesomeLayersText:st},mixins:[z],data(){return{mqttTopicsToSubscribe:["openWB/system/messages/+","openWB/command/"+this.$root.mqttClientId+"/messages/+"],showAllMessages:!1,hiddenMessages:[]}},computed:{alertLevel(){return this.messages.reduce((t,s)=>((t=="light"&&["info","success","warning","danger"].includes(s.type)||t=="info"&&["success","warning","danger"].includes(s.type)||t=="success"&&["warning","danger"].includes(s.type)||t=="warning"&&s.type=="danger")&&(t=s.type),t),"light")},messages(){const e=[];return this.systemMessages.forEach(t=>{e.push(t)}),this.localMessages.forEach(t=>{e.push(t)}),this.clientMessages.forEach(t=>{e.push(t)}),e.sort(this.compareMessagesByTimestamp),e},recentMessages(){return this.showAllMessages?this.messages:this.messages.filter(e=>!this.hiddenMessages.includes(e.topic))},messageIndicatorClass(){return"text-"+this.alertLevel},systemMessages(){let e=this.getWildcardTopics("openWB/system/messages/+");var t=[];for(const[s,u]of Object.entries(e))t.push({topic:s,...u});return t},localMessages(){const e=this.$store.state.local.messages||{};var t=[];for(const[s,u]of Object.entries(e))t.push({topic:s,...u});return t},clientMessages(){let e=this.getWildcardTopics("openWB/command/"+this.$root.mqttClientId+"/messages/+");var t=[];for(const[s,u]of Object.entries(e))t.push({topic:s,...u});return t}},methods:{toggleAllMessages(){this.showAllMessages=!this.showAllMessages},compareMessagesByTimestamp(e,t){return t.timestamp-e.timestamp},clearTopic(e){this.$root.doPublish(e,void 0)},dismissMessage(e){this.localMessages.find(s=>s.topic===e.topic)?this.$store.commit("removeClientMessage",e.topic):this.clearTopic(e.topic);var t=this.hiddenMessages.indexOf(e.topic);t>-1&&this.hiddenMessages.splice(t,1)},dismissAllMessages(){this.messages.forEach(e=>{this.dismissMessage({topic:e.topic})}),this.hiddenMessages=[],this.toggleAllMessages()},hideMessage(e){this.hiddenMessages.includes(e.topic)||this.hiddenMessages.push(e.topic)}}},va=["innerHTML"];function ya(e,t,s,u,l,n){const o=b("font-awesome-icon"),c=b("font-awesome-layers-text"),r=b("font-awesome-layers"),v=b("openwb-base-alert"),w=b("openwb-base-click-button"),T=b("openwb-base-toast");return a(),d(M,null,[(a(),_(j,{defer:"",to:"nav"},[i("div",{id:"message-indicator",class:S(["text-light clickable",l.showAllMessages?"active":""]),onClick:t[0]||(t[0]=(...O)=>n.toggleAllMessages&&n.toggleAllMessages(...O))},[f(r,{"full-width":""},{default:p(()=>[f(o,{icon:l.showAllMessages?["fas","bell"]:["far","bell"],class:S(n.messageIndicatorClass)},null,8,["icon","class"]),n.messages.length>0?(a(),_(c,{key:0,counter:"",value:n.messages.length,position:"top-right",class:"message-counter bg-light text-dark"},null,8,["value"])):m("",!0)]),_:1})],2)])),n.recentMessages.length>0||l.showAllMessages?(a(),d("div",{key:0,class:S(["openwb-toast-container",l.showAllMessages?"full-height":""])},[n.recentMessages.length==0?(a(),_(v,{key:0,subtype:"info"},{default:p(()=>[...t[1]||(t[1]=[g(" Keine Nachrichten vorhanden. ",-1)])]),_:1})):l.showAllMessages?(a(),_(w,{key:1,class:"btn-sm btn-secondary mb-1",onButtonClicked:n.dismissAllMessages},{default:p(()=>[...t[2]||(t[2]=[g(" Alle Nachrichten löschen ",-1)])]),_:1},8,["onButtonClicked"])):m("",!0),(a(!0),d(M,null,q(n.recentMessages,O=>(a(),_(T,{key:O.topic,topic:O.topic,source:O.source,subtype:O.type,timestamp:O.timestamp,onDismiss:n.dismissMessage,onHide:n.hideMessage},{default:p(()=>[i("span",{innerHTML:O.message},null,8,va)]),_:2},1032,["topic","source","subtype","timestamp","onDismiss","onHide"]))),128))],2)):m("",!0)],64)}const wa=k(_a,[["render",ya],["__scopeId","data-v-2c25f0d0"],["__file","/opt/openWB-dev/openwb-ui-settings/src/components/OpenwbPageMessages.vue"]]),ka={name:"OpenwbPageBlocker",mixins:[z],data(){return{mqttTopicsToSubscribe:["openWB/system/boot_done","openWB/system/update_in_progress"]}},computed:{title(){return this.bootInProgress||this.updateInProgress?"openWB ist noch nicht bereit":this.reloadRequired?"Neues Laden der Seite erforderlich":"???"},myButtons(){return!(this.bootInProgress||this.updateInProgress)&&this.reloadRequired?[{text:"Jetzt neu laden",subtype:"success",event:"reload"}]:[]},bootInProgress(){return this.$store.state.mqtt["openWB/system/boot_done"]==null?!0:!this.$store.state.mqtt["openWB/system/boot_done"]},updateInProgress(){return this.$store.state.mqtt["openWB/system/update_in_progress"]==null?!1:this.$store.state.mqtt["openWB/system/update_in_progress"]},reloadRequired(){return this.$store.state.local.reloadRequired},showModalBlocker(){return this.bootInProgress||this.updateInProgress||this.reloadRequired}},methods:{handleModalResult(e){e=="reload"?location.reload():console.warn("unknown event",e)}}},Sa={class:"openwb-blocker"},$a={key:0},Ca={key:1},Ba={key:2},Oa={key:3};function Ia(e,t,s,u,l,n){const o=b("openwb-base-modal-dialog");return a(),d("div",Sa,[f(o,{show:n.showModalBlocker,title:n.title,subtype:"dark","prevent-close":!0,buttons:n.myButtons,onModalResult:t[0]||(t[0]=c=>n.handleModalResult(c))},{default:p(()=>[n.bootInProgress?(a(),d("p",$a,"Der Systemstart ist noch nicht abgeschlossen.")):m("",!0),n.updateInProgress?(a(),d("p",Ca,"Es wird eine Systemaktualisierung ausgeführt.")):m("",!0),!(n.bootInProgress||n.updateInProgress)&&n.reloadRequired?(a(),d("p",Ba,"Bitte die Seite neu laden.")):(a(),d("p",Oa,"Bitte warten..."))]),_:1},8,["show","title","buttons"])])}const Aa=k(ka,[["render",Ia],["__file","/opt/openWB-dev/openwb-ui-settings/src/components/OpenwbPageBlocker.vue"]]),Ma={name:"OpenwbSettingsApp",components:{NavBar:ea,PageFooter:aa,UserInfo:ha,Messages:wa,Blocker:Aa},data(){return{client:{connected:!1},connection:{protocol:location.protocol=="https:"?"wss":"ws",protocolVersion:5,host:location.hostname,port:parseInt(location.port)||(location.protocol=="https:"?443:80),path:"/ws",connectTimeout:4e3,reconnectPeriod:4e3,properties:{requestResponseInformation:!0,requestProblemInformation:!0}}}},computed:{mqttClientId(){try{return this.client.options.clientId}catch(e){console.error("mqttClientId error",e);return}},topicList(){return Object.keys(this.$store.state.mqtt)},nodeEnv(){return"development"}},created(){this.createConnection()},methods:{async saveValues(e=void 0){function t(u){return new Promise(l=>setTimeout(l,u))}this.$store.state.local.savingData=!0;let s={};e===void 0?(console.debug("no topics defined, so save everything we have in store"),s=this.$store.state.mqtt):Array.isArray(e)?e.forEach(u=>{console.debug("adding topic to save:",u),s[u]=this.$store.state.mqtt[u]}):console.error("expected array, got ",typeof e);for(const[u,l]of Object.entries(s)){if(u.startsWith("$CONTROL")){console.debug("skipping control topic:",u);continue}let n=u.replace("openWB/","openWB/set/");console.debug("saving data:",n,l),this.doPublish(n,l),await t(100)}this.$store.state.local.savingData=!1},resetValues(e=this.topicList){console.debug("resetting values..."),console.debug("topics: ",e),this.doUnsubscribe(e),this.doSubscribe(e)},setDefaultValues(){console.debug("setting default values... (ToDo)")},sendCommand(e){console.debug("sendCommand:",e),this.doPublish(`openWB/set/command/${this.client.options.clientId}/todo/${e.command}`,e,!1)},createConnection(){const{protocol:e,host:t,port:s,path:u,...l}=this.connection,n=`${e}://${t}:${s}${u}`,[o,c]=this.$cookies.get("mqtt")?.split(":")||[null,null];o&&c||console.debug("Anonymous mqtt connection (no cookie set)"),(this.nodeEnv!=="production"||e=="wss")&&o&&c&&(console.debug("Using mqtt credentials from cookie:",o,"/",c),l.username=o,l.password=c,o==="admin"&&c==="openwb"&&(console.warn("Using default mqtt credentials! This is insecure and not recommended for production systems."),this.postClientMessage("Warnung: Es werden die Standard-Zugangsdaten für MQTT verwendet! Dies ist unsicher und wird für Produktivsysteme nicht empfohlen.","warning"))),console.debug("connecting to broker:",n),this.client=me.connect(n,l),this.client.on("connect",()=>{console.debug("Connection succeeded! ClientId: ",this.client.options.clientId),o&&(this.postClientMessage(`Angemeldet als "${o}".`,"success"),this.$store.commit("storeLocal",{name:"username",value:o})),this.doSubscribe(["openWB/system/usage_terms_acknowledged"]),this.doSubscribe(["openWB/system/installAssistantDone"])}),this.client.on("error",r=>{console.error("Connection failed",r),this.postClientMessage("Verbindungsfehler:<br />"+r.message,"danger"),this.$cookies.remove("mqtt"),this.$store.commit("storeLocal",{name:"username",value:null}),this.client.end(),this.createConnection()}),this.client.on("message",(r,v)=>{if(v.toString().length>0){let w;try{w=JSON.parse(v.toString())}catch(T){console.debug("Json parsing failed, fallback to string: ",r,T),w=v.toString()}this.$store.commit("updateTopic",{topic:r,payload:w})}else this.$store.commit("removeTopic",r)})},endConnection(){this.client?.connected?(console.warn("Ending mqtt connection..."),this.client.end(),this.$store.commit("storeLocal",{name:"username",value:null})):console.error("No mqtt connection to end.")},reconnectMqttClient(){this.client?.connected&&this.endConnection(),this.createConnection()},doSubscribe(e){e.forEach(t=>{this.$store.commit("addSubscription",t),this.$store.getters.subscriptionCount(t)==1?(t.includes("#")||t.includes("+")?console.debug("skipping init of wildcard topic:",t):this.$store.commit("addTopic",{topic:t,payload:void 0}),this.client.subscribe(t,{},s=>{if(s){this.postClientMessage(`Daten konnten nicht abonniert werden.<br />Topic: ${t}<br />${s}`,"danger");return}})):console.debug("Already subscribed to topic: ",t)})},doUnsubscribe(e){e.forEach(t=>{this.$store.commit("removeSubscription",t),this.$store.getters.subscriptionCount(t)==0?(this.client.unsubscribe(t,s=>{s&&(console.error("Unsubscribe error",s),this.postClientMessage(`Daten konnten nicht abbestellt werden.<br />Topic: ${t}<br />${s}`,"danger"))}),t.includes("#")||t.includes("+")?(console.debug("expanding wildcard topic:",t),Object.keys(this.getWildcardTopics(t)).forEach(s=>{console.debug("removing wildcardTopic:",s),this.$store.commit("removeTopic",s)})):(console.debug("removing topic:",t),this.$store.commit("removeTopic",t))):console.debug("Still subscribed to topic: ",t)})},doPublish(e,t,s=!0,u=2){let l={qos:u,retain:s};this.client.publish(e,JSON.stringify(t),l,n=>{n&&(console.error("Publish error",n),this.postClientMessage(`Daten konnten nicht geschrieben werden.<br />Topic: ${e}<br />${n}`,"danger"))})},postClientMessage(e,t="secondary"){console.debug("postMessage:",e,t);const s=Date.now();this.$store.commit({type:"addClientMessage",timestamp:s,payload:{message:e,type:t,source:"client",timestamp:Math.floor(s/1e3)}})},getWildcardTopics(e,t=!1){let s=e;return t||(s="^"+e.replaceAll("/","\\/").replaceAll("+","[^+/]+").replaceAll("#","[^#/]+")+"$"),Object.keys(this.$store.state.mqtt).filter(u=>u.match(s)).reduce((u,l)=>({...u,[l]:this.$store.state.mqtt[l]}),{})}}},Ta={role:"main",class:"container"},Va={id:"content"};function qa(e,t,s,u,l,n){const o=b("nav-bar"),c=b("router-view"),r=b("page-footer"),v=b("user-info"),w=b("messages"),T=b("blocker");return a(),d(M,null,[i("header",null,[f(o)]),i("div",Ta,[i("div",Va,[i("h1",null,y(e.$route.meta.heading),1),f(c,{onSave:n.saveValues,onReset:n.resetValues,onDefaults:n.setDefaultValues,onSendCommand:n.sendCommand},null,8,["onSave","onReset","onDefaults","onSendCommand"])])]),f(r),f(v),f(w),f(T)],64)}const Pa=k(Ma,[["render",qa],["__file","/opt/openWB-dev/openwb-ui-settings/src/App.vue"]]),Da="modulepreload",La=function(e){return"/openWB/web/settings/"+e},J={},$=function(t,s,u){let l=Promise.resolve();if(s&&s.length>0){let r=function(v){return Promise.all(v.map(w=>Promise.resolve(w).then(T=>({status:"fulfilled",value:T}),T=>({status:"rejected",reason:T}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),c=o?.nonce||o?.getAttribute("nonce");l=r(s.map(v=>{if(v=La(v),v in J)return;J[v]=!0;const w=v.endsWith(".css"),T=w?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${v}"]${T}`))return;const O=document.createElement("link");if(O.rel=w?"stylesheet":Da,w||(O.as="script"),O.crossOrigin="",O.href=v,c&&O.setAttribute("nonce",c),document.head.appendChild(O),w)return new Promise((ie,le)=>{O.addEventListener("load",ie),O.addEventListener("error",()=>le(new Error(`Unable to preload CSS for ${v}`)))})}))}function n(o){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=o,window.dispatchEvent(c),!c.defaultPrevented)throw o}return l.then(o=>{for(const c of o||[])c.status==="rejected"&&n(c.reason);return t().catch(n)})},Ea={namespaced:!0,state:()=>({hiddenDatasets:[]}),mutations:{toggleDataset(e,t){e.hiddenDatasets.includes(t)?e.hiddenDatasets=e.hiddenDatasets.filter(s=>s!==t):e.hiddenDatasets.push(t)},setHiddenDatasets(e,t){e.hiddenDatasets=t}}};let oe={mqtt:{},mqttSubscriptions:{},local:{reloadRequired:!1,savingData:!1,username:null}};oe.examples={text1:"Text...",text2:"mail@domain.com",text3:"openwb.local",text4:"http://www.openwb.de",text5:"Benutzername",text6:"12:34",text7:"2021-10-31",text8:"Text mit Add-Button",color1:"#ff0000",color2:"#0000ff",number1:5,number2:10,number3:28e-5,password1:"GeHeiM!",textarea1:"Langer Text...",range1:6,range2:10,select1:1,select2:void 0,buttonGroup1:1,checkbox1:!0,json1:{text:"Text",number:123},hierarchy1:[{id:0,type:"counter",children:[{id:3,type:"inverter",children:[]},{id:4,type:"bat",children:[]},{id:1,type:"cp",children:[]},{id:2,type:"cp",children:[]}]}],hierarchy1Labels:{0:"EVU",1:"Ladepunkt 1",2:"Ladepunkt 2",3:"Wechselrichter",4:"Batteriespeicher"},tags:["1234","2345","3456"],ioConfig:{active:!1,pattern:[null,!1,!0],action:{value:"stop_all",options:null}}};const W=fe({state:oe,mutations:{storeLocal(e,t){e.local[t.name]=t.value},addTopic(e,t){Object.keys(e.mqtt).includes(t.topic)?console.warn("topic already exists: ",t.topic):e.mqtt[t.topic]=t.payload},removeTopic(e,t){delete e.mqtt[t]},updateTopic(e,t){const s=(u,l,n)=>l.split(".").reduce((o,c,r)=>o[c]=l.split(".").length===++r?n:o[c]||{},u);t.topic in e.mqtt||!(t.topic in e.examples)?t.objectPath!=null?s(e.mqtt[t.topic],t.objectPath,t.payload):e.mqtt[t.topic]=t.payload:(console.debug("topic not found in state.mqtt: ",t.topic),t.topic in e.examples?t.objectPath!=null?s(e.examples[t.topic],t.objectPath,t.payload):e.examples[t.topic]=t.payload:console.warn("topic not found in state: ",t.topic," giving up"))},addClientMessage(e,t){e.local.messages||(e.local.messages={}),e.local.messages[t.timestamp]=t.payload},removeClientMessage(e,t){e.local.messages&&t in e.local.messages&&delete e.local.messages[t]},addSubscription(e,t){t in e.mqttSubscriptions?e.mqttSubscriptions[t]+=1:e.mqttSubscriptions[t]=1,console.debug("subscription count: ",t,e.mqttSubscriptions[t])},removeSubscription(e,t){t in e.mqttSubscriptions&&(e.mqttSubscriptions[t]-=1,e.mqttSubscriptions[t]<=0&&delete e.mqttSubscriptions[t])}},actions:{},modules:{chartLegend:Ea},getters:{usageTermsAcknowledged(e){return new Promise(t=>{if(e.mqtt["openWB/system/usage_terms_acknowledged"]!==void 0)t(e.mqtt["openWB/system/usage_terms_acknowledged"]);else{var s,u;s=setTimeout(()=>{clearInterval(u),t(!1)},5e3),u=setInterval(()=>{e.mqtt["openWB/system/usage_terms_acknowledged"]!==void 0&&(clearTimeout(s),clearInterval(u),t(e.mqtt["openWB/system/usage_terms_acknowledged"]))},100)}})},installAssistantDone(e){return new Promise(t=>{if(e.mqtt["openWB/system/installAssistantDone"]!==void 0)t(e.mqtt["openWB/system/installAssistantDone"]);else{var s,u;s=setTimeout(()=>{clearInterval(u),t(!1)},5e3),u=setInterval(()=>{e.mqtt["openWB/system/installAssistantDone"]!==void 0&&(clearTimeout(s),clearInterval(u),t(e.mqtt["openWB/system/installAssistantDone"]))},100)}})},subscriptionCount:e=>t=>e.mqttSubscriptions[t]||0}}),ae=[{path:"/",redirect:"/GeneralConfig"},{path:"/Status",name:"Status",meta:{heading:"Status"},component:()=>$(()=>import("./Status-CCpM5j7j.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11]))},{path:"/Logging/ChargeLog",name:"ChargeLog",meta:{heading:"Auswertungen - Ladeprotokoll"},component:()=>$(()=>import("./ChargeLog-CiaEmIrn.js"),__vite__mapDeps([12,1,2,3,4,7,8,9,10,13]))},{path:"/Logging/Chart/:chartRange?/:initialDate?",name:"DailyChart",meta:{heading:"Auswertungen - Diagramme"},component:()=>$(()=>import("./Chart-Cjo9hfa6.js"),__vite__mapDeps([14,1,2,3,4,5,6,7,8,9,10,15]))},{path:"/GeneralConfig",name:"GeneralConfig",meta:{heading:"Einstellungen - Allgemein"},component:()=>$(()=>import("./GeneralConfig-Bu0sOa1v.js").then(e=>e.a),__vite__mapDeps([16,1,2,3,4,17]))},{path:"/IdentificationConfig",name:"IdentificationConfig",meta:{heading:"Einstellungen - Identifikation"},component:()=>$(()=>import("./IdentificationConfig-MyRVbmMQ.js"),__vite__mapDeps([18,2,3,4,1,7,8,9,10]))},{path:"/OptionalComponents",name:"OptionalComponents",meta:{heading:"Einstellungen - Display"},component:()=>$(()=>import("./OptionalComponents-Bkbbpt9i.js").then(e=>e.O),__vite__mapDeps([19,17,1,2,3,4]))},{path:"/GeneralChargeConfig",name:"GeneralChargeConfig",meta:{heading:"Ladeeinstellungen - Übergreifendes"},component:()=>$(()=>import("./GeneralChargeConfig-BPj8lOPS.js").then(e=>e.a),__vite__mapDeps([20,17,1,2,3,4]))},{path:"/SurplusChargeConfig",name:"SurplusChargeConfig",meta:{heading:"Ladeeinstellungen - Überschuss-Laden"},component:()=>$(()=>import("./SurplusChargeConfig-XaFKLAaK.js"),__vite__mapDeps([21,1,2,3,4,7,8,9,10]))},{path:"/ActiveBatControl",name:"ActiveBatControl",meta:{heading:"Ladeeinstellungen - Speichersteuerung"},component:()=>$(()=>import("./ActiveBatControl-BJmYKWm4.js"),__vite__mapDeps([22,1,2,3,4,7,8,9,10]))},{path:"/HardwareInstallation",name:"HardwareInstallation",meta:{heading:"Konfiguration - Geräte und Komponenten"},component:()=>$(()=>import("./HardwareInstallation-DrtWXhYy.js").then(e=>e.a),__vite__mapDeps([23,1,2,3,4,17]))},{path:"/LoadManagementConfiguration",name:"LoadManagementConfiguration",meta:{heading:"Konfiguration - Lastmanagement"},component:()=>$(()=>import("./LoadManagementConfig-DPCLS7WD.js"),__vite__mapDeps([24,1,2,3,4,25,26,7,8,9,10]))},{path:"/ChargePointInstallation",name:"ChargePointInstallation",meta:{heading:"Konfiguration - Ladepunkte"},component:()=>$(()=>import("./ChargePointInstallation-CLrs_oYU.js").then(e=>e.c),__vite__mapDeps([27,1,2,3,4,17,28]))},{path:"/VehicleConfiguration/:section?/:section_index?/:section_part?/:action?",name:"VehicleConfiguration",meta:{heading:"Konfiguration - Fahrzeuge"},component:()=>$(()=>import("./VehicleConfig-BdmgzQk3.js").then(e=>e.b),__vite__mapDeps([29,1,2,3,4,17]))},{path:"/IoConfiguration",name:"IoConfiguration",meta:{heading:"Konfiguration - Ein- und Ausgänge"},component:()=>$(()=>import("./IoConfig-3U8tXcXh.js").then(e=>e.b),__vite__mapDeps([30,1,2,3,4,17]))},{path:"/System/CloudConfiguration",name:"CloudConfig",meta:{heading:"System - openWB Cloud"},component:()=>$(()=>import("./CloudConfig-CEAS4vFE.js"),__vite__mapDeps([31,1,2,3,4,7,8,9,10]))},{path:"/System/MqttBridgeConfiguration",name:"MqttBridgeConfig",meta:{heading:"System - MQTT-Brücken"},component:()=>$(()=>import("./MqttBridgeConfig-DAkienwg.js"),__vite__mapDeps([32,1,2,3,4,7,8,9,10]))},{path:"/System/DebugConfiguration",name:"Debugging",meta:{heading:"System - Fehlersuche"},component:()=>$(()=>import("./DebugConfig-CR80Wkgc.js"),__vite__mapDeps([33,1,2,3,4,10,7,8,9,34]))},{path:"/System/Support",name:"Support",meta:{heading:"System - Support"},component:()=>$(()=>import("./Support-kYy9IRKZ.js"),__vite__mapDeps([35,1,2,3,4,7,8,9,10]))},{path:"/System/LegalSettings",name:"LegalSettings",meta:{heading:"System - Rechtliches"},component:()=>$(()=>import("./LegalSettings-BsDMPIf1.js"),__vite__mapDeps([36,1,2,3,4,7,8,9,10]))},{path:"/System/SystemConfiguration",name:"SystemConfig",meta:{heading:"System - System"},component:()=>$(()=>import("./System-tu-7eCtQ.js"),__vite__mapDeps([37,1,2,3,4,7,8,9,10,38]))},{path:"/System/SecurityConfiguration",name:"SecurityConfig",meta:{heading:"System - Sicherheit"},component:()=>$(()=>import("./Security-CJ9EUBHN.js"),__vite__mapDeps([39,1,2,3,4,7,8,9,10]))},{path:"/System/DataManagement",name:"DataManagement",meta:{heading:"System - Datenverwaltung"},component:()=>$(()=>import("./DataManagement-DyXuJ6mh.js").then(e=>e.a),__vite__mapDeps([40,1,2,3,4,17]))},{path:"/System/InstallAssistant",name:"InstallAssistant",meta:{heading:"System - Einrichtungsassistent"},component:()=>$(()=>import("./InstallAssistant-BV-ggDqH.js"),__vite__mapDeps([41,17,2,3,4,1,7,8,9,10]))}];ae.push({path:"/TestingStore",name:"VUEX Store",meta:{heading:"Beispiele - VUEX Store"},component:()=>$(()=>import("./TestingStore-D-6hgSF0.js"),__vite__mapDeps([42,25,2,3,4,1,26,7,8,9,10]))});const U=ge({history:be(),routes:ae});U.beforeEach(async e=>{if(await W.getters.usageTermsAcknowledged){if(!await W.getters.installAssistantDone&&e.name!=="InstallAssistant")return{name:"InstallAssistant"}}else if(e.name!=="LegalSettings")return{name:"LegalSettings"}});U.afterEach(e=>{e.meta.heading?document.title="openWB | "+e.meta.heading:document.title="openWB"});const F=he(Pa);F.use(W).use(U).use(nt,ot).use(_e,{expire:"30d",path:"/",domain:"",secure:!0,sameSite:"Lax"});const xa=Object.assign({"./components/OpenwbBaseAlert.vue":rt,"./components/OpenwbBaseArrayInput.vue":Mt,"./components/OpenwbBaseAvatar.vue":Dt,"./components/OpenwbBaseButtonGroupInput.vue":Ht,"./components/OpenwbBaseButtonInput.vue":es,"./components/OpenwbBaseButtonRow.vue":Rt,"./components/OpenwbBaseCard.vue":us,"./components/OpenwbBaseCheckboxInput.vue":bs,"./components/OpenwbBaseClickButton.vue":Zt,"./components/OpenwbBaseColorPicker.vue":ks,"./components/OpenwbBaseCopyToClipboard.vue":Ts,"./components/OpenwbBaseHeading.vue":Ws,"./components/OpenwbBaseIoPattern.vue":zs,"./components/OpenwbBaseModalDialog.vue":Qs,"./components/OpenwbBaseNumberInput.vue":un,"./components/OpenwbBaseRangeInput.vue":yn,"./components/OpenwbBaseSelectInput.vue":Pn,"./components/OpenwbBaseSettingElement.vue":ft,"./components/OpenwbBaseSubmitButtons.vue":Fn,"./components/OpenwbBaseTextInput.vue":go,"./components/OpenwbBaseTextarea.vue":Io,"./components/OpenwbBaseToast.vue":Po});Object.entries(xa).forEach(([e,t])=>{const s=ve(ye(e.split("/").pop().replace(/\.\w+$/,"")));F.component(s,t.default)});F.mount("#app");export{z as C,D as O,$ as _};
