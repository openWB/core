import{a as d}from"./ChargePointInstallation-BSdte_No.js";import{_ as u,m as c,l,f as g,q as a,u as r,D as p}from"./vendor-Cm2BcoGA.js";import"./vendor-fortawesome-DunXjMUr.js";import"./index-UZ-qidAy.js";import"./vendor-bootstrap-CFWPZPj5.js";import"./vendor-jquery-CEMonh9Y.js";import"./vendor-axios-DnM0A367.js";import"./vendor-sortablejs-BIKIFH7x.js";import"./dynamic-import-helper-BheWnx7M.js";const m={name:"ChargePointCommandsOpenwbPro",mixins:[d],methods:{async triggerUpdate(){let t=new FormData;t.append("command","update"),t.append("data",'{"ip_address":"'+this.chargePoint.configuration.ip_address+'"}'),this.$root.postClientMessage("Die Aktualisierung der openWB Pro wird gestartet...","info"),this.axios.post(location.protocol+"//"+location.host+"/openWB/web/settings/modules/charge_points/openwb_pro/commands.php",t,{timeout:5e3}).then(()=>{this.$root.postClientMessage("Die Aktualisierung der openWB Pro wurde erfolgreich gestartet.","success")}).catch(e=>{var n="Aktualisierung fehlgeschlagen!<br />";e.response?(console.error(e.response.status,e.response.data),n+=e.response.status+": "+e.response.data):e.request?(console.error(e.request),n+="Es wurde keine Antwort vom Server empfangen."):(console.error("Error",e.message),n+="Es ist ein unbekannter Fehler aufgetreten."),this.$root.postClientMessage(n,"danger")})},openSettings(){window.open("http://"+this.chargePoint.configuration.ip_address,"_blank")}}},f={class:"charge-point-commands-openwb-pro"};function h(t,s,e,n,b,o){const i=c("openwb-base-button-input");return l(),g("div",f,[a(i,{title:"Ladepunkt aktualisieren","button-text":"Update anfordern",subtype:"success",disabled:t.chargePoint.configuration.ip_address==null,onButtonClicked:o.triggerUpdate},{help:r(()=>[...s[0]||(s[0]=[p(" Mit diesem Befehl kannst Du die Aktualisierung der openWB Pro anstoßen. Bitte beachte, dass kein Fahrzeug angesteckt ist. ",-1)])]),_:1},8,["disabled","onButtonClicked"]),a(i,{title:"Einstellungen öffnen","button-text":"Zu den Einstellungen",subtype:"success",disabled:t.chargePoint.configuration.ip_address==null,onButtonClicked:o.openSettings},{help:r(()=>[...s[1]||(s[1]=[p(" Mit diesem Befehl kannst Du die Einstellungen der openWB Pro in einem neuen Browser-Tab oder -Fenster öffnen. ",-1)])]),_:1},8,["disabled","onButtonClicked"])])}const D=u(m,[["render",h],["__file","/opt/openWB-dev/openwb-ui-settings/src/components/charge_points/openwb_pro/commands.vue"]]);export{D as default};
