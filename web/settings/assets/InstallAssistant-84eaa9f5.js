import z from"./DataManagement-4072561f.js";import L from"./System-77ac2331.js";import D from"./GeneralConfig-ec3aba1d.js";import _ from"./ChargePointInstallation-d0da1afb.js";import C from"./HardwareInstallation-4143a1a2.js";import $ from"./LoadManagementConfig-e94c3325.js";import A from"./VehicleConfig-c9578df8.js";import{C as E}from"./index-848c8622.js";import{l as I,a2 as F,a3 as V,F as Z}from"./vendor-fortawesome-407f0d77.js";import{_ as M,q as u,k as i,l as d,B as l,M as g,p as w,u as e,z as b,x as h,A as o,R as G,S as N}from"./vendor-9a0665cc.js";import"./dynamic-import-helper-be004503.js";import"./OpenwbSortableList-bd29b9c7.js";import"./vendor-bootstrap-1baf1583.js";import"./vendor-jquery-8b1bd4d1.js";import"./vendor-axios-7abc8355.js";import"./vendor-sortablejs-9c53dd87.js";I.add(F,V);const U={name:"InstallAssistant",mixins:[E],emits:["save","reset","default","sendCommand"],props:[],components:{FontAwesomeIcon:Z,DataManagement:z,System:L,GeneralConfig:D,ChargePointInstallation:_,HardwareInstallation:C,LoadManagementConfig:$,VehicleConfig:A},data(){return{currentPage:0,prevent_err:0,pages:[{title:"Start"},{title:"Datenverwaltung"},{title:"System"},{title:"Allgemein"},{title:"Ladepunkte"},{title:"Geräte und Komponenten"},{title:"Lastmanagement"},{title:"Ladepunkte"},{title:"Lastmanagement"},{title:"Fahrzeuge"},{title:"Abgeschlossen"}]}},computed:{isLastPage(){return this.currentPage==this.pages.length-1}},methods:{nextPage(){this.isLastPage||(this.currentPage++,window.scrollTo(0,0)),this.$store.state.mqtt["openWB/general/extern"]!=!0&&this.currentPage==4&&(this.currentPage=5)},previousPage(){this.currentPage&&(this.prevent_err=this.currentPage,this.currentPage--,window.scrollTo(0,0)),this.currentPage==4&&this.prevent_err==5&&(this.currentPage=5),this.currentPage==5&&(this.currentPage=3,this.prevent_err==6&&(this.currentPage=5)),this.prevent_err==6&&(this.prevent_err=0)},endAssistant(){this.$store.state.mqtt["openWB/system/installAssistantDone"]||(this.updateState("openWB/system/installAssistantDone",!0),this.$root.doPublish("openWB/set/system/installAssistantDone",!0)),this.$router.push("/Status")}}},a=s=>(G("data-v-47c855c3"),s=s(),N(),s),H={class:"row justify-content-center mb-1"},K={class:"col-md-4 d-flex py-1 justify-content-center"},R={class:"col-md-4 d-flex py-1 justify-content-center"},j={class:"col-md-4 d-flex py-1 justify-content-center"},x={key:0,class:"p-2"},T=a(()=>e("h2",null," Vielen Dank, dass Du Dich für openWB entschieden hast. ",-1)),q=a(()=>e("p",null," Dieser Assistent führt Dich durch die Konfiguration der einzelnen Module: ",-1)),O=a(()=>e("ol",null,[e("li",null,"Start des Assistenten"),e("li",null,"Datenverwaltung (optional)"),e("li",null,"Update des Systems (optional)"),e("li",null,"Auswahl primary / secondary openWB - Allgemeine Einstellungen"),e("li",null,"Ladepunkte konfigurieren für openWB als secondary"),e("li",null,"Einrichten der Geräte und Komponenten für openWB als primary"),e("li",null,"Konfiguration Lastmanagement"),e("li",null,"Einrichten der Ladepunkte"),e("li",null,"Konfiguration Lastmanagement (optional)"),e("li",null,"Einrichten der Fahrzeuge"),e("li",null,"Grundkonfiguration abgeschlossen")],-1)),J=[T,q,O],Q={key:1,class:"row m-0"},X=a(()=>e("div",{class:"page-help-text col-md-3 py-2"},[e("p",null," Wir empfehlen an dieser Stelle eine Sicherung der openWB zu erzeugen, auf welche man später zurückgreifen könnte, insbesondere, wenn die openWB schon konfiguriert war und der Assistent nun erneut ausgeführt wird. "),e("p",null," Dadurch werden gesammelte Daten/Einstellungen gesichert und können wieder hergestellt werden. "),e("p",null," Dazu Warnung akzeptieren, auf Sicherung / Wiederherstellung gehen und unter Sicherung auf Sicherung erstellen klicken. "),e("p",null," Es wird empfohlen regelmäßige Sicherungen der Daten zu erstellen. "),e("p",null,"Soll der Assistent die openWB komplett neu einrichten, kann hier auch unter Zurücksetzen auf Zurücksetzen gedrückt werden, wodurch alle Einstellungen, angelegte Geräte/Komponenten, Ladepunkte und Fahrzeuge, usw... unwiederbringlich gelöscht werden. "),e("p",null," Dieser Schritt kann auch übersprungen werden. ")],-1)),Y={class:"col py-2"},ee={key:2,class:"row m-0"},ne=a(()=>e("div",{class:"page-help-text col-md-3 py-2"},[e("p",null," Ein System Update durchführen um die Software auf den neuesten Stand zu bringen. "),e("p",null," Das garantiert, dass die openWB mit den neuesten Features und Funktionen ausgestattet ist. "),e("p",null," Dazu Warnung akzeptieren, auf Versions-Information / Aktualisierung gehen, Informationen aktualisieren und falls ein Update verfügbar ist, wird der Update button grün und kann bei Bedarf gedrückt werden. "),e("p",null," Dieser Schritt kann auch übersprungen werden. ")],-1)),te={class:"col py-2"},se={key:3,class:"row m-0"},re=a(()=>e("div",{class:"page-help-text col-md-3 py-2"},[e("p",null," Hier wird abgefragt, ob ihr System mit mehreren openWBs oder nur mit einer openWB betrieben wird. Eine openWB kann andere openWBs steuern, wobei für jeden Ladepunkt eine openWB benötigt wird. "),e("p",null," Beim ersten Konfigurieren reicht es meist aus das Feld Steuerungsmodus (primary oder secondary) anzuwählen. "),e("p",null," Eine openWB standalone hat keinen Ladepunkt (nur primary). Eine openWB Standard(+), custom, Duo und Buchse können als primary oder secondary betrieben werden. Eine openWB Pro und Satellit können nur als secondary (als ein Ladepunkt) angeschlossen werden.Eine openWB Duo kann zwei Ladepunkte bedienen. "),e("p",null," Die Steuerung über Modbus dient zur Fernsteuerung über ein Nicht-openWB-System und sollte nicht gewählt werden, wenn Sie nur openWBs besitzen und die openWB-Software zur Steuerung nutzen wollen. "),e("p",{class:"font-weight-bold"}," Änderungen werden nur bei klicken auf speichern wirksam ")],-1)),ie={class:"col py-2"},ae={key:4,class:"row m-0"},le=a(()=>e("div",{class:"page-help-text col-md-3 py-2"},[e("p",null,' Diese openWB wurde als "secondary" konfiguriert und wird von einer anderen openWB ferngesteuert. '),e("p",null,' Tragen Sie unter Ladepunkte bei verfügbare Ladepunkte "Interne openWB" ein und wählen Sie die Bauart der openWB (z.B. openWB series 1/2 custom, Standard (+) oder Buchse) aus. '),e("p",null," Wenn eine openWB Duo gewählt wurde, können zwei Ladepunkte mit Ladepunkt-Nummer 1 und 2 konfiguriert werden. Bei der openWB Pro sind keine Einstellungen notwendig. "),e("p",null," Es sind keine weiteren Einstellungen notwendig. Der Assistent kann nach drücken von speichern beendet werden. Sollte diese openWB erneut konfiguriert und als primary eingesetzt werden, dann muss der angelegte Ladepunkt interne openWB vorher entfernt werden. "),e("p",{class:"font-weight-bold"}," Änderungen werden nur bei klicken auf speichern wirksam ")],-1)),oe={class:"col py-2"},de={key:5,class:"row m-0"},ue=a(()=>e("div",{class:"page-help-text col-md-3 py-2"},[e("p",null,' Diese openWB wurde als "primary" konfiguriert und übernimmt die Steuerung anderer openWBs, falls vorhanden sowie die alleinige Regelung des Systems. Dazu müssen im Folgenden die Geräte und Komponenten eingerichtet werden. '),e("p",null,"Ab Werkseinstellung kann hier bereits ein virtueller Zähler vorkonfiguriert sein, welcher gelöscht werden kann, sobald korrekte EVU-Daten übertragen werden."),e("p",null," Bei verfügbare Geräte das entsprechenden Gerät auswählen und hinzufügen. Danach auf das neue Gerät klicken und für jedes verfügbare Gerät falls nötig eine IP-Adresse oder Hostname, Benutzername und Passwort oder Server-URL eintragen. Dann unter Verfügbare Komponenten falls vorhanden Zähler, Wechselrichter und Speicher hinzufügen. "),e("p",null," Hier ein PV-Kit auszuwählen dient nur der Visualisierung in openWB, denn die PV wird automatisch mitgerechnet, wenn die openWB an den EVU-Zähler angeschlossen ist. "),e("p",{class:"font-weight-bold"}," Änderungen werden nur bei klicken auf speichern wirksam ")],-1)),me={class:"col py-2"},ge={key:6,class:"row m-0"},pe=a(()=>e("div",{class:"page-help-text col-md-3 py-2"},[e("p",null," Im Lastmanagement werden die maximale Leistung sowie die maximalen Ströme für jede Phase des Zählermoduls sowie die maximale Ausgangsleistung des Wechselrichters der PV Anlage eingetragen, falls eine solche vorhanden ist. Unter dem Punkt Vorhandene Zählermodule auf die Komponente Zähler klicken und die maximale Leistung des Hausanschlusses eintragen. "),e("p",null," Der erste Zähler ist in der Regel der Zähler am EVU-Punkt (also der letzte Punkt im Haus vor dem Verbrauchszähler des Energieversorgers) - hier muss die maximale Leistung eingetragen werden, die der Hausanschluss verträgt und nicht die Anschlussleistung der openWB. "),e("p",null,"Ist ein Wechselrichter unter Geräte hinzugefügt worden, dann unter dem Punkt Wechselrichter noch die maximale Ausgangsleistung des Wechselrichters eintragen, wenn es sich um ein Hybrid-System mit DC-Speicher handelt. "),e("p",null," Nach klicken auf Struktur ist außerdem die Struktur des Lastmanagements zu überprüfen und ggf. anzupassen. Im Normalfall befinden sich Speicher und Wechselrichter in einer Ebene innerhalb des EVU-Zählers. Dazu einfach die Komponenten per drag&drop verschieben. "),e("p",null," Zwischenzähler können beliebig kaskadiert sein. Spezialfälle stellen Hybrid-Speicher, Solaredge mit mehreren Wechselrichtern sowie bspw. Victronspeicher mit integriertem Zähler dar. "),e("p",null," Werden hier die gewünschten Zählermodule oder Wechselrichtermodule nicht angezeigt, dann bitte einen Schritt zurück und die entsprechenden Geräte und Komponenten hinzufügen. "),e("p",{class:"font-weight-bold"}," Änderungen werden nur bei klicken auf speichern wirksam ")],-1)),he={class:"col py-2"},ce={key:7,class:"row m-0"},fe=a(()=>e("div",{class:"page-help-text col-md-3 py-2"},[e("p",null,' Enthält die steuernde openWB Ladetechnik wird bei Ladepunkte unter verfügbare Ladepunkte "Interne openWB" ausgewählt. Ansonsten wird "Externe openWB" und Bauart (der secondary openWB) ausgewählt und die IP-Adresse der anderen openWB (secondary openWB) und die Ladepunkt-Nummer eingetragen. Bei der openWB Duo als secondary openWB können zwei Ladepunkte mit der Nummer 1 und 2 hinzugefügt werden. '),e("p",null,"Bei vorkonfigurierten openWBs kann ab Werk hier bereits ein Ladepunkt eingetragen sein."),e("p",null," Als weitere Hardware-Optionen können Phasenumschaltung, Control-Pilot-Unterbrechung, Anzahl angeschlossener Phasen sowie Phase 1 des Ladekabels konfiguriert werden. Jede openWB mit Phasenumschaltung kann auch Control-Pilot-Unterbrechung, wobei bei openWBs ohne Phasenumschaltung diese Option aufrüstbar ist. Bei mehreren openWBs ist es sinnvoll die Ladepunkte auf unterschiedliche Phasen aufzuteilen. "),e("p",null," Unter Elektrischer Anschluss Phase 1 des Ladekabels muss die Phase der Wallbox-Zuleitung korrekt ausgewählt werden, sonst ist eine Überlastung möglich, wenn bei einphasiger Ladung alle Ladepunkte auf derselben Phase liegen und gleichzeitig Strom ziehen. Bitte lesen Sie dazu auch die Hinweistexte im rechten Fenster, welche durch klicken auf das umrundete Fragezeichensymbol hinter den Menüpunkten aufgerufen werden können. "),e("p",null," Im Menü Ladepunkt-Profile ein Standard Ladepunkt-Profil hinzufügen und die Eintragungen bzgl. des Maximalstroms bei einer Phase bzw. mehreren Phasen vornehmen sowie - falls erwünscht - eine automatische Sperre mit Zeitplänen einrichten. "),e("p",{class:"font-weight-bold"}," Änderungen werden nur bei klicken auf speichern wirksam ")],-1)),ke={class:"col py-2"},we={key:8,class:"row m-0"},be=a(()=>e("div",{class:"page-help-text col-md-3 py-2"},[e("p",null," Nachdem die Geräte konfiguriert und die Ladepunkte eingerichtet wurden, wird abschließend nochmal ein Blick auf das Lastmanagement geworfen. Dazu öffnet man den Menüpunkt Struktur. "),e("p",null," Im Normalfall befinden sich Speicher und Wechselrichter beide in einer Ebene innerhalb des EVU- Zählers. "),e("p",null," Die Ladepunkte (z.B. Externe openWB, interne openWB, Pro, satellit,...) befinden sich dann auch in derselben Ebene wie der Speicher und der Wechselrichter innerhalb der Ebene des EVU-Zählers. "),e("p",null," Wenn alles ok ist, kann dieser Schritt ohne weitere Anpassungen beendet werden. "),e("p",{class:"font-weight-bold"}," Änderungen werden nur bei klicken auf speichern wirksam ")],-1)),ve={class:"col py-2"},Pe={key:9,class:"row m-0"},Be=a(()=>e("div",{class:"page-help-text col-md-3 py-2"},[e("p",null," Zuerst Fahrzeug-Profile und Lade-Profile konfigurieren. In den meisten Fällen reicht das Standard-Fahrzeug-Profil aus, vor allem wenn alle Autos mit dem gleichen Lademodus geladen werden oder eigene Profile definieren. "),e("p",null," Für jedes Modell eine Vorlage auswählen und die Einstellungen Mindeststromstärke, Maximalstromstärke bei einer/mehreren Phase/n sowie Angaben zur Batterie und Handhabung der Phasen entsprechend den Daten des Automobilherstellers eintragen. Im Zweifelsfall den Hersteller des Autos fragen. "),e("p",null," In den meisten Fällen sind die Einstellungen im Standard-Lade-Profil für sofortiges Laden ausreichend, eventuell Soll-Ladestrom anpassen. Ansonsten ein eigenes Lade-Profil anlegen. Dann Fahrzeug anlegen und Fahrzeug-Profil und Ladeprofil dem entsprechenden Fahrzeug zuordnen. "),e("p",null," Sind am Standort mehrere Fahrzeuge vorhanden und sollen diese in unterschiedlichen Modi geladen werden (z.B. eines mit PV- Überschuss und eines mit Modus Sofortladen), dann ist für jedes Fahrzeug ein eigenes Lade-Profil anzulegen. "),e("p",{class:"font-weight-bold"}," Wichtig: Die Phasigkeit des Fahrzeugs ist richtig einzutragen! "),e("p",null," Kennt man die Phasigkeit des Fahrzeugs nicht (z.B. Besucherfahrzeug) besser ein Besucherfahrzeugprofil anlegen, welches die Phasenumschaltung unterdrückt. "),e("p",{class:"font-weight-bold"}," Änderungen werden nur bei klicken auf speichern wirksam ")],-1)),Se={class:"col py-2"},We={key:10},ye=a(()=>e("h2",null," Die Grundkonfiguration ist jetzt abgeschlossen. ",-1)),ze=a(()=>e("p",null," Bitte überprüfe die Ergebnisse im Status und passe bei Unstimmigkeiten die Einstellungen an. ",-1)),Le=[ye,ze];function De(s,n,_e,Ce,r,m){const c=u("font-awesome-icon"),p=u("openwb-base-click-button"),v=u("DataManagement"),P=u("System"),B=u("GeneralConfig"),f=u("ChargePointInstallation"),S=u("HardwareInstallation"),k=u("LoadManagementConfig"),W=u("VehicleConfig"),y=u("openwb-base-card");return i(),d("div",null,[l(y,{title:r.currentPage+1+". "+r.pages[r.currentPage].title,class:w(r.currentPage>0&&!m.isLastPage?"p-0":"")},{footer:g(()=>[e("div",H,[e("div",K,[r.currentPage>0&&r.currentPage!=4?(i(),b(p,{key:0,class:"btn-block btn-warning",onButtonClicked:n[0]||(n[0]=t=>m.previousPage())},{default:g(()=>[l(c,{"fixed-width":"",icon:["fas","caret-left"]}),h(" Zurück ")]),_:1})):o("",!0)]),e("div",R,[!m.isLastPage&&r.currentPage!=4?(i(),b(p,{key:0,class:"btn-block btn-success",onButtonClicked:n[1]||(n[1]=t=>m.nextPage())},{default:g(()=>[h(" Weiter "),l(c,{"fixed-width":"",icon:["fas","caret-right"]})]),_:1})):o("",!0)]),e("div",j,[l(p,{class:w("btn-block btn-"+(m.isLastPage?"success":"danger")),onButtonClicked:n[2]||(n[2]=t=>m.endAssistant())},{default:g(()=>[h(" Assistent beenden ")]),_:1},8,["class"])])])]),default:g(()=>[r.currentPage==0?(i(),d("div",x,[...J])):o("",!0),r.currentPage==1?(i(),d("div",Q,[X,e("div",Y,[l(v,{formName:"cloudBackupForm",hideReset:!0,hideDefaults:!0,onSave:n[3]||(n[3]=t=>s.$emit("save")),onReset:n[4]||(n[4]=t=>s.$emit("reset")),onDefaults:n[5]||(n[5]=t=>s.$emit("defaults")),onSendCommand:n[6]||(n[6]=t=>s.$emit("sendCommand",t))})])])):o("",!0),r.currentPage==2?(i(),d("div",ee,[ne,e("div",te,[l(P,{onSendCommand:n[7]||(n[7]=t=>s.$emit("sendCommand",t))})])])):o("",!0),r.currentPage==3?(i(),d("div",se,[re,e("div",ie,[l(B,{formName:"generalConfigForm",onSave:n[8]||(n[8]=t=>s.$emit("save")),onReset:n[9]||(n[9]=t=>s.$emit("reset")),onDefaults:n[10]||(n[10]=t=>s.$emit("defaults"))})])])):o("",!0),r.currentPage==4?(i(),d("div",ae,[le,e("div",oe,[l(f,{onSave:n[11]||(n[11]=t=>s.$emit("save")),onReset:n[12]||(n[12]=t=>s.$emit("reset")),onDefaults:n[13]||(n[13]=t=>s.$emit("defaults")),onSendCommand:n[14]||(n[14]=t=>s.$emit("sendCommand",t))})])])):o("",!0),r.currentPage==5?(i(),d("div",de,[ue,e("div",me,[l(S,{onSave:n[15]||(n[15]=t=>s.$emit("save")),onReset:n[16]||(n[16]=t=>s.$emit("reset")),onDefaults:n[17]||(n[17]=t=>s.$emit("defaults")),onSendCommand:n[18]||(n[18]=t=>s.$emit("sendCommand",t))})])])):o("",!0),r.currentPage==6?(i(),d("div",ge,[pe,e("div",he,[l(k,{formName:"loadManagementConfigForm",onSave:n[19]||(n[19]=t=>s.$emit("save")),onReset:n[20]||(n[20]=t=>s.$emit("reset")),onDefaults:n[21]||(n[21]=t=>s.$emit("defaults"))})])])):o("",!0),r.currentPage==7?(i(),d("div",ce,[fe,e("div",ke,[l(f,{onSave:n[22]||(n[22]=t=>s.$emit("save")),onReset:n[23]||(n[23]=t=>s.$emit("reset")),onDefaults:n[24]||(n[24]=t=>s.$emit("defaults")),onSendCommand:n[25]||(n[25]=t=>s.$emit("sendCommand",t))})])])):o("",!0),r.currentPage==8?(i(),d("div",we,[be,e("div",ve,[l(k,{formName:"loadManagementConfigForm",onSave:n[26]||(n[26]=t=>s.$emit("save")),onReset:n[27]||(n[27]=t=>s.$emit("reset")),onDefaults:n[28]||(n[28]=t=>s.$emit("defaults"))})])])):o("",!0),r.currentPage==9?(i(),d("div",Pe,[Be,e("div",Se,[l(W,{onSave:n[29]||(n[29]=t=>s.$emit("save")),onReset:n[30]||(n[30]=t=>s.$emit("reset")),onDefaults:n[31]||(n[31]=t=>s.$emit("defaults")),onSendCommand:n[32]||(n[32]=t=>s.$emit("sendCommand",t))})])])):o("",!0),m.isLastPage?(i(),d("div",We,[...Le])):o("",!0)]),_:1},8,["title","class"])])}const Te=M(U,[["render",De],["__scopeId","data-v-47c855c3"],["__file","/opt/openWB-dev/openwb-ui-settings/src/views/InstallAssistant.vue"]]);export{Te as default};
